var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var f=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ee(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var k=/\/+/g;function te(e,t){return typeof e==`object`&&e&&e.key!=null?ee(``+e.key):t.toString(36)}function A(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function j(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,j(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+te(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(k,`$&/`)+`/`),j(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(k,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+te(a,u),c+=j(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+te(a,u++),c+=j(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return j(A(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function M(e,t,n){if(e==null)return e;var r=[],i=0;return j(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ne(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var N=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},P={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=P,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ne}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,N)}catch(e){N(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.4`})),p=s(((e,t)=>{t.exports=f()})),m=s((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&te(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&te(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var ee=new MessageChannel,k=ee.port2;ee.port1.onmessage=D,O=function(){k.postMessage(null)}}else O=function(){_(D,0)};function te(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,te(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),h=s(((e,t)=>{t.exports=m()})),g=s((e=>{var t=p();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.4`})),_=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=s((e=>{var t=h(),n=p(),r=_();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for(`react.element`),g=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),ee=Symbol.for(`react.activity`),k=Symbol.for(`react.memo_cache_sentinel`),te=Symbol.iterator;function A(e){return typeof e!=`object`||!e?null:(e=te&&e[te]||e[`@@iterator`],typeof e==`function`?e:null)}var j=Symbol.for(`react.client.reference`);function M(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===j?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case ee:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?M(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return M(e(t))}catch{}}return null}var ne=Array.isArray,N=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ie=[],F=-1;function ae(e){return{current:e}}function oe(e){0>F||(e.current=ie[F],ie[F]=null,F--)}function se(e,t){F++,ie[F]=e.current,e.current=t}var ce=ae(null),le=ae(null),ue=ae(null),de=ae(null);function fe(e,t){switch(se(ue,t),se(le,e),se(ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wd(t),e=Gd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}oe(ce),se(ce,e)}function pe(){oe(ce),oe(le),oe(ue)}function me(e){e.memoizedState!==null&&se(de,e);var t=ce.current,n=Gd(t,e.type);t!==n&&(se(le,e),se(ce,n))}function he(e){le.current===e&&(oe(ce),oe(le)),de.current===e&&(oe(de),tp._currentValue=re)}var ge,_e;function ve(e){if(ge===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ge=t&&t[1]||``,_e=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+ge+e+_e}var ye=!1;function be(e,t){if(!e||ye)return``;ye=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{ye=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?ve(n):``}function xe(e,t){switch(e.tag){case 26:case 27:case 5:return ve(e.type);case 16:return ve(`Lazy`);case 13:return e.child!==t&&t!==null?ve(`Suspense Fallback`):ve(`Suspense`);case 19:return ve(`SuspenseList`);case 0:case 15:return be(e.type,!1);case 11:return be(e.type.render,!1);case 1:return be(e.type,!0);case 31:return ve(`Activity`);default:return``}}function Se(e){try{var t=``,n=null;do t+=xe(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Ce=Object.prototype.hasOwnProperty,we=t.unstable_scheduleCallback,Te=t.unstable_cancelCallback,Ee=t.unstable_shouldYield,De=t.unstable_requestPaint,Oe=t.unstable_now,ke=t.unstable_getCurrentPriorityLevel,Ae=t.unstable_ImmediatePriority,je=t.unstable_UserBlockingPriority,Me=t.unstable_NormalPriority,Ne=t.unstable_LowPriority,Pe=t.unstable_IdlePriority,Fe=t.log,Ie=t.unstable_setDisableYieldValue,Le=null,Re=null;function ze(e){if(typeof Fe==`function`&&Ie(e),Re&&typeof Re.setStrictMode==`function`)try{Re.setStrictMode(Le,e)}catch{}}var Be=Math.clz32?Math.clz32:Ue,Ve=Math.log,He=Math.LN2;function Ue(e){return e>>>=0,e===0?32:31-(Ve(e)/He|0)|0}var We=256,Ge=262144,Ke=4194304;function qe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Je(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=qe(n))):i=qe(o):i=qe(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=qe(n))):i=qe(o)):i=qe(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Ye(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ze(){var e=Ke;return Ke<<=1,!(Ke&62914560)&&(Ke=4194304),e}function Qe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function I(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $e(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Be(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&et(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function et(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Be(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function nt(e,t){var n=t&-t;return n=n&42?1:rt(n),(n&(e.suspendedLanes|t))===0?n:0}function rt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function it(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function at(){var e=P.p;return e===0?(e=window.event,e===void 0?32:_p(e.type)):e}function ot(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}var st=Math.random().toString(36).slice(2),ct=`__reactFiber$`+st,lt=`__reactProps$`+st,ut=`__reactContainer$`+st,dt=`__reactEvents$`+st,ft=`__reactListeners$`+st,pt=`__reactHandles$`+st,mt=`__reactResources$`+st,ht=`__reactMarker$`+st;function gt(e){delete e[ct],delete e[lt],delete e[dt],delete e[ft],delete e[pt]}function _t(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ut]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mf(e);e!==null;){if(n=e[ct])return n;e=mf(e)}return t}e=n,n=e.parentNode}return null}function vt(e){if(e=e[ct]||e[ut]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function yt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function bt(e){var t=e[mt];return t||=e[mt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function xt(e){e[ht]=!0}var St=new Set,Ct={};function R(e,t){wt(e,t),wt(e+`Capture`,t)}function wt(e,t){for(Ct[e]=t,e=0;e<t.length;e++)St.add(t[e])}var Tt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),Et={},Dt={};function Ot(e){return Ce.call(Dt,e)?!0:Ce.call(Et,e)?!1:Tt.test(e)?Dt[e]=!0:(Et[e]=!0,!1)}function z(e,t,n){if(Ot(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function kt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function At(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function jt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Mt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Nt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pt(e){if(!e._valueTracker){var t=Mt(e)?`checked`:`value`;e._valueTracker=Nt(e,t,``+e[t])}}function Ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Mt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function It(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Lt=/[\n"\\]/g;function Rt(e){return e.replace(Lt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function zt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+jt(t)):e.value!==``+jt(t)&&(e.value=``+jt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Vt(e,o,jt(n)):Vt(e,o,jt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+jt(s):e.removeAttribute(`name`)}function Bt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Pt(e);return}n=n==null?``:``+jt(n),t=t==null?n:``+jt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Pt(e)}function Vt(e,t,n){t===`number`&&It(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Ht(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+jt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ut(e,t,n){if(t!=null&&(t=``+jt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+jt(n)}function Wt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ne(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=jt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Pt(e)}function Gt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function qt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Kt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Jt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&qt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&qt(e,o,t[o])}function Yt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Xt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),B=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zt(e){return B.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function Qt(){}var $t=null;function en(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tn=null,nn=null;function rn(e){var t=vt(e);if(t&&(e=t.stateNode)){var n=e[lt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(zt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Rt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[lt]||null;if(!a)throw Error(i(90));zt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Ft(r)}break a;case`textarea`:Ut(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Ht(e,!!n.multiple,t,!1)}}}var an=!1;function on(e,t,n){if(an)return e(t,n);an=!0;try{return e(t)}finally{if(an=!1,(tn!==null||nn!==null)&&(bu(),tn&&(t=tn,e=nn,nn=tn=null,rn(t),e)))for(t=0;t<e.length;t++)rn(e[t])}}function sn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[lt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var cn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),ln=!1;if(cn)try{var un={};Object.defineProperty(un,`passive`,{get:function(){ln=!0}}),window.addEventListener(`test`,un,un),window.removeEventListener(`test`,un,un)}catch{ln=!1}var dn=null,fn=null,pn=null;function mn(){if(pn)return pn;var e,t=fn,n=t.length,r,i=`value`in dn?dn.value:dn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return pn=i.slice(e,1<r?1-r:void 0)}function hn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function V(){return!0}function gn(){return!1}function _n(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?V:gn,this.isPropagationStopped=gn,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=V)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=V)},persist:function(){},isPersistent:V}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yn=_n(vn),bn=f({},vn,{view:0,detail:0}),xn=_n(bn),Sn,Cn,wn,Tn=f({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==wn&&(wn&&e.type===`mousemove`?(Sn=e.screenX-wn.screenX,Cn=e.screenY-wn.screenY):Cn=Sn=0,wn=e),Sn)},movementY:function(e){return`movementY`in e?e.movementY:Cn}}),En=_n(Tn),Dn=_n(f({},Tn,{dataTransfer:0})),On=_n(f({},bn,{relatedTarget:0})),kn=_n(f({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),An=_n(f({},vn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),jn=_n(f({},vn,{data:0})),Mn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Nn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Pn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pn[e])?!!t[e]:!1}function In(){return Fn}var Ln=_n(f({},bn,{key:function(e){if(e.key){var t=Mn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=hn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Nn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return e.type===`keypress`?hn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?hn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Rn=_n(f({},Tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),zn=_n(f({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Bn=_n(f({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=_n(f({},Tn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Hn=_n(f({},vn,{newState:0,oldState:0})),H=[9,13,27,32],Un=cn&&`CompositionEvent`in window,Wn=null;cn&&`documentMode`in document&&(Wn=document.documentMode);var Gn=cn&&`TextEvent`in window&&!Wn,Kn=cn&&(!Un||Wn&&8<Wn&&11>=Wn),qn=` `,Jn=!1;function Yn(e,t){switch(e){case`keyup`:return H.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function Xn(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Zn=!1;function Qn(e,t){switch(e){case`compositionend`:return Xn(t);case`keypress`:return t.which===32?(Jn=!0,qn):null;case`textInput`:return e=t.data,e===qn&&Jn?null:e;default:return null}}function $n(e,t){if(Zn)return e===`compositionend`||!Un&&Yn(e,t)?(e=mn(),pn=fn=dn=null,Zn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Kn&&t.locale!==`ko`?null:t.data;default:return null}}var er={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!er[e.type]:t===`textarea`}function nr(e,t,n,r){tn?nn?nn.push(r):nn=[r]:tn=r,t=Od(t,`onChange`),0<t.length&&(n=new yn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var rr=null,ir=null;function ar(e){bd(e,0)}function or(e){if(Ft(yt(e)))return e}function sr(e,t){if(e===`change`)return t}var cr=!1;if(cn){var lr;if(cn){var ur=`oninput`in document;if(!ur){var dr=document.createElement(`div`);dr.setAttribute(`oninput`,`return;`),ur=typeof dr.oninput==`function`}lr=ur}else lr=!1;cr=lr&&(!document.documentMode||9<document.documentMode)}function fr(){rr&&(rr.detachEvent(`onpropertychange`,pr),ir=rr=null)}function pr(e){if(e.propertyName===`value`&&or(ir)){var t=[];nr(t,ir,e,en(e)),on(ar,t)}}function mr(e,t,n){e===`focusin`?(fr(),rr=t,ir=n,rr.attachEvent(`onpropertychange`,pr)):e===`focusout`&&fr()}function hr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return or(ir)}function gr(e,t){if(e===`click`)return or(t)}function _r(e,t){if(e===`input`||e===`change`)return or(t)}function vr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var yr=typeof Object.is==`function`?Object.is:vr;function br(e,t){if(yr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ce.call(t,i)||!yr(e[i],t[i]))return!1}return!0}function xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sr(e,t){var n=xr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=xr(n)}}function Cr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=It(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=It(e.document)}return t}function Tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Er=cn&&`documentMode`in document&&11>=document.documentMode,Dr=null,Or=null,kr=null,Ar=!1;function jr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ar||Dr==null||Dr!==It(r)||(r=Dr,`selectionStart`in r&&Tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kr&&br(kr,r)||(kr=r,r=Od(Or,`onSelect`),0<r.length&&(t=new yn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Dr)))}function Mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Nr={animationend:Mr(`Animation`,`AnimationEnd`),animationiteration:Mr(`Animation`,`AnimationIteration`),animationstart:Mr(`Animation`,`AnimationStart`),transitionrun:Mr(`Transition`,`TransitionRun`),transitionstart:Mr(`Transition`,`TransitionStart`),transitioncancel:Mr(`Transition`,`TransitionCancel`),transitionend:Mr(`Transition`,`TransitionEnd`)},Pr={},Fr={};cn&&(Fr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),`TransitionEvent`in window||delete Nr.transitionend.transition);function Ir(e){if(Pr[e])return Pr[e];if(!Nr[e])return e;var t=Nr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fr)return Pr[e]=t[n];return e}var Lr=Ir(`animationend`),Rr=Ir(`animationiteration`),zr=Ir(`animationstart`),Br=Ir(`transitionrun`),Vr=Ir(`transitionstart`),Hr=Ir(`transitioncancel`),Ur=Ir(`transitionend`),Wr=new Map,U=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);U.push(`scrollEnd`);function Gr(e,t){Wr.set(e,t),R(t,[e])}var Kr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},qr=[],Jr=0,Yr=0;function Xr(){for(var e=Jr,t=Yr=Jr=0;t<e;){var n=qr[t];qr[t++]=null;var r=qr[t];qr[t++]=null;var i=qr[t];qr[t++]=null;var a=qr[t];if(qr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ei(n,i,a)}}function Zr(e,t,n,r){qr[Jr++]=e,qr[Jr++]=t,qr[Jr++]=n,qr[Jr++]=r,Yr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Qr(e,t,n,r){return Zr(e,t,n,r),ti(e)}function $r(e,t){return Zr(e,null,null,t),ti(e)}function ei(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Be(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ti(e){if(50<du)throw du=0,fu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ni={};function ri(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,t,n,r){return new ri(e,t,n,r)}function ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,t){var n=e.alternate;return n===null?(n=ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function si(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ci(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ai(e)&&(s=1);else if(typeof e==`string`)s=Kf(e,n,ce.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ee:return e=ii(31,n,t,a),e.elementType=ee,e.lanes=o,e;case y:return li(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=ii(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=ii(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=ii(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=ii(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function li(e,t,n,r){return e=ii(7,e,r,t),e.lanes=n,e}function ui(e,t,n){return e=ii(6,e,null,t),e.lanes=n,e}function di(e){var t=ii(18,null,null,0);return t.stateNode=e,t}function fi(e,t,n){return t=ii(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pi=new WeakMap;function mi(e,t){if(typeof e==`object`&&e){var n=pi.get(e);return n===void 0?(t={value:e,source:t,stack:Se(t)},pi.set(e,t),t):n}return{value:e,source:t,stack:Se(t)}}var hi=[],gi=0,_i=null,vi=0,yi=[],bi=0,xi=null,Si=1,Ci=``;function wi(e,t){hi[gi++]=vi,hi[gi++]=_i,_i=e,vi=t}function Ti(e,t,n){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,xi=e;var r=Si;e=Ci;var i=32-Be(r)-1;r&=~(1<<i),n+=1;var a=32-Be(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Si=1<<32-Be(t)+i|n<<i|r,Ci=a+e}else Si=1<<a|n<<i|r,Ci=e}function Ei(e){e.return!==null&&(wi(e,1),Ti(e,1,0))}function Di(e){for(;e===_i;)_i=hi[--gi],hi[gi]=null,vi=hi[--gi],hi[gi]=null;for(;e===xi;)xi=yi[--bi],yi[bi]=null,Ci=yi[--bi],yi[bi]=null,Si=yi[--bi],yi[bi]=null}function Oi(e,t){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,Si=t.id,Ci=t.overflow,xi=e}var ki=null,Ai=null,ji=!1,Mi=null,Ni=!1,Pi=Error(i(519));function Fi(e){throw Vi(mi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Pi}function Ii(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ct]=e,t[lt]=r,n){case`dialog`:xd(`cancel`,t),xd(`close`,t);break;case`iframe`:case`object`:case`embed`:xd(`load`,t);break;case`video`:case`audio`:for(n=0;n<vd.length;n++)xd(vd[n],t);break;case`source`:xd(`error`,t);break;case`img`:case`image`:case`link`:xd(`error`,t),xd(`load`,t);break;case`details`:xd(`toggle`,t);break;case`input`:xd(`invalid`,t),Bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:xd(`invalid`,t);break;case`textarea`:xd(`invalid`,t),Wt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Pd(t.textContent,n)?(r.popover!=null&&(xd(`beforetoggle`,t),xd(`toggle`,t)),r.onScroll!=null&&xd(`scroll`,t),r.onScrollEnd!=null&&xd(`scrollend`,t),r.onClick!=null&&(t.onclick=Qt),t=!0):t=!1,t||Fi(e,!0)}function Li(e){for(ki=e.return;ki;)switch(ki.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:ki=ki.return}}function Ri(e){if(e!==ki)return!1;if(!ji)return Li(e),ji=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Kd(e.type,e.memoizedProps)),n=!n),n&&Ai&&Fi(e),Li(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=pf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=pf(e)}else t===27?(t=Ai,ef(e.type)?(e=ff,ff=null,Ai=e):Ai=t):Ai=ki?df(e.stateNode.nextSibling):null;return!0}function zi(){Ai=ki=null,ji=!1}function Bi(){var e=Mi;return e!==null&&(Zl===null?Zl=e:Zl.push.apply(Zl,e),Mi=null),e}function Vi(e){Mi===null?Mi=[e]:Mi.push(e)}var Hi=ae(null),Ui=null,Wi=null;function Gi(e,t,n){se(Hi,t._currentValue),t._currentValue=n}function Ki(e){e._currentValue=Hi.current,oe(Hi)}function qi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Ji(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),qi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),qi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Yi(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;yr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===de.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[tp]:e.push(tp))}a=a.return}e!==null&&Ji(t,e,n,r),t.flags|=262144}function Xi(e){for(e=e.firstContext;e!==null;){if(!yr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zi(e){Ui=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qi(e){return ea(Ui,e)}function $i(e,t){return Ui===null&&Zi(e),ea(e,t)}function ea(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Wi===null){if(e===null)throw Error(i(308));Wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wi=Wi.next=t;return n}var ta=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},na=t.unstable_scheduleCallback,ra=t.unstable_NormalPriority,ia={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function aa(){return{controller:new ta,data:new Map,refCount:0}}function oa(e){e.refCount--,e.refCount===0&&na(ra,function(){e.controller.abort()})}var sa=null,ca=0,la=0,ua=null;function da(e,t){if(sa===null){var n=sa=[];ca=0,la=fd(),ua={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ca++,t.then(fa,fa),t}function fa(){if(--ca===0&&sa!==null){ua!==null&&(ua.status=`fulfilled`);var e=sa;sa=null,la=0,ua=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function pa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ma=N.S;N.S=function(e,t){eu=Oe(),typeof t==`object`&&t&&typeof t.then==`function`&&da(e,t),ma!==null&&ma(e,t)};var ha=ae(null);function ga(){var e=ha.current;return e===null?Il.pooledCache:e}function _a(e,t){t===null?se(ha,ha.current):se(ha,t.pool)}function va(){var e=ga();return e===null?null:{parent:ia._currentValue,pool:e}}var W=Error(i(460)),ya=Error(i(474)),ba=Error(i(542)),xa={then:function(){}};function Sa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Ca(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Qt,Qt),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Da(e),e;default:if(typeof t.status==`string`)t.then(Qt,Qt);else{if(e=Il,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Da(e),e}throw Ta=t,W}}function wa(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Ta=e,W):e}}var Ta=null;function Ea(){if(Ta===null)throw Error(i(459));var e=Ta;return Ta=null,e}function Da(e){if(e===W||e===ba)throw Error(i(483))}var Oa=null,ka=0;function Aa(e){var t=ka;return ka+=1,Oa===null&&(Oa=[]),Ca(Oa,e,t)}function ja(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ma(e,t){throw t.$$typeof===m?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Na(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=oi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=ui(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&wa(i)===t.type)?(t=a(t,n.props),ja(t,n),t.return=e,t):(t=ci(n.type,n.key,n.props,null,e.mode,r),ja(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=fi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=li(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=ui(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case g:return n=ci(t.type,t.key,t.props,null,e.mode,n),ja(n,t),n.return=e,n;case v:return t=fi(t,e.mode,n),t.return=e,t;case O:return t=wa(t),f(e,t,n)}if(ne(t)||A(t))return t=li(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Aa(t),n);if(t.$$typeof===C)return f(e,$i(e,t),n);Ma(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=wa(n),p(e,t,n,r)}if(ne(n)||A(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Aa(n),r);if(n.$$typeof===C)return p(e,t,$i(e,n),r);Ma(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case g:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=wa(r),m(e,t,n,r,i)}if(ne(r)||A(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Aa(r),i);if(r.$$typeof===C)return m(e,t,n,$i(t,r),i);Ma(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),ji&&wi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return ji&&wi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ji&&wi(i,h),l}function _(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),ji&&wi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return ji&&wi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),ji&&wi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case g:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&wa(l)===r.type){n(e,r.sibling),c=a(r,o.props),ja(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=li(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=ci(o.type,o.key,o.props,null,e.mode,c),ja(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=fi(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=wa(o),b(e,r,o,c)}if(ne(o))return h(e,r,o,c);if(A(o)){if(l=A(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),_(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Aa(o),c);if(o.$$typeof===C)return b(e,r,$i(e,o),c);Ma(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=ui(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{ka=0;var i=b(e,t,n,r);return Oa=null,i}catch(t){if(t===W||t===ba)throw t;var a=ii(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Pa=Na(!0),Fa=Na(!1),Ia=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ti(e),ei(e,null,n),t}return Zr(e,r,t,n),ti(e)}function Va(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tt(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ua=!1;function Wa(){if(Ua){var e=ua;if(e!==null)throw e}}function Ga(e,t,n,r){Ua=!1;var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var p=s.lane&-536870913,m=p!==s.lane;if(m?(Rl&p)===p:(r&p)===p){p!==0&&p===la&&(Ua=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;p=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,p);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,p=typeof h==`function`?h.call(_,d,p):h,p==null)break a;d=f({},d,p);break a;case 2:Ia=!0}}p=s.callback,p!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Gl|=o,e.lanes=o,e.memoizedState=d}}function Ka(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function qa(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ka(n[e],t)}var Ja=ae(null),Ya=ae(0);function Xa(e,t){e=Ul,se(Ya,e),se(Ja,t),Ul=e|t.baseLanes}function Za(){se(Ya,Ul),se(Ja,Ja.current)}function Qa(){Ul=Ya.current,oe(Ja),oe(Ya)}var $a=ae(null),eo=null;function to(e){var t=e.alternate;se(ao,ao.current&1),se($a,e),eo===null&&(t===null||Ja.current!==null||t.memoizedState!==null)&&(eo=e)}function G(e){se(ao,ao.current),se($a,e),eo===null&&(eo=e)}function no(e){e.tag===22?(se(ao,ao.current),se($a,e),eo===null&&(eo=e)):ro(e)}function ro(){se(ao,ao.current),se($a,$a.current)}function io(e){oe($a),eo===e&&(eo=null),oe(ao)}var ao=ae(0);function oo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||lf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=0,K=null,co=null,lo=null,uo=!1,fo=!1,po=!1,mo=0,ho=0,go=null,_o=0;function vo(){throw Error(i(321))}function yo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yr(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,a){return so=a,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Is:Ls,po=!1,a=n(r,i),po=!1,fo&&(a=So(t,n,r,i)),xo(e),a}function xo(e){N.H=Fs;var t=co!==null&&co.next!==null;if(so=0,lo=co=K=null,uo=!1,ho=0,go=null,t)throw Error(i(300));e===null||ec||(e=e.dependencies,e!==null&&Xi(e)&&(ec=!0))}function So(e,t,n,r){K=e;var a=0;do{if(fo&&(go=null),ho=0,fo=!1,25<=a)throw Error(i(301));if(a+=1,lo=co=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}N.H=Rs,o=t(n,r)}while(fo);return o}function Co(){var e=N.H,t=e.useState()[0];return t=typeof t.then==`function`?Ao(t):t,e=e.useState()[0],(co===null?null:co.memoizedState)!==e&&(K.flags|=1024),t}function wo(){var e=mo!==0;return mo=0,e}function To(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Eo(e){if(uo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}uo=!1}so=0,lo=co=K=null,fo=!1,ho=mo=0,go=null}function Do(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lo===null?K.memoizedState=lo=e:lo=lo.next=e,lo}function Oo(){if(co===null){var e=K.alternate;e=e===null?null:e.memoizedState}else e=co.next;var t=lo===null?K.memoizedState:lo.next;if(t!==null)lo=t,co=e;else{if(e===null)throw K.alternate===null?Error(i(467)):Error(i(310));co=e,e={memoizedState:co.memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},lo===null?K.memoizedState=lo=e:lo=lo.next=e}return lo}function ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(e){var t=ho;return ho+=1,go===null&&(go=[]),e=Ca(go,e,t),t=K,(lo===null?t.memoizedState:lo.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Is:Ls),e}function jo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Ao(e);if(e.$$typeof===C)return Qi(e)}throw Error(i(438,String(e)))}function Mo(e){var t=null,n=K.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=K.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=ko(),K.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function No(e,t){return typeof t==`function`?t(e):t}function Po(e){return Fo(Oo(),co,e)}function Fo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(so&f)===f:(Rl&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===la&&(d=!0);else if((so&p)===p){u=u.next,p===la&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,K.lanes|=p,Gl|=p;f=u.action,po&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,K.lanes|=f,Gl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!yr(o,e.memoizedState)&&(ec=!0,d&&(n=ua,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Io(e){var t=Oo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);yr(o,t.memoizedState)||(ec=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Lo(e,t,n){var r=K,a=Oo(),o=ji;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!yr((co||a).memoizedState,n);if(s&&(a.memoizedState=n,ec=!0),a=a.queue,cs(Bo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||lo!==null&&lo.memoizedState.tag&1){if(r.flags|=2048,rs(9,{destroy:void 0},zo.bind(null,r,a,n,t),null),Il===null)throw Error(i(349));o||so&127||Ro(r,t,n)}return n}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=K.updateQueue,t===null?(t=ko(),K.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zo(e,t,n,r){t.value=n,t.getSnapshot=r,Vo(t)&&Ho(e)}function Bo(e,t,n){return n(function(){Vo(t)&&Ho(e)})}function Vo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yr(e,n)}catch{return!0}}function Ho(e){var t=$r(e,2);t!==null&&hu(t,e,2)}function Uo(e){var t=Do();if(typeof e==`function`){var n=e;if(e=n(),po){ze(!0);try{n()}finally{ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t}function Wo(e,t,n,r){return e.baseState=n,Fo(e,co,typeof r==`function`?r:No)}function Go(e,t,n,r,a){if(Ms(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};N.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Ko(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ko(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=N.T,o={};N.T=o;try{var s=n(i,r),c=N.S;c!==null&&c(o,s),qo(e,t,s)}catch(n){Yo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),N.T=a}}else try{a=n(i,r),qo(e,t,a)}catch(n){Yo(e,t,n)}}function qo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Jo(e,t,n)},function(n){return Yo(e,t,n)}):Jo(e,t,n)}function Jo(e,t,n){t.status=`fulfilled`,t.value=n,Xo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ko(e,n)))}function Yo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Xo(t),t=t.next;while(t!==r)}e.action=null}function Xo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zo(e,t){return t}function Qo(e,t){if(ji){var n=Il.formState;if(n!==null){a:{var r=K;if(ji){if(Ai){b:{for(var i=Ai,a=Ni;i.nodeType!==8;){if(!a){i=null;break b}if(i=df(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ai=df(i.nextSibling),r=i.data===`F!`;break a}}Fi(r)}r=!1}r&&(t=n[0])}}return n=Do(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},n.queue=r,n=ks.bind(null,K,r),r.dispatch=n,r=Uo(!1),a=js.bind(null,K,!1,r.queue),r=Do(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Go.bind(null,K,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function $o(e){return es(Oo(),co,e)}function es(e,t,n){if(t=Fo(e,t,Zo)[0],e=Po(No)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Ao(t)}catch(e){throw e===W?ba:e}else r=t;t=Oo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(K.flags|=2048,rs(9,{destroy:void 0},ts.bind(null,i,n),null)),[r,a,e]}function ts(e,t){e.action=t}function ns(e){var t=Oo(),n=co;if(n!==null)return es(t,n,e);Oo(),t=t.memoizedState,n=Oo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function rs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=K.updateQueue,t===null&&(t=ko(),K.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function is(){return Oo().memoizedState}function as(e,t,n,r){var i=Do();K.flags|=e,i.memoizedState=rs(1|t,{destroy:void 0},n,r===void 0?null:r)}function os(e,t,n,r){var i=Oo();r=r===void 0?null:r;var a=i.memoizedState.inst;co!==null&&r!==null&&yo(r,co.memoizedState.deps)?i.memoizedState=rs(t,a,n,r):(K.flags|=e,i.memoizedState=rs(1|t,a,n,r))}function ss(e,t){as(8390656,8,e,t)}function cs(e,t){os(2048,8,e,t)}function q(e){K.flags|=4;var t=K.updateQueue;if(t===null)t=ko(),K.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ls(e){var t=Oo().memoizedState;return q({ref:t,nextImpl:e}),function(){if(Fl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function us(e,t){return os(4,2,e,t)}function ds(e,t){return os(4,4,e,t)}function fs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ps(e,t,n){n=n==null?null:n.concat([e]),os(4,4,fs.bind(null,t,e),n)}function ms(){}function hs(e,t){var n=Oo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gs(e,t){var n=Oo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&yo(t,r[1]))return r[0];if(r=e(),po){ze(!0);try{e()}finally{ze(!1)}}return n.memoizedState=[r,t],r}function _s(e,t,n){return n===void 0||so&1073741824&&!(Rl&261930)?e.memoizedState=t:(e.memoizedState=n,e=mu(),K.lanes|=e,Gl|=e,n)}function vs(e,t,n,r){return yr(n,t)?n:Ja.current===null?!(so&42)||so&1073741824&&!(Rl&261930)?(ec=!0,e.memoizedState=n):(e=mu(),K.lanes|=e,Gl|=e,t):(e=_s(e,n,r),yr(e,t)||(ec=!0),e)}function ys(e,t,n,r,i){var a=P.p;P.p=a!==0&&8>a?a:8;var o=N.T,s={};N.T=s,js(e,!1,t,n);try{var c=i(),l=N.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?As(e,t,pa(c,r),pu(e)):As(e,t,r,pu(e))}catch(n){As(e,t,{then:function(){},status:`rejected`,reason:n},pu())}finally{P.p=a,o!==null&&s.types!==null&&(o.types=s.types),N.T=o}}function bs(){}function xs(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ss(e).queue;ys(e,a,t,re,n===null?bs:function(){return Cs(e),n(r)})}function Ss(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:re},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cs(e){var t=Ss(e);t.next===null&&(t=e.alternate.memoizedState),As(e,t.next.queue,{},pu())}function ws(){return Qi(tp)}function Ts(){return Oo().memoizedState}function Es(){return Oo().memoizedState}function Ds(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pu();e=za(n);var r=Ba(t,e,n);r!==null&&(hu(r,t,n),Va(r,t,n)),t={cache:aa()},e.payload=t;return}t=t.return}}function Os(e,t,n){var r=pu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ms(e)?Ns(t,n):(n=Qr(e,t,n,r),n!==null&&(hu(n,e,r),Ps(n,t,r)))}function ks(e,t,n){As(e,t,n,pu())}function As(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ms(e))Ns(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,yr(s,o))return Zr(e,t,i,0),Il===null&&Xr(),!1}catch{}if(n=Qr(e,t,i,r),n!==null)return hu(n,e,r),Ps(n,t,r),!0}return!1}function js(e,t,n,r){if(r={lane:2,revertLane:fd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ms(e)){if(t)throw Error(i(479))}else t=Qr(e,n,r,2),t!==null&&hu(t,e,2)}function Ms(e){var t=e.alternate;return e===K||t!==null&&t===K}function Ns(e,t){fo=uo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ps(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tt(e,n)}}var Fs={readContext:Qi,use:jo,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useLayoutEffect:vo,useInsertionEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useSyncExternalStore:vo,useId:vo,useHostTransitionStatus:vo,useFormState:vo,useActionState:vo,useOptimistic:vo,useMemoCache:vo,useCacheRefresh:vo};Fs.useEffectEvent=vo;var Is={readContext:Qi,use:jo,useCallback:function(e,t){return Do().memoizedState=[e,t===void 0?null:t],e},useContext:Qi,useEffect:ss,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),as(4194308,4,fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return as(4194308,4,e,t)},useInsertionEffect:function(e,t){as(4,2,e,t)},useMemo:function(e,t){var n=Do();t=t===void 0?null:t;var r=e();if(po){ze(!0);try{e()}finally{ze(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Do();if(n!==void 0){var i=n(t);if(po){ze(!0);try{n(t)}finally{ze(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Os.bind(null,K,e),[r.memoizedState,e]},useRef:function(e){var t=Do();return e={current:e},t.memoizedState=e},useState:function(e){e=Uo(e);var t=e.queue,n=ks.bind(null,K,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ms,useDeferredValue:function(e,t){return _s(Do(),e,t)},useTransition:function(){var e=Uo(!1);return e=ys.bind(null,K,e.queue,!0,!1),Do().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=K,a=Do();if(ji){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Il===null)throw Error(i(349));Rl&127||Ro(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,ss(Bo.bind(null,r,o,e),[e]),r.flags|=2048,rs(9,{destroy:void 0},zo.bind(null,r,o,n,t),null),n},useId:function(){var e=Do(),t=Il.identifierPrefix;if(ji){var n=Ci,r=Si;n=(r&~(1<<32-Be(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=mo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=_o++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:ws,useFormState:Qo,useActionState:Qo,useOptimistic:function(e){var t=Do();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=js.bind(null,K,!0,n),n.dispatch=t,[e,t]},useMemoCache:Mo,useCacheRefresh:function(){return Do().memoizedState=Ds.bind(null,K)},useEffectEvent:function(e){var t=Do(),n={impl:e};return t.memoizedState=n,function(){if(Fl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Ls={readContext:Qi,use:jo,useCallback:hs,useContext:Qi,useEffect:cs,useImperativeHandle:ps,useInsertionEffect:us,useLayoutEffect:ds,useMemo:gs,useReducer:Po,useRef:is,useState:function(){return Po(No)},useDebugValue:ms,useDeferredValue:function(e,t){return vs(Oo(),co.memoizedState,e,t)},useTransition:function(){var e=Po(No)[0],t=Oo().memoizedState;return[typeof e==`boolean`?e:Ao(e),t]},useSyncExternalStore:Lo,useId:Ts,useHostTransitionStatus:ws,useFormState:$o,useActionState:$o,useOptimistic:function(e,t){return Wo(Oo(),co,e,t)},useMemoCache:Mo,useCacheRefresh:Es};Ls.useEffectEvent=ls;var Rs={readContext:Qi,use:jo,useCallback:hs,useContext:Qi,useEffect:cs,useImperativeHandle:ps,useInsertionEffect:us,useLayoutEffect:ds,useMemo:gs,useReducer:Io,useRef:is,useState:function(){return Io(No)},useDebugValue:ms,useDeferredValue:function(e,t){var n=Oo();return co===null?_s(n,e,t):vs(n,co.memoizedState,e,t)},useTransition:function(){var e=Io(No)[0],t=Oo().memoizedState;return[typeof e==`boolean`?e:Ao(e),t]},useSyncExternalStore:Lo,useId:Ts,useHostTransitionStatus:ws,useFormState:ns,useActionState:ns,useOptimistic:function(e,t){var n=Oo();return co===null?(n.baseState=e,[e,n.queue.dispatch]):Wo(n,co,e,t)},useMemoCache:Mo,useCacheRefresh:Es};Rs.useEffectEvent=ls;function zs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pu(),i=za(r);i.payload=t,n!=null&&(i.callback=n),t=Ba(e,i,r),t!==null&&(hu(t,e,r),Va(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pu(),i=za(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ba(e,i,r),t!==null&&(hu(t,e,r),Va(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pu(),r=za(n);r.tag=2,t!=null&&(r.callback=t),t=Ba(e,r,n),t!==null&&(hu(t,e,n),Va(t,e,n))}};function Vs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!br(n,r)||!br(i,a):!0}function Hs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Us(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Ws(e){Kr(e)}function Gs(e){console.error(e)}function Ks(e){Kr(e)}function qs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Js(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Ys(e,t,n){return n=za(n),n.tag=3,n.payload={element:null},n.callback=function(){qs(e,t)},n}function Xs(e){return e=za(e),e.tag=3,e}function Zs(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Js(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Js(t,n,r),typeof i!=`function`&&(ru===null?ru=new Set([this]):ru.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function Qs(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Yi(t,n,a,!0),n=$a.current,n!==null){switch(n.tag){case 31:case 13:return eo===null?Du():n.alternate===null&&Wl===0&&(Wl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===xa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Ku(e,r,a)),!1;case 22:return n.flags|=65536,r===xa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Ku(e,r,a)),!1}throw Error(i(435,n.tag))}return Ku(e,r,a),Du(),!1}if(ji)return t=$a.current,t===null?(r!==Pi&&(t=Error(i(423),{cause:r}),Vi(mi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=mi(r,n),a=Ys(e.stateNode,r,a),Ha(e,a),Wl!==4&&(Wl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Pi&&(e=Error(i(422),{cause:r}),Vi(mi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=mi(o,n),Xl===null?Xl=[o]:Xl.push(o),Wl!==4&&(Wl=2),t===null)return!0;r=mi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Ys(n.stateNode,r,e),Ha(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(ru===null||!ru.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Xs(a),Zs(a,e,n,r),Ha(n,a),!1}n=n.return}while(n!==null);return!1}var $s=Error(i(461)),ec=!1;function tc(e,t,n,r){t.child=e===null?Fa(t,null,n,r):Pa(t,e.child,n,r)}function nc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Zi(t),r=bo(e,t,n,o,a,i),s=wo(),e!==null&&!ec?(To(e,t,i),Tc(e,t,i)):(ji&&s&&Ei(t),t.flags|=1,tc(e,t,r,i),t.child)}function rc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ai(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,ic(e,t,a,r,i)):(e=ci(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Y(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?br:n,n(o,r)&&e.ref===t.ref)return Tc(e,t,i)}return t.flags|=1,e=oi(a,r),e.ref=t.ref,e.return=t,t.child=e}function ic(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(br(a,r)&&e.ref===t.ref)if(ec=!1,t.pendingProps=r=a,Y(e,i))e.flags&131072&&(ec=!0);else return t.lanes=e.lanes,Tc(e,t,i)}return fc(e,t,n,r,i)}function ac(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return sc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_a(t,a===null?null:a.cachePool),a===null?Za():Xa(t,a),no(t);else return r=t.lanes=536870912,sc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&_a(t,null),Za(),ro(t)):(_a(t,a.cachePool),Xa(t,a),ro(t),t.memoizedState=null);return tc(e,t,i,n),t.child}function oc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function sc(e,t,n,r,i){var a=ga();return a=a===null?null:{parent:ia._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&_a(t,null),Za(),no(t),e!==null&&Yi(e,t,r,!0),t.childLanes=i,null}function cc(e,t){return t=J({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function lc(e,t,n){return Pa(t,e.child,null,n),e=cc(t,t.pendingProps),e.flags|=2,io(t),t.memoizedState=null,e}function uc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(ji){if(r.mode===`hidden`)return e=cc(t,r),t.lanes=536870912,oc(null,e);if(G(t),(e=Ai)?(e=sf(e,Ni),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Fi(t);return t.lanes=536870912,null}return cc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(G(t),a)if(t.flags&256)t.flags&=-257,t=lc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(ec||Yi(e,t,n,!1),a=(n&e.childLanes)!==0,ec||a){if(r=Il,r!==null&&(s=nt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,$r(e,s),hu(r,e,s),$s;Du(),t=lc(e,t,n)}else e=o.treeContext,Ai=df(s.nextSibling),ki=t,ji=!0,Mi=null,Ni=!1,e!==null&&Oi(t,e),t=cc(t,r),t.flags|=4096;return t}return e=oi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function dc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function fc(e,t,n,r,i){return Zi(t),n=bo(e,t,n,r,void 0,i),r=wo(),e!==null&&!ec?(To(e,t,i),Tc(e,t,i)):(ji&&r&&Ei(t),t.flags|=1,tc(e,t,n,i),t.child)}function pc(e,t,n,r,i,a){return Zi(t),t.updateQueue=null,n=So(t,r,n,i),xo(e),r=wo(),e!==null&&!ec?(To(e,t,a),Tc(e,t,a)):(ji&&r&&Ei(t),t.flags|=1,tc(e,t,n,a),t.child)}function mc(e,t,n,r,i){if(Zi(t),t.stateNode===null){var a=ni,o=n.contextType;typeof o==`object`&&o&&(a=Qi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},La(t),o=n.contextType,a.context=typeof o==`object`&&o?Qi(o):ni,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(zs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Bs.enqueueReplaceState(a,a.state,null),Ga(t,r,a,i),Wa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Us(n,s);a.props=c;var l=a.context,u=n.contextType;o=ni,typeof u==`object`&&u&&(o=Qi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Hs(t,a,r,o),Ia=!1;var f=t.memoizedState;a.state=f,Ga(t,r,a,i),Wa(),l=t.memoizedState,s||f!==l||Ia?(typeof d==`function`&&(zs(t,n,d,r),l=t.memoizedState),(c=Ia||Vs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ra(e,t),o=t.memoizedProps,u=Us(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ni,typeof l==`object`&&l&&(c=Qi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Hs(t,a,r,c),Ia=!1,f=t.memoizedState,a.state=f,Ga(t,r,a,i),Wa();var p=t.memoizedState;o!==d||f!==p||Ia||e!==null&&e.dependencies!==null&&Xi(e.dependencies)?(typeof s==`function`&&(zs(t,n,s,r),p=t.memoizedState),(u=Ia||Vs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Xi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,dc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Pa(t,e.child,null,i),t.child=Pa(t,null,n,i)):tc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Tc(e,t,i),e}function hc(e,t,n,r){return zi(),t.flags|=256,tc(e,t,n,r),t.child}var gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(e){return{baseLanes:e,cachePool:va()}}function vc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Jl),e}function yc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(ao.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(ji){if(a?to(t):ro(t),(e=Ai)?(e=sf(e,Ni),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Fi(t);return lf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(ro(t),a=t.mode,c=J({mode:`hidden`,children:c},a),r=li(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=_c(n),r.childLanes=vc(e,s,n),t.memoizedState=gc,oc(null,r)):(to(t),bc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(to(t),t.flags&=-257,t=xc(e,t,n)):t.memoizedState===null?(ro(t),c=r.fallback,a=t.mode,r=J({mode:`visible`,children:r.children},a),c=li(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Pa(t,e.child,null,n),r=t.child,r.memoizedState=_c(n),r.childLanes=vc(e,s,n),t.memoizedState=gc,t=oc(null,r)):(ro(t),t.child=e.child,t.flags|=128,t=null);else if(to(t),lf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Vi({value:r,source:null,stack:null}),t=xc(e,t,n)}else if(ec||Yi(e,t,n,!1),s=(n&e.childLanes)!==0,ec||s){if(s=Il,s!==null&&(r=nt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,$r(e,r),hu(s,e,r),$s;cf(c)||Du(),t=xc(e,t,n)}else cf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ai=df(c.nextSibling),ki=t,ji=!0,Mi=null,Ni=!1,e!==null&&Oi(t,e),t=bc(t,r.children),t.flags|=4096);return t}return a?(ro(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=oi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=li(c,a,n,null),c.flags|=2):c=oi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,oc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=_c(n):(a=c.cachePool,a===null?a=va():(l=ia._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=vc(e,s,n),t.memoizedState=gc,oc(e.child,r)):(to(t),n=e.child,e=n.sibling,n=oi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function bc(e,t){return t=J({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function J(e,t){return e=ii(22,e,null,t),e.lanes=0,e}function xc(e,t,n){return Pa(t,e.child,null,n),e=bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qi(e.return,t,n)}function Cc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function wc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=ao.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,se(ao,o),tc(e,t,r,n),r=ji?vi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,n,t);else if(e.tag===19)Sc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&oo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Cc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&oo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Cc(t,!0,n,null,a,r);break;case`together`:Cc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Tc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Yi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Y(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Xi(e))):!0}function Ec(e,t,n){switch(t.tag){case 3:fe(t,t.stateNode.containerInfo),Gi(t,ia,e.memoizedState.cache),zi();break;case 27:case 5:me(t);break;case 4:fe(t,t.stateNode.containerInfo);break;case 10:Gi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,G(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(to(t),e=Tc(e,t,n),e===null?null:e.sibling):yc(e,t,n):(to(t),t.flags|=128,null);to(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Yi(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return wc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(ao,ao.current),r)break;return null;case 22:return t.lanes=0,ac(e,t,n,t.pendingProps);case 24:Gi(t,ia,e.memoizedState.cache)}return Tc(e,t,n)}function Dc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ec=!0;else{if(!Y(e,n)&&!(t.flags&128))return ec=!1,Ec(e,t,n);ec=!!(e.flags&131072)}else ec=!1,ji&&t.flags&1048576&&Ti(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=wa(t.elementType),t.type=e,typeof e==`function`)ai(e)?(r=Us(e,r),t.tag=1,t=mc(null,t,e,r,n)):(t.tag=0,t=fc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=nc(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=rc(null,t,e,r,n);break a}}throw t=M(e)||e,Error(i(306,t,``))}}return t;case 0:return fc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Us(r,t.pendingProps),mc(e,t,r,a,n);case 3:a:{if(fe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ra(e,t),Ga(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Gi(t,ia,r),r!==o.cache&&Ji(t,[ia],n,!0),Wa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=hc(e,t,r,n);break a}else if(r!==a){a=mi(Error(i(424)),t),Vi(a),t=hc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ai=df(e.firstChild),ki=t,ji=!0,Mi=null,Ni=!0,n=Fa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zi(),r===a){t=Tc(e,t,n);break a}tc(e,t,r,n)}t=t.child}return t;case 26:return dc(e,t),e===null?(n=Mf(t.type,null,t.pendingProps,null))?t.memoizedState=n:ji||(n=t.type,e=t.pendingProps,r=Ud(ue.current).createElement(n),r[ct]=t,r[lt]=e,Ld(r,n,e),xt(r),t.stateNode=r):t.memoizedState=Mf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&ji&&(r=t.stateNode=hf(t.type,t.pendingProps,ue.current),ki=t,Ni=!0,a=Ai,ef(t.type)?(ff=a,Ai=df(r.firstChild)):Ai=a),tc(e,t,t.pendingProps.children,n),dc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ji&&((a=r=Ai)&&(r=af(r,t.type,t.pendingProps,Ni),r===null?a=!1:(t.stateNode=r,ki=t,Ai=df(r.firstChild),Ni=!1,a=!0)),a||Fi(t)),me(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Kd(a,o)?r=null:s!==null&&Kd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=bo(e,t,Co,null,null,n),tp._currentValue=a),dc(e,t),tc(e,t,r,n),t.child;case 6:return e===null&&ji&&((e=n=Ai)&&(n=of(n,t.pendingProps,Ni),n===null?e=!1:(t.stateNode=n,ki=t,Ai=null,e=!0)),e||Fi(t)),null;case 13:return yc(e,t,n);case 4:return fe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pa(t,null,r,n):tc(e,t,r,n),t.child;case 11:return nc(e,t,t.type,t.pendingProps,n);case 7:return tc(e,t,t.pendingProps,n),t.child;case 8:return tc(e,t,t.pendingProps.children,n),t.child;case 12:return tc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Gi(t,t.type,r.value),tc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Zi(t),a=Qi(a),r=r(a),t.flags|=1,tc(e,t,r,n),t.child;case 14:return rc(e,t,t.type,t.pendingProps,n);case 15:return ic(e,t,t.type,t.pendingProps,n);case 19:return wc(e,t,n);case 31:return uc(e,t,n);case 22:return ac(e,t,n,t.pendingProps);case 24:return Zi(t),r=Qi(ia),e===null?(a=ga(),a===null&&(a=Il,o=aa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},La(t),Gi(t,ia,a)):((e.lanes&n)!==0&&(Ra(e,t),Ga(t,null,null,n),Wa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Gi(t,ia,r),r!==a.cache&&Ji(t,[ia],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Gi(t,ia,r))),tc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Oc(e){e.flags|=4}function kc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(wu())e.flags|=8192;else throw Ta=xa,ya}else e.flags&=-16777217}function Ac(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!qf(t))if(wu())e.flags|=8192;else throw Ta=xa,ya}function jc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Ze(),e.lanes|=t,Yl|=t)}function Mc(e,t){if(!ji)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Pc(e,t,n){var r=t.pendingProps;switch(Di(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nc(t),null;case 1:return Nc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ki(ia),pe(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Ri(t)?Oc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bi())),Nc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Oc(t),o===null?(Nc(t),kc(t,a,null,r,n)):(Nc(t),Ac(t,o))):o?o===e.memoizedState?(Nc(t),t.flags&=-16777217):(Oc(t),Nc(t),Ac(t,o)):(e=e.memoizedProps,e!==r&&Oc(t),Nc(t),kc(t,a,e,r,n)),null;case 27:if(he(t),n=ue.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Oc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Nc(t),null}e=ce.current,Ri(t)?Ii(t,e):(e=hf(a,r,n),t.stateNode=e,Oc(t))}return Nc(t),null;case 5:if(he(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Oc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Nc(t),null}if(o=ce.current,Ri(t))Ii(t,o);else{var s=Ud(ue.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[ct]=t,o[lt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Ld(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Oc(t)}}return Nc(t),kc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Oc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ue.current,Ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=ki,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[ct]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Pd(e.nodeValue,n)),e||Fi(t,!0)}else e=Ud(e).createTextNode(r),e[ct]=t,t.stateNode=e}return Nc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ri(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[ct]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nc(t),e=!1}else n=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(io(t),t):(io(t),null);if(t.flags&128)throw Error(i(558))}return Nc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[ct]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nc(t),a=!1}else a=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(io(t),t):(io(t),null)}return io(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),jc(t,t.updateQueue),Nc(t),null);case 4:return pe(),e===null&&wd(t.stateNode.containerInfo),Nc(t),null;case 10:return Ki(t.type),Nc(t),null;case 19:if(oe(ao),r=t.memoizedState,r===null)return Nc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Mc(r,!1);else{if(Wl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=oo(e),o!==null){for(t.flags|=128,Mc(r,!1),e=o.updateQueue,t.updateQueue=e,jc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)si(n,e),n=n.sibling;return se(ao,ao.current&1|2),ji&&wi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Oe()>tu&&(t.flags|=128,a=!0,Mc(r,!1),t.lanes=4194304)}else{if(!a)if(e=oo(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,jc(t,e),Mc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!ji)return Nc(t),null}else 2*Oe()-r.renderingStartTime>tu&&n!==536870912&&(t.flags|=128,a=!0,Mc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Nc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Oe(),e.sibling=null,n=ao.current,se(ao,a?n&1|2:n&1),ji&&wi(t,r.treeForkCount),e);case 22:case 23:return io(t),Qa(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Nc(t),t.subtreeFlags&6&&(t.flags|=8192)):Nc(t),n=t.updateQueue,n!==null&&jc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&oe(ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ki(ia),Nc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Fc(e,t){switch(Di(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ki(ia),pe(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(io(t),t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(io(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ao),null;case 4:return pe(),null;case 10:return Ki(t.type),null;case 22:case 23:return io(t),Qa(),e!==null&&oe(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ki(ia),null;case 25:return null;default:return null}}function Ic(e,t){switch(Di(t),t.tag){case 3:Ki(ia),pe();break;case 26:case 27:case 5:he(t);break;case 4:pe();break;case 31:t.memoizedState!==null&&io(t);break;case 13:io(t);break;case 19:oe(ao);break;case 10:Ki(t.type);break;case 22:case 23:io(t),Qa(),e!==null&&oe(ha);break;case 24:Ki(ia)}}function Lc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Gu(t,t.return,e)}}function X(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Gu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Gu(t,t.return,e)}}function Rc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{qa(t,n)}catch(t){Gu(e,e.return,t)}}}function zc(e,t,n){n.props=Us(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Gu(e,t,n)}}function Bc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Gu(e,t,n)}}function Vc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Gu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Gu(e,t,n)}else n.current=null}function Hc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Gu(e,e.return,t)}}function Uc(e,t,n){try{var r=e.stateNode;Rd(r,e.type,n,t),r[lt]=t}catch(t){Gu(e,e.return,t)}}function Wc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ef(e.type)||e.tag===4}function Gc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Wc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ef(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qt));else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}function qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qc(e,t,n),e=e.sibling;e!==null;)qc(e,t,n),e=e.sibling}function Jc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ld(t,r,n),t[ct]=e,t[lt]=n}catch(t){Gu(e,e.return,t)}}var Yc=!1,Xc=!1,Zc=!1,Qc=typeof WeakSet==`function`?WeakSet:Set,$c=null;function el(e,t){if(e=e.containerInfo,Vd=up,e=wr(e),Tr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Hd={focusedElem:e,selectionRange:n},up=!1,$c=t;$c!==null;)if(t=$c,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,$c=e;else for(;$c!==null;){switch(t=$c,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Us(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Gu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:rf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,$c=e;break}$c=t.return}}function tl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:gl(e,n),r&4&&Lc(5,n);break;case 1:if(gl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Gu(n,n.return,e)}else{var i=Us(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Gu(n,n.return,e)}}r&64&&Rc(n),r&512&&Bc(n,n.return);break;case 3:if(gl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{qa(e,t)}catch(e){Gu(n,n.return,e)}}break;case 27:t===null&&r&4&&Jc(n);case 26:case 5:gl(e,n),t===null&&r&4&&Hc(n),r&512&&Bc(n,n.return);break;case 12:gl(e,n);break;case 31:gl(e,n),r&4&&sl(e,n);break;case 13:gl(e,n),r&4&&cl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Yu.bind(null,n),uf(e,n))));break;case 22:if(r=n.memoizedState!==null||Yc,!r){t=t!==null&&t.memoizedState!==null||Xc,i=Yc;var a=Xc;Yc=r,(Xc=t)&&!a?vl(e,n,(n.subtreeFlags&8772)!=0):gl(e,n),Yc=i,Xc=a}break;case 30:break;default:gl(e,n)}}function nl(e){var t=e.alternate;t!==null&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rl=null,il=!1;function al(e,t,n){for(n=n.child;n!==null;)ol(e,t,n),n=n.sibling}function ol(e,t,n){if(Re&&typeof Re.onCommitFiberUnmount==`function`)try{Re.onCommitFiberUnmount(Le,n)}catch{}switch(n.tag){case 26:Xc||Vc(n,t),al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xc||Vc(n,t);var r=rl,i=il;ef(n.type)&&(rl=n.stateNode,il=!1),al(e,t,n),gf(n.stateNode),rl=r,il=i;break;case 5:Xc||Vc(n,t);case 6:if(r=rl,i=il,rl=null,al(e,t,n),rl=r,il=i,rl!==null)if(il)try{(rl.nodeType===9?rl.body:rl.nodeName===`HTML`?rl.ownerDocument.body:rl).removeChild(n.stateNode)}catch(e){Gu(n,t,e)}else try{rl.removeChild(n.stateNode)}catch(e){Gu(n,t,e)}break;case 18:rl!==null&&(il?(e=rl,tf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Ip(e)):tf(rl,n.stateNode));break;case 4:r=rl,i=il,rl=n.stateNode.containerInfo,il=!0,al(e,t,n),rl=r,il=i;break;case 0:case 11:case 14:case 15:X(2,n,t),Xc||X(4,n,t),al(e,t,n);break;case 1:Xc||(Vc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&zc(n,t,r)),al(e,t,n);break;case 21:al(e,t,n);break;case 22:Xc=(r=Xc)||n.memoizedState!==null,al(e,t,n),Xc=r;break;default:al(e,t,n)}}function sl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ip(e)}catch(e){Gu(t,t.return,e)}}}function cl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ip(e)}catch(e){Gu(t,t.return,e)}}function ll(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qc),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qc),t;default:throw Error(i(435,e.tag))}}function ul(e,t){var n=ll(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Xu.bind(null,e,t);t.then(r,r)}})}function dl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(ef(c.type)){rl=c.stateNode,il=!1;break a}break;case 5:rl=c.stateNode,il=!1;break a;case 3:case 4:rl=c.stateNode.containerInfo,il=!0;break a}c=c.return}if(rl===null)throw Error(i(160));ol(o,s,a),rl=null,il=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dl(t,e),ml(e),r&4&&(X(3,e,e.return),Lc(3,e),X(5,e,e.return));break;case 1:dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),r&64&&Yc&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=fl;if(dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[ht]||o[ct]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Ld(o,r,n),o[ct]=e,xt(o),r=o;break a;case`link`:var s=Wf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Wf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[ct]=e,xt(o),r=o}e.stateNode=r}else Gf(a,e.type,e.stateNode);else e.stateNode=zf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Uc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Gf(a,e.type,e.stateNode):zf(a,r,e.memoizedProps))}break;case 27:dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),n!==null&&r&4&&Uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),e.flags&32){a=e.stateNode;try{Gt(a,``)}catch(t){Gu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Uc(e,a,n===null?a:n.memoizedProps)),r&1024&&(Zc=!0);break;case 6:if(dl(t,e),ml(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Gu(e,e.return,t)}}break;case 3:if(Uf=null,a=fl,fl=yf(t.containerInfo),dl(t,e),fl=a,ml(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ip(t.containerInfo)}catch(t){Gu(e,e.return,t)}Zc&&(Zc=!1,hl(e));break;case 4:r=fl,fl=yf(e.stateNode.containerInfo),dl(t,e),ml(e),fl=r;break;case 12:dl(t,e),ml(e);break;case 31:dl(t,e),ml(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ul(e,r)));break;case 13:dl(t,e),ml(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($l=Oe()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ul(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Yc,d=Xc;if(Yc=u||a,Xc=d||l,dl(t,e),Xc=d,Yc=u,ml(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Yc||Xc||_l(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Gu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Gu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?nf(m,!0):nf(l.stateNode,!1)}catch(e){Gu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ul(e,n))));break;case 19:dl(t,e),ml(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ul(e,r)));break;case 30:break;case 21:break;default:dl(t,e),ml(e)}}function ml(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Wc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;qc(e,Gc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Gt(o,``),n.flags&=-33),qc(e,Gc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Kc(e,Gc(e),s);break;default:throw Error(i(161))}}catch(t){Gu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tl(e,t.alternate,t),t=t.sibling}function _l(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:X(4,t,t.return),_l(t);break;case 1:Vc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&zc(t,t.return,n),_l(t);break;case 27:gf(t.stateNode);case 26:case 5:Vc(t,t.return),_l(t);break;case 22:t.memoizedState===null&&_l(t);break;case 30:_l(t);break;default:_l(t)}e=e.sibling}}function vl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:vl(i,a,n),Lc(4,a);break;case 1:if(vl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Gu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ka(c[i],s)}catch(e){Gu(r,r.return,e)}}n&&o&64&&Rc(a),Bc(a,a.return);break;case 27:Jc(a);case 26:case 5:vl(i,a,n),n&&r===null&&o&4&&Hc(a),Bc(a,a.return);break;case 12:vl(i,a,n);break;case 31:vl(i,a,n),n&&o&4&&sl(i,a);break;case 13:vl(i,a,n),n&&o&4&&cl(i,a);break;case 22:a.memoizedState===null&&vl(i,a,n),Bc(a,a.return);break;case 30:break;default:vl(i,a,n)}t=t.sibling}}function yl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&oa(n))}function bl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e))}function xl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sl(e,t,n,r),t=t.sibling}function Sl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:xl(e,t,n,r),i&2048&&Lc(9,t);break;case 1:xl(e,t,n,r);break;case 3:xl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e)));break;case 12:if(i&2048){xl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Gu(t,t.return,e)}}else xl(e,t,n,r);break;case 31:xl(e,t,n,r);break;case 13:xl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?xl(e,t,n,r):(a._visibility|=2,Cl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?xl(e,t,n,r):wl(e,t),i&2048&&yl(o,t);break;case 24:xl(e,t,n,r),i&2048&&bl(t.alternate,t);break;default:xl(e,t,n,r)}}function Cl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Cl(a,o,s,c,i),Lc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Cl(a,o,s,c,i)):u._visibility&2?Cl(a,o,s,c,i):wl(a,o),i&&l&2048&&yl(o.alternate,o);break;case 24:Cl(a,o,s,c,i),i&&l&2048&&bl(o.alternate,o);break;default:Cl(a,o,s,c,i)}t=t.sibling}}function wl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:wl(n,r),i&2048&&yl(r.alternate,r);break;case 24:wl(n,r),i&2048&&bl(r.alternate,r);break;default:wl(n,r)}t=t.sibling}}var Tl=8192;function El(e,t,n){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)Dl(e,t,n),e=e.sibling}function Dl(e,t,n){switch(e.tag){case 26:El(e,t,n),e.flags&Tl&&e.memoizedState!==null&&Jf(n,fl,e.memoizedState,e.memoizedProps);break;case 5:El(e,t,n);break;case 3:case 4:var r=fl;fl=yf(e.stateNode.containerInfo),El(e,t,n),fl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,El(e,t,n),Tl=r):El(e,t,n));break;default:El(e,t,n)}}function Ol(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$c=r,Ml(r,e)}Ol(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&X(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,jl(e)):kl(e);break;default:kl(e)}}function jl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$c=r,Ml(r,e)}Ol(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:X(8,t,t.return),jl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,jl(t));break;default:jl(t)}e=e.sibling}}function Ml(e,t){for(;$c!==null;){var n=$c;switch(n.tag){case 0:case 11:case 15:X(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:oa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,$c=r;else a:for(n=e;$c!==null;){r=$c;var i=r.sibling,a=r.return;if(nl(r),r===n){$c=null;break a}if(i!==null){i.return=a,$c=i;break a}$c=a}}}var Nl={getCacheForType:function(e){var t=Qi(ia),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Qi(ia).controller.signal}},Pl=typeof WeakMap==`function`?WeakMap:Map,Fl=0,Il=null,Ll=null,Rl=0,Z=0,zl=null,Bl=!1,Vl=!1,Hl=!1,Ul=0,Wl=0,Gl=0,Kl=0,ql=0,Jl=0,Yl=0,Xl=null,Zl=null,Ql=!1,$l=0,eu=0,tu=1/0,nu=null,ru=null,iu=0,au=null,ou=null,su=0,cu=0,lu=null,uu=null,du=0,fu=null;function pu(){return Fl&2&&Rl!==0?Rl&-Rl:N.T===null?at():fd()}function mu(){if(Jl===0)if(!(Rl&536870912)||ji){var e=Ge;Ge<<=1,!(Ge&3932160)&&(Ge=262144),Jl=e}else Jl=536870912;return e=$a.current,e!==null&&(e.flags|=32),Jl}function hu(e,t,n){(e===Il&&(Z===2||Z===9)||e.cancelPendingCommit!==null)&&(Su(e,0),yu(e,Rl,Jl,!1)),I(e,n),(!(Fl&2)||e!==Il)&&(e===Il&&(!(Fl&2)&&(Kl|=n),Wl===4&&yu(e,Rl,Jl,!1)),id(e))}function gu(e,t,n){if(Fl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Ye(e,t),a=r?Au(e,t):Ou(e,t,!0),o=r;do{if(a===0){Vl&&!r&&yu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!vu(n)){a=Ou(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Xl;var l=c.current.memoizedState.isDehydrated;if(l&&(Su(c,s).flags|=256),s=Ou(c,s,!1),s!==2){if(Hl&&!l){c.errorRecoveryDisabledLanes|=o,Kl|=o,a=4;break a}o=Zl,Zl=a,o!==null&&(Zl===null?Zl=o:Zl.push.apply(Zl,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Su(e,0),yu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:yu(r,t,Jl,!Bl);break a;case 2:Zl=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=$l+300-Oe(),10<a)){if(yu(r,t,Jl,!Bl),Je(r,0,!0)!==0)break a;su=t,r.timeoutHandle=Yd(_u.bind(null,r,n,Zl,nu,Ql,t,Jl,Kl,Yl,Bl,o,`Throttled`,-0,0),a);break a}_u(r,n,Zl,nu,Ql,t,Jl,Kl,Yl,Bl,o,null,-0,0)}}break}while(1);id(e)}function _u(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qt},Dl(t,a,d);var m=(a&62914560)===a?$l-Oe():(a&4194048)===a?eu-Oe():0;if(m=Xf(d,m),m!==null){su=a,e.cancelPendingCommit=m(Lu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),yu(e,a,o,!l);return}}Lu(e,t,a,n,r,i,o,s,c)}function vu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!yr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yu(e,t,n,r){t&=~ql,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Be(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&et(e,n,t)}function bu(){return Fl&6?!0:(ad(0,!1),!1)}function xu(){if(Ll!==null){if(Z===0)var e=Ll.return;else e=Ll,Wi=Ui=null,Eo(e),Oa=null,ka=0,e=Ll;for(;e!==null;)Ic(e.alternate,e),e=e.return;Ll=null}}function Su(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),su=0,xu(),Il=e,Ll=n=oi(e.current,null),Rl=t,Z=0,zl=null,Bl=!1,Vl=Ye(e,t),Hl=!1,Yl=Jl=ql=Kl=Gl=Wl=0,Zl=Xl=null,Ql=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Be(r),a=1<<i;t|=e[i],r&=~a}return Ul=t,Xr(),n}function Cu(e,t){K=null,N.H=Fs,t===W||t===ba?(t=Ea(),Z=3):t===ya?(t=Ea(),Z=4):Z=t===$s?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,zl=t,Ll===null&&(Wl=1,qs(e,mi(t,e.current)))}function wu(){var e=$a.current;return e===null?!0:(Rl&4194048)===Rl?eo===null:(Rl&62914560)===Rl||Rl&536870912?e===eo:!1}function Tu(){var e=N.H;return N.H=Fs,e===null?Fs:e}function Eu(){var e=N.A;return N.A=Nl,e}function Du(){Wl=4,Bl||(Rl&4194048)!==Rl&&$a.current!==null||(Vl=!0),!(Gl&134217727)&&!(Kl&134217727)||Il===null||yu(Il,Rl,Jl,!1)}function Ou(e,t,n){var r=Fl;Fl|=2;var i=Tu(),a=Eu();(Il!==e||Rl!==t)&&(nu=null,Su(e,t)),t=!1;var o=Wl;a:do try{if(Z!==0&&Ll!==null){var s=Ll,c=zl;switch(Z){case 8:xu(),o=6;break a;case 3:case 2:case 9:case 6:$a.current===null&&(t=!0);var l=Z;if(Z=0,zl=null,Pu(e,s,c,l),n&&Vl){o=0;break a}break;default:l=Z,Z=0,zl=null,Pu(e,s,c,l)}}ku(),o=Wl;break}catch(t){Cu(e,t)}while(1);return t&&e.shellSuspendCounter++,Wi=Ui=null,Fl=r,N.H=i,N.A=a,Ll===null&&(Il=null,Rl=0,Xr()),o}function ku(){for(;Ll!==null;)Mu(Ll)}function Au(e,t){var n=Fl;Fl|=2;var r=Tu(),a=Eu();Il!==e||Rl!==t?(nu=null,tu=Oe()+500,Su(e,t)):Vl=Ye(e,t);a:do try{if(Z!==0&&Ll!==null){t=Ll;var o=zl;b:switch(Z){case 1:Z=0,zl=null,Pu(e,t,o,1);break;case 2:case 9:if(Sa(o)){Z=0,zl=null,Nu(t);break}t=function(){Z!==2&&Z!==9||Il!==e||(Z=7),id(e)},o.then(t,t);break a;case 3:Z=7;break a;case 4:Z=5;break a;case 7:Sa(o)?(Z=0,zl=null,Nu(t)):(Z=0,zl=null,Pu(e,t,o,7));break;case 5:var s=null;switch(Ll.tag){case 26:s=Ll.memoizedState;case 5:case 27:var c=Ll;if(s?qf(s):c.stateNode.complete){Z=0,zl=null;var l=c.sibling;if(l!==null)Ll=l;else{var u=c.return;u===null?Ll=null:(Ll=u,Fu(u))}break b}}Z=0,zl=null,Pu(e,t,o,5);break;case 6:Z=0,zl=null,Pu(e,t,o,6);break;case 8:xu(),Wl=6;break a;default:throw Error(i(462))}}ju();break}catch(t){Cu(e,t)}while(1);return Wi=Ui=null,N.H=r,N.A=a,Fl=n,Ll===null?(Il=null,Rl=0,Xr(),Wl):0}function ju(){for(;Ll!==null&&!Ee();)Mu(Ll)}function Mu(e){var t=Dc(e.alternate,e,Ul);e.memoizedProps=e.pendingProps,t===null?Fu(e):Ll=t}function Nu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=pc(n,t,t.pendingProps,t.type,void 0,Rl);break;case 11:t=pc(n,t,t.pendingProps,t.type.render,t.ref,Rl);break;case 5:Eo(t);default:Ic(n,t),t=Ll=si(t,Ul),t=Dc(n,t,Ul)}e.memoizedProps=e.pendingProps,t===null?Fu(e):Ll=t}function Pu(e,t,n,r){Wi=Ui=null,Eo(t),Oa=null,ka=0;var i=t.return;try{if(Qs(e,i,t,n,Rl)){Wl=1,qs(e,mi(n,e.current)),Ll=null;return}}catch(t){if(i!==null)throw Ll=i,t;Wl=1,qs(e,mi(n,e.current)),Ll=null;return}t.flags&32768?(ji||r===1?e=!0:Vl||Rl&536870912?e=!1:(Bl=e=!0,(r===2||r===9||r===3||r===6)&&(r=$a.current,r!==null&&r.tag===13&&(r.flags|=16384))),Iu(t,e)):Fu(t)}function Fu(e){var t=e;do{if(t.flags&32768){Iu(t,Bl);return}e=t.return;var n=Pc(t.alternate,t,Ul);if(n!==null){Ll=n;return}if(t=t.sibling,t!==null){Ll=t;return}Ll=t=e}while(t!==null);Wl===0&&(Wl=5)}function Iu(e,t){do{var n=Fc(e.alternate,e);if(n!==null){n.flags&=32767,Ll=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ll=e;return}Ll=e=n}while(e!==null);Wl=6,Ll=null}function Lu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Hu();while(iu!==0);if(Fl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=Yr,$e(e,n,o,s,c,l),e===Il&&(Ll=Il=null,Rl=0),ou=t,au=e,su=n,cu=o,lu=a,uu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Zu(Me,function(){return Uu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=N.T,N.T=null,a=P.p,P.p=2,s=Fl,Fl|=4;try{el(e,t,n)}finally{Fl=s,P.p=a,N.T=r}}iu=1,Ru(),zu(),Bu()}}function Ru(){if(iu===1){iu=0;var e=au,t=ou,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=N.T,N.T=null;var r=P.p;P.p=2;var i=Fl;Fl|=4;try{pl(t,e);var a=Hd,o=wr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Cr(s.ownerDocument.documentElement,s)){if(c!==null&&Tr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Sr(s,h),v=Sr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}up=!!Vd,Hd=Vd=null}finally{Fl=i,P.p=r,N.T=n}}e.current=t,iu=2}}function zu(){if(iu===2){iu=0;var e=au,t=ou,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=N.T,N.T=null;var r=P.p;P.p=2;var i=Fl;Fl|=4;try{tl(e,t.alternate,t)}finally{Fl=i,P.p=r,N.T=n}}iu=3}}function Bu(){if(iu===4||iu===3){iu=0,De();var e=au,t=ou,n=su,r=uu;t.subtreeFlags&10256||t.flags&10256?iu=5:(iu=0,ou=au=null,Vu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ru=null),it(n),t=t.stateNode,Re&&typeof Re.onCommitFiberRoot==`function`)try{Re.onCommitFiberRoot(Le,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=N.T,i=P.p,P.p=2,N.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{N.T=t,P.p=i}}su&3&&Hu(),id(e),i=e.pendingLanes,n&261930&&i&42?e===fu?du++:(du=0,fu=e):du=0,ad(0,!1)}}function Vu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oa(t)))}function Hu(){return Ru(),zu(),Bu(),Uu()}function Uu(){if(iu!==5)return!1;var e=au,t=cu;cu=0;var n=it(su),r=N.T,a=P.p;try{P.p=32>n?32:n,N.T=null,n=lu,lu=null;var o=au,s=su;if(iu=0,ou=au=null,su=0,Fl&6)throw Error(i(331));var c=Fl;if(Fl|=4,Al(o.current),Sl(o,o.current,s,n),Fl=c,ad(0,!1),Re&&typeof Re.onPostCommitFiberRoot==`function`)try{Re.onPostCommitFiberRoot(Le,o)}catch{}return!0}finally{P.p=a,N.T=r,Vu(e,t)}}function Wu(e,t,n){t=mi(n,t),t=Ys(e.stateNode,t,2),e=Ba(e,t,2),e!==null&&(I(e,2),id(e))}function Gu(e,t,n){if(e.tag===3)Wu(e,e,n);else for(;t!==null;){if(t.tag===3){Wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(ru===null||!ru.has(r))){e=mi(n,e),n=Xs(2),r=Ba(t,n,2),r!==null&&(Zs(n,r,t,e),I(r,2),id(r));break}}t=t.return}}function Ku(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Hl=!0,i.add(n),e=qu.bind(null,e,t,n),t.then(e,e))}function qu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Il===e&&(Rl&n)===n&&(Wl===4||Wl===3&&(Rl&62914560)===Rl&&300>Oe()-$l?!(Fl&2)&&Su(e,0):ql|=n,Yl===Rl&&(Yl=0)),id(e)}function Ju(e,t){t===0&&(t=Ze()),e=$r(e,t),e!==null&&(I(e,t),id(e))}function Yu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ju(e,n)}function Xu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ju(e,n)}function Zu(e,t){return we(e,t)}var Qu=null,$u=null,ed=!1,td=!1,nd=!1,rd=0;function id(e){e!==$u&&e.next===null&&($u===null?Qu=$u=e:$u=$u.next=e),td=!0,ed||(ed=!0,dd())}function ad(e,t){if(!nd&&td){nd=!0;do for(var n=!1,r=Qu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Be(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,ud(r,a))}else a=Rl,a=Je(r,r===Il?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ye(r,a)||(n=!0,ud(r,a));r=r.next}while(n);nd=!1}}function od(){sd()}function sd(){td=ed=!1;var e=0;rd!==0&&Jd()&&(e=rd);for(var t=Oe(),n=null,r=Qu;r!==null;){var i=r.next,a=cd(r,t);a===0?(r.next=null,n===null?Qu=i:n.next=i,i===null&&($u=n)):(n=r,(e!==0||a&3)&&(td=!0)),r=i}iu!==0&&iu!==5||ad(e,!1),rd!==0&&(rd=0)}function cd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Be(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Xe(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Il,n=Rl,n=Je(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Z===2||Z===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Te(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ye(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Te(r),it(n)){case 2:case 8:n=je;break;case 32:n=Me;break;case 268435456:n=Pe;break;default:n=Me}return r=ld.bind(null,e),n=we(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Te(r),e.callbackPriority=2,e.callbackNode=null,2}function ld(e,t){if(iu!==0&&iu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hu()&&e.callbackNode!==n)return null;var r=Rl;return r=Je(e,e===Il?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(gu(e,r,t),cd(e,Oe()),e.callbackNode!=null&&e.callbackNode===n?ld.bind(null,e):null)}function ud(e,t){if(Hu())return null;gu(e,t,!0)}function dd(){Qd(function(){Fl&6?we(Ae,od):sd()})}function fd(){if(rd===0){var e=la;e===0&&(e=We,We<<=1,!(We&261888)&&(We=256)),rd=e}return rd}function pd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Zt(``+e)}function md(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function hd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=pd((i[lt]||null).action),o=r.submitter;o&&(t=(t=o[lt]||null)?pd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new yn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(rd!==0){var e=o?md(i,o):new FormData(i);xs(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?md(i,o):new FormData(i),xs(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var gd=0;gd<U.length;gd++){var _d=U[gd];Gr(_d.toLowerCase(),`on`+(_d[0].toUpperCase()+_d.slice(1)))}Gr(Lr,`onAnimationEnd`),Gr(Rr,`onAnimationIteration`),Gr(zr,`onAnimationStart`),Gr(`dblclick`,`onDoubleClick`),Gr(`focusin`,`onFocus`),Gr(`focusout`,`onBlur`),Gr(Br,`onTransitionRun`),Gr(Vr,`onTransitionStart`),Gr(Hr,`onTransitionCancel`),Gr(Ur,`onTransitionEnd`),wt(`onMouseEnter`,[`mouseout`,`mouseover`]),wt(`onMouseLeave`,[`mouseout`,`mouseover`]),wt(`onPointerEnter`,[`pointerout`,`pointerover`]),wt(`onPointerLeave`,[`pointerout`,`pointerover`]),R(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),R(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),R(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),R(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),R(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),R(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var vd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),yd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(vd));function bd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Kr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Kr(e)}i.currentTarget=null,a=c}}}}function xd(e,t){var n=t[dt];n===void 0&&(n=t[dt]=new Set);var r=e+`__bubble`;n.has(r)||(Td(t,e,2,!1),n.add(r))}function Sd(e,t,n){var r=0;t&&(r|=4),Td(n,e,r,t)}var Cd=`_reactListening`+Math.random().toString(36).slice(2);function wd(e){if(!e[Cd]){e[Cd]=!0,St.forEach(function(t){t!==`selectionchange`&&(yd.has(t)||Sd(t,!1,e),Sd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cd]||(t[Cd]=!0,Sd(`selectionchange`,!1,t))}}function Td(e,t,n,r){switch(_p(t)){case 2:var i=dp;break;case 8:i=fp;break;default:i=pp}n=i.bind(null,t,n,e),i=void 0,!ln||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Ed(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=_t(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}on(function(){var r=a,i=en(n),s=[];a:{var c=Wr.get(e);if(c!==void 0){var l=yn,u=e;switch(e){case`keypress`:if(hn(n)===0)break a;case`keydown`:case`keyup`:l=Ln;break;case`focusin`:u=`focus`,l=On;break;case`focusout`:u=`blur`,l=On;break;case`beforeblur`:case`afterblur`:l=On;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=En;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Dn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=zn;break;case Lr:case Rr:case zr:l=kn;break;case Ur:l=Bn;break;case`scroll`:case`scrollend`:l=xn;break;case`wheel`:l=Vn;break;case`copy`:case`cut`:case`paste`:l=An;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Rn;break;case`toggle`:case`beforetoggle`:l=Hn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=sn(m,p),g!=null&&d.push(Dd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==$t&&(u=n.relatedTarget||n.fromElement)&&(_t(u)||u[ut]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?_t(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=En,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Rn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:yt(l),h=u==null?c:yt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,_t(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=kd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Ad(s,c,l,d,!1),u!==null&&f!==null&&Ad(s,f,u,d,!0)}}a:{if(c=r?yt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=sr;else if(tr(c))if(cr)v=_r;else{v=hr;var y=mr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Yt(r.elementType)&&(v=sr):v=gr;if(v&&=v(e,r)){nr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Vt(c,`number`,c.value)}switch(y=r?yt(r):window,e){case`focusin`:(tr(y)||y.contentEditable===`true`)&&(Dr=y,Or=r,kr=null);break;case`focusout`:kr=Or=Dr=null;break;case`mousedown`:Ar=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Ar=!1,jr(s,n,i);break;case`selectionchange`:if(Er)break;case`keydown`:case`keyup`:jr(s,n,i)}var b;if(Un)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Zn?Yn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Kn&&n.locale!==`ko`&&(Zn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Zn&&(b=mn()):(dn=i,fn=`value`in dn?dn.value:dn.textContent,Zn=!0)),y=Od(r,x),0<y.length&&(x=new jn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=Xn(n),b!==null&&(x.data=b)))),(b=Gn?Qn(e,n):$n(e,n))&&(x=Od(r,`onBeforeInput`),0<x.length&&(y=new jn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),hd(s,e,r,n,i)}bd(s,t)})}function Dd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Od(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=sn(e,n),i!=null&&r.unshift(Dd(e,i,a)),i=sn(e,t),i!=null&&r.push(Dd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function kd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ad(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=sn(n,a),l!=null&&o.unshift(Dd(n,l,c))):i||(l=sn(n,a),l!=null&&o.push(Dd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jd=/\r\n?/g,Md=/\u0000|\uFFFD/g;function Nd(e){return(typeof e==`string`?e:``+e).replace(jd,`
`).replace(Md,``)}function Pd(e,t){return t=Nd(t),Nd(e)===t}function Fd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Gt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Gt(e,``+r);break;case`className`:kt(e,`class`,r);break;case`tabIndex`:kt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:kt(e,n,r);break;case`style`:Jt(e,r,o);break;case`data`:if(t!==`object`){kt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Zt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Fd(e,t,`name`,a.name,a,null),Fd(e,t,`formEncType`,a.formEncType,a,null),Fd(e,t,`formMethod`,a.formMethod,a,null),Fd(e,t,`formTarget`,a.formTarget,a,null)):(Fd(e,t,`encType`,a.encType,a,null),Fd(e,t,`method`,a.method,a,null),Fd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Zt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Qt);break;case`onScroll`:r!=null&&xd(`scroll`,e);break;case`onScrollEnd`:r!=null&&xd(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Zt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:xd(`beforetoggle`,e),xd(`toggle`,e),z(e,`popover`,r);break;case`xlinkActuate`:At(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:At(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:At(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:At(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:At(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:At(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:At(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:At(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:At(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:z(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Xt.get(n)||n,z(e,n,r))}}function Id(e,t,n,r,a,o){switch(n){case`style`:Jt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Gt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Gt(e,``+r);break;case`onScroll`:r!=null&&xd(`scroll`,e);break;case`onScrollEnd`:r!=null&&xd(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Qt);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Ct.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[lt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):z(e,n,r)}}}function Ld(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:xd(`error`,e),xd(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Fd(e,t,o,s,n,null)}}a&&Fd(e,t,`srcSet`,n.srcSet,n,null),r&&Fd(e,t,`src`,n.src,n,null);return;case`input`:xd(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Fd(e,t,r,d,n,null)}}Bt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in xd(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Fd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Ht(e,!!r,n,!0):Ht(e,!!r,t,!1);return;case`textarea`:for(s in xd(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Fd(e,t,s,c,n,null)}Wt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Fd(e,t,l,r,n,null)}return;case`dialog`:xd(`beforetoggle`,e),xd(`toggle`,e),xd(`cancel`,e),xd(`close`,e);break;case`iframe`:case`object`:xd(`load`,e);break;case`video`:case`audio`:for(r=0;r<vd.length;r++)xd(vd[r],e);break;case`image`:xd(`error`,e),xd(`load`,e);break;case`details`:xd(`toggle`,e);break;case`embed`:case`source`:case`link`:xd(`error`,e),xd(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Fd(e,t,u,r,n,null)}return;default:if(Yt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Id(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Fd(e,t,c,r,n,null))}function Rd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Fd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Fd(e,t,p,m,r,f)}}zt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Fd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Fd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Ht(e,!!n,n?[]:``,!1):Ht(e,!!n,t,!0)):Ht(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Fd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Fd(e,t,s,a,r,o)}Ut(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Fd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Fd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Fd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Fd(e,t,u,p,r,m)}return;default:if(Yt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Id(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Id(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Fd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Fd(e,t,f,p,r,m)}function zd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Bd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&zd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&zd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Vd=null,Hd=null;function Ud(e){return e.nodeType===9?e:e.ownerDocument}function Wd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Gd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Kd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qd=null;function Jd(){var e=window.event;return e&&e.type===`popstate`?e===qd?!1:(qd=e,!0):(qd=null,!1)}var Yd=typeof setTimeout==`function`?setTimeout:void 0,Xd=typeof clearTimeout==`function`?clearTimeout:void 0,Zd=typeof Promise==`function`?Promise:void 0,Qd=typeof queueMicrotask==`function`?queueMicrotask:Zd===void 0?Yd:function(e){return Zd.resolve(null).then(e).catch($d)};function $d(e){setTimeout(function(){throw e})}function ef(e){return e===`head`}function tf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Ip(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)gf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,gf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[ht]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&gf(e.ownerDocument.body);n=i}while(n);Ip(t)}function nf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function rf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:rf(n),gt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function af(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[ht])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=df(e.nextSibling),e===null)break}return null}function of(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=df(e.nextSibling),e===null))return null;return e}function sf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=df(e.nextSibling),e===null))return null;return e}function cf(e){return e.data===`$?`||e.data===`$~`}function lf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function uf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function df(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var ff=null;function pf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return df(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function hf(e,t,n){switch(t=Ud(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function gf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gt(e)}var _f=new Map,vf=new Set;function yf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bf=P.d;P.d={f:xf,r:Sf,D:Tf,C:Ef,L:Df,m:Of,X:Af,S:kf,M:jf};function xf(){var e=bf.f(),t=bu();return e||t}function Sf(e){var t=vt(e);t!==null&&t.tag===5&&t.type===`form`?Cs(t):bf.r(e)}var Cf=typeof document>`u`?null:document;function wf(e,t,n){var r=Cf;if(r&&typeof t==`string`&&t){var i=Rt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),vf.has(i)||(vf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Ld(t,`link`,e),xt(t),r.head.appendChild(t)))}}function Tf(e){bf.D(e),wf(`dns-prefetch`,e,null)}function Ef(e,t){bf.C(e,t),wf(`preconnect`,e,t)}function Df(e,t,n){bf.L(e,t,n);var r=Cf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Rt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Rt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Rt(n.imageSizes)+`"]`)):i+=`[href="`+Rt(e)+`"]`;var a=i;switch(t){case`style`:a=Nf(e);break;case`script`:a=Lf(e)}_f.has(a)||(e=f({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),_f.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Pf(a))||t===`script`&&r.querySelector(Rf(a))||(t=r.createElement(`link`),Ld(t,`link`,e),xt(t),r.head.appendChild(t)))}}function Of(e,t){bf.m(e,t);var n=Cf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Rt(r)+`"][href="`+Rt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Lf(e)}if(!_f.has(a)&&(e=f({rel:`modulepreload`,href:e},t),_f.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Rf(a)))return}r=n.createElement(`link`),Ld(r,`link`,e),xt(r),n.head.appendChild(r)}}}function kf(e,t,n){bf.S(e,t,n);var r=Cf;if(r&&e){var i=bt(r).hoistableStyles,a=Nf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Pf(a)))s.loading=5;else{e=f({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=_f.get(a))&&Vf(e,n);var c=o=r.createElement(`link`);xt(c),Ld(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Bf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Af(e,t){bf.X(e,t);var n=Cf;if(n&&e){var r=bt(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=f({src:e,async:!0},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),xt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function jf(e,t){bf.M(e,t);var n=Cf;if(n&&e){var r=bt(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=f({src:e,async:!0,type:`module`},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),xt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Mf(e,t,n,r){var a=(a=ue.current)?yf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Nf(n.href),n=bt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Nf(n.href);var o=bt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Pf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),_f.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_f.set(e,n),o||If(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Lf(n),n=bt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Nf(e){return`href="`+Rt(e)+`"`}function Pf(e){return`link[rel="stylesheet"][`+e+`]`}function Ff(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function If(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Ld(t,`link`,n),xt(t),e.head.appendChild(t))}function Lf(e){return`[src="`+Rt(e)+`"]`}function Rf(e){return`script[async]`+e}function zf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Rt(n.href)+`"]`);if(r)return t.instance=r,xt(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),xt(r),Ld(r,`style`,a),Bf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Nf(n.href);var o=e.querySelector(Pf(a));if(o)return t.state.loading|=4,t.instance=o,xt(o),o;r=Ff(n),(a=_f.get(a))&&Vf(r,a),o=(e.ownerDocument||e).createElement(`link`),xt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Ld(o,`link`,r),t.state.loading|=4,Bf(o,n.precedence,e),t.instance=o;case`script`:return o=Lf(n.src),(a=e.querySelector(Rf(o)))?(t.instance=a,xt(a),a):(r=n,(a=_f.get(o))&&(r=f({},n),Hf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),xt(a),Ld(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Bf(r,n.precedence,e));return t.instance}function Bf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Vf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Hf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Uf=null;function Wf(e,t,n){if(Uf===null){var r=new Map,i=Uf=new Map;i.set(n,r)}else i=Uf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ht]||a[ct]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Gf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Kf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function qf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Jf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Nf(r.href),a=t.querySelector(Pf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Zf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,xt(a);return}a=t.ownerDocument||t,r=Ff(r),(i=_f.get(i))&&Vf(r,i),a=a.createElement(`link`),xt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Ld(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Zf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Yf=0;function Xf(e,t){return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Yf===0&&(Yf=62500*Bd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Yf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qf=null;function $f(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qf=new Map,t.forEach(ep,e),Qf=null,Zf.call(e))}function ep(e,t){if(!(t.state.loading&4)){var n=Qf.get(e);if(n)var r=n.get(null);else{n=new Map,Qf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Zf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var tp={$$typeof:C,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function np(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qe(0),this.hiddenUpdates=Qe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function rp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new np(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=ii(3,null,null,t),e.current=a,a.stateNode=e,t=aa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},La(a),e}function ip(e){return e?(e=ni,e):ni}function ap(e,t,n,r,i,a){i=ip(i),r.context===null?r.context=i:r.pendingContext=i,r=za(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ba(e,r,t),n!==null&&(hu(n,e,t),Va(n,e,t))}function op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sp(e,t){op(e,t),(e=e.alternate)&&op(e,t)}function cp(e){if(e.tag===13||e.tag===31){var t=$r(e,67108864);t!==null&&hu(t,e,67108864),sp(e,67108864)}}function lp(e){if(e.tag===13||e.tag===31){var t=pu();t=rt(t);var n=$r(e,t);n!==null&&hu(n,e,t),sp(e,t)}}var up=!0;function dp(e,t,n,r){var i=N.T;N.T=null;var a=P.p;try{P.p=2,pp(e,t,n,r)}finally{P.p=a,N.T=i}}function fp(e,t,n,r){var i=N.T;N.T=null;var a=P.p;try{P.p=8,pp(e,t,n,r)}finally{P.p=a,N.T=i}}function pp(e,t,n,r){if(up){var i=mp(r);if(i===null)Ed(e,t,r,hp,n),Ep(e,r);else if(Op(i,e,t,n,r))r.stopPropagation();else if(Ep(e,r),t&4&&-1<Tp.indexOf(e)){for(;i!==null;){var a=vt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=qe(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Be(o);s.entanglements[1]|=c,o&=~c}id(a),!(Fl&6)&&(tu=Oe()+500,ad(0,!1))}}break;case 31:case 13:s=$r(a,2),s!==null&&hu(s,a,2),bu(),sp(a,2)}if(a=mp(r),a===null&&Ed(e,t,r,hp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ed(e,t,r,null,n)}}function mp(e){return e=en(e),gp(e)}var hp=null;function gp(e){if(hp=null,e=_t(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hp=e,null}function _p(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(ke()){case Ae:return 2;case je:return 8;case Me:case Ne:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var vp=!1,yp=null,bp=null,xp=null,Sp=new Map,Cp=new Map,wp=[],Tp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Ep(e,t){switch(e){case`focusin`:case`focusout`:yp=null;break;case`dragenter`:case`dragleave`:bp=null;break;case`mouseover`:case`mouseout`:xp=null;break;case`pointerover`:case`pointerout`:Sp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Cp.delete(t.pointerId)}}function Dp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=vt(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Op(e,t,n,r,i){switch(t){case`focusin`:return yp=Dp(yp,e,t,n,r,i),!0;case`dragenter`:return bp=Dp(bp,e,t,n,r,i),!0;case`mouseover`:return xp=Dp(xp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Sp.set(a,Dp(Sp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Cp.set(a,Dp(Cp.get(a)||null,e,t,n,r,i)),!0}return!1}function kp(e){var t=_t(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ot(e.priority,function(){lp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ot(e.priority,function(){lp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$t=r,n.target.dispatchEvent(r),$t=null}else return t=vt(n),t!==null&&cp(t),e.blockedOn=n,!1;t.shift()}return!0}function jp(e,t,n){Ap(e)&&n.delete(t)}function Mp(){vp=!1,yp!==null&&Ap(yp)&&(yp=null),bp!==null&&Ap(bp)&&(bp=null),xp!==null&&Ap(xp)&&(xp=null),Sp.forEach(jp),Cp.forEach(jp)}function Np(e,n){e.blockedOn===n&&(e.blockedOn=null,vp||(vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mp)))}var Pp=null;function Fp(e){Pp!==e&&(Pp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pp===e&&(Pp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(gp(r||n)===null)continue;break}var a=vt(n);a!==null&&(e.splice(t,3),t-=3,xs(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ip(e){function t(t){return Np(t,e)}yp!==null&&Np(yp,e),bp!==null&&Np(bp,e),xp!==null&&Np(xp,e),Sp.forEach(t),Cp.forEach(t);for(var n=0;n<wp.length;n++){var r=wp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wp.length&&(n=wp[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&wp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[lt]||null;if(typeof a==`function`)o||Fp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[lt]||null)s=o.formAction;else if(gp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Fp(n)}}}function Lp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Rp(e){this._internalRoot=e}zp.prototype.render=Rp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;ap(n,pu(),e,t,null,null)},zp.prototype.unmount=Rp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),bu(),t[ut]=null}};function zp(e){this._internalRoot=e}zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=at();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wp.length&&t!==0&&t<wp[n].priority;n++);wp.splice(n,0,e),n===0&&kp(e)}};var Bp=n.version;if(Bp!==`19.2.4`)throw Error(i(527,Bp,`19.2.4`));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:d(e),e=e===null?null:e.stateNode,e};var Vp={bundleType:0,version:`19.2.4`,rendererPackageName:`react-dom`,currentDispatcherRef:N,reconcilerVersion:`19.2.4`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{Le=Hp.inject(Vp),Re=Hp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Ws,s=Gs,c=Ks;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=rp(e,1,!1,null,null,n,r,null,o,s,c,Lp),e[ut]=t.current,wd(e),new Rp(t)}})),y=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=v()}))(),b=u(p(),1),x=`modulepreload`,S=function(e,t){return new URL(e,t).href},C={};const w=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=S(t,n),t in C)return;C[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:x,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var T=`popstate`;function E(e={}){function t(e,t){let{pathname:n=`/`,search:r=``,hash:i=``}=j(e.location.hash.substring(1));return!n.startsWith(`/`)&&!n.startsWith(`.`)&&(n=`/`+n),te(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){let n=e.document.querySelector(`base`),r=``;if(n&&n.getAttribute(`href`)){let t=e.location.href,n=t.indexOf(`#`);r=n===-1?t:t.slice(0,n)}return r+`#`+(typeof t==`string`?t:A(t))}function r(e,t){O(e.pathname.charAt(0)===`/`,`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}return M(t,n,r,e)}function D(e,t){if(e===!1||e==null)throw Error(t)}function O(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function ee(){return Math.random().toString(36).substring(2,10)}function k(e,t){return{usr:e.state,key:e.key,idx:t}}function te(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?j(t):t,state:n,key:t&&t.key||r||ee()}}function A({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function j(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function M(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=te(h.location,e,t);n&&n(r,e),l=u()+1;let d=k(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=te(h.location,e,t);n&&n(r,e),l=u();let i=k(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return ne(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(T,d),c=e,()=>{i.removeEventListener(T,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function ne(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),D(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:A(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function N(e,t,n=`/`){return P(e,t,n,!1)}function P(e,t,n,r){let i=ye((typeof t==`string`?j(t):t).pathname||`/`,n);if(i==null)return null;let a=ie(e);ae(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=ve(i);o=he(a[e],t,r)}return o}function re(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function ie(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;D(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=De([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(D(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),ie(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:pe(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of F(e.path))a(e,t,!0,n)}),t}function F(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=F(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function ae(e){e.sort((e,t)=>e.score===t.score?me(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var oe=/^:[\w-]+$/,se=3,ce=2,le=1,ue=10,de=-2,fe=e=>e===`*`;function pe(e,t){let n=e.split(`/`),r=n.length;return n.some(fe)&&(r+=de),t&&(r+=ce),n.filter(e=>!fe(e)).reduce((e,t)=>e+(oe.test(t)?se:t===``?le:ue),r)}function me(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function he(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=ge({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=ge({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:De([a,u.pathname]),pathnameBase:Oe(De([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=De([a,u.pathnameBase]))}return o}function ge(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_e(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function _e(e,t=!1,n=!0){O(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function ve(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return O(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ye(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var be=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function xe(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?j(e):e,a;return n?(n=n.replace(/\/\/+/g,`/`),a=n.startsWith(`/`)?Se(n.substring(1),`/`):Se(n,t)):a=t,{pathname:a,search:ke(r),hash:Ae(i)}}function Se(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function Ce(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function we(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Te(e){let t=we(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Ee(e,t,n,r=!1){let i;typeof e==`string`?i=j(e):(i={...e},D(!i.pathname||!i.pathname.includes(`?`),Ce(`?`,`pathname`,`search`,i)),D(!i.pathname||!i.pathname.includes(`#`),Ce(`#`,`pathname`,`hash`,i)),D(!i.search||!i.search.includes(`#`),Ce(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=xe(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var De=e=>e.join(`/`).replace(/\/\/+/g,`/`),Oe=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),ke=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Ae=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,je=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Me(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function Ne(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var Pe=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function Fe(e,t){let n=e;if(typeof n!=`string`||!be.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Pe)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=ye(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{O(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Ie=b.createContext(null);Ie.displayName=`DataRouter`;var Le=b.createContext(null);Le.displayName=`DataRouterState`;var Re=b.createContext(!1),ze=b.createContext({isTransitioning:!1});ze.displayName=`ViewTransition`;var Be=b.createContext(new Map);Be.displayName=`Fetchers`;var Ve=b.createContext(null);Ve.displayName=`Await`;var He=b.createContext(null);He.displayName=`Navigation`;var Ue=b.createContext(null);Ue.displayName=`Location`;var We=b.createContext({outlet:null,matches:[],isDataRoute:!1});We.displayName=`Route`;var Ge=b.createContext(null);Ge.displayName=`RouteError`;var Ke=`REACT_ROUTER_ERROR`,qe=`REDIRECT`,Je=`ROUTE_ERROR_RESPONSE`;function Ye(e){if(e.startsWith(`${Ke}:${qe}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function Xe(e){if(e.startsWith(`${Ke}:${Je}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new je(t.status,t.statusText,t.data)}catch{}}function Ze(e,{relative:t}={}){D(Qe(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=b.useContext(He),{hash:i,pathname:a,search:o}=ot(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:De([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Qe(){return b.useContext(Ue)!=null}function I(){return D(Qe(),`useLocation() may be used only in the context of a <Router> component.`),b.useContext(Ue).location}var $e=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function et(e){b.useContext(He).static||b.useLayoutEffect(e)}function tt(){let{isDataRoute:e}=b.useContext(We);return e?wt():nt()}function nt(){D(Qe(),`useNavigate() may be used only in the context of a <Router> component.`);let e=b.useContext(Ie),{basename:t,navigator:n}=b.useContext(He),{matches:r}=b.useContext(We),{pathname:i}=I(),a=JSON.stringify(Te(r)),o=b.useRef(!1);return et(()=>{o.current=!0}),b.useCallback((r,s={})=>{if(O(o.current,$e),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=Ee(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:De([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var rt=b.createContext(null);function it(e){let t=b.useContext(We).outlet;return b.useMemo(()=>t&&b.createElement(rt.Provider,{value:e},t),[t,e])}function at(){let{matches:e}=b.useContext(We),t=e[e.length-1];return t?t.params:{}}function ot(e,{relative:t}={}){let{matches:n}=b.useContext(We),{pathname:r}=I(),i=JSON.stringify(Te(n));return b.useMemo(()=>Ee(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function st(e,t){return ct(e,t)}function ct(e,t,n,r,i){D(Qe(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=b.useContext(He),{matches:o}=b.useContext(We),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;Et(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=I(),p;if(t){let e=typeof t==`string`?j(t):t;D(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=N(e,{pathname:h});O(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),O(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=ht(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:De([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:De([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&_?b.createElement(Ue.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},_):_}function lt(){let e=R(),t=Me(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=b.createElement(b.Fragment,null,b.createElement(`p`,null,` Hey developer `),b.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,b.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,b.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),b.createElement(b.Fragment,null,b.createElement(`h2`,null,`Unexpected Application Error!`),b.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?b.createElement(`pre`,{style:i},n):null,o)}var ut=b.createElement(lt,null),dt=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=Xe(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:b.createElement(We.Provider,{value:this.props.routeContext},b.createElement(Ge.Provider,{value:e,children:this.props.component}));return this.context?b.createElement(pt,{error:e},t):t}};dt.contextType=Re;var ft=new WeakMap;function pt({children:e,error:t}){let{basename:n}=b.useContext(He);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=Ye(t.digest);if(e){let r=ft.get(t);if(r)throw r;let i=Fe(e.location,n);if(Pe&&!ft.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw ft.set(t,n),n}return b.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function mt({routeContext:e,match:t,children:n}){let r=b.useContext(Ie);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(We.Provider,{value:e},n)}function ht(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);D(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ne(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||ut,s&&(c<0&&i===0?(Et(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?b.createElement(r.route.Component,null):r.route.element?r.route.element:e,b.createElement(mt,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?b.createElement(dt,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function gt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _t(e){let t=b.useContext(Ie);return D(t,gt(e)),t}function vt(e){let t=b.useContext(Le);return D(t,gt(e)),t}function yt(e){let t=b.useContext(We);return D(t,gt(e)),t}function bt(e){let t=yt(e),n=t.matches[t.matches.length-1];return D(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function xt(){return bt(`useRouteId`)}function St(){return vt(`useNavigation`).navigation}function Ct(){let{matches:e,loaderData:t}=vt(`useMatches`);return b.useMemo(()=>e.map(e=>re(e,t)),[e,t])}function R(){let e=b.useContext(Ge),t=vt(`useRouteError`),n=bt(`useRouteError`);return e===void 0?t.errors?.[n]:e}function wt(){let{router:e}=_t(`useNavigate`),t=bt(`useNavigate`),n=b.useRef(!1);return et(()=>{n.current=!0}),b.useCallback(async(r,i={})=>{O(n.current,$e),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var Tt={};function Et(e,t,n){!t&&!Tt[e]&&(Tt[e]=!0,O(!1,n))}b.useOptimistic,b.memo(Dt);function Dt({routes:e,future:t,state:n,onError:r}){return ct(e,void 0,n,r,t)}function Ot(e){return it(e.context)}function z(e){D(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function kt({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){D(!Qe(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=b.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=j(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=b.useMemo(()=>{let e=ye(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return O(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(He.Provider,{value:c},b.createElement(Ue.Provider,{children:t,value:m}))}function At({children:e,location:t}){return st(jt(e),t)}function jt(e,t=[]){let n=[];return b.Children.forEach(e,(e,r)=>{if(!b.isValidElement(e))return;let i=[...t,r];if(e.type===b.Fragment){n.push.apply(n,jt(e.props.children,i));return}D(e.type===z,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),D(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=jt(e.props.children,i)),n.push(a)}),n}var Mt=`get`,Nt=`application/x-www-form-urlencoded`;function Pt(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function Ft(e){return Pt(e)&&e.tagName.toLowerCase()===`button`}function It(e){return Pt(e)&&e.tagName.toLowerCase()===`form`}function Lt(e){return Pt(e)&&e.tagName.toLowerCase()===`input`}function Rt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zt(e,t){return e.button===0&&(!t||t===`_self`)&&!Rt(e)}var Bt=null;function Vt(){if(Bt===null)try{new FormData(document.createElement(`form`),0),Bt=!1}catch{Bt=!0}return Bt}var Ht=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function Ut(e){return e!=null&&!Ht.has(e)?(O(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nt}"`),null):e}function Wt(e,t){let n,r,i,a,o;if(It(e)){let o=e.getAttribute(`action`);r=o?ye(o,t):null,n=e.getAttribute(`method`)||Mt,i=Ut(e.getAttribute(`enctype`))||Nt,a=new FormData(e)}else if(Ft(e)||Lt(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?ye(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||Mt,i=Ut(e.getAttribute(`formenctype`))||Ut(o.getAttribute(`enctype`))||Nt,a=new FormData(o,e),!Vt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(Pt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=Mt,r=null,i=Nt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Gt={"&":`\\u0026`,">":`\\u003e`,"<":`\\u003c`,"\u2028":`\\u2028`,"\u2029":`\\u2029`},Kt=/[&><\u2028\u2029]/g;function qt(e){return e.replace(Kt,e=>Gt[e])}function Jt(e,t){if(e===!1||e==null)throw Error(t)}function Yt(e,t,n,r){let i=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return n?i.pathname.endsWith(`/`)?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname===`/`?i.pathname=`_root.${r}`:t&&ye(i.pathname,t)===`/`?i.pathname=`${t.replace(/\/$/,``)}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,``)}.${r}`,i}async function Xt(e,t){if(e.id in t)return t[e.id];try{let n=await w(()=>import(e.module),[],import.meta.url);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B(e){return e!=null&&typeof e.page==`string`}function Zt(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function Qt(e,t,n){return rn((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Xt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Zt).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function $t(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function en(e,t,{includeHydrateFallback:n}={}){return tn(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function tn(e){return[...new Set(e)]}function nn(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function rn(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!B(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(nn(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function an(){let e=b.useContext(Ie);return Jt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function on(){let e=b.useContext(Le);return Jt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var sn=b.createContext(void 0);sn.displayName=`FrameworkContext`;function cn(){let e=b.useContext(sn);return Jt(e,`You must render this element inside a <HydratedRouter> element`),e}function ln(e,t){let n=b.useContext(sn),[r,i]=b.useState(!1),[a,o]=b.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=b.useRef(null);b.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),b.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:un(s,p),onBlur:un(c,m),onMouseEnter:un(l,p),onMouseLeave:un(u,m),onTouchStart:un(d,p)}]:[a,f,{}]:[!1,f,{}]}function un(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function dn({page:e,...t}){let{router:n}=an(),r=b.useMemo(()=>N(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(pn,{page:e,matches:r,...t}):null}function fn(e){let{manifest:t,routeModules:n}=cn(),[r,i]=b.useState([]);return b.useEffect(()=>{let r=!1;return Qt(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function pn({page:e,matches:t,...n}){let r=I(),{future:i,manifest:a,routeModules:o}=cn(),{basename:s}=an(),{loaderData:c,matches:l}=on(),u=b.useMemo(()=>$t(e,t,l,a,r,`data`),[e,t,l,a,r]),d=b.useMemo(()=>$t(e,t,l,a,r,`assets`),[e,t,l,a,r]),f=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=a.routes[e.route.id];!t||!t.hasLoader||(!u.some(t=>t.route.id===e.route.id)&&e.route.id in c&&o[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),n.size===0)return[];let d=Yt(e,s,i.unstable_trailingSlashAwareDataRequests,`data`);return l&&n.size>0&&d.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[d.pathname+d.search]},[s,i.unstable_trailingSlashAwareDataRequests,c,r,a,u,t,e,o]),p=b.useMemo(()=>en(d,a),[d,a]),m=fn(d);return b.createElement(b.Fragment,null,f.map(e=>b.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),p.map(e=>b.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),m.map(({key:e,link:t})=>b.createElement(`link`,{key:e,nonce:n.nonce,...t,crossOrigin:t.crossOrigin??n.crossOrigin})))}function mn(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var hn=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{hn&&(window.__reactRouterVersion=`7.13.0`)}catch{}function V({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=b.useRef();i.current??=E({window:r,v5Compat:!0});let a=i.current,[o,s]=b.useState({action:a.action,location:a.location}),c=b.useCallback(e=>{n===!1?s(e):b.startTransition(()=>s(e))},[n]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.createElement(kt,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function gn({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=b.useState({action:n.action,location:n.location}),o=b.useCallback(e=>{r===!1?a(e):b.startTransition(()=>a(e))},[r]);return b.useLayoutEffect(()=>n.listen(o),[n,o]),b.createElement(kt,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}gn.displayName=`unstable_HistoryRouter`;var _n=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=b.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=b.useContext(He),g=typeof c==`string`&&_n.test(c),_=Fe(c,m);c=_.to;let v=Ze(c,{relative:r}),[y,x,S]=ln(n,f),C=Tn(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function w(t){e&&e(t),t.defaultPrevented||C(t)}let T=b.createElement(`a`,{...f,...S,href:_.absoluteURL||v,onClick:_.isExternal||i?e:w,ref:mn(p,x),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return y&&!g?b.createElement(b.Fragment,null,T,b.createElement(dn,{page:v})):T});vn.displayName=`Link`;var yn=b.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=ot(a,{relative:c.relative}),d=I(),f=b.useContext(Le),{navigator:p,basename:m}=b.useContext(He),h=f!=null&&Fn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,_=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(_=_.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=ye(v,m)||v);let y=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=_===g||!r&&_.startsWith(g)&&_.charAt(y)===`/`,S=v!=null&&(v===g||!r&&v.startsWith(g)&&v.charAt(g.length)===`/`),C={isActive:x,isPending:S,isTransitioning:h},w=x?e:void 0,T;T=typeof n==`function`?n(C):[n,x?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(C):i;return b.createElement(vn,{...c,"aria-current":w,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(C):s)});yn.displayName=`NavLink`;var bn=b.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Mt,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=b.useContext(He),g=On(),_=kn(s,{relative:l}),v=o.toLowerCase()===`get`?`get`:`post`,y=typeof s==`string`&&_n.test(s);return b.createElement(`form`,{ref:m,method:v,action:_,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?b.startTransition(()=>p()):p()},...p,"data-discover":!y&&e===`render`?`true`:void 0})});bn.displayName=`Form`;function xn({getKey:e,storageKey:t,...n}){let r=b.useContext(sn),{basename:i}=b.useContext(He),a=I(),o=Ct();Nn({getKey:e,storageKey:t});let s=b.useMemo(()=>{if(!r||!e)return null;let t=Mn(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return b.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${qt(JSON.stringify(t||An))}, ${qt(JSON.stringify(s))})`}})}xn.displayName=`ScrollRestoration`;function Sn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cn(e){let t=b.useContext(Ie);return D(t,Sn(e)),t}function wn(e){let t=b.useContext(Le);return D(t,Sn(e)),t}function Tn(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=tt(),u=I(),d=ot(e,{relative:a});return b.useCallback(f=>{if(zt(f,t)){f.preventDefault();let t=n===void 0?A(u)===A(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?b.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}var En=0,Dn=()=>`__${String(++En)}__`;function On(){let{router:e}=Cn(`useSubmit`),{basename:t}=b.useContext(He),n=xt(),r=e.fetch,i=e.navigate;return b.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=Wt(e,t);a.navigate===!1?await r(a.fetcherKey||Dn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function kn(e,{relative:t}={}){let{basename:n}=b.useContext(He),r=b.useContext(We);D(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...ot(e||`.`,{relative:t})},o=I();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:De([n,a.pathname])),A(a)}var An=`react-router-scroll-positions`,jn={};function Mn(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:ye(e.pathname,n)||e.pathname},t)),i??=e.key,i}function Nn({getKey:e,storageKey:t}={}){let{router:n}=Cn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=wn(`useScrollRestoration`),{basename:a}=b.useContext(He),o=I(),s=Ct(),c=St();b.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),Pn(b.useCallback(()=>{if(c.state===`idle`){let t=Mn(o,s,a,e);jn[t]=window.scrollY}try{sessionStorage.setItem(t||An,JSON.stringify(jn))}catch(e){O(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(b.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||An);e&&(jn=JSON.parse(e))}catch{}},[t]),b.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(jn,()=>window.scrollY,e?(t,n)=>Mn(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),b.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{O(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function Pn(e,t){let{capture:n}=t||{};b.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function Fn(e,{relative:t}={}){let n=b.useContext(ze);D(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cn(`useViewTransitionState`),i=ot(e,{relative:t});if(!n.isTransitioning)return!1;let a=ye(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ye(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ge(i.pathname,o)!=null||ge(i.pathname,a)!=null}var In=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),Ln=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),Rn=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),zn=e=>{let t=Rn(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bn={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},Vn=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0;return!1},Hn=(0,b.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,b.createElement)(`svg`,{ref:c,...Bn,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:In(`lucide`,i),...!a&&!Vn(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,b.createElement)(e,t)),...Array.isArray(a)?a:[a]])),H=(e,t)=>{let n=(0,b.forwardRef)(({className:n,...r},i)=>(0,b.createElement)(Hn,{ref:i,iconNode:t,className:In(`lucide-${Ln(zn(e))}`,`lucide-${e}`,n),...r}));return n.displayName=zn(e),n},Un=H(`arrow-left`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]),Wn=H(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),Gn=H(`award`,[[`path`,{d:`m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526`,key:`1yiouv`}],[`circle`,{cx:`12`,cy:`8`,r:`6`,key:`1vp47v`}]]),Kn=H(`book-open`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),qn=H(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),Jn=H(`camera`,[[`path`,{d:`M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z`,key:`18u6gg`}],[`circle`,{cx:`12`,cy:`13`,r:`3`,key:`1vg3eu`}]]),Yn=H(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),Xn=H(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),Zn=H(`chevron-right`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),Qn=H(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),$n=H(`circle-stop`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`rect`,{x:`9`,y:`9`,width:`6`,height:`6`,rx:`1`,key:`1ssd4o`}]]),er=H(`compass`,[[`path`,{d:`m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z`,key:`9ktpf1`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),tr=H(`ellipsis`,[[`circle`,{cx:`12`,cy:`12`,r:`1`,key:`41hilf`}],[`circle`,{cx:`19`,cy:`12`,r:`1`,key:`1wjl8i`}],[`circle`,{cx:`5`,cy:`12`,r:`1`,key:`1pcz8c`}]]),nr=H(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),rr=H(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),ir=H(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),ar=H(`headphones`,[[`path`,{d:`M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3`,key:`1xhozi`}]]),or=H(`heart`,[[`path`,{d:`M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5`,key:`mvr1a0`}]]),sr=H(`history`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M12 7v5l4 2`,key:`1fdv2h`}]]),cr=H(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`r6nss1`}]]),lr=H(`image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),ur=H(`info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),dr=H(`keyboard`,[[`path`,{d:`M10 8h.01`,key:`1r9ogq`}],[`path`,{d:`M12 12h.01`,key:`1mp3jc`}],[`path`,{d:`M14 8h.01`,key:`1primd`}],[`path`,{d:`M16 12h.01`,key:`1l6xoz`}],[`path`,{d:`M18 8h.01`,key:`emo2bl`}],[`path`,{d:`M6 8h.01`,key:`x9i8wu`}],[`path`,{d:`M7 16h10`,key:`wp8him`}],[`path`,{d:`M8 12h.01`,key:`czm47f`}],[`rect`,{width:`20`,height:`16`,x:`2`,y:`4`,rx:`2`,key:`18n3k1`}]]),fr=H(`lightbulb`,[[`path`,{d:`M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5`,key:`1gvzjb`}],[`path`,{d:`M9 18h6`,key:`x1upvd`}],[`path`,{d:`M10 22h4`,key:`ceow96`}]]),pr=H(`loader-circle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),mr=H(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),hr=H(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),gr=H(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),_r=H(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),vr=H(`map`,[[`path`,{d:`M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z`,key:`169xi5`}],[`path`,{d:`M15 5.764v15`,key:`1pn4in`}],[`path`,{d:`M9 3.236v15`,key:`1uimfh`}]]),yr=H(`message-circle`,[[`path`,{d:`M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719`,key:`1sd12s`}]]),br=H(`message-square-plus`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}],[`path`,{d:`M12 8v6`,key:`1ib9pf`}],[`path`,{d:`M9 11h6`,key:`1fldmi`}]]),xr=H(`message-square`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}]]),Sr=H(`mic`,[[`path`,{d:`M12 19v3`,key:`npa21l`}],[`path`,{d:`M19 10v2a7 7 0 0 1-14 0v-2`,key:`1vc78b`}],[`rect`,{x:`9`,y:`2`,width:`6`,height:`13`,rx:`3`,key:`s6n7sd`}]]),Cr=H(`moon`,[[`path`,{d:`M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401`,key:`kfwtm`}]]),wr=H(`palette`,[[`path`,{d:`M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z`,key:`e79jfc`}],[`circle`,{cx:`13.5`,cy:`6.5`,r:`.5`,fill:`currentColor`,key:`1okk4w`}],[`circle`,{cx:`17.5`,cy:`10.5`,r:`.5`,fill:`currentColor`,key:`f64h9f`}],[`circle`,{cx:`6.5`,cy:`12.5`,r:`.5`,fill:`currentColor`,key:`qy21gx`}],[`circle`,{cx:`8.5`,cy:`7.5`,r:`.5`,fill:`currentColor`,key:`fotxhn`}]]),Tr=H(`pen-line`,[[`path`,{d:`M13 21h8`,key:`1jsn5i`}],[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),Er=H(`play`,[[`path`,{d:`M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z`,key:`10ikf1`}]]),Dr=H(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Or=H(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),kr=H(`scroll-text`,[[`path`,{d:`M15 12h-5`,key:`r7krc0`}],[`path`,{d:`M15 8h-5`,key:`1khuty`}],[`path`,{d:`M19 17V5a2 2 0 0 0-2-2H4`,key:`zz82l3`}],[`path`,{d:`M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3`,key:`1ph1d7`}]]),Ar=H(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),jr=H(`send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),Mr=H(`share-2`,[[`circle`,{cx:`18`,cy:`5`,r:`3`,key:`gq8acd`}],[`circle`,{cx:`6`,cy:`12`,r:`3`,key:`w7nqdw`}],[`circle`,{cx:`18`,cy:`19`,r:`3`,key:`1xt0gg`}],[`line`,{x1:`8.59`,x2:`15.42`,y1:`13.51`,y2:`17.49`,key:`47mynk`}],[`line`,{x1:`15.41`,x2:`8.59`,y1:`6.51`,y2:`10.49`,key:`1n3mei`}]]),Nr=H(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),Pr=H(`star`,[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]]),Fr=H(`sun`,[[`circle`,{cx:`12`,cy:`12`,r:`4`,key:`4exip2`}],[`path`,{d:`M12 2v2`,key:`tus03m`}],[`path`,{d:`M12 20v2`,key:`1lh1kg`}],[`path`,{d:`m4.93 4.93 1.41 1.41`,key:`149t6j`}],[`path`,{d:`m17.66 17.66 1.41 1.41`,key:`ptbguv`}],[`path`,{d:`M2 12h2`,key:`1t8f8n`}],[`path`,{d:`M20 12h2`,key:`1q8mjw`}],[`path`,{d:`m6.34 17.66-1.41 1.41`,key:`1m8zz5`}],[`path`,{d:`m19.07 4.93-1.41 1.41`,key:`1shlcs`}]]),Ir=H(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),Lr=H(`user-x`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`line`,{x1:`17`,x2:`22`,y1:`8`,y2:`13`,key:`3nzzx3`}],[`line`,{x1:`22`,x2:`17`,y1:`8`,y2:`13`,key:`1swrse`}]]),Rr=H(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),zr=H(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Br=H(`utensils`,[[`path`,{d:`M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2`,key:`cjf0a3`}],[`path`,{d:`M7 2v20`,key:`1473qp`}],[`path`,{d:`M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7`,key:`j28e5`}]]),Vr=H(`volume-2`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`path`,{d:`M16 9a5 5 0 0 1 0 6`,key:`1q6k2b`}],[`path`,{d:`M19.364 18.364a9 9 0 0 0 0-12.728`,key:`ijwkga`}]]),Hr=H(`wand-sparkles`,[[`path`,{d:`m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72`,key:`ul74o6`}],[`path`,{d:`m14 7 3 3`,key:`1r5n42`}],[`path`,{d:`M5 6v4`,key:`ilb8ba`}],[`path`,{d:`M19 14v4`,key:`blhpug`}],[`path`,{d:`M10 2v2`,key:`7u0qdc`}],[`path`,{d:`M7 8H3`,key:`zfb6yr`}],[`path`,{d:`M21 16h-4`,key:`1cnmox`}],[`path`,{d:`M11 3H9`,key:`1obp7u`}]]),Ur=H(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),Wr=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),U=s(((e,t)=>{t.exports=Wr()}))(),Gr=()=>{let e=I().pathname===`/guide`;return(0,U.jsx)(`nav`,{className:`fixed bottom-0 left-0 right-0 w-full h-16 bg-white border-t border-stone-200 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-[900] ${e?`hidden`:``}`,children:(0,U.jsxs)(`div`,{className:`w-full max-w-3xl mx-auto h-full flex justify-around items-center px-2 relative`,children:[[{path:`/`,icon:cr,label:``},{path:`/plan`,icon:vr,label:``},{path:`/guide`,icon:er,label:``,highlight:!0},{path:`/community`,icon:zr,label:``},{path:`/profile`,icon:Rr,label:``}].filter(e=>!e.highlight).map(e=>(0,U.jsx)(yn,{to:e.path,className:({isActive:e})=>`
              flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors
              ${e?`text-stone-900`:`text-stone-400 hover:text-stone-600`}
            `,children:({isActive:t})=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(e.icon,{size:24,strokeWidth:t?2.5:2}),(0,U.jsx)(`span`,{className:`text-[10px] font-medium`,children:e.label})]})},e.path)),!e&&(0,U.jsx)(`div`,{className:`absolute -top-6 left-1/2 transform -translate-x-1/2`,children:(0,U.jsx)(yn,{to:`/guide`,className:`w-14 h-14 rounded-full bg-stone-900 text-white flex items-center justify-center shadow-lg border-4 border-stone-50 transition-transform active:scale-95`,children:(0,U.jsx)(er,{size:24})})})]})})},Kr=({mode:e=`topFade`,opacity:t=.55,className:n=``})=>{let r=e===`topFade`?{WebkitMaskImage:`linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 55%, rgba(0,0,0,0) 100%)`,maskImage:`linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 55%, rgba(0,0,0,0) 100%)`}:void 0;return(0,U.jsx)(`div`,{className:`absolute inset-0 pointer-events-none z-0 overflow-hidden ${n}`.trim(),children:(0,U.jsx)(`img`,{src:`data:image/svg+xml;charset=utf-8,%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%221440%22%20height%3D%22960%22%20viewBox%3D%220%200%201440%20960%22%3E%0A%20%20%3Cdefs%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22bg%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23f9f4ea%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220.45%22%20stop-color%3D%22%23efe2cf%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23d9c4a4%22%2F%3E%0A%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3CradialGradient%20id%3D%22light%22%20cx%3D%2252%25%22%20cy%3D%2218%25%22%20r%3D%2270%25%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23ffffff%22%20stop-opacity%3D%220.92%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220.5%22%20stop-color%3D%22%23ffffff%22%20stop-opacity%3D%220.18%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23000000%22%20stop-opacity%3D%220%22%2F%3E%0A%20%20%20%20%3C%2FradialGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22sky%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%220%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%239fd3ff%22%20stop-opacity%3D%220.85%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23eaf6ff%22%20stop-opacity%3D%220.25%22%2F%3E%0A%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22warm%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%220%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23f59e0b%22%20stop-opacity%3D%220.10%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220.5%22%20stop-color%3D%22%23f472b6%22%20stop-opacity%3D%220.06%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%2360a5fa%22%20stop-opacity%3D%220.08%22%2F%3E%0A%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3Cfilter%20id%3D%22oil%22%20x%3D%22-20%25%22%20y%3D%22-20%25%22%20width%3D%22140%25%22%20height%3D%22140%25%22%3E%0A%20%20%20%20%20%20%3CfeTurbulence%20type%3D%22fractalNoise%22%20baseFrequency%3D%220.85%22%20numOctaves%3D%222%22%20seed%3D%229%22%20result%3D%22noise%22%2F%3E%0A%20%20%20%20%20%20%3CfeColorMatrix%20in%3D%22noise%22%20type%3D%22matrix%22%0A%20%20%20%20%20%20%20%20values%3D%220.7%200%200%200%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%200.55%200%200%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%200%200.4%200%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%200%200%200.5%200%22%20result%3D%22tint%22%2F%3E%0A%20%20%20%20%20%20%3CfeDisplacementMap%20in%3D%22SourceGraphic%22%20in2%3D%22noise%22%20scale%3D%228%22%20xChannelSelector%3D%22R%22%20yChannelSelector%3D%22G%22%2F%3E%0A%20%20%20%20%20%20%3CfeBlend%20in2%3D%22tint%22%20mode%3D%22multiply%22%20%2F%3E%0A%20%20%20%20%20%20%3CfeGaussianBlur%20stdDeviation%3D%220.2%22%2F%3E%0A%20%20%20%20%3C%2Ffilter%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22marble%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%220%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23fff7eb%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23d9c2a0%22%2F%3E%0A%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22archShadow%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%220%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%233b2a1a%22%20stop-opacity%3D%220.22%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23000000%22%20stop-opacity%3D%220%22%2F%3E%0A%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3Cfilter%20id%3D%22grain%22%20x%3D%22-20%25%22%20y%3D%22-20%25%22%20width%3D%22140%25%22%20height%3D%22140%25%22%3E%0A%20%20%20%20%20%20%3CfeTurbulence%20type%3D%22turbulence%22%20baseFrequency%3D%220.8%22%20numOctaves%3D%221%22%20seed%3D%2211%22%20%2F%3E%0A%20%20%20%20%20%20%3CfeColorMatrix%20type%3D%22matrix%22%0A%20%20%20%20%20%20%20%20values%3D%221%200%200%200%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%201%200%200%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%200%201%200%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%200%200%200.12%200%22%2F%3E%0A%20%20%20%20%3C%2Ffilter%3E%0A%20%20%3C%2Fdefs%3E%0A%0A%20%20%3Crect%20width%3D%221440%22%20height%3D%22960%22%20fill%3D%22url(%23bg)%22%2F%3E%0A%20%20%3Crect%20width%3D%221440%22%20height%3D%22960%22%20fill%3D%22url(%23light)%22%2F%3E%0A%20%20%3Crect%20width%3D%221440%22%20height%3D%22960%22%20fill%3D%22url(%23warm)%22%2F%3E%0A%0A%20%20%3Cg%20filter%3D%22url(%23oil)%22%20opacity%3D%220.72%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M120%2C820%20L1320%2C820%20L1180%2C960%20L260%2C960%20Z%22%20fill%3D%22%23cdb99c%22%20opacity%3D%220.42%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M220%2C820%20L1220%2C820%20L1120%2C960%20L320%2C960%20Z%22%20fill%3D%22%23bfa98b%22%20opacity%3D%220.18%22%2F%3E%0A%20%20%20%20%3Cg%20opacity%3D%220.35%22%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M720%2C820%20L720%2C960%22%20stroke%3D%22%238a6f55%22%20stroke-width%3D%226%22%20stroke-opacity%3D%220.25%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M560%2C820%20L520%2C960%22%20stroke%3D%22%238a6f55%22%20stroke-width%3D%226%22%20stroke-opacity%3D%220.18%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M880%2C820%20L920%2C960%22%20stroke%3D%22%238a6f55%22%20stroke-width%3D%226%22%20stroke-opacity%3D%220.18%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M420%2C820%20L360%2C960%22%20stroke%3D%22%238a6f55%22%20stroke-width%3D%226%22%20stroke-opacity%3D%220.14%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M1020%2C820%20L1080%2C960%22%20stroke%3D%22%238a6f55%22%20stroke-width%3D%226%22%20stroke-opacity%3D%220.14%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%3C%2Fg%3E%0A%0A%20%20%3Cg%20filter%3D%22url(%23oil)%22%20opacity%3D%220.86%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M140%2C80%20h1160%20a42%2C42%200%200%201%2042%2C42%20v640%20a42%2C42%200%200%201%20-42%2C42%20h-1160%20a42%2C42%200%200%201%20-42%2C-42%20v-640%20a42%2C42%200%200%201%2042%2C-42z%22%20fill%3D%22%23f6ead8%22%20opacity%3D%220.36%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M220%2C140%0A%20%20%20%20%20%20%20%20%20%20%20%20%20c140%2C30%20320%2C30%20500%2C0%0A%20%20%20%20%20%20%20%20%20%20%20%20%20c180%2C-30%20360%2C-30%20500%2C0%0A%20%20%20%20%20%20%20%20%20%20%20%20%20v560%0A%20%20%20%20%20%20%20%20%20%20%20%20%20c-150%2C70%20-350%2C110%20-500%2C110%0A%20%20%20%20%20%20%20%20%20%20%20%20%20c-150%2C0%20-350%2C-40%20-500%2C-110z%22%0A%20%20%20%20%20%20%20%20%20%20fill%3D%22%23f3e6d4%22%20opacity%3D%220.26%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M250%2C160%20h940%20a40%2C40%200%200%201%2040%2C40%20v520%20h-1020%20v-520%20a40%2C40%200%200%201%2040%2C-40z%22%20fill%3D%22%23fff7eb%22%20opacity%3D%220.30%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M360%2C200%20h720%20a34%2C34%200%200%201%2034%2C34%20v440%20h-788%20v-440%20a34%2C34%200%200%201%2034%2C-34z%22%20fill%3D%22%23f9f3ea%22%20opacity%3D%220.34%22%2F%3E%0A%0A%20%20%20%20%3Cpath%20d%3D%22M220%2C140%0A%20%20%20%20%20%20%20%20%20%20%20%20%20c180%2C-60%20340%2C-70%20500%2C-70%0A%20%20%20%20%20%20%20%20%20%20%20%20%20c160%2C0%20320%2C10%20500%2C70%0A%20%20%20%20%20%20%20%20%20%20%20%20%20v56%0A%20%20%20%20%20%20%20%20%20%20%20%20%20c-180%2C-40%20-340%2C-52%20-500%2C-52%0A%20%20%20%20%20%20%20%20%20%20%20%20%20c-160%2C0%20-320%2C12%20-500%2C52z%22%0A%20%20%20%20%20%20%20%20%20%20fill%3D%22%23cbb194%22%20opacity%3D%220.18%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M250%2C160%20h940%20a40%2C40%200%200%201%2040%2C40%20v30%20h-1020%20v-30%20a40%2C40%200%200%201%2040%2C-40z%22%20fill%3D%22url(%23archShadow)%22%20opacity%3D%220.22%22%2F%3E%0A%0A%20%20%20%20%3Cg%20opacity%3D%220.70%22%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M320%2C240%20h70%20v440%20h-70z%22%20fill%3D%22url(%23marble)%22%20opacity%3D%220.44%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M470%2C240%20h70%20v440%20h-70z%22%20fill%3D%22url(%23marble)%22%20opacity%3D%220.44%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M900%2C240%20h70%20v440%20h-70z%22%20fill%3D%22url(%23marble)%22%20opacity%3D%220.44%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M1050%2C240%20h70%20v440%20h-70z%22%20fill%3D%22url(%23marble)%22%20opacity%3D%220.44%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M300%2C230%20h840%20v26%20h-840z%22%20fill%3D%22%23e8d7c0%22%20opacity%3D%220.32%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M300%2C680%20h840%20v24%20h-840z%22%20fill%3D%22%23e8d7c0%22%20opacity%3D%220.22%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%0A%20%20%20%20%3Cg%20opacity%3D%220.88%22%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M560%2C300%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c40%2C-30%2080%2C-44%20120%2C-44%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c40%2C0%2080%2C14%20120%2C44%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-26%2C34%20-56%2C56%20-120%2C56%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-64%2C0%20-94%2C-22%20-120%2C-56z%22%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%3D%22url(%23sky)%22%20opacity%3D%220.70%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M590%2C300%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c26%2C-18%2054%2C-26%2090%2C-26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c36%2C0%2064%2C8%2090%2C26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-18%2C22%20-44%2C36%20-90%2C36%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-46%2C0%20-72%2C-14%20-90%2C-36z%22%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%3D%22%23ffffff%22%20opacity%3D%220.34%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%0A%20%20%20%20%3Cg%20opacity%3D%220.60%22%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M740%2C402%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-22%2C0%20-40%2C18%20-40%2C40%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c0%2C14%206%2C26%2016%2C34%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-18%2C18%20-30%2C44%20-30%2C74%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c0%2C52%2032%2C90%2054%2C104%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-12%2C24%20-20%2C52%20-20%2C82%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c0%2C62%2028%2C108%2072%2C108%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c44%2C0%2072%2C-46%2072%2C-108%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c0%2C-30%20-8%2C-58%20-20%2C-82%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c22%2C-14%2054%2C-52%2054%2C-104%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c0%2C-30%20-12%2C-56%20-30%2C-74%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c10%2C-8%2016%2C-20%2016%2C-34%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c0%2C-22%20-18%2C-40%20-40%2C-40%20z%22%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%3D%22%23fff7ed%22%20opacity%3D%220.32%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M666%2C742%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c50%2C-36%20112%2C-54%20154%2C-54%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c42%2C0%20104%2C18%20154%2C54%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-30%2C36%20-84%2C56%20-154%2C56%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-70%2C0%20-124%2C-20%20-154%2C-56%20z%22%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%3D%22%23fde68a%22%20opacity%3D%220.12%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M712%2C392%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-20%2C32%20-44%2C60%20-66%2C88%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-22%2C28%20-20%2C60%200%2C86%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c22%2C30%2056%2C42%2072%2C72%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c16%2C30%204%2C62%20-12%2C86%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-18%2C28%20-18%2C54%20-6%2C82%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c14%2C34%2040%2C58%2064%2C78%22%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%3D%22none%22%20stroke%3D%22%238b5e34%22%20stroke-opacity%3D%220.20%22%20stroke-width%3D%2210%22%20stroke-linecap%3D%22round%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20d%3D%22M768%2C392%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c18%2C28%2044%2C58%2068%2C88%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c24%2C30%2022%2C60%202%2C88%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-22%2C30%20-58%2C42%20-74%2C72%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-16%2C30%20-4%2C62%2012%2C86%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c18%2C28%2018%2C54%206%2C82%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-14%2C34%20-40%2C58%20-64%2C78%22%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%3D%22none%22%20stroke%3D%22%238b5e34%22%20stroke-opacity%3D%220.18%22%20stroke-width%3D%2210%22%20stroke-linecap%3D%22round%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%0A%20%20%20%20%3Cg%20opacity%3D%220.60%22%3E%0A%20%20%20%20%20%20%3Cellipse%20cx%3D%22430%22%20cy%3D%22720%22%20rx%3D%22170%22%20ry%3D%2264%22%20fill%3D%22%23c7b39a%22%20opacity%3D%220.20%22%2F%3E%0A%20%20%20%20%20%20%3Cellipse%20cx%3D%221010%22%20cy%3D%22720%22%20rx%3D%22180%22%20ry%3D%2264%22%20fill%3D%22%23c7b39a%22%20opacity%3D%220.18%22%2F%3E%0A%20%20%20%20%20%20%3Cg%20opacity%3D%220.95%22%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%22360%22%20cy%3D%22676%22%20r%3D%2218%22%20fill%3D%22%23a16207%22%20opacity%3D%220.25%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%22344%22%20y%3D%22694%22%20width%3D%2236%22%20height%3D%2258%22%20rx%3D%2216%22%20fill%3D%22%23fb7185%22%20opacity%3D%220.20%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%22412%22%20cy%3D%22670%22%20r%3D%2216%22%20fill%3D%22%230ea5e9%22%20opacity%3D%220.22%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%22398%22%20y%3D%22686%22%20width%3D%2232%22%20height%3D%2262%22%20rx%3D%2214%22%20fill%3D%22%2322c55e%22%20opacity%3D%220.18%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%22468%22%20cy%3D%22680%22%20r%3D%2218%22%20fill%3D%22%238b5cf6%22%20opacity%3D%220.20%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%22452%22%20y%3D%22698%22%20width%3D%2236%22%20height%3D%2254%22%20rx%3D%2216%22%20fill%3D%22%23f59e0b%22%20opacity%3D%220.18%22%2F%3E%0A%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%22960%22%20cy%3D%22678%22%20r%3D%2218%22%20fill%3D%22%230ea5e9%22%20opacity%3D%220.20%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%22944%22%20y%3D%22696%22%20width%3D%2236%22%20height%3D%2256%22%20rx%3D%2216%22%20fill%3D%22%23fb7185%22%20opacity%3D%220.18%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%221014%22%20cy%3D%22670%22%20r%3D%2216%22%20fill%3D%22%23a16207%22%20opacity%3D%220.22%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%221000%22%20y%3D%22686%22%20width%3D%2232%22%20height%3D%2262%22%20rx%3D%2214%22%20fill%3D%22%23f59e0b%22%20opacity%3D%220.18%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%221068%22%20cy%3D%22680%22%20r%3D%2218%22%20fill%3D%22%2322c55e%22%20opacity%3D%220.16%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%221052%22%20y%3D%22698%22%20width%3D%2236%22%20height%3D%2254%22%20rx%3D%2216%22%20fill%3D%22%238b5cf6%22%20opacity%3D%220.16%22%2F%3E%0A%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%3C%2Fg%3E%0A%0A%20%20%3Crect%20width%3D%221440%22%20height%3D%22960%22%20filter%3D%22url(%23grain)%22%20opacity%3D%220.8%22%2F%3E%0A%3C%2Fsvg%3E`,alt:`Greek Oil Painting Background`,className:`absolute inset-0 w-full h-full object-cover blur-[0.2px]`,style:{opacity:t,...r||{}}})})},qr=()=>(0,U.jsxs)(`div`,{className:`flex flex-col h-screen w-full mx-auto bg-stone-50 shadow-2xl overflow-hidden relative`,children:[(0,U.jsxs)(`div`,{className:`flex-1 overflow-hidden relative`,children:[(0,U.jsx)(Kr,{mode:`full`,opacity:.45}),(0,U.jsx)(`div`,{className:`relative z-10 h-full`,children:(0,U.jsx)(Ot,{})})]}),(0,U.jsx)(`div`,{className:`relative z-10`,children:(0,U.jsx)(Gr,{})})]});function Jr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Yr(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}const Xr=e=>e?(...t)=>e(...t):(...e)=>fetch(...e);var Zr=class extends Error{constructor(e,t=`FunctionsError`,n){super(e),this.name=t,this.context=n}},Qr=class extends Zr{constructor(e){super(`Failed to send a request to the Edge Function`,`FunctionsFetchError`,e)}},$r=class extends Zr{constructor(e){super(`Relay Error invoking the Edge Function`,`FunctionsRelayError`,e)}},ei=class extends Zr{constructor(e){super(`Edge Function returned a non-2xx status code`,`FunctionsHttpError`,e)}},ti;(function(e){e.Any=`any`,e.ApNortheast1=`ap-northeast-1`,e.ApNortheast2=`ap-northeast-2`,e.ApSouth1=`ap-south-1`,e.ApSoutheast1=`ap-southeast-1`,e.ApSoutheast2=`ap-southeast-2`,e.CaCentral1=`ca-central-1`,e.EuCentral1=`eu-central-1`,e.EuWest1=`eu-west-1`,e.EuWest2=`eu-west-2`,e.EuWest3=`eu-west-3`,e.SaEast1=`sa-east-1`,e.UsEast1=`us-east-1`,e.UsWest1=`us-west-1`,e.UsWest2=`us-west-2`})(ti||={});var ni=class{constructor(e,{headers:t={},customFetch:n,region:r=ti.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=Xr(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Yr(this,arguments,void 0,function*(e,t={}){let n,r;try{let{headers:i,method:a,body:o,signal:s,timeout:c}=t,l={},{region:u}=t;u||=this.region;let d=new URL(`${this.url}/${e}`);u&&u!==`any`&&(l[`x-region`]=u,d.searchParams.set(`forceFunctionRegion`,u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,`Content-Type`)||!i)?typeof Blob<`u`&&o instanceof Blob||o instanceof ArrayBuffer?(l[`Content-Type`]=`application/octet-stream`,f=o):typeof o==`string`?(l[`Content-Type`]=`text/plain`,f=o):typeof FormData<`u`&&o instanceof FormData?f=o:(l[`Content-Type`]=`application/json`,f=JSON.stringify(o)):f=o&&typeof o!=`string`&&!(typeof Blob<`u`&&o instanceof Blob)&&!(o instanceof ArrayBuffer)&&!(typeof FormData<`u`&&o instanceof FormData)?JSON.stringify(o):o;let p=s;c&&(r=new AbortController,n=setTimeout(()=>r.abort(),c),s?(p=r.signal,s.addEventListener(`abort`,()=>r.abort())):p=r.signal);let m=yield this.fetch(d.toString(),{method:a||`POST`,headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:p}).catch(e=>{throw new Qr(e)}),h=m.headers.get(`x-relay-error`);if(h&&h===`true`)throw new $r(m);if(!m.ok)throw new ei(m);let g=(m.headers.get(`Content-Type`)??`text/plain`).split(`;`)[0].trim(),_;return _=g===`application/json`?yield m.json():g===`application/octet-stream`||g===`application/pdf`?yield m.blob():g===`text/event-stream`?m:g===`multipart/form-data`?yield m.formData():yield m.text(),{data:_,error:null,response:m}}catch(e){return{data:null,error:e,response:e instanceof ei||e instanceof $r?e.context:void 0}}finally{n&&clearTimeout(n)}})}},ri=class extends Error{constructor(e){super(e.message),this.name=`PostgrestError`,this.details=e.details,this.hint=e.hint,this.code=e.code}},ii=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError??!1,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle??!1,this.urlLengthLimit=e.urlLengthLimit??8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||([`GET`,`HEAD`].includes(this.method)?this.headers.set(`Accept-Profile`,this.schema):this.headers.set(`Content-Profile`,this.schema)),this.method!==`GET`&&this.method!==`HEAD`&&this.headers.set(`Content-Type`,`application/json`);let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,i=null,a=e.status,o=e.statusText;if(e.ok){if(n.method!==`HEAD`){let t=await e.text();t===``||(r=n.headers.get(`Accept`)===`text/csv`||n.headers.get(`Accept`)&&n.headers.get(`Accept`)?.includes(`application/vnd.pgrst.plan+text`)?t:JSON.parse(t))}let s=n.headers.get(`Prefer`)?.match(/count=(exact|planned|estimated)/),c=e.headers.get(`content-range`)?.split(`/`);s&&c&&c.length>1&&(i=parseInt(c[1])),n.isMaybeSingle&&n.method===`GET`&&Array.isArray(r)&&(r.length>1?(t={code:`PGRST116`,details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:`JSON object requested, multiple (or no) rows returned`},r=null,i=null,a=406,o=`Not Acceptable`):r=r.length===1?r[0]:null)}else{var s;let i=await e.text();try{t=JSON.parse(i),Array.isArray(t)&&e.status===404&&(r=[],t=null,a=200,o=`OK`)}catch{e.status===404&&i===``?(a=204,o=`No Content`):t={message:i}}if(t&&n.isMaybeSingle&&!(t==null||(s=t.details)==null)&&s.includes(`0 rows`)&&(t=null,a=200,o=`OK`),t&&n.shouldThrowOnError)throw new ri(t)}return{error:t,data:r,count:i,status:a,statusText:o}});return this.shouldThrowOnError||(i=i.catch(e=>{let t=``,n=``,r=``,i=e?.cause;if(i){let n=i?.message??``,r=i?.code??``;t=`${e?.name??`FetchError`}: ${e?.message}`,t+=`\n\nCaused by: ${i?.name??`Error`}: ${n}`,r&&(t+=` (${r})`),i?.stack&&(t+=`\n${i.stack}`)}else t=e?.stack??``;let a=this.url.toString().length;return e?.name===`AbortError`||e?.code===`ABORT_ERR`?(r=``,n=`Request was aborted (timeout or manual cancellation)`,a>this.urlLengthLimit&&(n+=`. Note: Your request URL is ${a} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(i?.name===`HeadersOverflowError`||i?.code===`UND_ERR_HEADERS_OVERFLOW`)&&(r=``,n=`HTTP headers exceeded server limits (typically 16KB)`,a>this.urlLengthLimit&&(n+=`. Your request URL is ${a} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${e?.name??`FetchError`}: ${e?.message}`,details:t,hint:n,code:r},data:null,count:null,status:0,statusText:``}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},ai=class extends ii{select(e){let t=!1,n=(e??`*`).split(``).map(e=>/\s/.test(e)&&!t?``:(e===`"`&&(t=!t),e)).join(``);return this.url.searchParams.set(`select`,n),this.headers.append(`Prefer`,`return=representation`),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let a=i?`${i}.order`:`order`,o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:``}${e}.${t?`asc`:`desc`}${n===void 0?``:n?`.nullsfirst`:`.nullslast`}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=n===void 0?`limit`:`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=r===void 0?`offset`:`${r}.offset`,a=r===void 0?`limit`:`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this}maybeSingle(){return this.method===`GET`?this.headers.set(`Accept`,`application/json`):this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this.isMaybeSingle=!0,this}csv(){return this.headers.set(`Accept`,`text/csv`),this}geojson(){return this.headers.set(`Accept`,`application/geo+json`),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a=`text`}={}){let o=[e?`analyze`:null,t?`verbose`:null,n?`settings`:null,r?`buffers`:null,i?`wal`:null].filter(Boolean).join(`|`),s=this.headers.get(`Accept`)??`application/json`;return this.headers.set(`Accept`,`application/vnd.pgrst.plan+${a}; for="${s}"; options=${o};`),this}rollback(){return this.headers.append(`Prefer`,`tx=rollback`),this}returns(){return this}maxAffected(e){return this.headers.append(`Prefer`,`handling=strict`),this.headers.append(`Prefer`,`max-affected=${e}`),this}},oi=RegExp(`[,()]`),si=class extends ai{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(`,`)}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(`,`)}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(`,`)}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(`,`)}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(e=>typeof e==`string`&&oi.test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(e=>typeof e==`string`&&oi.test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t==`string`?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(`,`)}}`),this}textSearch(e,t,{config:n,type:r}={}){let i=``;r===`plain`?i=`pl`:r===`phrase`?i=`ph`:r===`websearch`&&(i=`w`);let a=n===void 0?``:`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:`or`;return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},ci=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},i=n?`HEAD`:`GET`,a=!1,o=(e??`*`).split(``).map(e=>/\s/.test(e)&&!a?``:(e===`"`&&(a=!a),e)).join(``),{url:s,headers:c}=this.cloneRequestState();return s.searchParams.set(`select`,o),r&&c.append(`Prefer`,`count=${r}`),new si({method:i,url:s,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){let{url:r,headers:i}=this.cloneRequestState();if(t&&i.append(`Prefer`,`count=${t}`),n||i.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);r.searchParams.set(`columns`,e.join(`,`))}}return new si({method:`POST`,url:r,headers:i,schema:this.schema,body:e,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){let{url:a,headers:o}=this.cloneRequestState();if(o.append(`Prefer`,`resolution=${n?`ignore`:`merge`}-duplicates`),t!==void 0&&a.searchParams.set(`on_conflict`,t),r&&o.append(`Prefer`,`count=${r}`),i||o.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);a.searchParams.set(`columns`,e.join(`,`))}}return new si({method:`POST`,url:a,headers:o,schema:this.schema,body:e,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){let{url:n,headers:r}=this.cloneRequestState();return t&&r.append(`Prefer`,`count=${t}`),new si({method:`PATCH`,url:n,headers:r,schema:this.schema,body:e,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){let{url:t,headers:n}=this.cloneRequestState();return e&&n.append(`Prefer`,`count=${e}`),new si({method:`DELETE`,url:t,headers:n,schema:this.schema,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}};function li(e){"@babel/helpers - typeof";return li=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},li(e)}function ui(e,t){if(li(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(li(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function di(e){var t=ui(e,`string`);return li(t)==`symbol`?t:t+``}function fi(e,t,n){return(t=di(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?pi(Object(n),!0).forEach(function(t){fi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var hi=class e{constructor(e,{headers:t={},schema:n,fetch:r,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.urlLengthLimit=a;let o=r??globalThis.fetch;i!==void 0&&i>0?this.fetch=(e,t)=>{let n=new AbortController,r=setTimeout(()=>n.abort(),i),a=t?.signal;if(a){if(a.aborted)return clearTimeout(r),o(e,t);let i=()=>{clearTimeout(r),n.abort()};return a.addEventListener(`abort`,i,{once:!0}),o(e,mi(mi({},t),{},{signal:n.signal})).finally(()=>{clearTimeout(r),a.removeEventListener(`abort`,i)})}return o(e,mi(mi({},t),{},{signal:n.signal})).finally(()=>clearTimeout(r))}:this.fetch=o}from(e){if(!e||typeof e!=`string`||e.trim()===``)throw Error(`Invalid relation name: relation must be a non-empty string.`);return new ci(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:n=!1,get:r=!1,count:i}={}){let a,o=new URL(`${this.url}/rpc/${e}`),s,c=e=>typeof e==`object`&&!!e&&(!Array.isArray(e)||e.some(c)),l=n&&Object.values(t).some(c);l?(a=`POST`,s=t):n||r?(a=n?`HEAD`:`GET`,Object.entries(t).filter(([e,t])=>t!==void 0).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(`,`)}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(a=`POST`,s=t);let u=new Headers(this.headers);return l?u.set(`Prefer`,i?`count=${i},return=minimal`:`return=minimal`):i&&u.set(`Prefer`,`count=${i}`),new si({method:a,url:o,headers:u,schema:this.schemaName,body:s,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}},gi=class{constructor(){}static detectEnvironment(){if(typeof WebSocket<`u`)return{type:`native`,constructor:WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocket!==void 0)return{type:`native`,constructor:globalThis.WebSocket};if(typeof global<`u`&&global.WebSocket!==void 0)return{type:`native`,constructor:global.WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocketPair!==void 0&&globalThis.WebSocket===void 0)return{type:`cloudflare`,error:`Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.`,workaround:`Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.`};if(typeof globalThis<`u`&&globalThis.EdgeRuntime||typeof navigator<`u`&&navigator.userAgent?.includes(`Vercel-Edge`))return{type:`unsupported`,error:`Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.`,workaround:`Use serverless functions or a different deployment target for WebSocket functionality.`};let e=globalThis.process;if(e){let t=e.versions;if(t&&t.node){let e=t.node,n=parseInt(e.replace(/^v/,``).split(`.`)[0]);return n>=22?globalThis.WebSocket===void 0?{type:`unsupported`,error:`Node.js ${n} detected but native WebSocket not found.`,workaround:`Provide a WebSocket implementation via the transport option.`}:{type:`native`,constructor:globalThis.WebSocket}:{type:`unsupported`,error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:`unsupported`,error:`Unknown JavaScript runtime without WebSocket support.`,workaround:`Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.`}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||`WebSocket not supported in this environment.`;throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type===`native`||e.type===`ws`}catch{return!1}}};const _i=`2.0.0`,vi=_i,yi=1e4;var bi;(function(e){e[e.connecting=0]=`connecting`,e[e.open=1]=`open`,e[e.closing=2]=`closing`,e[e.closed=3]=`closed`})(bi||={});var xi;(function(e){e.closed=`closed`,e.errored=`errored`,e.joined=`joined`,e.joining=`joining`,e.leaving=`leaving`})(xi||={});var Si;(function(e){e.close=`phx_close`,e.error=`phx_error`,e.join=`phx_join`,e.reply=`phx_reply`,e.leave=`phx_leave`,e.access_token=`access_token`})(Si||={});var Ci;(function(e){e.websocket=`websocket`})(Ci||={});var wi;(function(e){e.Connecting=`connecting`,e.Open=`open`,e.Closing=`closing`,e.Closed=`closed`})(wi||={});var Ti=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT=`broadcast`,this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event==`string`)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){return this._isArrayBuffer(e.payload?.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){let t=e.payload?.payload??new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,t)}_encodeJsonUserBroadcastPush(e){let t=e.payload?.payload??{},n=new TextEncoder().encode(JSON.stringify(t)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,n)}_encodeUserBroadcastPush(e,t,n){let r=e.topic,i=e.ref??``,a=e.join_ref??``,o=e.payload.event,s=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},c=Object.keys(s).length===0?``:JSON.stringify(s);if(a.length>255)throw Error(`joinRef length ${a.length} exceeds maximum of 255`);if(i.length>255)throw Error(`ref length ${i.length} exceeds maximum of 255`);if(r.length>255)throw Error(`topic length ${r.length} exceeds maximum of 255`);if(o.length>255)throw Error(`userEvent length ${o.length} exceeds maximum of 255`);if(c.length>255)throw Error(`metadata length ${c.length} exceeds maximum of 255`);let l=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+r.length+o.length+c.length,u=new ArrayBuffer(this.HEADER_LENGTH+l),d=new DataView(u),f=0;d.setUint8(f++,this.KINDS.userBroadcastPush),d.setUint8(f++,a.length),d.setUint8(f++,i.length),d.setUint8(f++,r.length),d.setUint8(f++,o.length),d.setUint8(f++,c.length),d.setUint8(f++,t),Array.from(a,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(i,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(r,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(o,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(c,e=>d.setUint8(f++,e.charCodeAt(0)));var p=new Uint8Array(u.byteLength+n.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(n),u.byteLength),p.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if(typeof e==`string`){let[n,r,i,a,o]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:a,payload:o})}return t({})}_binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4),s=this.HEADER_LENGTH+4,c=n.decode(e.slice(s,s+r));s+=r;let l=n.decode(e.slice(s,s+i));s+=i;let u=n.decode(e.slice(s,s+a));s+=a;let d=e.slice(s,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,p={type:this.BROADCAST_EVENT,event:l,payload:f};return a>0&&(p.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){return e instanceof ArrayBuffer||e?.constructor?.name===`ArrayBuffer`}_pick(e,t){return!e||typeof e!=`object`?{}:Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e)))}},Ei=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries+=1,this.callback()},this.timerCalc(this.tries+1))}},Di;(function(e){e.abstime=`abstime`,e.bool=`bool`,e.date=`date`,e.daterange=`daterange`,e.float4=`float4`,e.float8=`float8`,e.int2=`int2`,e.int4=`int4`,e.int4range=`int4range`,e.int8=`int8`,e.int8range=`int8range`,e.json=`json`,e.jsonb=`jsonb`,e.money=`money`,e.numeric=`numeric`,e.oid=`oid`,e.reltime=`reltime`,e.text=`text`,e.time=`time`,e.timestamp=`timestamp`,e.timestamptz=`timestamptz`,e.timetz=`timetz`,e.tsrange=`tsrange`,e.tstzrange=`tstzrange`})(Di||={});const Oi=(e,t,n={})=>{let r=n.skipTypes??[];return t?Object.keys(t).reduce((n,i)=>(n[i]=ki(i,e,t,r),n),{}):{}},ki=(e,t,n,r)=>{let i=t.find(t=>t.name===e)?.type,a=n[e];return i&&!r.includes(i)?Ai(i,a):ji(a)},Ai=(e,t)=>{if(e.charAt(0)===`_`)return Fi(t,e.slice(1,e.length));switch(e){case Di.bool:return Mi(t);case Di.float4:case Di.float8:case Di.int2:case Di.int4:case Di.int8:case Di.numeric:case Di.oid:return Ni(t);case Di.json:case Di.jsonb:return Pi(t);case Di.timestamp:return Ii(t);case Di.abstime:case Di.date:case Di.daterange:case Di.int4range:case Di.int8range:case Di.money:case Di.reltime:case Di.text:case Di.time:case Di.timestamptz:case Di.timetz:case Di.tsrange:case Di.tstzrange:return ji(t);default:return ji(t)}};var ji=e=>e;const Mi=e=>{switch(e){case`t`:return!0;case`f`:return!1;default:return e}},Ni=e=>{if(typeof e==`string`){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Pi=e=>{if(typeof e==`string`)try{return JSON.parse(e)}catch{return e}return e},Fi=(e,t)=>{if(typeof e!=`string`)return e;let n=e.length-1,r=e[n];if(e[0]===`{`&&r===`}`){let r,i=e.slice(1,n);try{r=JSON.parse(`[`+i+`]`)}catch{r=i?i.split(`,`):[]}return r.map(e=>Ai(t,e))}return e},Ii=e=>typeof e==`string`?e.replace(` `,`T`):e,Li=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,`http`),t.pathname=t.pathname.replace(/\/+$/,``).replace(/\/socket\/websocket$/i,``).replace(/\/socket$/i,``).replace(/\/websocket$/i,``),t.pathname===``||t.pathname===`/`?t.pathname=`/api/broadcast`:t.pathname+=`/api/broadcast`,t.href};var Ri=class{constructor(e,t,n={},r=yi){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref=``,this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref=``,this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived(`timeout`)||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){return this._hasReceived(e)&&t(this.receivedResp?.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||=(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),setTimeout(()=>{this.trigger(`timeout`,{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}},zi;(function(e){e.SYNC=`sync`,e.JOIN=`join`,e.LEAVE=`leave`})(zi||={});var Bi=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:`presence_state`,diff:`presence_diff`};this.channel._on(r.state,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,t,n,r),this.pendingDiffs.forEach(t=>{this.state=e.syncDiff(this.state,t,n,r)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=e.syncDiff(this.state,t,n,r),i())}),this.onJoin((e,t,n)=>{this.channel._trigger(`presence`,{event:`join`,key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger(`presence`,{event:`leave`,key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger(`presence`,{event:`sync`})})}static syncState(e,t,n,r){let i=this.cloneDeep(e),a=this.transformState(t),o={},s={};return this.map(i,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{let n=i[e];if(n){let r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),c=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(o[e]=a),c.length>0&&(s[e]=c)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||=()=>{},r||=()=>{},this.map(i,(t,r)=>{let i=e[t]??[];if(e[t]=this.cloneDeep(r),i.length>0){let n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;let a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),i.length===0&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{let r=e[n];return`metas`in r?t[n]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}},Vi;(function(e){e.ALL=`*`,e.INSERT=`INSERT`,e.UPDATE=`UPDATE`,e.DELETE=`DELETE`})(Vi||={});var Hi;(function(e){e.BROADCAST=`broadcast`,e.PRESENCE=`presence`,e.POSTGRES_CHANGES=`postgres_changes`,e.SYSTEM=`system`})(Hi||={});var Ui;(function(e){e.SUBSCRIBED=`SUBSCRIBED`,e.TIMED_OUT=`TIMED_OUT`,e.CLOSED=`CLOSED`,e.CHANNEL_ERROR=`CHANNEL_ERROR`})(Ui||={});var Wi=class e{constructor(e,t={config:{}},n){if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=xi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,``),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:``,enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ri(this,Si.join,this.params,this.timeout),this.rejoinTimer=new Ei(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive(`ok`,()=>{this.state=xi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log(`channel`,`close ${this.topic} ${this._joinRef()}`),this.state=xi.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=xi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`timeout`,()=>{this._isJoining()&&(this.socket.log(`channel`,`timeout ${this.topic}`,this.joinPush.timeout),this.state=xi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`error`,e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=xi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Si.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Bi(this),this.broadcastEndpointURL=Li(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&this.params.config?.broadcast?.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){if(this.socket.isConnected()||this.socket.connect(),this.state==xi.closed){let{config:{broadcast:r,presence:i,private:a}}=this.params,o=this.bindings.postgres_changes?.map(e=>e.filter)??[],s=!!this.bindings[Hi.PRESENCE]&&this.bindings[Hi.PRESENCE].length>0||this.params.config.presence?.enabled===!0,c={},l={broadcast:r,presence:Object.assign(Object.assign({},i),{enabled:s}),postgres_changes:o,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(e=>t?.(Ui.CHANNEL_ERROR,e)),this._onClose(()=>t?.(Ui.CLOSED)),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive(`ok`,async({postgres_changes:n})=>{if(this.socket._isManualToken()||this.socket.setAuth(),n===void 0){t?.(Ui.SUBSCRIBED);return}else{let r=this.bindings.postgres_changes,i=r?.length??0,a=[];for(let o=0;o<i;o++){let i=r[o],{filter:{event:s,schema:c,table:l,filter:u}}=i,d=n&&n[o];if(d&&d.event===s&&e.isFilterValueEqual(d.schema,c)&&e.isFilterValueEqual(d.table,l)&&e.isFilterValueEqual(d.filter,u))a.push(Object.assign(Object.assign({},i),{id:d.id}));else{this.unsubscribe(),this.state=xi.errored,t?.(Ui.CHANNEL_ERROR,Error(`mismatch between server and client bindings for postgres changes`));return}}this.bindings.postgres_changes=a,t&&t(Ui.SUBSCRIBED);return}}).receive(`error`,e=>{this.state=xi.errored,t?.(Ui.CHANNEL_ERROR,Error(JSON.stringify(Object.values(e).join(`, `)||`error`)))}).receive(`timeout`,()=>{t?.(Ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:`presence`,event:`track`,payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:`presence`,event:`untrack`},e)}on(e,t,n){return this.state===xi.joined&&e===Hi.PRESENCE&&(this.socket.log(`channel`,`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){if(t==null)return Promise.reject(`Payload is required for httpSend()`);let r={apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);let i={method:`POST`,headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,n.timeout??this.timeout);if(a.status===202)return{success:!0};let o=a.statusText;try{let e=await a.json();o=e.error||e.message||o}catch{}return Promise.reject(Error(o))}async send(e,t={}){if(!this._canPush()&&e.type===`broadcast`){console.warn(`Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.`);let{event:n,payload:r}=e,i={apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let a={method:`POST`,headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,t.timeout??this.timeout);return await e.body?.cancel(),e.ok?`ok`:`error`}catch(e){return e.name===`AbortError`?`timed out`:`error`}}else return new Promise(n=>{let r=this._push(e.type,e,t.timeout||this.timeout);e.type===`broadcast`&&!this.params?.config?.broadcast?.ack&&n(`ok`),r.receive(`ok`,()=>n(`ok`)),r.receive(`error`,()=>n(`error`)),r.receive(`timeout`,()=>n(`timed out`))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xi.leaving;let t=()=>{this.socket.log(`channel`,`leave ${this.topic}`),this._trigger(Si.close,`leave`,this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Ri(this,Si.leave,{},e),n.receive(`ok`,()=>{t(),r(`ok`)}).receive(`timeout`,()=>{t(),r(`timed out`)}).receive(`error`,()=>{r(`error`)}),n.send(),this._canPush()||n.trigger(`ok`,{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xi.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){let r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Ri(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log(`channel`,`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;let a=e.toLocaleLowerCase(),{close:o,error:s,leave:c,join:l}=Si;if(n&&[o,s,c,l].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw`channel onMessage callbacks must return the payload, modified or unmodified`;[`insert`,`update`,`delete`].includes(a)?(r=this.bindings.postgres_changes)==null||r.filter(e=>e.filter?.event===`*`||(e.filter?.event)?.toLocaleLowerCase()===a).map(e=>e.callback(u,n)):(i=this.bindings[a])==null||i.filter(e=>{if([`broadcast`,`presence`,`postgres_changes`].includes(a))if(`id`in e){let n=e.id,r=e.filter?.event;return n&&t.ids?.includes(n)&&(r===`*`||r?.toLocaleLowerCase()===t.data?.type.toLocaleLowerCase())}else{let n=(e?.filter?.event)?.toLocaleLowerCase();return n===`*`||n===(t?.event)?.toLocaleLowerCase()}else return e.type.toLocaleLowerCase()===a}).map(e=>{if(typeof u==`object`&&`ids`in u){let e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,o={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===xi.closed}_isJoined(){return this.state===xi.joined}_isJoining(){return this.state===xi.joining}_isLeaving(){return this.state===xi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(t=>!(t.type?.toLocaleLowerCase()===r&&e.isEqual(t.filter,n)))),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Si.close,{},e)}_onError(e){this._on(Si.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type===`INSERT`||e.type===`UPDATE`)&&(t.new=Oi(e.columns,e.record)),(e.type===`UPDATE`||e.type===`DELETE`)&&(t.old=Oi(e.columns,e.old_record)),t}},Gi=()=>{},Ki={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qi=[1e3,2e3,5e3,1e4],Ji=1e4,Yi=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Xi=class{constructor(e,t){if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint=``,this.httpEndpoint=``,this.headers={},this.params={},this.timeout=yi,this.transport=null,this.heartbeatIntervalMs=Ki.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gi,this.ref=0,this.reconnectTimer=null,this.vsn=vi,this.logger=Gi,this.conn=null,this.sendBuffer=[],this.serializer=new Ti,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState=`disconnected`,this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!t?.params?.apikey)throw Error(`API key is required to connect to Realtime`);this.apiKey=t.params.apikey,this.endPoint=`${e}/${Ci.websocket}`,this.httpEndpoint=Li(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState(`connecting`),this.accessToken&&!this._authPromise&&this._setAuthSafely(`connect`),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gi.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState(`disconnected`);let t=e.message;throw t.includes(`Node.js`)?Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState(`disconnecting`,!0),this.conn){let n=setTimeout(()=>{this._setConnectionState(`disconnected`)},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState(`disconnected`)},typeof this.conn.close==`function`&&(e?this.conn.close(e,t??``):this.conn.close()),this._teardownConnection()}else this._setConnectionState(`disconnected`)}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return t===`ok`&&this._remove(e),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bi.connecting:return wi.Connecting;case bi.open:return wi.Open;case bi.closing:return wi.Closing;default:return wi.Closed}}isConnected(){return this.connectionState()===wi.Open}isConnecting(){return this._connectionState===`connecting`}isDisconnecting(){return this._connectionState===`disconnecting`}channel(e,t={config:{}}){let n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{let n=new Wi(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){let{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;(t=this.conn)==null||t.send(e)})};this.log(`push`,`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback(`disconnected`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log(`transport`,`heartbeat timeout. Attempting to re-establish connection`);try{this.heartbeatCallback(`timeout`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._wasManualDisconnect=!1,(e=this.conn)==null||e.close(1e3,`heartbeat timeout`),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)==null||e.scheduleTimeout()},Ki.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:`phoenix`,event:`heartbeat`,payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback(`sent`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._setAuthSafely(`heartbeat`)}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log(`transport`,`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if(e.topic===`phoenix`&&e.event===`phx_reply`&&e.ref&&e.ref===this.pendingHeartbeatRef){let t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(e.payload.status===`ok`?`ok`:`error`,t)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:t,event:n,payload:r,ref:i}=e,a=i?`(${i})`:``,o=r.status||``;this.log(`receive`,`${o} ${t} ${n} ${a}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks(`message`,e)})}_clearTimer(e){var t;e===`heartbeat`&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e===`reconnect`&&((t=this.reconnectTimer)==null||t.reset())}_clearAllTimers(){this._clearTimer(`heartbeat`),this._clearTimer(`reconnect`)}_setupConnectionHandlers(){this.conn&&(`binaryType`in this.conn&&(this.conn.binaryType=`arraybuffer`),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===bi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bi.open||this.conn.readyState===bi.connecting)try{this.conn.close()}catch(e){this.log(`error`,`Error closing connection`,e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState(`connected`),this.log(`transport`,`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log(`error`,`error waiting for auth on connect`,e),this.flushSendBuffer()}),this._clearTimer(`reconnect`),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks(`open`)}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log(`worker`,`starting worker for from ${this.workerUrl}`):this.log(`worker`,`starting default worker`);let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log(`worker`,`worker error`,e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{e.data.event===`keepAlive`&&this.sendHeartbeat()},this.workerRef.postMessage({event:`start`,interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&=(this.log(`worker`,`terminating worker`),this.workerRef.terminate(),void 0)}_onConnClose(e){var t;this._setConnectionState(`disconnected`),this.log(`transport`,`close`,e),this._triggerChanError(),this._clearTimer(`heartbeat`),this._wasManualDisconnect||(t=this.reconnectTimer)==null||t.scheduleTimeout(),this._triggerStateCallbacks(`close`,e)}_onConnError(e){this._setConnectionState(`disconnected`),this.log(`transport`,`${e}`),this._triggerChanError(),this._triggerStateCallbacks(`error`,e);try{this.heartbeatCallback(`error`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Si.error))}_appendParams(e,t){return Object.keys(t).length===0?e:`${e}${e.match(/\?/)?`&`:`?`}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([Yi],{type:`application/javascript`});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e===`connecting`?this._wasManualDisconnect=!1:e===`disconnecting`&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(e){this.log(`error`,`Error fetching access token from callback`,e),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let n={access_token:t,version:`realtime-js/2.95.3`};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(Si.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e=`general`){this._isManualToken()||this.setAuth().catch(t=>{this.log(`error`,`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(t){this.log(`error`,`error in ${e} callback`,t)}})}catch(t){this.log(`error`,`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new Ei(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ki.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){switch(this.transport=e?.transport??null,this.timeout=e?.timeout??yi,this.heartbeatIntervalMs=e?.heartbeatIntervalMs??Ki.HEARTBEAT_INTERVAL,this.worker=e?.worker??!1,this.accessToken=e?.accessToken??null,this.heartbeatCallback=e?.heartbeatCallback??Gi,this.vsn=e?.vsn??vi,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=e?.reconnectAfterMs??(e=>qi[e-1]||Ji),this.vsn){case`1.0.0`:this.encode=e?.encode??((e,t)=>t(JSON.stringify(e))),this.decode=e?.decode??((e,t)=>t(JSON.parse(e)));break;case _i:this.encode=e?.encode??this.serializer.encode.bind(this.serializer),this.decode=e?.decode??this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<`u`&&!window.Worker)throw Error(`Web Worker is not supported`);this.workerUrl=e?.workerUrl}}},Zi=class extends Error{constructor(e,t){super(e),this.name=`IcebergError`,this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType===`CommitStateUnknownException`||[500,502,504].includes(t.status)&&t.icebergType?.includes(`CommitState`)===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Qi(e,t,n){let r=new URL(t,e);if(n)for(let[e,t]of Object.entries(n))t!==void 0&&r.searchParams.set(e,t);return r.toString()}async function $i(e){return!e||e.type===`none`?{}:e.type===`bearer`?{Authorization:`Bearer ${e.token}`}:e.type===`header`?{[e.name]:e.value}:e.type===`custom`?await e.getHeaders():{}}function ea(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){let s=Qi(e.baseUrl,r,i),c=await $i(e.auth),l=await t(s,{method:n,headers:{...a?{"Content-Type":`application/json`}:{},...c,...o},body:a?JSON.stringify(a):void 0}),u=await l.text(),d=(l.headers.get(`content-type`)||``).includes(`application/json`),f=d&&u?JSON.parse(u):u;if(!l.ok){let e=d?f:void 0,t=e?.error;throw new Zi(t?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:l.status,headers:l.headers,data:f}}}}function ta(e){return e.join(``)}var na=class{constructor(e,t=``){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:ta(e.namespace)}:void 0;return(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:`POST`,path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:`DELETE`,path:`${this.prefix}/namespaces/${ta(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${ta(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:`HEAD`,path:`${this.prefix}/namespaces/${ta(e.namespace)}`}),!0}catch(e){if(e instanceof Zi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(e){if(e instanceof Zi&&e.status===409)return;throw e}}};function ra(e){return e.join(``)}var ia=class{constructor(e,t=``,n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n[`X-Iceberg-Access-Delegation`]=this.accessDelegation),(await this.client.request({method:`POST`,path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:`POST`,path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data[`metadata-location`],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:`DELETE`,path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t[`X-Iceberg-Access-Delegation`]=this.accessDelegation),(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t[`X-Iceberg-Access-Delegation`]=this.accessDelegation);try{return await this.client.request({method:`HEAD`,path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(e){if(e instanceof Zi&&e.status===404)return!1;throw e}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Zi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},aa=class{constructor(e){let t=`v1`;e.catalogName&&(t+=`/${e.catalogName}`),this.client=ea({baseUrl:e.baseUrl.endsWith(`/`)?e.baseUrl:`${e.baseUrl}/`,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(`,`),this.namespaceOps=new na(this.client,t),this.tableOps=new ia(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},oa=class extends Error{constructor(e,t=`storage`,n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t===`vectors`?`StorageVectorsError`:`StorageError`,this.status=n,this.statusCode=r}};function sa(e){return typeof e==`object`&&!!e&&`__isStorageError`in e}var ca=class extends oa{constructor(e,t,n,r=`storage`){super(e,r,t,n),this.name=r===`vectors`?`StorageVectorsApiError`:`StorageApiError`,this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},la=class extends oa{constructor(e,t,n=`storage`){super(e,n),this.name=n===`vectors`?`StorageVectorsUnknownError`:`StorageUnknownError`,this.originalError=t}},ua=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),da=e=>{if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fa=e=>{if(Array.isArray(e))return e.map(e=>fa(e));if(typeof e==`function`||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,n])=>{let r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,``));t[r]=fa(n)}),t},pa=e=>!e||typeof e!=`string`||e.length===0||e.length>100||e.trim()!==e||e.includes(`/`)||e.includes(`\\`)?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ma(e){"@babel/helpers - typeof";return ma=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},ma(e)}function ha(e,t){if(ma(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(ma(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function ga(e){var t=ha(e,`string`);return ma(t)==`symbol`?t:t+``}function _a(e,t,n){return(t=ga(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?va(Object(n),!0).forEach(function(t){_a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ya=e=>e.msg||e.message||e.error_description||(typeof e.error==`string`?e.error:e.error?.message)||JSON.stringify(e),ba=async(e,t,n,r)=>{if(e&&typeof e==`object`&&`status`in e&&`ok`in e&&typeof e.status==`number`&&!n?.noResolveJson){let n=e,i=n.status||500;if(typeof n.json==`function`)n.json().then(e=>{let n=e?.statusCode||e?.code||i+``;t(new ca(ya(e),i,n,r))}).catch(()=>{if(r===`vectors`){let e=i+``;t(new ca(n.statusText||`HTTP ${i} error`,i,e,r))}else{let e=i+``;t(new ca(n.statusText||`HTTP ${i} error`,i,e,r))}});else{let e=i+``;t(new ca(n.statusText||`HTTP ${i} error`,i,e,r))}}else t(new la(ya(e),e,r))},xa=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`||e===`HEAD`||!r?W(W({},i),n):(da(r)?(i.headers=W({"Content-Type":`application/json`},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),W(W({},i),n))};async function Sa(e,t,n,r,i,a,o){return new Promise((s,c)=>{e(n,xa(t,r,i,a)).then(e=>{if(!e.ok)throw e;if(r?.noResolveJson)return e;if(o===`vectors`){let t=e.headers.get(`content-type`);if(e.headers.get(`content-length`)===`0`||e.status===204||!t||!t.includes(`application/json`))return{}}return e.json()}).then(e=>s(e)).catch(e=>ba(e,c,r,o))})}function Ca(e=`storage`){return{get:async(t,n,r,i)=>Sa(t,`GET`,n,r,i,void 0,e),post:async(t,n,r,i,a)=>Sa(t,`POST`,n,i,a,r,e),put:async(t,n,r,i,a)=>Sa(t,`PUT`,n,i,a,r,e),head:async(t,n,r,i)=>Sa(t,`HEAD`,n,W(W({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,a)=>Sa(t,`DELETE`,n,i,a,r,e)}}var{get:wa,post:Ta,put:Ea,head:Da,remove:Oa}=Ca(`storage`),ka=Ca(`vectors`),Aa=class{constructor(e,t={},n,r=`storage`){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=ua(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(sa(e))return{data:null,error:e};throw e}}},ja=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sa(t))return{data:null,error:t};throw t}}},Ma=Symbol.toStringTag,Na=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ma]=`BlobDownloadBuilder`,this.promise=null}asStream(){return new ja(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||=this.execute(),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sa(t))return{data:null,error:t};throw t}}},Pa={limit:100,offset:0,sortBy:{column:`name`,order:`asc`}},Fa={cacheControl:`3600`,contentType:`text/plain;charset=UTF-8`,upsert:!1},Ia=class extends Aa{constructor(e,t={},n,r){super(e,t,r,`storage`),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let a,o=W(W({},Fa),r),s=W(W({},i.headers),e===`POST`&&{"x-upsert":String(o.upsert)}),c=o.metadata;typeof Blob<`u`&&n instanceof Blob?(a=new FormData,a.append(`cacheControl`,o.cacheControl),c&&a.append(`metadata`,i.encodeMetadata(c)),a.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(a=n,a.has(`cacheControl`)||a.append(`cacheControl`,o.cacheControl),c&&!a.has(`metadata`)&&a.append(`metadata`,i.encodeMetadata(c))):(a=n,s[`cache-control`]=`max-age=${o.cacheControl}`,s[`content-type`]=o.contentType,c&&(s[`x-metadata`]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<`u`&&a instanceof ReadableStream||a&&typeof a==`object`&&`pipe`in a&&typeof a.pipe==`function`)&&!o.duplex&&(o.duplex=`half`)),r?.headers&&(s=W(W({},s),r.headers));let l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=await(e==`PUT`?Ea:Ta)(i.fetch,`${i.url}/object/${u}`,a,W({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate(`POST`,e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;let a=i._removeEmptyFolders(e),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);return s.searchParams.set(`token`,t),i.handleOperation(async()=>{let e,t=W({upsert:Fa.upsert},r),o=W(W({},i.headers),{"x-upsert":String(t.upsert)});return typeof Blob<`u`&&n instanceof Blob?(e=new FormData,e.append(`cacheControl`,t.cacheControl),e.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(e=n,e.append(`cacheControl`,t.cacheControl)):(e=n,o[`cache-control`]=`max-age=${t.cacheControl}`,o[`content-type`]=t.contentType),{path:a,fullPath:(await Ea(i.fetch,s.toString(),e,{headers:o})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e),i=W({},n.headers);t?.upsert&&(i[`x-upsert`]=`true`);let a=await Ta(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),s=o.searchParams.get(`token`);if(!s)throw new oa(`No token returned by API`);return{signedUrl:o.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate(`PUT`,e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Ta(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Ta(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),a=await Ta(r.fetch,`${r.url}/object/sign/${i}`,W({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),o=n?.download?`&download=${n.download===!0?``:n.download}`:``;return{signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{let i=await Ta(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?``:n.download}`:``;return i.map(e=>W(W({},e),{},{signedUrl:e.signedURL?encodeURI(`${r.url}${e.signedURL}${a}`):null}))})}download(e,t,n){let r=t?.transform===void 0?`object`:`render/image/authenticated`,i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:``,o=this._getFinalPath(e);return new Na(()=>wa(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0},n),this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);return t.handleOperation(async()=>fa(await wa(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await Da(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(sa(e)&&e instanceof la){let t=e.originalError;if([400,404].includes(t?.status))return{data:!1,error:e}}throw e}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?``:t.download}`:``;i!==``&&r.push(i);let a=t?.transform===void 0?`object`:`render/image`,o=this.transformOptsToQueryString(t?.transform||{});o!==``&&r.push(o);let s=r.join(`&`);return s!==``&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Oa(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{let i=W(W(W({},Pa),t),{},{prefix:e||``});return await Ta(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{let r=W({},e);return await Ta(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<`u`?Buffer.from(e).toString(`base64`):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,``)}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,``).replace(/\/+/g,`/`)}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join(`&`)}},La=`2.95.3`,Ra={"X-Client-Info":`storage-js/${La}`},za=class extends Aa{constructor(e,t={},n,r){let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes(`storage.supabase.`)&&(i.hostname=i.hostname.replace(`supabase.`,`storage.supabase.`));let a=i.href.replace(/\/$/,``),o=W(W({},Ra),t);super(a,o,n,`storage`)}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=t.listBucketOptionsToQueryString(e);return await wa(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await wa(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Ta(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Ea(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ta(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Oa(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&(`limit`in e&&(t.limit=String(e.limit)),`offset`in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?`?`+new URLSearchParams(t).toString():``}},Ba=class extends Aa{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=W(W({},Ra),t);super(r,i,n,`storage`)}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ta(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=new URLSearchParams;e?.limit!==void 0&&n.set(`limit`,e.limit.toString()),e?.offset!==void 0&&n.set(`offset`,e.offset.toString()),e?.sortColumn&&n.set(`sortColumn`,e.sortColumn),e?.sortOrder&&n.set(`sortOrder`,e.sortOrder),e?.search&&n.set(`search`,e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await wa(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Oa(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!pa(e))throw new oa(`Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.`);let n=new aa({baseUrl:this.url,catalogName:e,auth:{type:`custom`,getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){let n=e[t];return typeof n==`function`?async(...t)=>{try{return{data:await n.apply(e,t),error:null}}catch(e){if(r)throw e;return{data:null,error:e}}}:n}})}},Va=class extends Aa{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=W(W({},Ra),{},{"Content-Type":`application/json`},t);super(r,i,n,`vectors`)}async createIndex(e){var t=this;return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ka.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ka.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Ha=class extends Aa{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=W(W({},Ra),{},{"Content-Type":`application/json`},t);super(r,i,n,`vectors`)}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw Error(`Vector batch size must be between 1 and 500 items`);return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw Error(`segmentCount must be between 1 and 16`);if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw Error(`Keys batch size must be between 1 and 500 items`);return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Ua=class extends Aa{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=W(W({},Ra),{},{"Content-Type":`application/json`},t);super(r,i,n,`vectors`)}async createBucket(e){var t=this;return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ka.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Wa=class extends Ua{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Ga(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Ga=class extends Va{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Ka(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ka=class extends Ha{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},qa=class extends za{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Ia(this.url,this.headers,e,this.fetch)}get vectors(){return new Wa(this.url+`/vector`,{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ba(this.url+`/iceberg`,this.headers,this.fetch)}};const Ja=`2.95.3`,Ya=30*1e3,Xa=3*Ya,Za={"X-Client-Info":`gotrue-js/${Ja}`},Qa=`X-Supabase-Api-Version`,$a={"2024-01-01":{timestamp:Date.parse(`2024-01-01T00:00:00.0Z`),name:`2024-01-01`}},eo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;var to=class extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name=`AuthError`,this.status=t,this.code=n}};function G(e){return typeof e==`object`&&!!e&&`__isAuthError`in e}var no=class extends to{constructor(e,t,n){super(e,t,n),this.name=`AuthApiError`,this.status=t,this.code=n}};function ro(e){return G(e)&&e.name===`AuthApiError`}var io=class extends to{constructor(e,t){super(e),this.name=`AuthUnknownError`,this.originalError=t}},ao=class extends to{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}},oo=class extends ao{constructor(){super(`Auth session missing!`,`AuthSessionMissingError`,400,void 0)}};function so(e){return G(e)&&e.name===`AuthSessionMissingError`}var K=class extends ao{constructor(){super(`Auth session or user missing`,`AuthInvalidTokenResponseError`,500,void 0)}},co=class extends ao{constructor(e){super(e,`AuthInvalidCredentialsError`,400,void 0)}},lo=class extends ao{constructor(e,t=null){super(e,`AuthImplicitGrantRedirectError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function uo(e){return G(e)&&e.name===`AuthImplicitGrantRedirectError`}var fo=class extends ao{constructor(e,t=null){super(e,`AuthPKCEGrantCodeExchangeError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},po=class extends ao{constructor(){super(`PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.`,`AuthPKCECodeVerifierMissingError`,400,`pkce_code_verifier_not_found`)}},mo=class extends ao{constructor(e,t){super(e,`AuthRetryableFetchError`,t,void 0)}};function ho(e){return G(e)&&e.name===`AuthRetryableFetchError`}var go=class extends ao{constructor(e,t,n){super(e,`AuthWeakPasswordError`,t,`weak_password`),this.reasons=n}},_o=class extends ao{constructor(e){super(e,`AuthInvalidJwtError`,400,`invalid_jwt`)}},vo=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_`.split(``),yo=` 	
\r=`.split(``),bo=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yo.length;t+=1)e[yo[t].charCodeAt(0)]=-2;for(let t=0;t<vo.length;t+=1)e[vo[t].charCodeAt(0)]=t;return e})();function xo(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)n(vo[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue<<=6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)n(vo[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function So(e,t,n){let r=bo[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(r===-2)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function Co(e){let t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{Eo(e,r,n)};for(let t=0;t<e.length;t+=1)So(e.charCodeAt(t),i,a);return t.join(``)}function wo(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function To(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let t=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|t)+65536,n+=1}wo(r,t)}}function Eo(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw Error(`Invalid UTF-8 sequence`);--t.utf8seq}else if(t.utf8seq>0){if(e<=127)throw Error(`Invalid UTF-8 sequence`);t.codepoint=t.codepoint<<6|e&63,--t.utf8seq,t.utf8seq===0&&n(t.codepoint)}}function Do(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)So(e.charCodeAt(t),n,r);return new Uint8Array(t)}function Oo(e){let t=[];return To(e,e=>t.push(e)),new Uint8Array(t)}function ko(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>xo(e,n,r)),xo(null,n,r),t.join(``)}function Ao(e){return Math.round(Date.now()/1e3)+e}function jo(){return Symbol(`auth-callback`)}const Mo=()=>typeof window<`u`&&typeof document<`u`;var No={tested:!1,writable:!1};const Po=()=>{if(!Mo())return!1;try{if(typeof globalThis.localStorage!=`object`)return!1}catch{return!1}if(No.tested)return No.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),No.tested=!0,No.writable=!0}catch{No.tested=!0,No.writable=!1}return No.writable};function Fo(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]===`#`)try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch{}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}const Io=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Lo=e=>typeof e==`object`&&!!e&&`status`in e&&`ok`in e&&`json`in e&&typeof e.json==`function`,Ro=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},zo=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bo=async(e,t)=>{await e.removeItem(t)};var Vo=class e{constructor(){this.promise=new e.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Vo.promiseConstructor=Promise;function Ho(e){let t=e.split(`.`);if(t.length!==3)throw new _o(`Invalid JWT structure`);for(let e=0;e<t.length;e++)if(!eo.test(t[e]))throw new _o(`JWT not in base64url format`);return{header:JSON.parse(Co(t[0])),payload:JSON.parse(Co(t[1])),signature:Do(t[2]),raw:{header:t[0],payload:t[1]}}}async function Uo(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Wo(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{let r=await e(i);if(!t(i,null,r)){n(r);return}}catch(e){if(!t(i,e)){r(e);return}}})()})}function Go(e){return(`0`+e.toString(16)).substr(-2)}function Ko(){let e=new Uint32Array(56);if(typeof crypto>`u`){let e=``;for(let t=0;t<56;t++)e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~`.charAt(Math.floor(Math.random()*66));return e}return crypto.getRandomValues(e),Array.from(e,Go).join(``)}async function qo(e){let t=new TextEncoder().encode(e),n=await crypto.subtle.digest(`SHA-256`,t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join(``)}async function Jo(e){if(!(typeof crypto<`u`&&crypto.subtle!==void 0&&typeof TextEncoder<`u`))return console.warn(`WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.`),e;let t=await qo(e);return btoa(t).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=+$/,``)}async function Yo(e,t,n=!1){let r=Ko(),i=r;n&&(i+=`/PASSWORD_RECOVERY`),await Ro(e,`${t}-code-verifier`,i);let a=await Jo(r);return[a,r===a?`plain`:`s256`]}var Xo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zo(e){let t=e.headers.get(Qa);if(!t||!t.match(Xo))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Qo(e){if(!e)throw Error(`Missing exp claim`);if(e<=Math.floor(Date.now()/1e3))throw Error(`JWT has expired`)}function $o(e){switch(e){case`RS256`:return{name:`RSASSA-PKCS1-v1_5`,hash:{name:`SHA-256`}};case`ES256`:return{name:`ECDSA`,namedCurve:`P-256`,hash:{name:`SHA-256`}};default:throw Error(`Invalid alg claim`)}}var es=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(e){if(!es.test(e))throw Error(`@supabase/auth-js: Expected parameter to be UUID but is not`)}function ns(){return new Proxy({},{get:(e,t)=>{if(t===`__isUserNotAvailableProxy`)return!0;if(typeof t==`symbol`){let e=t.toString();if(e===`Symbol(Symbol.toPrimitive)`||e===`Symbol(Symbol.toStringTag)`||e===`Symbol(util.inspect.custom)`)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rs(e,t){return new Proxy(e,{get:(e,n,r)=>{if(n===`__isInsecureUserWarningProxy`)return!0;if(typeof n==`symbol`){let t=n.toString();if(t===`Symbol(Symbol.toPrimitive)`||t===`Symbol(Symbol.toStringTag)`||t===`Symbol(util.inspect.custom)`||t===`Symbol(nodejs.util.inspect.custom)`)return Reflect.get(e,n,r)}return!t.value&&typeof n==`string`&&(console.warn(`Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server.`),t.value=!0),Reflect.get(e,n,r)}})}function is(e){return JSON.parse(JSON.stringify(e))}var as=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),os=[502,503,504];async function ss(e){if(!Lo(e))throw new mo(as(e),0);if(os.includes(e.status))throw new mo(as(e),e.status);let t;try{t=await e.json()}catch(e){throw new io(as(e),e)}let n,r=Zo(e);if(r&&r.getTime()>=$a[`2024-01-01`].timestamp&&typeof t==`object`&&t&&typeof t.code==`string`?n=t.code:typeof t==`object`&&t&&typeof t.error_code==`string`&&(n=t.error_code),n){if(n===`weak_password`)throw new go(as(t),e.status,t.weak_password?.reasons||[]);if(n===`session_not_found`)throw new oo}else if(typeof t==`object`&&t&&typeof t.weak_password==`object`&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0))throw new go(as(t),e.status,t.weak_password.reasons);throw new no(as(t),e.status||500,n)}var cs=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`?i:(i.headers=Object.assign({"Content-Type":`application/json;charset=UTF-8`},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function q(e,t,n,r){let i=Object.assign({},r?.headers);i[`X-Supabase-Api-Version`]||(i[Qa]=$a[`2024-01-01`].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=r?.query??{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let o=await ls(e,t,n+(Object.keys(a).length?`?`+new URLSearchParams(a).toString():``),{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(o):{data:Object.assign({},o),error:null}}async function ls(e,t,n,r,i,a){let o=cs(t,r,i,a),s;try{s=await e(n,Object.assign({},o))}catch(e){throw console.error(e),new mo(as(e),0)}if(s.ok||await ss(s),r?.noResolveJson)return s;try{return await s.json()}catch(e){await ss(e)}}function us(e){let t=null;gs(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=Ao(e.expires_in)));let n=e.user??e;return{data:{session:t,user:n},error:null}}function ds(e){let t=us(e);return!t.error&&e.weak_password&&typeof e.weak_password==`object`&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message==`string`&&e.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0)&&(t.data.weak_password=e.weak_password),t}function fs(e){return{data:{user:e.user??e},error:null}}function ps(e){return{data:e,error:null}}function ms(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Jr(e,[`action_link`,`email_otp`,`hashed_token`,`redirect_to`,`verification_type`]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},o)},error:null}}function hs(e){return e}function gs(e){return e.access_token&&e.refresh_token&&e.expires_in}const _s=[`global`,`local`,`others`];var vs=class{constructor({url:e=``,headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Io(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=_s[0]){if(_s.indexOf(t)<0)throw Error(`@supabase/auth-js: Parameter scope must be one of ${_s.join(`, `)}`);try{return await q(this.fetch,`POST`,`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(G(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await q(this.fetch,`POST`,`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:fs})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,n=Jr(e,[`options`]),r=Object.assign(Object.assign({},n),t);return`newEmail`in n&&(r.new_email=n?.newEmail,delete r.newEmail),await q(this.fetch,`POST`,`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ms,redirectTo:t?.redirectTo})}catch(e){if(G(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await q(this.fetch,`POST`,`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fs})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async listUsers(e){try{let t={nextPage:null,lastPage:0,total:0},n=await q(this.fetch,`GET`,`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:hs});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(G(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){ts(e);try{return await q(this.fetch,`GET`,`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fs})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){ts(e);try{return await q(this.fetch,`PUT`,`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:fs})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){ts(e);try{return await q(this.fetch,`DELETE`,`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:fs})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){ts(e.userId);try{let{data:t,error:n}=await q(this.fetch,`GET`,`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(G(e))return{data:null,error:e};throw e}}async _deleteFactor(e){ts(e.userId),ts(e.id);try{return{data:await q(this.fetch,`DELETE`,`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(G(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){try{let t={nextPage:null,lastPage:0,total:0},n=await q(this.fetch,`GET`,`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:hs});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(G(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await q(this.fetch,`POST`,`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(G(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await q(this.fetch,`GET`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(G(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await q(this.fetch,`PUT`,`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(G(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await q(this.fetch,`DELETE`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(G(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await q(this.fetch,`POST`,`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(G(e))return{data:null,error:e};throw e}}};function ys(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const bs={debug:!!(globalThis&&Po()&&globalThis.localStorage&&globalThis.localStorage.getItem(`supabase.gotrue-js.locks.debug`)===`true`)};var xs=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Ss=class extends xs{};async function Cs(e,t,n){bs.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquire lock`,e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),bs.debug&&console.log(`@supabase/gotrue-js: navigatorLock acquire timed out`,e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:`exclusive`,ifAvailable:!0}:{mode:`exclusive`,signal:r.signal},async r=>{if(r){bs.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquired`,e,r.name);try{return await n()}finally{bs.debug&&console.log(`@supabase/gotrue-js: navigatorLock: released`,e,r.name)}}else if(t===0)throw bs.debug&&console.log(`@supabase/gotrue-js: navigatorLock: not immediately available`,e),new Ss(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);else{if(bs.debug)try{let e=await globalThis.navigator.locks.query();console.log(`@supabase/gotrue-js: Navigator LockManager state`,JSON.stringify(e,null,`  `))}catch(e){console.warn(`@supabase/gotrue-js: Error when querying Navigator LockManager state`,e)}return console.warn(`@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request`),await n()}}))}function ws(){if(typeof globalThis!=`object`)try{Object.defineProperty(Object.prototype,`__magic__`,{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<`u`&&(self.globalThis=self)}}function Ts(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Es(e){return parseInt(e,16)}function Ds(e){let t=new TextEncoder().encode(e);return`0x`+Array.from(t,e=>e.toString(16).padStart(2,`0`)).join(``)}function Os(e){let{chainId:t,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:s,resources:c,scheme:l,uri:u,version:d}=e;if(!Number.isInteger(t))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw Error(`@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.`);if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw Error(`@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.`);if(d!==`1`)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(e.statement?.includes(`
`))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=Ts(e.address),p=`${l?`${l}://${n}`:n} wants you to sign in with your Ethereum account:\n${f}\n\n${e.statement?`${e.statement}\n`:``}`,m=`URI: ${u}\nVersion: ${d}\nChain ID: ${t}${a?`\nNonce: ${a}`:``}\nIssued At: ${i.toISOString()}`;if(r&&(m+=`\nExpiration Time: ${r.toISOString()}`),o&&(m+=`\nNot Before: ${o.toISOString()}`),s&&(m+=`\nRequest ID: ${s}`),c){let e=`
Resources:`;for(let t of c){if(!t||typeof t!=`string`)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}m+=e}return`${p}\n${m}`}var ks=class extends Error{constructor({message:e,code:t,cause:n,name:r}){super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=r??(n instanceof Error?n.name:void 0)??`Unknown Error`,this.code=t}},As=class extends ks{constructor(e,t){super({code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:t,message:e}),this.name=`WebAuthnUnknownError`,this.originalError=t}};function js({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new ks({message:`Registration ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`ConstraintError`){if(n.authenticatorSelection?.requireResidentKey===!0)return new ks({message:`Discoverable credentials were required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT`,cause:e});if(t.mediation===`conditional`&&n.authenticatorSelection?.userVerification===`required`)return new ks({message:`User verification was required during automatic registration but it could not be performed`,code:`ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE`,cause:e});if(n.authenticatorSelection?.userVerification===`required`)return new ks({message:`User verification was required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT`,cause:e})}else if(e.name===`InvalidStateError`)return new ks({message:`The authenticator was previously registered`,code:`ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED`,cause:e});else if(e.name===`NotAllowedError`)return new ks({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`NotSupportedError`)return n.pubKeyCredParams.filter(e=>e.type===`public-key`).length===0?new ks({message:`No entry in pubKeyCredParams was of type "public-key"`,code:`ERROR_MALFORMED_PUBKEYCREDPARAMS`,cause:e}):new ks({message:`No available authenticator supported any of the specified pubKeyCredParams algorithms`,code:`ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(Rs(t)){if(n.rp.id!==t)return new ks({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new ks({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`TypeError`){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new ks({message:`User ID was not between 1 and 64 characters`,code:`ERROR_INVALID_USER_ID_LENGTH`,cause:e})}else if(e.name===`UnknownError`)return new ks({message:`The authenticator was unable to process the specified options, or could not create a new credential`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new ks({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}function Ms({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new ks({message:`Authentication ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`NotAllowedError`)return new ks({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(Rs(t)){if(n.rpId!==t)return new ks({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new ks({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`UnknownError`)return new ks({message:`The authenticator was unable to process the specified options, or could not create a new assertion signature`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new ks({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}const Ns=new class{createNewAbortSignal(){if(this.controller){let e=Error(`Cancelling existing WebAuthn API call for new one`);e.name=`AbortError`,this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error(`Manually cancelling existing WebAuthn API call`);e.name=`AbortError`,this.controller.abort(e),this.controller=void 0}}};function Ps(e){if(!e)throw Error(`Credential creation options are required`);if(typeof PublicKeyCredential<`u`&&`parseCreationOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON==`function`)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=Jr(e,[`challenge`,`user`,`excludeCredentials`]),a=Do(t).buffer,o=Object.assign(Object.assign({},n),{id:Do(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];s.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Do(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return s}function Fs(e){if(!e)throw Error(`Credential request options are required`);if(typeof PublicKeyCredential<`u`&&`parseRequestOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON==`function`)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=Jr(e,[`challenge`,`allowCredentials`]),i=Do(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=Array(n.length);for(let e=0;e<n.length;e++){let t=n[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Do(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return a}function Is(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:ko(new Uint8Array(e.response.attestationObject)),clientDataJSON:ko(new Uint8Array(e.response.clientDataJSON))},type:`public-key`,clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:t.authenticatorAttachment??void 0}}function Ls(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e,n=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ko(new Uint8Array(r.authenticatorData)),clientDataJSON:ko(new Uint8Array(r.clientDataJSON)),signature:ko(new Uint8Array(r.signature)),userHandle:r.userHandle?ko(new Uint8Array(r.userHandle)):void 0},type:`public-key`,clientExtensionResults:n,authenticatorAttachment:t.authenticatorAttachment??void 0}}function Rs(e){return e===`localhost`||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zs(){return!!(Mo()&&`PublicKeyCredential`in window&&window.PublicKeyCredential&&`credentials`in navigator&&typeof(navigator==null?void 0:navigator.credentials)?.create==`function`&&typeof(navigator==null?void 0:navigator.credentials)?.get==`function`)}async function Bs(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new As(`Browser returned unexpected credential type`,t)}:{data:null,error:new As(`Empty credential response`,t)}}catch(t){return{data:null,error:js({error:t,options:e})}}}async function Vs(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new As(`Browser returned unexpected credential type`,t)}:{data:null,error:new As(`Empty credential response`,t)}}catch(t){return{data:null,error:Ms({error:t,options:e})}}}const Hs={hints:[`security-key`],authenticatorSelection:{authenticatorAttachment:`cross-platform`,requireResidentKey:!1,userVerification:`preferred`,residentKey:`discouraged`},attestation:`direct`},Us={userVerification:`preferred`,hints:[`security-key`],attestation:`direct`};function Ws(...e){let t=e=>typeof e==`object`&&!!e&&!Array.isArray(e),n=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(let i of e)if(i)for(let e in i){let a=i[e];if(a!==void 0)if(Array.isArray(a))r[e]=a;else if(n(a))r[e]=a;else if(t(a)){let n=r[e];t(n)?r[e]=Ws(n,a):r[e]=Ws(a)}else r[e]=a}return r}function Gs(e,t){return Ws(Hs,e,t||{})}function Ks(e,t){return Ws(Us,e,t||{})}var qs=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:`webauthn`}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:r},i){try{let{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:o};let s=r??Ns.createNewAbortSignal();if(a.webauthn.type===`create`){let{user:e}=a.webauthn.credential_options.publicKey;if(!e.name){let t=n;if(t)e.name=`${e.id}:${t}`;else{let t=(await this.client.getUser()).data.user,n=t?.user_metadata?.name||t?.email||t?.id||`User`;e.name=`${e.id}:${n}`}}e.displayName||=e.name}switch(a.webauthn.type){case`create`:{let{data:t,error:n}=await Bs({publicKey:Gs(a.webauthn.credential_options.publicKey,i?.create),signal:s});return t?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:t}},error:null}:{data:null,error:n}}case`request`:{let t=Ks(a.webauthn.credential_options.publicKey,i?.request),{data:n,error:r}=await Vs(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:t,signal:s}));return n?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}}}catch(e){return G(e)?{data:null,error:e}:{data:null,error:new io(`Unexpected error in challenge`,e)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new to(`rpId is required for WebAuthn authentication`)};try{if(!zs())return{data:null,error:new io(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:r},{request:i});if(!a)return{data:null,error:o};let{webauthn:s}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:s.type,rpId:t,rpOrigins:n,credential_response:s.credential_response}})}catch(e){return G(e)?{data:null,error:e}:{data:null,error:new io(`Unexpected error in authenticate`,e)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new to(`rpId is required for WebAuthn registration`)};try{if(!zs())return{data:null,error:new io(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>t.data?.all.find(t=>t.factor_type===`webauthn`&&t.friendly_name===e&&t.status!==`unverified`)).then(e=>e?this.client.mfa.unenroll({factorId:e?.id}):void 0),{data:null,error:o};let{data:s,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:r},{create:i});return s?this._verify({factorId:a.id,challengeId:s.challengeId,webauthn:{rpId:t,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:c}}catch(e){return G(e)?{data:null,error:e}:{data:null,error:new io(`Unexpected error in register`,e)}}}};ws();var Js={url:`http://localhost:9999`,storageKey:`supabase.auth.token`,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Za,flowType:`implicit`,debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ys(e,t,n){return await n()}var Xs={},Zs=class e{get jwks(){return Xs[this.storageKey]?.jwks??{keys:[]}}set jwks(e){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{jwks:e})}get jwks_cached_at(){return Xs[this.storageKey]?.cachedAt??-(2**53-1)}set jwks_cached_at(e){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{cachedAt:e})}constructor(t){var n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let r=Object.assign(Object.assign({},Js),t);if(this.storageKey=r.storageKey,this.instanceID=e.nextInstanceID[this.storageKey]??0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug==`function`&&(this.logger=r.debug),this.instanceID>0&&Mo()){let e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new vs({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Io(r.fetch),this.lock=r.lock||Ys,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,this.lockAcquireTimeout=r.lockAcquireTimeout,r.lock?this.lock=r.lock:this.persistSession&&Mo()&&(globalThis==null?void 0:globalThis.navigator)?.locks?this.lock=Cs:this.lock=Ys,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=-(2**53-1)),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qs(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Po()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ys(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ys(this.memoryStorage)),Mo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error(`Failed to create a new BroadcastChannel, multi-tab state changes will not be available`,e)}(n=this.broadcastChannel)==null||n.addEventListener(`message`,async e=>{this._debug(`received broadcast notification from other tab or client`,e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(e){this._debug(`#broadcastChannel`,`error`,e)}})}this.initialize().catch(e=>{this._debug(`#initialize()`,`error`,e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ja}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise}async _initialize(){try{let e={},t=`none`;if(Mo()&&(e=Fo(window.location.href),this._isImplicitGrantCallback(e)?t=`implicit`:await this._isPKCECallback(e)&&(t=`pkce`)),Mo()&&this.detectSessionInUrl&&t!==`none`){let{data:n,error:r}=await this._getSessionFromURL(e,t);if(r){if(this._debug(`#_initialize()`,`error detecting session from URL`,r),uo(r)){let e=r.details?.code;if(e===`identity_already_exists`||e===`identity_not_found`||e===`single_identity_not_deletable`)return{error:r}}return{error:r}}let{session:i,redirectType:a}=n;return this._debug(`#_initialize()`,`detected session in URL`,i,`redirect type`,a),await this._saveSession(i),setTimeout(async()=>{a===`recovery`?await this._notifyAllSubscribers(`PASSWORD_RECOVERY`,i):await this._notifyAllSubscribers(`SIGNED_IN`,i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return G(e)?this._returnResult({error:e}):this._returnResult({error:new io(`Unexpected error during initialization`,e)})}finally{await this._handleVisibilityChange(),this._debug(`#_initialize()`,`end`)}}async signInAnonymously(e){try{let{data:t,error:n}=await q(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{data:e?.options?.data??{},gotrue_meta_security:{captcha_token:e?.options?.captchaToken}},xform:us});if(n||!t)return this._returnResult({data:{user:null,session:null},error:n});let r=t.session,i=t.user;return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers(`SIGNED_IN`,r)),this._returnResult({data:{user:i,session:r},error:null})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e,a=null,o=null;this.flowType===`pkce`&&([a,o]=await Yo(this.storage,this.storageKey)),t=await q(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:{email:n,password:r,data:i?.data??{},gotrue_meta_security:{captcha_token:i?.captchaToken},code_challenge:a,code_challenge_method:o},xform:us})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await q(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{phone:n,password:r,data:i?.data??{},channel:i?.channel??`sms`,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:us})}else throw new co(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r||!n)return await Bo(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:r});let i=n.session,a=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,i)),this._returnResult({data:{user:a,session:i},error:null})}catch(e){if(await Bo(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e;t=await q(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ds})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await q(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ds})}else throw new co(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){let e=new K;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){return await this._handleProviderSignIn(e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:e.options?.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case`ethereum`:return await this.signInWithEthereum(e);case`solana`:return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(Mo())if(typeof i==`object`)s=i;else{let e=window;if(`ethereum`in e&&typeof e.ethereum==`object`&&`request`in e.ethereum&&typeof e.ethereum.request==`function`)s=e.ethereum;else throw Error(`@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href),l=await s.request({method:`eth_requestAccounts`}).then(e=>e).catch(()=>{throw Error(`@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid`)});if(!l||l.length===0)throw Error(`@supabase/auth-js: No accounts available. Please ensure the wallet is connected.`);let u=Ts(l[0]),d=o?.signInWithEthereum?.chainId;d||=Es(await s.request({method:`eth_chainId`})),t=Os({domain:c.host,address:u,statement:a,uri:c.href,version:`1`,chainId:d,nonce:o?.signInWithEthereum?.nonce,issuedAt:o?.signInWithEthereum?.issuedAt??new Date,expirationTime:o?.signInWithEthereum?.expirationTime,notBefore:o?.signInWithEthereum?.notBefore,requestId:o?.signInWithEthereum?.requestId,resources:o?.signInWithEthereum?.resources}),n=await s.request({method:`personal_sign`,params:[Ds(t),u]})}try{let{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`ethereum`,message:t,signature:n},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:us});if(i)throw i;if(!r||!r.session||!r.user){let e=new K;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(Mo())if(typeof i==`object`)s=i;else{let e=window;if(`solana`in e&&typeof e.solana==`object`&&(`signIn`in e.solana&&typeof e.solana.signIn==`function`||`signMessage`in e.solana&&typeof e.solana.signMessage==`function`))s=e.solana;else throw Error(`@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href);if(`signIn`in s&&s.signIn){let e=await s.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},o?.signInWithSolana),{version:`1`,domain:c.host,uri:c.href}),a?{statement:a}:null)),r;if(Array.isArray(e)&&e[0]&&typeof e[0]==`object`)r=e[0];else if(e&&typeof e==`object`&&`signedMessage`in e&&`signature`in e)r=e;else throw Error(`@supabase/auth-js: Wallet method signIn() returned unrecognized value`);if(`signedMessage`in r&&`signature`in r&&(typeof r.signedMessage==`string`||r.signedMessage instanceof Uint8Array)&&r.signature instanceof Uint8Array)t=typeof r.signedMessage==`string`?r.signedMessage:new TextDecoder().decode(r.signedMessage),n=r.signature;else throw Error(`@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields`)}else{if(!(`signMessage`in s)||typeof s.signMessage!=`function`||!(`publicKey`in s)||typeof s!=`object`||!s.publicKey||!(`toBase58`in s.publicKey)||typeof s.publicKey.toBase58!=`function`)throw Error(`@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API`);t=[`${c.host} wants you to sign in with your Solana account:`,s.publicKey.toBase58(),...a?[``,a,``]:[``],`Version: 1`,`URI: ${c.href}`,`Issued At: ${o?.signInWithSolana?.issuedAt??new Date().toISOString()}`,...o?.signInWithSolana?.notBefore?[`Not Before: ${o.signInWithSolana.notBefore}`]:[],...o?.signInWithSolana?.expirationTime?[`Expiration Time: ${o.signInWithSolana.expirationTime}`]:[],...o?.signInWithSolana?.chainId?[`Chain ID: ${o.signInWithSolana.chainId}`]:[],...o?.signInWithSolana?.nonce?[`Nonce: ${o.signInWithSolana.nonce}`]:[],...o?.signInWithSolana?.requestId?[`Request ID: ${o.signInWithSolana.requestId}`]:[],...o?.signInWithSolana?.resources?.length?[`Resources`,...o.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join(`
`);let e=await s.signMessage(new TextEncoder().encode(t),`utf8`);if(!e||!(e instanceof Uint8Array))throw Error(`@supabase/auth-js: Wallet signMessage() API returned an recognized value`);n=e}}try{let{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`solana`,message:t,signature:ko(n)},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:us});if(i)throw i;if(!r||!r.session||!r.user){let e=new K;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let[t,n]=(await zo(this.storage,`${this.storageKey}-code-verifier`)??``).split(`/`);try{if(!t&&this.flowType===`pkce`)throw new po;let{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:us});if(await Bo(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!r||!r.session||!r.user){let e=new K;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:i})}catch(e){if(await Bo(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:n,token:r,access_token:i,nonce:a}=e,{data:o,error:s}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:us});if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!o||!o.session||!o.user){let e=new K;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers(`SIGNED_IN`,o.session)),this._returnResult({data:o,error:s})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){try{if(`email`in e){let{email:t,options:n}=e,r=null,i=null;this.flowType===`pkce`&&([r,i]=await Yo(this.storage,this.storageKey));let{error:a}=await q(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{email:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},code_challenge:r,code_challenge_method:i},redirectTo:n?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if(`phone`in e){let{phone:t,options:n}=e,{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},channel:n?.channel??`sms`}});return this._returnResult({data:{user:null,session:null,messageId:r?.message_id},error:i})}throw new co(`You must provide either an email or phone number.`)}catch(e){if(await Bo(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){try{let t,n;`options`in e&&(t=e.options?.redirectTo,n=e.options?.captchaToken);let{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:t,xform:us});if(i)throw i;if(!r)throw Error(`An error occurred on token verification.`);let a=r.session,o=r.user;return a?.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type==`recovery`?`PASSWORD_RECOVERY`:`SIGNED_IN`,a)),this._returnResult({data:{user:o,session:a},error:null})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){try{let t=null,n=null;this.flowType===`pkce`&&([t,n]=await Yo(this.storage,this.storageKey));let r=await q(this.fetch,`POST`,`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},`providerId`in e?{provider_id:e.providerId}:null),`domain`in e?{domain:e.domain}:null),{redirect_to:e.options?.redirectTo??void 0}),e?.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:t,code_challenge_method:n}),headers:this.headers,xform:ps});return r.data?.url&&Mo()&&!e.options?.skipBrowserRedirect&&window.location.assign(r.data.url),this._returnResult(r)}catch(e){if(await Bo(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new oo;let{error:r}=await q(this.fetch,`GET`,`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if(`email`in e){let{email:n,type:r,options:i}=e,{error:a}=await q(this.fetch,`POST`,t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if(`phone`in e){let{phone:n,type:r,options:i}=e,{data:a,error:o}=await q(this.fetch,`POST`,t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new co(`You must provide either an email or phone number and a type`)}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug(`#_acquireLock`,`begin`,e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug(`#_acquireLock`,`lock acquired for storage key`,this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch{}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug(`#_acquireLock`,`lock released for storage key`,this.storageKey),this.lockAcquired=!1}})}finally{this._debug(`#_acquireLock`,`end`)}}async _useSession(e){this._debug(`#_useSession`,`begin`);try{return await e(await this.__loadSession())}finally{this._debug(`#_useSession`,`end`)}}async __loadSession(){this._debug(`#__loadSession()`,`begin`),this.lockAcquired||this._debug(`#__loadSession()`,`used outside of an acquired lock!`,Error().stack);try{let e=null,t=await zo(this.storage,this.storageKey);if(this._debug(`#getSession()`,`session from storage`,t),t!==null&&(this._isValidSession(t)?e=t:(this._debug(`#getSession()`,`session from storage is not valid`),await this._removeSession())),!e)return{data:{session:null},error:null};let n=e.expires_at?e.expires_at*1e3-Date.now()<Xa:!1;if(this._debug(`#__loadSession()`,`session has${n?``:` not`} expired`,`expires_at`,e.expires_at),!n){if(this.userStorage){let t=await zo(this.userStorage,this.storageKey+`-user`);t?.user?e.user=t.user:e.user=ns()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let t={value:this.suppressGetSessionWarning};e.user=rs(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug(`#__loadSession()`,`end`)}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await q(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:e,xform:fs}):await this._useSession(async e=>{let{data:t,error:n}=e;if(n)throw n;return!t.session?.access_token&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new oo}:await q(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:t.session?.access_token??void 0,xform:fs})})}catch(e){if(G(e))return so(e)&&(await this._removeSession(),await Bo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{let{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new oo;let a=r.session,o=null,s=null;this.flowType===`pkce`&&e.email!=null&&([o,s]=await Yo(this.storage,this.storageKey));let{data:c,error:l}=await q(this.fetch,`PUT`,`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:a.access_token,xform:fs});if(l)throw l;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers(`USER_UPDATED`,a),this._returnResult({data:{user:a.user},error:null})})}catch(e){if(await Bo(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new oo;let t=Date.now()/1e3,n=t,r=!0,i=null,{payload:a}=Ho(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){let{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:r,error:a}=await this._getUser(e.access_token);if(a)return this._returnResult({data:{user:null,session:null},error:a});i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:`bearer`,expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers(`SIGNED_IN`,i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(e){if(G(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{if(!e){let{data:n,error:r}=t;if(r)throw r;e=n.session??void 0}if(!e?.refresh_token)throw new oo;let{data:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!Mo())throw new lo(`No browser detected.`);if(e.error||e.error_description||e.error_code)throw new lo(e.error_description||`Error in URL with unspecified error_description`,{error:e.error||`unspecified_error`,code:e.error_code||`unspecified_code`});switch(t){case`implicit`:if(this.flowType===`pkce`)throw new fo(`Not a valid PKCE flow url.`);break;case`pkce`:if(this.flowType===`implicit`)throw new lo(`Not a valid implicit grant flow url.`);break;default:}if(t===`pkce`){if(this._debug(`#_initialize()`,`begin`,`is PKCE flow`,!0),!e.code)throw new fo(`No code detected.`);let{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;let r=new URL(window.location.href);return r.searchParams.delete(`code`),window.history.replaceState(window.history.state,``,r.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:o,expires_at:s,token_type:c}=e;if(!i||!o||!a||!c)throw new lo(`No session defined in URL`);let l=Math.round(Date.now()/1e3),u=parseInt(o),d=l+u;s&&(d=parseInt(s));let f=d-l;f*1e3<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);let p=d-u;l-p>=120?console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale`,p,d,l):l-p<0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew`,p,d,l);let{data:m,error:h}=await this._getUser(i);if(h)throw h;let g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:a,token_type:c,user:m.user};return window.location.hash=``,this._debug(`#_getSessionFromURL()`,`clearing window.location.hash`),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(e){if(G(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl==`function`?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await zo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:`global`}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:`global`}){return await this._useSession(async t=>{let{data:n,error:r}=t;if(r&&!so(r))return this._returnResult({error:r});let i=n.session?.access_token;if(i){let{error:t}=await this.admin.signOut(i,e);if(t&&!(ro(t)&&(t.status===404||t.status===401||t.status===403)||so(t)))return this._returnResult({error:t})}return e!==`others`&&(await this._removeSession(),await Bo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=jo(),n={id:t,callback:e,unsubscribe:()=>{this._debug(`#unsubscribe()`,`state change callback with id removed`,t),this.stateChangeEmitters.delete(t)}};return this._debug(`#onAuthStateChange()`,`registered callback with id`,t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{try{let{data:{session:n},error:r}=t;if(r)throw r;await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,n),this._debug(`INITIAL_SESSION`,`callback id`,e,`session`,n)}catch(t){await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,null),this._debug(`INITIAL_SESSION`,`callback id`,e,`error`,t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;this.flowType===`pkce`&&([n,r]=await Yo(this.storage,this.storageKey,!0));try{return await q(this.fetch,`POST`,`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(await Bo(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){try{let{data:e,error:t}=await this.getUser();if(t)throw t;return this._returnResult({data:{identities:e.user.identities??[]},error:null})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return`token`in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){try{let{data:t,error:n}=await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;let i=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,`GET`,i,{headers:this.headers,jwt:n.session?.access_token??void 0})});if(n)throw n;return Mo()&&!e.options?.skipBrowserRedirect&&window.location.assign(t?.url),this._returnResult({data:{provider:e.provider,url:t?.url},error:null})}catch(t){if(G(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{try{let{error:n,data:{session:r}}=t;if(n)throw n;let{options:i,provider:a,token:o,access_token:s,nonce:c}=e,{data:l,error:u}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:r?.access_token??void 0,body:{provider:a,id_token:o,access_token:s,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:us});return u?this._returnResult({data:{user:null,session:null},error:u}):!l||!l.session||!l.user?this._returnResult({data:{user:null,session:null},error:new K}):(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers(`USER_UPDATED`,l.session)),this._returnResult({data:l,error:u}))}catch(e){if(await Bo(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;return await q(this.fetch,`DELETE`,`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:n.session?.access_token??void 0})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,`begin`);try{let n=Date.now();return await Wo(async n=>(n>0&&await Uo(200*2**(n-1)),this._debug(t,`refreshing attempt`,n),await q(this.fetch,`POST`,`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:us})),(e,t)=>{let r=200*2**e;return t&&ho(t)&&Date.now()+r-n<3e4})}catch(e){if(this._debug(t,`error`,e),G(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,`end`)}}_isValidSession(e){return typeof e==`object`&&!!e&&`access_token`in e&&`refresh_token`in e&&`expires_at`in e}async _handleProviderSignIn(e,t){let n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug(`#_handleProviderSignIn()`,`provider`,e,`options`,t,`url`,n),Mo()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){let e=`#_recoverAndRefresh()`;this._debug(e,`begin`);try{let t=await zo(this.storage,this.storageKey);if(t&&this.userStorage){let e=await zo(this.userStorage,this.storageKey+`-user`);!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!e&&(e={user:t.user},await Ro(this.userStorage,this.storageKey+`-user`,e)),t.user=e?.user??ns()}else if(t&&!t.user&&!t.user){let e=await zo(this.storage,this.storageKey+`-user`);e&&e?.user?(t.user=e.user,await Bo(this.storage,this.storageKey+`-user`),await Ro(this.storage,this.storageKey,t)):t.user=ns()}if(this._debug(e,`session from storage`,t),!this._isValidSession(t)){this._debug(e,`session is not valid`),t!==null&&await this._removeSession();return}let n=(t.expires_at??1/0)*1e3-Date.now()<Xa;if(this._debug(e,`session has${n?``:` not`} expired with margin of ${Xa}s`),n){if(this.autoRefreshToken&&t.refresh_token){let{error:n}=await this._callRefreshToken(t.refresh_token);n&&(console.error(n),ho(n)||(this._debug(e,`refresh failed with a non-retryable error, removing the session`,n),await this._removeSession()))}}else if(t.user&&t.user.__isUserNotAvailableProxy===!0)try{let{data:n,error:r}=await this._getUser(t.access_token);!r&&n?.user?(t.user=n.user,await this._saveSession(t),await this._notifyAllSubscribers(`SIGNED_IN`,t)):this._debug(e,`could not get user data, skipping SIGNED_IN notification`)}catch(t){console.error(`Error getting user data:`,t),this._debug(e,`error getting user data, skipping SIGNED_IN notification`,t)}else await this._notifyAllSubscribers(`SIGNED_IN`,t)}catch(t){this._debug(e,`error`,t),console.error(t);return}finally{this._debug(e,`end`)}}async _callRefreshToken(e){var t,n;if(!e)throw new oo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,`begin`);try{this.refreshingDeferred=new Vo;let{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new oo;await this._saveSession(t.session),await this._notifyAllSubscribers(`TOKEN_REFRESHED`,t.session);let r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,`error`,e),G(e)){let n={data:null,error:e};return ho(e)||await this._removeSession(),(t=this.refreshingDeferred)==null||t.resolve(n),n}throw(n=this.refreshingDeferred)==null||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,`end`)}}async _notifyAllSubscribers(e,t,n=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,`begin`,t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,`end`)}}async _saveSession(e){this._debug(`#_saveSession()`,e),this.suppressGetSessionWarning=!0,await Bo(this.storage,`${this.storageKey}-code-verifier`);let t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Ro(this.userStorage,this.storageKey+`-user`,{user:t.user});let e=Object.assign({},t);delete e.user;let r=is(e);await Ro(this.storage,this.storageKey,r)}else{let e=is(t);await Ro(this.storage,this.storageKey,e)}}async _removeSession(){this._debug(`#_removeSession()`),this.suppressGetSessionWarning=!1,await Bo(this.storage,this.storageKey),await Bo(this.storage,this.storageKey+`-code-verifier`),await Bo(this.storage,this.storageKey+`-user`),this.userStorage&&await Bo(this.userStorage,this.storageKey+`-user`),await this._notifyAllSubscribers(`SIGNED_OUT`,null)}_removeVisibilityChangedCallback(){this._debug(`#_removeVisibilityChangedCallback()`);let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mo()&&window!=null&&window.removeEventListener&&window.removeEventListener(`visibilitychange`,e)}catch(e){console.error(`removing visibilitychange callback failed`,e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug(`#_startAutoRefresh()`);let e=setInterval(()=>this._autoRefreshTokenTick(),Ya);this.autoRefreshTicker=e,e&&typeof e==`object`&&typeof e.unref==`function`?e.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(e);let t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t==`object`&&typeof t.unref==`function`?t.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug(`#_stopAutoRefresh()`);let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);let t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug(`#_autoRefreshTokenTick()`,`begin`);try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug(`#_autoRefreshTokenTick()`,`no session`);return}let r=Math.floor((n.expires_at*1e3-e)/Ya);this._debug(`#_autoRefreshTokenTick()`,`access token expires in ${r} ticks, a tick lasts ${Ya}ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error(`Auto refresh tick failed with error. This is likely a transient error.`,e)}}finally{this._debug(`#_autoRefreshTokenTick()`,`end`)}})}catch(e){if(e.isAcquireTimeout||e instanceof xs)this._debug(`auto refresh token tick lock not available`);else throw e}}async _handleVisibilityChange(){if(this._debug(`#_handleVisibilityChange()`),!Mo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug(`#visibilityChangedCallback`,`error`,e)}},window==null||window.addEventListener(`visibilitychange`,this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error(`_handleVisibilityChange`,e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,`visibilityState`,document.visibilityState),document.visibilityState===`visible`?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!==`visible`){this._debug(t,`acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting`);return}await this._recoverAndRefresh()}))):document.visibilityState===`hidden`&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){let r=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType===`pkce`){let[e,t]=await Yo(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(n?.queryParams){let e=new URLSearchParams(n.queryParams);r.push(e.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join(`&`)}`}async _unenroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;return r?this._returnResult({data:null,error:r}):await q(this.fetch,`DELETE`,`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:n?.session?.access_token})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType===`phone`?{phone:e.phone}:e.factorType===`totp`?{issuer:e.issuer}:{}),{data:a,error:o}=await q(this.fetch,`POST`,`${this.url}/factors`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(e.factorType===`totp`&&a.type===`totp`&&a?.totp?.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),this._returnResult({data:a,error:null}))})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({challenge_id:e.challengeId},`webauthn`in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type===`create`?Is(e.webauthn.credential_response):Ls(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:o}=await q(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers(`MFA_CHALLENGE_VERIFIED`,a),this._returnResult({data:a,error:o}))})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=await q(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:n?.session?.access_token});if(i.error)return i;let{data:a}=i;if(a.type!==`webauthn`)return{data:a,error:null};switch(a.webauthn.type){case`create`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ps(a.webauthn.credential_options.publicKey)})})}),error:null};case`request`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Fs(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let n={all:[],phone:[],totp:[],webauthn:[]};for(let t of e?.factors??[])n.all.push(t),t.status===`verified`&&n[t.factor_type].push(t);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(e){if(e)try{let{payload:t}=Ho(e),n=null;t.aal&&(n=t.aal);let r=n,{data:{user:i},error:a}=await this.getUser(e);if(a)return this._returnResult({data:null,error:a});((i?.factors)?.filter(e=>e.status===`verified`)??[]).length>0&&(r=`aal2`);let o=t.amr||[];return{data:{currentLevel:n,nextLevel:r,currentAuthenticationMethods:o},error:null}}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}let{data:{session:t},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!t)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:r}=Ho(t.access_token),i=null;r.aal&&(i=r.aal);let a=i;(t.user.factors?.filter(e=>e.status===`verified`)??[]).length>0&&(a=`aal2`);let o=r.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:o},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await q(this.fetch,`GET`,`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new oo})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new oo});let a=await q(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`approve`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Mo()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new oo});let a=await q(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`deny`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Mo()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await q(this.fetch,`GET`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new oo})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await q(this.fetch,`DELETE`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new oo})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;let r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>r)return n;let{data:i,error:a}=await q(this.fetch,`GET`,`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(t=>t.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}let{header:r,payload:i,signature:a,raw:{header:o,payload:s}}=Ho(n);t?.allowExpired||Qo(i.exp);let c=!r.alg||r.alg.startsWith(`HS`)||!r.kid||!(`crypto`in globalThis&&`subtle`in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!c){let{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}let l=$o(r.alg),u=await crypto.subtle.importKey(`jwk`,c,l,!0,[`verify`]);if(!await crypto.subtle.verify(l,u,a,Oo(`${o}.${s}`)))throw new _o(`Invalid JWT signature`);return{data:{claims:i,header:r,signature:a},error:null}}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}};Zs.nextInstanceID={};var Qs=Zs,$s=`2.95.3`,ec=``;ec=typeof Deno<`u`?`deno`:typeof document<`u`?`web`:typeof navigator<`u`&&navigator.product===`ReactNative`?`react-native`:`node`;var tc={headers:{"X-Client-Info":`supabase-js-${ec}/${$s}`}},nc={schema:`public`},rc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:`implicit`},ic={};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},ac(e)}function oc(e,t){if(ac(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(ac(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function sc(e){var t=oc(e,`string`);return ac(t)==`symbol`?t:t+``}function cc(e,t,n){return(t=sc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?lc(Object(n),!0).forEach(function(t){cc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var dc=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),fc=()=>Headers,pc=(e,t,n)=>{let r=dc(n),i=fc();return async(n,a)=>{let o=await t()??e,s=new i(a?.headers);return s.has(`apikey`)||s.set(`apikey`,e),s.has(`Authorization`)||s.set(`Authorization`,`Bearer ${o}`),r(n,uc(uc({},a),{},{headers:s}))}};function mc(e){return e.endsWith(`/`)?e:e+`/`}function hc(e,t){let{db:n,auth:r,realtime:i,global:a}=e,{db:o,auth:s,realtime:c,global:l}=t,u={db:uc(uc({},o),n),auth:uc(uc({},s),r),realtime:uc(uc({},c),i),storage:{},global:uc(uc(uc({},l),a),{},{headers:uc(uc({},l?.headers??{}),a?.headers??{})}),accessToken:async()=>``};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}function gc(e){let t=e?.trim();if(!t)throw Error(`supabaseUrl is required.`);if(!t.match(/^https?:\/\//i))throw Error(`Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.`);try{return new URL(mc(t))}catch{throw Error(`Invalid supabaseUrl: Provided URL is malformed.`)}}var _c=class extends Qs{constructor(e){super(e)}},vc=class{constructor(e,t,n){this.supabaseUrl=e,this.supabaseKey=t;let r=gc(e);if(!t)throw Error(`supabaseKey is required.`);this.realtimeUrl=new URL(`realtime/v1`,r),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace(`http`,`ws`),this.authUrl=new URL(`auth/v1`,r),this.storageUrl=new URL(`storage/v1`,r),this.functionsUrl=new URL(`functions/v1`,r);let i=`sb-${r.hostname.split(`.`)[0]}-auth-token`,a={db:nc,realtime:ic,auth:uc(uc({},rc),{},{storageKey:i}),global:tc},o=hc(n??{},a);this.storageKey=o.auth.storageKey??``,this.headers=o.global.headers??{},o.accessToken?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(o.auth??{},this.headers,o.global.fetch),this.fetch=pc(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(uc({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn(`Failed to set initial Realtime auth token:`,e)),this.rest=new hi(new URL(`rest/v1`,r).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new qa(this.storageUrl.href,this.headers,this.fetch,n?.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new ni(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this;if(e.accessToken)return await e.accessToken();let{data:t}=await e.auth.getSession();return t.session?.access_token??e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:s,debug:c,throwOnError:l},u,d){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _c({url:this.authUrl.href,headers:uc(uc({},f),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:s,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>e.toLowerCase()===`authorization`)})}_initRealtimeClient(e){return new Xi(this.realtimeUrl.href,uc(uc({},e),{},{params:uc(uc({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,`CLIENT`,t?.access_token)})}_handleTokenChanged(e,t,n){(e===`TOKEN_REFRESHED`||e===`SIGNED_IN`)&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e===`SIGNED_OUT`&&(this.realtime.setAuth(),t==`STORAGE`&&this.auth.signOut(),this.changedAccessToken=void 0)}},yc=(e,t,n)=>new vc(e,t,n);function bc(){if(typeof window<`u`)return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}bc()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`);const J=yc(`https://nuxszmwnagecghzusapq.supabase.co`,`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51eHN6bXduYWdlY2doenVzYXBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5NzgwMTksImV4cCI6MjA4NjU1NDAxOX0.zgozaJn2G9d9yCOghx5eHZ-GYbXP2zXi-OZ9aSoPgCw`);var xc=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`);const Sc={getUserPlans:async e=>{if(!xc)return[];try{let{data:t,error:n}=await J.from(`plans`).select(`*`).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n){if(n.code===`PGRST205`||n.message.includes(`Could not find the table`))return console.warn(`Supabase 'plans' table not found. Using local storage only.`),[];throw n}return t?t.map(e=>({id:e.id,uid:e.user_id,title:e.title,destination:e.destination,days:e.days,startDate:e.start_date,image:e.image,status:e.status,createdAt:new Date(e.created_at).getTime(),planData:e.plan_data})):[]}catch(e){return console.error(`Failed to load user plans:`,e),[]}},savePlan:async(e,t)=>{if(xc)try{let{error:n}=await J.from(`plans`).upsert({id:e.id,user_id:t,title:e.title,destination:e.destination,days:e.days,start_date:e.startDate,image:e.image,status:e.status,plan_data:e.planData??{},updated_at:new Date().toISOString(),created_at:e.createdAt?new Date(e.createdAt).toISOString():new Date().toISOString()},{onConflict:`id`});if(n)throw n}catch(e){console.error(`Error saving plan:`,e)}},getPlanById:async e=>{if(!xc)return null;try{let{data:t,error:n}=await J.from(`plans`).select(`*`).eq(`id`,e).single();return n||!t?null:{id:t.id,uid:t.user_id,title:t.title,destination:t.destination,days:t.days,startDate:t.start_date,image:t.image,status:t.status,createdAt:new Date(t.created_at).getTime(),planData:t.plan_data}}catch{return null}},deletePlan:async e=>{if(xc)try{let{error:t}=await J.from(`plans`).delete().eq(`id`,e);if(t)throw t}catch(e){console.error(`Error deleting plan:`,e)}}};var Cc=[{bg1:`#0f172a`,bg2:`#1f2937`,accent:`#d97706`},{bg1:`#111827`,bg2:`#0f766e`,accent:`#f59e0b`},{bg1:`#1f2937`,bg2:`#312e81`,accent:`#f97316`},{bg1:`#0b1324`,bg2:`#3b1d2a`,accent:`#f59e0b`}],wc=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t},Tc=e=>`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`;const Y=(e,t=`Odyssey  `)=>{let n=(e||`Odyssey`).trim(),r=wc(n),i=Cc[Math.abs(r)%Cc.length],a=n.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`);return Tc(`
<svg xmlns="http://www.w3.org/2000/svg" width="1080" height="720" viewBox="0 0 1080 720">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="${i.bg1}"/>
      <stop offset="1" stop-color="${i.bg2}"/>
    </linearGradient>
  </defs>
  <rect width="1080" height="720" fill="url(#g)"/>
  <circle cx="900" cy="160" r="180" fill="${i.accent}" opacity="0.12"/>
  <circle cx="160" cy="620" r="220" fill="${i.accent}" opacity="0.10"/>
  <rect x="72" y="520" width="936" height="136" rx="22" fill="#0b1220" opacity="0.55"/>
  <text x="108" y="585" fill="#ffffff" font-size="54" font-family="ui-serif, Georgia, serif" font-weight="700">${a}</text>
  <text x="108" y="630" fill="#e5e7eb" font-size="26" font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif" opacity="0.9">${t}</text>
</svg>`)},Ec=e=>{let t=(e||`User`).trim(),n=t?t.slice(0,1):`U`,r=wc(t),i=Cc[Math.abs(r)%Cc.length];return Tc(`
<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="${i.bg1}"/>
      <stop offset="1" stop-color="${i.bg2}"/>
    </linearGradient>
  </defs>
  <rect width="256" height="256" rx="128" fill="url(#g)"/>
  <circle cx="196" cy="78" r="56" fill="${i.accent}" opacity="0.18"/>
  <text x="128" y="150" text-anchor="middle" fill="#ffffff" font-size="96" font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif" font-weight="700">${n}</text>
</svg>`)};var Dc=[{id:`1`,title:`...`,location:`British Museum, London `,author:`A`,avatar:Ec(`A`),date:`2026.01.12`,intro:`AI`,cover:Y(`British Museum`),likes:128,timeline:[{time:`10:00`,location:``,image:Y(``),content:``,ai_tip:``,color:`amber`},{time:`11:30`,location:``,image:Y(``),content:``,ai_tip:`66`},{time:`13:00`,location:``,image:Y(``),content:``},{time:`14:30`,location:``,image:Y(``),content:``,ai_tip:``,color:`blue`},{time:`16:00`,location:``,image:Y(``),content:`Hoa Hakananai'a`,ai_tip:``}]},{id:`2`,title:``,location:`The Palace Museum, Beijing `,author:``,avatar:Ec(``),date:`2026.02.05`,intro:``,cover:Y(``),likes:856,timeline:[{time:`08:30`,location:``,image:Y(``),content:``,ai_tip:``,color:`red`},{time:`09:45`,location:``,image:Y(``),content:``,ai_tip:`10`},{time:`11:00`,location:``,image:Y(``),content:``},{time:`13:30`,location:``,image:Y(``),content:``},{time:`16:00`,location:``,image:Y(``),content:``,ai_tip:``}]},{id:`3`,title:``,location:`Kyoto, Japan `,author:``,avatar:Ec(``),date:`2026.01.28`,intro:``,cover:Y(``),likes:128,timeline:[{time:`09:00`,location:``,image:Y(``),content:``,ai_tip:``,color:`yellow`},{time:`11:00`,location:``,image:Y(``),content:`15`,ai_tip:`15`},{time:`13:30`,location:``,image:Y(``),content:``},{time:`15:00`,location:``,image:Y(``),content:``},{time:`17:00`,location:``,image:Y(``),content:``,ai_tip:``}]},{id:`4`,title:``,location:`Rome, Italy `,author:`Alice Wang`,avatar:Ec(`Alice Wang`),date:`2026.02.10`,intro:`AI`,cover:Y(`Rome, Italy`),likes:342,timeline:[{time:`09:30`,location:``,image:Y(``),content:``,ai_tip:`80 `,color:`blue`},{time:`11:00`,location:``,image:Y(``),content:``,ai_tip:``},{time:`13:00`,location:``,image:Y(``),content:``,ai_tip:``},{time:`14:00`,location:``,image:Y(``),content:` `,ai_tip:` `,color:`pink`},{time:`17:30`,location:``,image:Y(``),content:` Gelato `}]},{id:`5`,title:``,location:`Louvre Museum, Paris `,author:`Art Lover`,avatar:Ec(`Art Lover`),date:`2026.02.14`,intro:``,cover:Y(`Louvre Museum`),likes:520,timeline:[{time:`13:00`,location:``,image:Y(``),content:``,ai_tip:`60370`,color:`blue`},{time:`14:00`,location:``,image:Y(``),content:``,ai_tip:``},{time:`15:00`,location:``,image:Y(``),content:``},{time:`16:00`,location:``,image:Y(``),content:``,ai_tip:``},{time:`17:30`,location:``,image:Y(``),content:``}]}];const Oc={getAll:async()=>{try{let{data:e,error:t}=await J.from(`travelogues`).select(`*`).eq(`is_public`,!0).order(`date`,{ascending:!1});if(!t&&e)return[...e,...Dc]}catch(e){console.error(`Failed to fetch from Supabase`,e)}let e=localStorage.getItem(`user_travelogues`);return[...e?JSON.parse(e):[],...Dc].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())},getUserTravelogues:async e=>{try{let{data:t,error:n}=await J.from(`travelogues`).select(`*`).eq(`uid`,e).order(`created_at`,{ascending:!1});if(!n&&t)return t}catch(e){console.error(`Failed to fetch user travelogues`,e)}let t=localStorage.getItem(`user_travelogues`);return t?JSON.parse(t).filter(t=>t.uid===e).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()):[]},getRecent:async(e=5)=>(await Oc.getAll()).slice(0,e),getById:async e=>{try{let{data:t,error:n}=await J.from(`travelogues`).select(`*`).eq(`id`,e).single();if(!n&&t)return t}catch{}return(await Oc.getAll()).find(t=>t.id===e)},add:async e=>{if(e.uid)try{let{error:t}=await J.from(`travelogues`).insert([{id:e.id,uid:e.uid,title:e.title,location:e.location,author:e.author,avatar:e.avatar,date:e.date,intro:e.intro,cover:e.cover,likes:e.likes||0,timeline:e.timeline,is_public:e.is_public||!1,created_at:new Date().toISOString()}]);t&&console.error(`Supabase insert error`,t)}catch(e){console.error(`Supabase error`,e)}let t=localStorage.getItem(`user_travelogues`),n=t?JSON.parse(t):[];n.unshift(e),localStorage.setItem(`user_travelogues`,JSON.stringify(n))},update:async e=>{if(e.uid)try{await J.from(`travelogues`).update({title:e.title,intro:e.intro,cover:e.cover,timeline:e.timeline,is_public:e.is_public}).eq(`id`,e.id)}catch(e){console.error(`Update failed`,e)}let t=localStorage.getItem(`user_travelogues`);if(t){let n=JSON.parse(t),r=n.findIndex(t=>t.id===e.id);r>=0&&(n[r]=e,localStorage.setItem(`user_travelogues`,JSON.stringify(n)))}},delete:async e=>{try{await J.from(`travelogues`).delete().eq(`id`,e)}catch(e){console.error(`Delete failed`,e)}let t=localStorage.getItem(`user_travelogues`);if(t){let n=JSON.parse(t).filter(t=>t.id!==e);localStorage.setItem(`user_travelogues`,JSON.stringify(n))}},publish:async(e,t)=>{try{await J.from(`travelogues`).update({is_public:t}).eq(`id`,e)}catch(e){console.error(`Publish failed`,e)}let n=localStorage.getItem(`user_travelogues`);if(n){let r=JSON.parse(n),i=r.find(t=>t.id===e);i&&(i.is_public=t,localStorage.setItem(`user_travelogues`,JSON.stringify(r)))}}};var kc=()=>{let e=tt(),[t,n]=(0,b.useState)([]),[r,i]=(0,b.useState)([]),[a,o]=(0,b.useState)(``);(0,b.useEffect)(()=>{let e=()=>{let e=new Date().getHours();o(e>=6&&e<11?``:e>=11&&e<13?``:e>=13&&e<18?``:e>=18&&e<23?``:``)};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[]),(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`),t=null;if(e)try{let n=JSON.parse(e);t=n.id||n.uid}catch(e){console.error(`Failed to parse user`,e)}(async()=>{if(t){let e=await Sc.getUserPlans(t);if(e.length>0)n(e);else{let e=localStorage.getItem(`my_plans`);e&&n(JSON.parse(e).filter(e=>e.uid===t))}}else n([])})(),(async()=>{i(await Oc.getRecent(5))})()},[]);let s=e=>{if(!e)return``;let t=new Date(e);return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}`};return(0,U.jsxs)(`div`,{className:`flex flex-col h-screen w-full bg-transparent text-stone-800 relative overflow-hidden`,children:[(0,U.jsx)(`header`,{className:`w-full max-w-3xl mx-auto px-6 py-4 flex justify-between items-start bg-transparent sticky top-0 z-10 pt-8 relative`,children:(0,U.jsxs)(`div`,{children:[(0,U.jsxs)(`p`,{className:`text-xs text-stone-500 font-medium mb-1`,children:[a,``]}),(0,U.jsxs)(`h1`,{className:`text-3xl font-bold font-serif tracking-tight text-stone-900 leading-tight`,children:[``,(0,U.jsx)(`br`,{}),``]})]})}),(0,U.jsxs)(`main`,{className:`flex-1 w-full max-w-3xl mx-auto overflow-y-auto p-4 space-y-6 pb-24 relative z-10`,children:[(0,U.jsxs)(`section`,{className:`grid grid-cols-2 gap-4`,children:[(0,U.jsxs)(vn,{to:`/guide`,className:`bg-[#1C1C1E] p-5 rounded-[2rem] shadow-lg flex flex-col justify-between h-44 active:scale-[0.98] transition-transform relative overflow-hidden group`,children:[(0,U.jsx)(`div`,{className:`absolute top-10 right-10 w-28 h-28 bg-[#2C2C2E] rounded-full blur-2xl opacity-35 pointer-events-none`}),(0,U.jsx)(`div`,{className:`absolute bottom-10 right-8 w-40 h-40 bg-[#2C2C2E] rounded-full blur-2xl opacity-45 pointer-events-none`}),(0,U.jsx)(`div`,{className:`absolute bottom-6 left-8 w-24 h-24 bg-[#3A3A3C] rounded-full blur-xl opacity-25 pointer-events-none`}),(0,U.jsx)(`div`,{className:`w-12 h-12 bg-[#3A3A3C] rounded-full flex items-center justify-center text-[#D4B996] mb-2 relative z-10 shadow-sm`,children:(0,U.jsx)(ar,{size:24,className:`opacity-90`})}),(0,U.jsxs)(`div`,{className:`relative z-10`,children:[(0,U.jsx)(`h3`,{className:`font-bold text-white text-xl tracking-wide`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-[#8E8E93] mt-1.5 font-medium`,children:``})]})]}),(0,U.jsxs)(vn,{to:`/plan`,className:`bg-white p-5 rounded-[2rem] shadow-sm border border-stone-100 flex flex-col justify-between h-44 active:scale-[0.98] transition-transform relative overflow-hidden`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-[#F2F2F7] rounded-full flex items-center justify-center text-[#1C1C1E] mb-2`,children:(0,U.jsx)(_r,{size:24})}),(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h3`,{className:`font-bold text-[#1C1C1E] text-xl tracking-wide`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-[#8E8E93] mt-1.5 font-medium`,children:`AI `})]})]})]}),(0,U.jsxs)(`section`,{children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,U.jsx)(`h3`,{className:`text-lg font-bold font-serif text-stone-900`,children:``}),(0,U.jsxs)(vn,{to:`/plan`,className:`text-sm text-stone-500 flex items-center hover:text-stone-800 transition-colors`,children:[``,(0,U.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:`ml-0.5`,children:(0,U.jsx)(`path`,{d:`m9 18 6-6-6-6`})})]})]}),t.length>0?(0,U.jsx)(`div`,{className:`space-y-4`,children:t.slice(0,2).map(t=>(0,U.jsxs)(`div`,{onClick:()=>e(`/plan/edit`,{state:{planId:t.id}}),className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4 active:scale-[0.99] transition-transform cursor-pointer`,children:[(0,U.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,U.jsx)(`img`,{alt:t.destination,className:`w-full h-full object-cover`,src:t.image,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,U.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:[t.days,``]})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-lg leading-tight mb-1 line-clamp-1`,children:t.title}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,U.jsx)(_r,{size:12,className:`mr-1`}),(0,U.jsx)(`span`,{children:t.destination})]})]}),(0,U.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,U.jsxs)(`span`,{className:`text-xs text-stone-400 font-medium flex items-center`,children:[(0,U.jsx)(qn,{size:12,className:`mr-1`}),s(t.startDate)]}),(0,U.jsx)(`span`,{className:`bg-blue-50 text-blue-600 text-xs px-2 py-1 rounded-full font-medium`,children:t.status===`upcoming`?``:``})]})]})]},t.id))}):(0,U.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 text-center flex flex-col items-center justify-center`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center mb-3 text-stone-400`,children:(0,U.jsx)(vr,{size:24})}),(0,U.jsx)(`p`,{className:`text-stone-600 font-medium text-sm mb-1`,children:``}),(0,U.jsx)(`p`,{className:`text-stone-400 text-xs mb-4`,children:` AI `}),(0,U.jsxs)(vn,{to:`/plan`,className:`px-4 py-2 bg-stone-900 text-white rounded-full text-xs font-medium flex items-center hover:bg-stone-800 transition-colors`,children:[(0,U.jsx)(Dr,{size:14,className:`mr-1.5`}),``]})]})]}),(0,U.jsxs)(`section`,{children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,U.jsx)(`h3`,{className:`text-lg font-bold font-serif text-stone-900`,children:``}),(0,U.jsxs)(vn,{to:`/community`,className:`text-sm text-stone-500 flex items-center hover:text-stone-800 transition-colors`,children:[``,(0,U.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:`ml-0.5`,children:(0,U.jsx)(`path`,{d:`m9 18 6-6-6-6`})})]})]}),(0,U.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,U.jsx)(`div`,{className:`space-y-3`,children:r.filter((e,t)=>t%2==0).map(e=>(0,U.jsxs)(vn,{to:`/travelogue/${e.id}`,className:`bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-100 block active:scale-[0.98] transition-transform`,children:[(0,U.jsxs)(`div`,{className:`h-32 bg-stone-200 relative`,children:[(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-br from-orange-400 to-red-500 opacity-0 group-hover:opacity-10 transition-opacity`}),(0,U.jsx)(`img`,{src:e.cover,alt:e.title,className:`w-full h-full object-cover relative z-10`})]}),(0,U.jsxs)(`div`,{className:`p-3`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-sm mb-2 line-clamp-2`,children:e.title}),(0,U.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-1.5`,children:[(0,U.jsx)(`img`,{src:e.avatar,className:`w-4 h-4 rounded-full`,alt:`Avatar`}),(0,U.jsx)(`span`,{className:`text-[10px] text-stone-500 truncate max-w-[60px]`,children:e.author})]}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-400 space-x-1`,children:[(0,U.jsx)(or,{size:10}),(0,U.jsx)(`span`,{className:`text-[10px]`,children:e.likes})]})]})]})]},e.id))}),(0,U.jsx)(`div`,{className:`space-y-3`,children:r.filter((e,t)=>t%2!=0).map(e=>(0,U.jsxs)(vn,{to:`/travelogue/${e.id}`,className:`bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-100 h-auto flex flex-col active:scale-[0.98] transition-transform`,children:[(0,U.jsx)(`div`,{className:`flex-1 bg-stone-200 min-h-[120px] relative`,children:(0,U.jsx)(`img`,{src:e.cover,alt:e.title,className:`w-full h-full object-cover relative z-10`})}),(0,U.jsxs)(`div`,{className:`p-3`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-sm mb-2 line-clamp-2`,children:e.title}),(0,U.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-1.5`,children:[(0,U.jsx)(`img`,{src:e.avatar,className:`w-4 h-4 rounded-full`,alt:`Avatar`}),(0,U.jsx)(`span`,{className:`text-[10px] text-stone-500 truncate max-w-[60px]`,children:e.author})]}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-400 space-x-1`,children:[(0,U.jsx)(or,{size:10}),(0,U.jsx)(`span`,{className:`text-[10px]`,children:e.likes})]})]})]})]},e.id))})]})]})]})]})};function Ac(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ac(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function jc(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ac(e))&&(r&&(r+=` `),r+=t);return r}const Mc=6048e5,Nc=6e4,Pc=36e5,Fc=3600*24;Fc*7,Fc*365.2425;const Ic=Symbol.for(`constructDateFrom`);function Lc(e,t){return typeof e==`function`?e(t):e&&typeof e==`object`&&Ic in e?e[Ic](t):e instanceof Date?new e.constructor(t):new Date(t)}function X(e,t){return Lc(t||e,e)}function Rc(e,t,n){let r=X(e,n?.in);return isNaN(t)?Lc(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function zc(e,t,n){let r=X(e,n?.in);if(isNaN(t))return Lc(n?.in||e,NaN);if(!t)return r;let i=r.getDate(),a=Lc(n?.in||e,r.getTime());return a.setMonth(r.getMonth()+t+1,0),i>=a.getDate()?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function Bc(e,t,n){return Lc(n?.in||e,+X(e)+t)}function Vc(e,t,n){return Bc(e,t*Pc,n)}var Hc={};function Uc(){return Hc}function Wc(e,t){let n=Uc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=X(e,t?.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Gc(e,t){return Wc(e,{...t,weekStartsOn:1})}function Kc(e,t){let n=X(e,t?.in),r=n.getFullYear(),i=Lc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let a=Gc(i),o=Lc(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let s=Gc(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function qc(e){let t=X(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-+n}function Jc(e,...t){let n=Lc.bind(null,e||t.find(e=>typeof e==`object`));return t.map(n)}function Yc(e,t){let n=X(e,t?.in);return n.setHours(0,0,0,0),n}function Xc(e,t,n){let[r,i]=Jc(n?.in,e,t),a=Yc(r),o=Yc(i),s=+a-qc(a),c=+o-qc(o);return Math.round((s-c)/864e5)}function Zc(e,t){let n=Kc(e,t),r=Lc(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Gc(r)}function Qc(e,t,n){let r=X(e,n?.in);return r.setTime(r.getTime()+t*Nc),r}function $c(e,t,n){return zc(e,t*3,n)}function el(e,t,n){return Bc(e,t*1e3,n)}function tl(e,t,n){return Rc(e,t*7,n)}function nl(e,t,n){return zc(e,t*12,n)}function rl(e,t){let n,r=t?.in;return e.forEach(e=>{!r&&typeof e==`object`&&(r=Lc.bind(null,e));let t=X(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),Lc(r,n||NaN)}function il(e,t){let n,r=t?.in;return e.forEach(e=>{!r&&typeof e==`object`&&(r=Lc.bind(null,e));let t=X(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),Lc(r,n||NaN)}function al(e,t,n){let[r,i]=Jc(n?.in,e,t);return+Yc(r)==+Yc(i)}function ol(e){return e instanceof Date||typeof e==`object`&&Object.prototype.toString.call(e)===`[object Date]`}function sl(e){return!(!ol(e)&&typeof e!=`number`||isNaN(+X(e)))}function cl(e,t,n){let[r,i]=Jc(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return a*12+o}function ll(e,t){let n=X(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function ul(e,t,n){let[r,i]=Jc(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),o=ll(r)-ll(i);return a*4+o}function dl(e,t,n){let[r,i]=Jc(n?.in,e,t);return r.getFullYear()-i.getFullYear()}function fl(e,t,n){let[r,i]=Jc(n?.in,e,t),a=pl(r,i),o=Math.abs(Xc(r,i));r.setDate(r.getDate()-a*o);let s=a*(o-Number(pl(r,i)===-a));return s===0?0:s}function pl(e,t){let n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ml(e,t){let n=X(e,t?.in);return n.setHours(23,59,59,999),n}function hl(e,t){let n=X(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function gl(e,t){let n=X(e,t?.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function _l(e,t){let n=X(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function vl(e,t){let n=X(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function yl(e,t){let n=X(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bl(e,t){let n=Uc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=X(e,t?.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}var xl={lessThanXSeconds:{one:`less than a second`,other:`less than {{count}} seconds`},xSeconds:{one:`1 second`,other:`{{count}} seconds`},halfAMinute:`half a minute`,lessThanXMinutes:{one:`less than a minute`,other:`less than {{count}} minutes`},xMinutes:{one:`1 minute`,other:`{{count}} minutes`},aboutXHours:{one:`about 1 hour`,other:`about {{count}} hours`},xHours:{one:`1 hour`,other:`{{count}} hours`},xDays:{one:`1 day`,other:`{{count}} days`},aboutXWeeks:{one:`about 1 week`,other:`about {{count}} weeks`},xWeeks:{one:`1 week`,other:`{{count}} weeks`},aboutXMonths:{one:`about 1 month`,other:`about {{count}} months`},xMonths:{one:`1 month`,other:`{{count}} months`},aboutXYears:{one:`about 1 year`,other:`about {{count}} years`},xYears:{one:`1 year`,other:`{{count}} years`},overXYears:{one:`over 1 year`,other:`over {{count}} years`},almostXYears:{one:`almost 1 year`,other:`almost {{count}} years`}};const Sl=(e,t,n)=>{let r,i=xl[e];return r=typeof i==`string`?i:t===1?i.one:i.other.replace(`{{count}}`,t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?`in `+r:r+` ago`:r};function Cl(e){return(t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const wl={date:Cl({formats:{full:`EEEE, MMMM do, y`,long:`MMMM do, y`,medium:`MMM d, y`,short:`MM/dd/yyyy`},defaultWidth:`full`}),time:Cl({formats:{full:`h:mm:ss a zzzz`,long:`h:mm:ss a z`,medium:`h:mm:ss a`,short:`h:mm a`},defaultWidth:`full`}),dateTime:Cl({formats:{full:`{{date}} 'at' {{time}}`,long:`{{date}} 'at' {{time}}`,medium:`{{date}}, {{time}}`,short:`{{date}}, {{time}}`},defaultWidth:`full`})};var Tl={lastWeek:`'last' eeee 'at' p`,yesterday:`'yesterday at' p`,today:`'today at' p`,tomorrow:`'tomorrow at' p`,nextWeek:`eeee 'at' p`,other:`P`};const El=(e,t,n,r)=>Tl[e];function Dl(e){return(t,n)=>{let r=n?.context?String(n.context):`standalone`,i;if(r===`formatting`&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}let a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Ol={ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+`st`;case 2:return n+`nd`;case 3:return n+`rd`}return n+`th`},era:Dl({values:{narrow:[`B`,`A`],abbreviated:[`BC`,`AD`],wide:[`Before Christ`,`Anno Domini`]},defaultWidth:`wide`}),quarter:Dl({values:{narrow:[`1`,`2`,`3`,`4`],abbreviated:[`Q1`,`Q2`,`Q3`,`Q4`],wide:[`1st quarter`,`2nd quarter`,`3rd quarter`,`4th quarter`]},defaultWidth:`wide`,argumentCallback:e=>e-1}),month:Dl({values:{narrow:[`J`,`F`,`M`,`A`,`M`,`J`,`J`,`A`,`S`,`O`,`N`,`D`],abbreviated:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],wide:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`]},defaultWidth:`wide`}),day:Dl({values:{narrow:[`S`,`M`,`T`,`W`,`T`,`F`,`S`],short:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],abbreviated:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],wide:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`]},defaultWidth:`wide`}),dayPeriod:Dl({values:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`}},defaultWidth:`wide`,formattingValues:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`}},defaultFormattingWidth:`wide`})};function kl(e){return(t,n={})=>{let r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;let o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?jl(s,e=>e.test(o)):Al(s,e=>e.test(o)),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;let u=t.slice(o.length);return{value:l,rest:u}}}function Al(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function jl(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Ml(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;let s=t.slice(i.length);return{value:o,rest:s}}}const Nl={code:`en-US`,formatDistance:Sl,formatLong:wl,formatRelative:El,localize:Ol,match:{ordinalNumber:Ml({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:kl({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:`any`}),quarter:kl({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:`any`,valueCallback:e=>e+1}),month:kl({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:`any`}),day:kl({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:`any`}),dayPeriod:kl({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:`any`,parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:`any`})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pl(e,t){let n=X(e,t?.in);return Xc(n,yl(n))+1}function Fl(e,t){let n=X(e,t?.in),r=Gc(n)-+Zc(n);return Math.round(r/Mc)+1}function Il(e,t){let n=X(e,t?.in),r=n.getFullYear(),i=Uc(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Lc(t?.in||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);let s=Wc(o,t),c=Lc(t?.in||e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);let l=Wc(c,t);return+n>=+s?r+1:+n>=+l?r:r-1}function Ll(e,t){let n=Uc(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Il(e,t),a=Lc(t?.in||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Wc(a,t)}function Rl(e,t){let n=X(e,t?.in),r=Wc(n,t)-+Ll(n,t);return Math.round(r/Mc)+1}function Z(e,t){return(e<0?`-`:``)+Math.abs(e).toString().padStart(t,`0`)}const zl={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return Z(t===`yy`?r%100:r,t.length)},M(e,t){let n=e.getMonth();return t===`M`?String(n+1):Z(n+1,2)},d(e,t){return Z(e.getDate(),t.length)},a(e,t){let n=e.getHours()/12>=1?`pm`:`am`;switch(t){case`a`:case`aa`:return n.toUpperCase();case`aaa`:return n;case`aaaaa`:return n[0];case`aaaa`:default:return n===`am`?`a.m.`:`p.m.`}},h(e,t){return Z(e.getHours()%12||12,t.length)},H(e,t){return Z(e.getHours(),t.length)},m(e,t){return Z(e.getMinutes(),t.length)},s(e,t){return Z(e.getSeconds(),t.length)},S(e,t){let n=t.length,r=e.getMilliseconds();return Z(Math.trunc(r*10**(n-3)),t.length)}};var Bl={am:`am`,pm:`pm`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`};const Vl={G:function(e,t,n){let r=e.getFullYear()>0?1:0;switch(t){case`G`:case`GG`:case`GGG`:return n.era(r,{width:`abbreviated`});case`GGGGG`:return n.era(r,{width:`narrow`});case`GGGG`:default:return n.era(r,{width:`wide`})}},y:function(e,t,n){if(t===`yo`){let t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:`year`})}return zl.y(e,t)},Y:function(e,t,n,r){let i=Il(e,r),a=i>0?i:1-i;return t===`YY`?Z(a%100,2):t===`Yo`?n.ordinalNumber(a,{unit:`year`}):Z(a,t.length)},R:function(e,t){return Z(Kc(e),t.length)},u:function(e,t){return Z(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case`Q`:return String(r);case`QQ`:return Z(r,2);case`Qo`:return n.ordinalNumber(r,{unit:`quarter`});case`QQQ`:return n.quarter(r,{width:`abbreviated`,context:`formatting`});case`QQQQQ`:return n.quarter(r,{width:`narrow`,context:`formatting`});case`QQQQ`:default:return n.quarter(r,{width:`wide`,context:`formatting`})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case`q`:return String(r);case`qq`:return Z(r,2);case`qo`:return n.ordinalNumber(r,{unit:`quarter`});case`qqq`:return n.quarter(r,{width:`abbreviated`,context:`standalone`});case`qqqqq`:return n.quarter(r,{width:`narrow`,context:`standalone`});case`qqqq`:default:return n.quarter(r,{width:`wide`,context:`standalone`})}},M:function(e,t,n){let r=e.getMonth();switch(t){case`M`:case`MM`:return zl.M(e,t);case`Mo`:return n.ordinalNumber(r+1,{unit:`month`});case`MMM`:return n.month(r,{width:`abbreviated`,context:`formatting`});case`MMMMM`:return n.month(r,{width:`narrow`,context:`formatting`});case`MMMM`:default:return n.month(r,{width:`wide`,context:`formatting`})}},L:function(e,t,n){let r=e.getMonth();switch(t){case`L`:return String(r+1);case`LL`:return Z(r+1,2);case`Lo`:return n.ordinalNumber(r+1,{unit:`month`});case`LLL`:return n.month(r,{width:`abbreviated`,context:`standalone`});case`LLLLL`:return n.month(r,{width:`narrow`,context:`standalone`});case`LLLL`:default:return n.month(r,{width:`wide`,context:`standalone`})}},w:function(e,t,n,r){let i=Rl(e,r);return t===`wo`?n.ordinalNumber(i,{unit:`week`}):Z(i,t.length)},I:function(e,t,n){let r=Fl(e);return t===`Io`?n.ordinalNumber(r,{unit:`week`}):Z(r,t.length)},d:function(e,t,n){return t===`do`?n.ordinalNumber(e.getDate(),{unit:`date`}):zl.d(e,t)},D:function(e,t,n){let r=Pl(e);return t===`Do`?n.ordinalNumber(r,{unit:`dayOfYear`}):Z(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case`E`:case`EE`:case`EEE`:return n.day(r,{width:`abbreviated`,context:`formatting`});case`EEEEE`:return n.day(r,{width:`narrow`,context:`formatting`});case`EEEEEE`:return n.day(r,{width:`short`,context:`formatting`});case`EEEE`:default:return n.day(r,{width:`wide`,context:`formatting`})}},e:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case`e`:return String(a);case`ee`:return Z(a,2);case`eo`:return n.ordinalNumber(a,{unit:`day`});case`eee`:return n.day(i,{width:`abbreviated`,context:`formatting`});case`eeeee`:return n.day(i,{width:`narrow`,context:`formatting`});case`eeeeee`:return n.day(i,{width:`short`,context:`formatting`});case`eeee`:default:return n.day(i,{width:`wide`,context:`formatting`})}},c:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case`c`:return String(a);case`cc`:return Z(a,t.length);case`co`:return n.ordinalNumber(a,{unit:`day`});case`ccc`:return n.day(i,{width:`abbreviated`,context:`standalone`});case`ccccc`:return n.day(i,{width:`narrow`,context:`standalone`});case`cccccc`:return n.day(i,{width:`short`,context:`standalone`});case`cccc`:default:return n.day(i,{width:`wide`,context:`standalone`})}},i:function(e,t,n){let r=e.getDay(),i=r===0?7:r;switch(t){case`i`:return String(i);case`ii`:return Z(i,t.length);case`io`:return n.ordinalNumber(i,{unit:`day`});case`iii`:return n.day(r,{width:`abbreviated`,context:`formatting`});case`iiiii`:return n.day(r,{width:`narrow`,context:`formatting`});case`iiiiii`:return n.day(r,{width:`short`,context:`formatting`});case`iiii`:default:return n.day(r,{width:`wide`,context:`formatting`})}},a:function(e,t,n){let r=e.getHours()/12>=1?`pm`:`am`;switch(t){case`a`:case`aa`:return n.dayPeriod(r,{width:`abbreviated`,context:`formatting`});case`aaa`:return n.dayPeriod(r,{width:`abbreviated`,context:`formatting`}).toLowerCase();case`aaaaa`:return n.dayPeriod(r,{width:`narrow`,context:`formatting`});case`aaaa`:default:return n.dayPeriod(r,{width:`wide`,context:`formatting`})}},b:function(e,t,n){let r=e.getHours(),i;switch(i=r===12?Bl.noon:r===0?Bl.midnight:r/12>=1?`pm`:`am`,t){case`b`:case`bb`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`});case`bbb`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`}).toLowerCase();case`bbbbb`:return n.dayPeriod(i,{width:`narrow`,context:`formatting`});case`bbbb`:default:return n.dayPeriod(i,{width:`wide`,context:`formatting`})}},B:function(e,t,n){let r=e.getHours(),i;switch(i=r>=17?Bl.evening:r>=12?Bl.afternoon:r>=4?Bl.morning:Bl.night,t){case`B`:case`BB`:case`BBB`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`});case`BBBBB`:return n.dayPeriod(i,{width:`narrow`,context:`formatting`});case`BBBB`:default:return n.dayPeriod(i,{width:`wide`,context:`formatting`})}},h:function(e,t,n){if(t===`ho`){let t=e.getHours()%12;return t===0&&(t=12),n.ordinalNumber(t,{unit:`hour`})}return zl.h(e,t)},H:function(e,t,n){return t===`Ho`?n.ordinalNumber(e.getHours(),{unit:`hour`}):zl.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return t===`Ko`?n.ordinalNumber(r,{unit:`hour`}):Z(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t===`ko`?n.ordinalNumber(r,{unit:`hour`}):Z(r,t.length)},m:function(e,t,n){return t===`mo`?n.ordinalNumber(e.getMinutes(),{unit:`minute`}):zl.m(e,t)},s:function(e,t,n){return t===`so`?n.ordinalNumber(e.getSeconds(),{unit:`second`}):zl.s(e,t)},S:function(e,t){return zl.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(r===0)return`Z`;switch(t){case`X`:return Ul(r);case`XXXX`:case`XX`:return Wl(r);case`XXXXX`:case`XXX`:default:return Wl(r,`:`)}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`x`:return Ul(r);case`xxxx`:case`xx`:return Wl(r);case`xxxxx`:case`xxx`:default:return Wl(r,`:`)}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`O`:case`OO`:case`OOO`:return`GMT`+Hl(r,`:`);case`OOOO`:default:return`GMT`+Wl(r,`:`)}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`z`:case`zz`:case`zzz`:return`GMT`+Hl(r,`:`);case`zzzz`:default:return`GMT`+Wl(r,`:`)}},t:function(e,t,n){return Z(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return Z(+e,t.length)}};function Hl(e,t=``){let n=e>0?`-`:`+`,r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Z(a,2)}function Ul(e,t){return e%60==0?(e>0?`-`:`+`)+Z(Math.abs(e)/60,2):Wl(e,t)}function Wl(e,t=``){let n=e>0?`-`:`+`,r=Math.abs(e),i=Z(Math.trunc(r/60),2),a=Z(r%60,2);return n+i+t+a}var Gl=(e,t)=>{switch(e){case`P`:return t.date({width:`short`});case`PP`:return t.date({width:`medium`});case`PPP`:return t.date({width:`long`});case`PPPP`:default:return t.date({width:`full`})}},Kl=(e,t)=>{switch(e){case`p`:return t.time({width:`short`});case`pp`:return t.time({width:`medium`});case`ppp`:return t.time({width:`long`});case`pppp`:default:return t.time({width:`full`})}};const ql={p:Kl,P:(e,t)=>{let n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Gl(e,t);let a;switch(r){case`P`:a=t.dateTime({width:`short`});break;case`PP`:a=t.dateTime({width:`medium`});break;case`PPP`:a=t.dateTime({width:`long`});break;case`PPPP`:default:a=t.dateTime({width:`full`});break}return a.replace(`{{date}}`,Gl(r,t)).replace(`{{time}}`,Kl(i,t))}};var Jl=/^D+$/,Yl=/^Y+$/,Xl=[`D`,`DD`,`YY`,`YYYY`];function Zl(e){return Jl.test(e)}function Ql(e){return Yl.test(e)}function $l(e,t,n){let r=eu(e,t,n);if(console.warn(r),Xl.includes(e))throw RangeError(r)}function eu(e,t,n){let r=e[0]===`Y`?`years`:`days of the month`;return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var tu=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nu=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ru=/^'([^]*?)'?$/,iu=/''/g,au=/[a-zA-Z]/;function ou(e,t,n){let r=Uc(),i=n?.locale??r.locale??Nl,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=X(e,n?.in);if(!sl(s))throw RangeError(`Invalid time value`);let c=t.match(nu).map(e=>{let t=e[0];if(t===`p`||t===`P`){let n=ql[t];return n(e,i.formatLong)}return e}).join(``).match(tu).map(e=>{if(e===`''`)return{isToken:!1,value:`'`};let t=e[0];if(t===`'`)return{isToken:!1,value:su(e)};if(Vl[t])return{isToken:!0,value:e};if(t.match(au))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));let l={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(r=>{if(!r.isToken)return r.value;let a=r.value;(!n?.useAdditionalWeekYearTokens&&Ql(a)||!n?.useAdditionalDayOfYearTokens&&Zl(a))&&$l(a,t,String(e));let o=Vl[a[0]];return o(s,a,i.localize,l)}).join(``)}function su(e){let t=e.match(ru);return t?t[1].replace(iu,`'`):e}function cu(e,t){return X(e,t?.in).getDate()}function lu(e,t){return X(e,t?.in).getDay()}function uu(e,t){let n=X(e,t?.in),r=n.getFullYear(),i=n.getMonth(),a=Lc(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function du(){return Object.assign({},Uc())}function fu(e,t){return X(e,t?.in).getHours()}function pu(e,t){let n=X(e,t?.in).getDay();return n===0?7:n}function mu(e,t){return X(e,t?.in).getMinutes()}function hu(e,t){return X(e,t?.in).getMonth()}function gu(e){return X(e).getSeconds()}function _u(e){return+X(e)}function vu(e,t){return X(e,t?.in).getFullYear()}function yu(e,t){return+X(e)>+X(t)}function bu(e,t){return+X(e)<+X(t)}function xu(e,t){return+X(e)==+X(t)}function Su(e,t){let n=Cu(t)?new t(0):Lc(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function Cu(e){return typeof e==`function`&&e.prototype?.constructor===e}var wu=10,Tu=class{subPriority=0;validate(e,t){return!0}},Eu=class extends Tu{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}},Du=class extends Tu{priority=wu;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>Lc(t,e))}set(e,t){return t.timestampIsSet?e:Lc(e,Su(e,this.context))}},Ou=class{run(e,t,n,r){let i=this.parse(e,t,n,r);return i?{setter:new Eu(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}},ku=class extends Ou{priority=140;parse(e,t,n){switch(t){case`G`:case`GG`:case`GGG`:return n.era(e,{width:`abbreviated`})||n.era(e,{width:`narrow`});case`GGGGG`:return n.era(e,{width:`narrow`});case`GGGG`:default:return n.era(e,{width:`wide`})||n.era(e,{width:`abbreviated`})||n.era(e,{width:`narrow`})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`R`,`u`,`t`,`T`]};const Au={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ju={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mu(e,t){return e&&{value:t(e.value),rest:e.rest}}function Nu(e,t){let n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Pu(e,t){let n=t.match(e);if(!n)return null;if(n[0]===`Z`)return{value:0,rest:t.slice(1)};let r=n[1]===`+`?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Pc+a*Nc+o*1e3),rest:t.slice(n[0].length)}}function Fu(e){return Nu(Au.anyDigitsSigned,e)}function Iu(e,t){switch(e){case 1:return Nu(Au.singleDigit,t);case 2:return Nu(Au.twoDigits,t);case 3:return Nu(Au.threeDigits,t);case 4:return Nu(Au.fourDigits,t);default:return Nu(RegExp(`^\\d{1,`+e+`}`),t)}}function Lu(e,t){switch(e){case 1:return Nu(Au.singleDigitSigned,t);case 2:return Nu(Au.twoDigitsSigned,t);case 3:return Nu(Au.threeDigitsSigned,t);case 4:return Nu(Au.fourDigitsSigned,t);default:return Nu(RegExp(`^-?\\d{1,`+e+`}`),t)}}function Ru(e){switch(e){case`morning`:return 4;case`evening`:return 17;case`pm`:case`noon`:case`afternoon`:return 12;case`am`:case`midnight`:case`night`:default:return 0}}function zu(e,t){let n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{let t=r+50,n=Math.trunc(t/100)*100,a=e>=t%100;i=e+n-(a?100:0)}return n?i:1-i}function Bu(e){return e%400==0||e%4==0&&e%100!=0}var Vu=class extends Ou{priority=130;incompatibleTokens=[`Y`,`R`,`u`,`w`,`I`,`i`,`e`,`c`,`t`,`T`];parse(e,t,n){let r=e=>({year:e,isTwoDigitYear:t===`yy`});switch(t){case`y`:return Mu(Iu(4,e),r);case`yo`:return Mu(n.ordinalNumber(e,{unit:`year`}),r);default:return Mu(Iu(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){let r=e.getFullYear();if(n.isTwoDigitYear){let t=zu(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}let i=!(`era`in t)||t.era===1?n.year:1-n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}},Hu=class extends Ou{priority=130;parse(e,t,n){let r=e=>({year:e,isTwoDigitYear:t===`YY`});switch(t){case`Y`:return Mu(Iu(4,e),r);case`Yo`:return Mu(n.ordinalNumber(e,{unit:`year`}),r);default:return Mu(Iu(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){let i=Il(e,r);if(n.isTwoDigitYear){let t=zu(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Wc(e,r)}let a=!(`era`in t)||t.era===1?n.year:1-n.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Wc(e,r)}incompatibleTokens=[`y`,`R`,`u`,`Q`,`q`,`M`,`L`,`I`,`d`,`D`,`i`,`t`,`T`]},Uu=class extends Ou{priority=130;parse(e,t){return Lu(t===`R`?4:t.length,e)}set(e,t,n){let r=Lc(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Gc(r)}incompatibleTokens=[`G`,`y`,`Y`,`u`,`Q`,`q`,`M`,`L`,`w`,`d`,`D`,`e`,`c`,`t`,`T`]},Wu=class extends Ou{priority=130;parse(e,t){return Lu(t===`u`?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`G`,`y`,`Y`,`R`,`w`,`I`,`i`,`e`,`c`,`t`,`T`]},Gu=class extends Ou{priority=120;parse(e,t,n){switch(t){case`Q`:case`QQ`:return Iu(t.length,e);case`Qo`:return n.ordinalNumber(e,{unit:`quarter`});case`QQQ`:return n.quarter(e,{width:`abbreviated`,context:`formatting`})||n.quarter(e,{width:`narrow`,context:`formatting`});case`QQQQQ`:return n.quarter(e,{width:`narrow`,context:`formatting`});case`QQQQ`:default:return n.quarter(e,{width:`wide`,context:`formatting`})||n.quarter(e,{width:`abbreviated`,context:`formatting`})||n.quarter(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`M`,`L`,`w`,`I`,`d`,`D`,`i`,`e`,`c`,`t`,`T`]},Ku=class extends Ou{priority=120;parse(e,t,n){switch(t){case`q`:case`qq`:return Iu(t.length,e);case`qo`:return n.ordinalNumber(e,{unit:`quarter`});case`qqq`:return n.quarter(e,{width:`abbreviated`,context:`standalone`})||n.quarter(e,{width:`narrow`,context:`standalone`});case`qqqqq`:return n.quarter(e,{width:`narrow`,context:`standalone`});case`qqqq`:default:return n.quarter(e,{width:`wide`,context:`standalone`})||n.quarter(e,{width:`abbreviated`,context:`standalone`})||n.quarter(e,{width:`narrow`,context:`standalone`})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`Q`,`M`,`L`,`w`,`I`,`d`,`D`,`i`,`e`,`c`,`t`,`T`]},qu=class extends Ou{incompatibleTokens=[`Y`,`R`,`q`,`Q`,`L`,`w`,`I`,`D`,`i`,`e`,`c`,`t`,`T`];priority=110;parse(e,t,n){let r=e=>e-1;switch(t){case`M`:return Mu(Nu(Au.month,e),r);case`MM`:return Mu(Iu(2,e),r);case`Mo`:return Mu(n.ordinalNumber(e,{unit:`month`}),r);case`MMM`:return n.month(e,{width:`abbreviated`,context:`formatting`})||n.month(e,{width:`narrow`,context:`formatting`});case`MMMMM`:return n.month(e,{width:`narrow`,context:`formatting`});case`MMMM`:default:return n.month(e,{width:`wide`,context:`formatting`})||n.month(e,{width:`abbreviated`,context:`formatting`})||n.month(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},Ju=class extends Ou{priority=110;parse(e,t,n){let r=e=>e-1;switch(t){case`L`:return Mu(Nu(Au.month,e),r);case`LL`:return Mu(Iu(2,e),r);case`Lo`:return Mu(n.ordinalNumber(e,{unit:`month`}),r);case`LLL`:return n.month(e,{width:`abbreviated`,context:`standalone`})||n.month(e,{width:`narrow`,context:`standalone`});case`LLLLL`:return n.month(e,{width:`narrow`,context:`standalone`});case`LLLL`:default:return n.month(e,{width:`wide`,context:`standalone`})||n.month(e,{width:`abbreviated`,context:`standalone`})||n.month(e,{width:`narrow`,context:`standalone`})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`Q`,`M`,`w`,`I`,`D`,`i`,`e`,`c`,`t`,`T`]};function Yu(e,t,n){let r=X(e,n?.in),i=Rl(r,n)-t;return r.setDate(r.getDate()-i*7),X(r,n?.in)}var Xu=class extends Ou{priority=100;parse(e,t,n){switch(t){case`w`:return Nu(Au.week,e);case`wo`:return n.ordinalNumber(e,{unit:`week`});default:return Iu(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return Wc(Yu(e,n,r),r)}incompatibleTokens=[`y`,`R`,`u`,`q`,`Q`,`M`,`L`,`I`,`d`,`D`,`i`,`t`,`T`]};function Zu(e,t,n){let r=X(e,n?.in),i=Fl(r,n)-t;return r.setDate(r.getDate()-i*7),r}var Qu=class extends Ou{priority=100;parse(e,t,n){switch(t){case`I`:return Nu(Au.week,e);case`Io`:return n.ordinalNumber(e,{unit:`week`});default:return Iu(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Gc(Zu(e,n))}incompatibleTokens=[`y`,`Y`,`u`,`q`,`Q`,`M`,`L`,`w`,`d`,`D`,`e`,`c`,`t`,`T`]},$u=[31,28,31,30,31,30,31,31,30,31,30,31],ed=[31,29,31,30,31,30,31,31,30,31,30,31],td=class extends Ou{priority=90;subPriority=1;parse(e,t,n){switch(t){case`d`:return Nu(Au.date,e);case`do`:return n.ordinalNumber(e,{unit:`date`});default:return Iu(t.length,e)}}validate(e,t){let n=Bu(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=ed[r]:t>=1&&t<=$u[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`Q`,`w`,`I`,`D`,`i`,`e`,`c`,`t`,`T`]},nd=class extends Ou{priority=90;subpriority=1;parse(e,t,n){switch(t){case`D`:case`DD`:return Nu(Au.dayOfYear,e);case`Do`:return n.ordinalNumber(e,{unit:`date`});default:return Iu(t.length,e)}}validate(e,t){return Bu(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`Q`,`M`,`L`,`w`,`I`,`d`,`E`,`i`,`e`,`c`,`t`,`T`]};function rd(e,t,n){let r=Uc(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=X(e,n?.in),o=a.getDay(),s=(t%7+7)%7,c=7-i;return Rc(a,t<0||t>6?t-(o+c)%7:(s+c)%7-(o+c)%7,n)}var id=class extends Ou{priority=90;parse(e,t,n){switch(t){case`E`:case`EE`:case`EEE`:return n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`EEEEE`:return n.day(e,{width:`narrow`,context:`formatting`});case`EEEEEE`:return n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`EEEE`:default:return n.day(e,{width:`wide`,context:`formatting`})||n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=rd(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=[`D`,`i`,`e`,`c`,`t`,`T`]},ad=class extends Ou{priority=90;parse(e,t,n,r){let i=e=>{let t=Math.floor((e-1)/7)*7;return(e+r.weekStartsOn+6)%7+t};switch(t){case`e`:case`ee`:return Mu(Iu(t.length,e),i);case`eo`:return Mu(n.ordinalNumber(e,{unit:`day`}),i);case`eee`:return n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`eeeee`:return n.day(e,{width:`narrow`,context:`formatting`});case`eeeeee`:return n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`eeee`:default:return n.day(e,{width:`wide`,context:`formatting`})||n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=rd(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=[`y`,`R`,`u`,`q`,`Q`,`M`,`L`,`I`,`d`,`D`,`E`,`i`,`c`,`t`,`T`]},od=class extends Ou{priority=90;parse(e,t,n,r){let i=e=>{let t=Math.floor((e-1)/7)*7;return(e+r.weekStartsOn+6)%7+t};switch(t){case`c`:case`cc`:return Mu(Iu(t.length,e),i);case`co`:return Mu(n.ordinalNumber(e,{unit:`day`}),i);case`ccc`:return n.day(e,{width:`abbreviated`,context:`standalone`})||n.day(e,{width:`short`,context:`standalone`})||n.day(e,{width:`narrow`,context:`standalone`});case`ccccc`:return n.day(e,{width:`narrow`,context:`standalone`});case`cccccc`:return n.day(e,{width:`short`,context:`standalone`})||n.day(e,{width:`narrow`,context:`standalone`});case`cccc`:default:return n.day(e,{width:`wide`,context:`standalone`})||n.day(e,{width:`abbreviated`,context:`standalone`})||n.day(e,{width:`short`,context:`standalone`})||n.day(e,{width:`narrow`,context:`standalone`})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=rd(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=[`y`,`R`,`u`,`q`,`Q`,`M`,`L`,`I`,`d`,`D`,`E`,`i`,`e`,`t`,`T`]};function sd(e,t,n){let r=X(e,n?.in);return Rc(r,t-pu(r,n),n)}var cd=class extends Ou{priority=90;parse(e,t,n){let r=e=>e===0?7:e;switch(t){case`i`:case`ii`:return Iu(t.length,e);case`io`:return n.ordinalNumber(e,{unit:`day`});case`iii`:return Mu(n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`}),r);case`iiiii`:return Mu(n.day(e,{width:`narrow`,context:`formatting`}),r);case`iiiiii`:return Mu(n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`}),r);case`iiii`:default:return Mu(n.day(e,{width:`wide`,context:`formatting`})||n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=sd(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=[`y`,`Y`,`u`,`q`,`Q`,`M`,`L`,`w`,`d`,`D`,`E`,`e`,`c`,`t`,`T`]},ld=class extends Ou{priority=80;parse(e,t,n){switch(t){case`a`:case`aa`:case`aaa`:return n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`aaaaa`:return n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`aaaa`:default:return n.dayPeriod(e,{width:`wide`,context:`formatting`})||n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`})}}set(e,t,n){return e.setHours(Ru(n),0,0,0),e}incompatibleTokens=[`b`,`B`,`H`,`k`,`t`,`T`]},ud=class extends Ou{priority=80;parse(e,t,n){switch(t){case`b`:case`bb`:case`bbb`:return n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`bbbbb`:return n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`bbbb`:default:return n.dayPeriod(e,{width:`wide`,context:`formatting`})||n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`})}}set(e,t,n){return e.setHours(Ru(n),0,0,0),e}incompatibleTokens=[`a`,`B`,`H`,`k`,`t`,`T`]},dd=class extends Ou{priority=80;parse(e,t,n){switch(t){case`B`:case`BB`:case`BBB`:return n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`BBBBB`:return n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`BBBB`:default:return n.dayPeriod(e,{width:`wide`,context:`formatting`})||n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`})}}set(e,t,n){return e.setHours(Ru(n),0,0,0),e}incompatibleTokens=[`a`,`b`,`t`,`T`]},fd=class extends Ou{priority=70;parse(e,t,n){switch(t){case`h`:return Nu(Au.hour12h,e);case`ho`:return n.ordinalNumber(e,{unit:`hour`});default:return Iu(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){let r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):!r&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=[`H`,`K`,`k`,`t`,`T`]},pd=class extends Ou{priority=70;parse(e,t,n){switch(t){case`H`:return Nu(Au.hour23h,e);case`Ho`:return n.ordinalNumber(e,{unit:`hour`});default:return Iu(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=[`a`,`b`,`h`,`K`,`k`,`t`,`T`]},md=class extends Ou{priority=70;parse(e,t,n){switch(t){case`K`:return Nu(Au.hour11h,e);case`Ko`:return n.ordinalNumber(e,{unit:`hour`});default:return Iu(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=[`h`,`H`,`k`,`t`,`T`]},hd=class extends Ou{priority=70;parse(e,t,n){switch(t){case`k`:return Nu(Au.hour24h,e);case`ko`:return n.ordinalNumber(e,{unit:`hour`});default:return Iu(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){let r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=[`a`,`b`,`h`,`H`,`K`,`t`,`T`]},gd=class extends Ou{priority=60;parse(e,t,n){switch(t){case`m`:return Nu(Au.minute,e);case`mo`:return n.ordinalNumber(e,{unit:`minute`});default:return Iu(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=[`t`,`T`]},_d=class extends Ou{priority=50;parse(e,t,n){switch(t){case`s`:return Nu(Au.second,e);case`so`:return n.ordinalNumber(e,{unit:`second`});default:return Iu(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=[`t`,`T`]},vd=class extends Ou{priority=30;parse(e,t){return Mu(Iu(t.length,e),e=>Math.trunc(e*10**(-t.length+3)))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=[`t`,`T`]},yd=class extends Ou{priority=10;parse(e,t){switch(t){case`X`:return Pu(ju.basicOptionalMinutes,e);case`XX`:return Pu(ju.basic,e);case`XXXX`:return Pu(ju.basicOptionalSeconds,e);case`XXXXX`:return Pu(ju.extendedOptionalSeconds,e);case`XXX`:default:return Pu(ju.extended,e)}}set(e,t,n){return t.timestampIsSet?e:Lc(e,e.getTime()-qc(e)-n)}incompatibleTokens=[`t`,`T`,`x`]},bd=class extends Ou{priority=10;parse(e,t){switch(t){case`x`:return Pu(ju.basicOptionalMinutes,e);case`xx`:return Pu(ju.basic,e);case`xxxx`:return Pu(ju.basicOptionalSeconds,e);case`xxxxx`:return Pu(ju.extendedOptionalSeconds,e);case`xxx`:default:return Pu(ju.extended,e)}}set(e,t,n){return t.timestampIsSet?e:Lc(e,e.getTime()-qc(e)-n)}incompatibleTokens=[`t`,`T`,`X`]},xd=class extends Ou{priority=40;parse(e){return Fu(e)}set(e,t,n){return[Lc(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens=`*`},Sd=class extends Ou{priority=20;parse(e){return Fu(e)}set(e,t,n){return[Lc(e,n),{timestampIsSet:!0}]}incompatibleTokens=`*`};const Cd={G:new ku,y:new Vu,Y:new Hu,R:new Uu,u:new Wu,Q:new Gu,q:new Ku,M:new qu,L:new Ju,w:new Xu,I:new Qu,d:new td,D:new nd,E:new id,e:new ad,c:new od,i:new cd,a:new ld,b:new ud,B:new dd,h:new fd,H:new pd,K:new md,k:new hd,m:new gd,s:new _d,S:new vd,X:new yd,x:new bd,t:new xd,T:new Sd};var wd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Td=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ed=/^'([^]*?)'?$/,Dd=/''/g,Od=/\S/,kd=/[a-zA-Z]/;function Ad(e,t,n,r){let i=()=>Lc(r?.in||n,NaN),a=du(),o=r?.locale??a.locale??Nl,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!t)return e?i():X(n,r?.in);let l={firstWeekContainsDate:s,weekStartsOn:c,locale:o},u=[new Du(r?.in,n)],d=t.match(Td).map(e=>{let t=e[0];if(t in ql){let n=ql[t];return n(e,o.formatLong)}return e}).join(``).match(wd),f=[];for(let n of d){!r?.useAdditionalWeekYearTokens&&Ql(n)&&$l(n,t,e),!r?.useAdditionalDayOfYearTokens&&Zl(n)&&$l(n,t,e);let a=n[0],s=Cd[a];if(s){let{incompatibleTokens:t}=s;if(Array.isArray(t)){let e=f.find(e=>t.includes(e.token)||e.token===a);if(e)throw RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${n}\` at the same time`)}else if(s.incompatibleTokens===`*`&&f.length>0)throw RangeError(`The format string mustn't contain \`${n}\` and any other token at the same time`);f.push({token:a,fullToken:n});let r=s.run(e,n,o.match,l);if(!r)return i();u.push(r.setter),e=r.rest}else{if(a.match(kd))throw RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");if(n===`''`?n=`'`:a===`'`&&(n=jd(n)),e.indexOf(n)===0)e=e.slice(n.length);else return i()}}if(e.length>0&&Od.test(e))return i();let p=u.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>u.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]),m=X(n,r?.in);if(isNaN(+m))return i();let h={};for(let e of p){if(!e.validate(m,l))return i();let t=e.set(m,h,l);Array.isArray(t)?(m=t[0],Object.assign(h,t[1])):m=t}return m}function jd(e){return e.match(Ed)[1].replace(Dd,`'`)}function Md(e,t,n){let[r,i]=Jc(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Nd(e,t,n){let[r,i]=Jc(n?.in,e,t);return+gl(r)==+gl(i)}function Pd(e,t,n){let[r,i]=Jc(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function Fd(e,t,n){let r=+X(e,n?.in),[i,a]=[+X(t.start,n?.in),+X(t.end,n?.in)].sort((e,t)=>e-t);return r>=i&&r<=a}function Id(e,t,n){return Rc(e,-t,n)}function Ld(e,t){let n=()=>Lc(t?.in,NaN),r=t?.additionalDigits??2,i=Hd(e),a;if(i.date){let e=Ud(i.date,r);a=Wd(e.restDateString,e.year)}if(!a||isNaN(+a))return n();let o=+a,s=0,c;if(i.time&&(s=Kd(i.time),isNaN(s)))return n();if(i.timezone){if(c=Jd(i.timezone),isNaN(c))return n()}else{let e=new Date(o+s),n=X(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return X(o+s+c,t?.in)}var Rd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},zd=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Bd=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Vd=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Hd(e){let t={},n=e.split(Rd.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Rd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Rd.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){let e=Rd.timezone.exec(r);e?(t.time=r.replace(e[1],``),t.timezone=e[1]):t.time=r}return t}function Ud(e,t){let n=RegExp(`^(?:(\\d{4}|[+-]\\d{`+(4+t)+`})|(\\d{2}|[+-]\\d{`+(2+t)+`})$)`),r=e.match(n);if(!r)return{year:NaN,restDateString:``};let i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function Wd(e,t){if(t===null)return new Date(NaN);let n=e.match(zd);if(!n)return new Date(NaN);let r=!!n[4],i=Gd(n[1]),a=Gd(n[2])-1,o=Gd(n[3]),s=Gd(n[4]),c=Gd(n[5])-1;if(r)return ef(t,s,c)?Yd(t,s,c):new Date(NaN);{let e=new Date(0);return!Qd(t,a,o)||!$d(t,i)?new Date(NaN):(e.setUTCFullYear(t,a,Math.max(i,o)),e)}}function Gd(e){return e?parseInt(e):1}function Kd(e){let t=e.match(Bd);if(!t)return NaN;let n=qd(t[1]),r=qd(t[2]),i=qd(t[3]);return tf(n,r,i)?n*Pc+r*Nc+i*1e3:NaN}function qd(e){return e&&parseFloat(e.replace(`,`,`.`))||0}function Jd(e){if(e===`Z`)return 0;let t=e.match(Vd);if(!t)return 0;let n=t[1]===`+`?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return nf(r,i)?n*(r*Pc+i*Nc):NaN}function Yd(e,t,n){let r=new Date(0);r.setUTCFullYear(e,0,4);let i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var Xd=[31,null,31,30,31,30,31,31,30,31,30,31];function Zd(e){return e%400==0||e%4==0&&e%100!=0}function Qd(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Xd[t]||(Zd(e)?29:28))}function $d(e,t){return t>=1&&t<=(Zd(e)?366:365)}function ef(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function tf(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function nf(e,t){return t>=0&&t<=59}function rf(e,t,n){let r=X(e,n?.in),i=r.getFullYear(),a=r.getDate(),o=Lc(n?.in||e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);let s=uu(o);return r.setMonth(t,Math.min(a,s)),r}function af(e,t,n){let r=X(e,n?.in);return r.setHours(t),r}function of(e,t,n){let r=X(e,n?.in);return r.setMinutes(t),r}function sf(e,t,n){let r=X(e,n?.in),i=t-(Math.trunc(r.getMonth()/3)+1);return rf(r,r.getMonth()+i*3)}function cf(e,t,n){let r=X(e,n?.in);return r.setSeconds(t),r}function lf(e,t,n){let r=X(e,n?.in);return isNaN(+r)?Lc(n?.in||e,NaN):(r.setFullYear(t),r)}function uf(e,t,n){return zc(e,-t,n)}function df(e,t,n){return $c(e,-t,n)}function ff(e,t,n){return tl(e,-t,n)}function pf(e,t,n){return nl(e,-t,n)}function mf(){return typeof window<`u`}function hf(e){return vf(e)?(e.nodeName||``).toLowerCase():`#document`}function gf(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _f(e){return((vf(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function vf(e){return mf()?e instanceof Node||e instanceof gf(e).Node:!1}function yf(e){return mf()?e instanceof Element||e instanceof gf(e).Element:!1}function bf(e){return mf()?e instanceof HTMLElement||e instanceof gf(e).HTMLElement:!1}function xf(e){return!mf()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof gf(e).ShadowRoot}var Sf=new Set([`inline`,`contents`]);function Cf(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=If(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Sf.has(i)}var wf=new Set([`table`,`td`,`th`]);function Tf(e){return wf.has(hf(e))}var Ef=[`:popover-open`,`:modal`];function Df(e){return Ef.some(t=>{try{return e.matches(t)}catch{return!1}})}var Of=[`transform`,`translate`,`scale`,`rotate`,`perspective`],kf=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],Af=[`paint`,`layout`,`strict`,`content`];function jf(e){let t=Nf(),n=yf(e)?If(e):e;return Of.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||kf.some(e=>(n.willChange||``).includes(e))||Af.some(e=>(n.contain||``).includes(e))}function Mf(e){let t=Rf(e);for(;bf(t)&&!Ff(t);){if(jf(t))return t;if(Df(t))return null;t=Rf(t)}return null}function Nf(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var Pf=new Set([`html`,`body`,`#document`]);function Ff(e){return Pf.has(hf(e))}function If(e){return gf(e).getComputedStyle(e)}function Lf(e){return yf(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rf(e){if(hf(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||xf(e)&&e.host||_f(e);return xf(t)?t.host:t}function zf(e){let t=Rf(e);return Ff(t)?e.ownerDocument?e.ownerDocument.body:e.body:bf(t)&&Cf(t)?t:zf(t)}function Bf(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=zf(e),i=r===e.ownerDocument?.body,a=gf(r);if(i){let e=Vf(a);return t.concat(a,a.visualViewport||[],Cf(r)?r:[],e&&n?Bf(e):[])}return t.concat(r,Bf(r,[],n))}function Vf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var Hf=Math.min,Uf=Math.max,Wf=Math.round,Gf=Math.floor,Kf=e=>({x:e,y:e}),qf={left:`right`,right:`left`,bottom:`top`,top:`bottom`},Jf={start:`end`,end:`start`};function Yf(e,t,n){return Uf(e,Hf(t,n))}function Xf(e,t){return typeof e==`function`?e(t):e}function Zf(e){return e.split(`-`)[0]}function Qf(e){return e.split(`-`)[1]}function $f(e){return e===`x`?`y`:`x`}function ep(e){return e===`y`?`height`:`width`}var tp=new Set([`top`,`bottom`]);function np(e){return tp.has(Zf(e))?`y`:`x`}function rp(e){return $f(np(e))}function ip(e,t,n){n===void 0&&(n=!1);let r=Qf(e),i=rp(e),a=ep(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=pp(o)),[o,pp(o)]}function ap(e){let t=pp(e);return[op(e),t,op(t)]}function op(e){return e.replace(/start|end/g,e=>Jf[e])}var sp=[`left`,`right`],cp=[`right`,`left`],lp=[`top`,`bottom`],up=[`bottom`,`top`];function dp(e,t,n){switch(e){case`top`:case`bottom`:return n?t?cp:sp:t?sp:cp;case`left`:case`right`:return t?lp:up;default:return[]}}function fp(e,t,n,r){let i=Qf(e),a=dp(Zf(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(op)))),a}function pp(e){return e.replace(/left|right|bottom|top/g,e=>qf[e])}function mp(e){return{top:0,right:0,bottom:0,left:0,...e}}function hp(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:mp(e)}function gp(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var _p=typeof document<`u`?b.useLayoutEffect:function(){},vp={...b}.useInsertionEffect||(e=>e());function yp(e){let t=b.useRef(()=>{});return vp(()=>{t.current=e}),b.useCallback(function(){var e=[...arguments];return t.current==null?void 0:t.current(...e)},[])}var bp=u(_(),1);function xp(e,t,n){let{reference:r,floating:i}=e,a=np(t),o=rp(t),s=ep(o),c=Zf(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Qf(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}async function Sp(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=Xf(t,e),p=hp(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=gp(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=gp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var Cp=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=xp(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:{...o,detectOverflow:o.detectOverflow??Sp},elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=xp(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}},wp=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=Xf(e,t)||{};if(l==null)return{};let d=hp(u),f={x:n,y:r},p=rp(i),m=ep(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,E=Hf(d[_],T),D=Hf(d[v],T),O=E,ee=C-h[m]-D,k=C/2-h[m]/2+w,te=Yf(O,k,ee),A=!c.arrow&&Qf(i)!=null&&k!==te&&a.reference[m]/2-(k<O?E:D)-h[m]/2<0,j=A?k<O?k-O:k-ee:0;return{[p]:f[p]+j,data:{[p]:te,centerOffset:k-te-j,...A&&{alignmentOffset:j}},reset:A}}}),Tp=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=Xf(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=Zf(r),_=np(o),v=Zf(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[pp(o)]:ap(o)),x=p!==`none`;!d&&x&&b.push(...fp(o,m,p,y));let S=[o,...b],C=await s.detectOverflow(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=ip(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==np(t))||T.every(e=>np(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=np(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}},Ep=new Set([`left`,`top`]);async function Dp(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Zf(n),s=Qf(n),c=np(n)===`y`,l=Ep.has(o)?-1:1,u=a&&c?-1:1,d=Xf(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var Op=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await Dp(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}};function kp(e){let t=If(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=bf(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Wf(n)!==a||Wf(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function Ap(e){return yf(e)?e:e.contextElement}function jp(e){let t=Ap(e);if(!bf(t))return Kf(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=kp(t),o=(a?Wf(n.width):n.width)/r,s=(a?Wf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var Mp=Kf(0);function Np(e){let t=gf(e);return!Nf()||!t.visualViewport?Mp:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pp(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==gf(e)?!1:t}function Fp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=Ap(e),o=Kf(1);t&&(r?yf(r)&&(o=jp(r)):o=jp(e));let s=Pp(a,n,r)?Np(a):Kf(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=gf(a),t=r&&yf(r)?gf(r):r,n=e,i=Vf(n);for(;i&&r&&t!==n;){let e=jp(i),t=i.getBoundingClientRect(),r=If(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=gf(i),i=Vf(n)}}return gp({width:u,height:d,x:c,y:l})}function Ip(e,t){let n=Lf(e).scrollLeft;return t?t.left+n:Fp(_f(e)).left+n}function Lp(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-Ip(e,n),y:n.top+t.scrollTop}}function Rp(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=_f(r),s=t?Df(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=Kf(1),u=Kf(0),d=bf(r);if((d||!d&&!a)&&((hf(r)!==`body`||Cf(o))&&(c=Lf(r)),bf(r))){let e=Fp(r);l=jp(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?Lp(o,c):Kf(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function zp(e){return Array.from(e.getClientRects())}function Bp(e){let t=_f(e),n=Lf(e),r=e.ownerDocument.body,i=Uf(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Uf(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+Ip(e),s=-n.scrollTop;return If(r).direction===`rtl`&&(o+=Uf(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var Vp=25;function Hp(e,t){let n=gf(e),r=_f(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=Nf();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=Ip(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=Vp&&(a-=o)}else l<=Vp&&(a+=l);return{width:a,height:o,x:s,y:c}}var Up=new Set([`absolute`,`fixed`]);function Wp(e,t){let n=Fp(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=bf(e)?jp(e):Kf(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function Gp(e,t,n){let r;if(t===`viewport`)r=Hp(e,n);else if(t===`document`)r=Bp(_f(e));else if(yf(t))r=Wp(t,n);else{let n=Np(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return gp(r)}function Kp(e,t){let n=Rf(e);return n===t||!yf(n)||Ff(n)?!1:If(n).position===`fixed`||Kp(n,t)}function qp(e,t){let n=t.get(e);if(n)return n;let r=Bf(e,[],!1).filter(e=>yf(e)&&hf(e)!==`body`),i=null,a=If(e).position===`fixed`,o=a?Rf(e):e;for(;yf(o)&&!Ff(o);){let t=If(o),n=jf(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&Up.has(i.position)||Cf(o)&&!n&&Kp(e,o))?r=r.filter(e=>e!==o):i=t,o=Rf(o)}return t.set(e,r),r}function Jp(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?Df(t)?[]:qp(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=Gp(t,n,i);return e.top=Uf(r.top,e.top),e.right=Hf(r.right,e.right),e.bottom=Hf(r.bottom,e.bottom),e.left=Uf(r.left,e.left),e},Gp(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Yp(e){let{width:t,height:n}=kp(e);return{width:t,height:n}}function Xp(e,t,n){let r=bf(t),i=_f(t),a=n===`fixed`,o=Fp(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=Kf(0);function l(){c.x=Ip(i)}if(r||!r&&!a)if((hf(t)!==`body`||Cf(i))&&(s=Lf(t)),r){let e=Fp(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?Lp(i,s):Kf(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function Zp(e){return If(e).position===`static`}function Qp(e,t){if(!bf(e)||If(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return _f(e)===n&&(n=n.ownerDocument.body),n}function $p(e,t){let n=gf(e);if(Df(e))return n;if(!bf(e)){let t=Rf(e);for(;t&&!Ff(t);){if(yf(t)&&!Zp(t))return t;t=Rf(t)}return n}let r=Qp(e,t);for(;r&&Tf(r)&&Zp(r);)r=Qp(r,t);return r&&Ff(r)&&Zp(r)&&!jf(r)?n:r||Mf(e)||n}var em=async function(e){let t=this.getOffsetParent||$p,n=this.getDimensions,r=await n(e.floating);return{reference:Xp(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tm(e){return If(e).direction===`rtl`}var nm={convertOffsetParentRelativeRectToViewportRelativeRect:Rp,getDocumentElement:_f,getClippingRect:Jp,getOffsetParent:$p,getElementRects:em,getClientRects:zp,getDimensions:Yp,getScale:jp,isElement:yf,isRTL:tm};function rm(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function im(e,t){let n=null,r,i=_f(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=Gf(d),h=Gf(i.clientWidth-(u+f)),g=Gf(i.clientHeight-(d+p)),_=Gf(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:Uf(0,Hf(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!rm(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function am(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=Ap(e),u=i||a?[...l?Bf(l):[],...Bf(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?im(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?Fp(e):null;c&&g();function g(){let t=Fp(e);h&&!rm(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var om=Op,sm=Tp,cm=wp,lm=(e,t,n)=>{let r=new Map,i={platform:nm,...n},a={...i.platform,_c:r};return Cp(e,t,{...i,platform:a})},um=typeof document<`u`?b.useLayoutEffect:function(){};function dm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e==`function`&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e==`object`){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let n=i[r];if(!(n===`_owner`&&e.$$typeof)&&!dm(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function fm(e){return typeof window>`u`?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pm(e,t){let n=fm(e);return Math.round(t*n)/n}function mm(e){let t=b.useRef(e);return um(()=>{t.current=e}),t}function hm(e){e===void 0&&(e={});let{placement:t=`bottom`,strategy:n=`absolute`,middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=e,[u,d]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=b.useState(r);dm(f,r)||p(r);let[m,h]=b.useState(null),[g,_]=b.useState(null),v=b.useCallback(e=>{e!==C.current&&(C.current=e,h(e))},[]),y=b.useCallback(e=>{e!==w.current&&(w.current=e,_(e))},[]),x=a||m,S=o||g,C=b.useRef(null),w=b.useRef(null),T=b.useRef(u),E=c!=null,D=mm(c),O=mm(i),ee=mm(l),k=b.useCallback(()=>{if(!C.current||!w.current)return;let e={placement:t,strategy:n,middleware:f};O.current&&(e.platform=O.current),lm(C.current,w.current,e).then(e=>{let t={...e,isPositioned:ee.current!==!1};te.current&&!dm(T.current,t)&&(T.current=t,bp.flushSync(()=>{d(t)}))})},[f,t,n,O,ee]);um(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[l]);let te=b.useRef(!1);um(()=>(te.current=!0,()=>{te.current=!1}),[]),um(()=>{if(x&&(C.current=x),S&&(w.current=S),x&&S){if(D.current)return D.current(x,S,k);k()}},[x,S,k,D,E]);let A=b.useMemo(()=>({reference:C,floating:w,setReference:v,setFloating:y}),[v,y]),j=b.useMemo(()=>({reference:x,floating:S}),[x,S]),M=b.useMemo(()=>{let e={position:n,left:0,top:0};if(!j.floating)return e;let t=pm(j.floating,u.x),r=pm(j.floating,u.y);return s?{...e,transform:`translate(`+t+`px, `+r+`px)`,...fm(j.floating)>=1.5&&{willChange:`transform`}}:{position:n,left:t,top:r}},[n,s,j.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:k,refs:A,elements:j,floatingStyles:M}),[u,k,A,j,M])}var gm=e=>{function t(e){return{}.hasOwnProperty.call(e,`current`)}return{name:`arrow`,options:e,fn(n){let{element:r,padding:i}=typeof e==`function`?e(n):e;return r&&t(r)?r.current==null?{}:cm({element:r.current,padding:i}).fn(n):r?cm({element:r,padding:i}).fn(n):{}}}},_m=(e,t)=>({...om(e),options:[e,t]}),vm=(e,t)=>({...sm(e),options:[e,t]}),ym=(e,t)=>({...gm(e),options:[e,t]});_();var bm=`ArrowLeft`,xm=`ArrowRight`,Sm=`ArrowUp`,Cm=`ArrowDown`,wm=[bm,xm],Tm=[Sm,Cm];[...wm,...Tm];var Em={...b},Dm=!1,Om=0,km=()=>`floating-ui-`+Math.random().toString(36).slice(2,6)+ Om++;function Am(){let[e,t]=b.useState(()=>Dm?km():void 0);return _p(()=>{e??t(km())},[]),b.useEffect(()=>{Dm=!0},[]),e}var jm=Em.useId||Am,Mm=b.forwardRef(function(e,t){let{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i,shift:a}},width:o=14,height:s=7,tipRadius:c=0,strokeWidth:l=0,staticOffset:u,stroke:d,d:f,style:{transform:p,...m}={},...h}=e,g=jm(),[_,v]=b.useState(!1);if(_p(()=>{r&&If(r).direction===`rtl`&&v(!0)},[r]),!r)return null;let[y,x]=n.split(`-`),S=y===`top`||y===`bottom`,C=u;(S&&a!=null&&a.x||!S&&a!=null&&a.y)&&(C=null);let w=l*2,T=w/2,E=o/2*(c/-8+1),D=s/2*c/4,O=!!f,ee=C&&x===`end`?`bottom`:`top`,k=C&&x===`end`?`right`:`left`;C&&_&&(k=x===`end`?`left`:`right`);let te=i?.x==null?``:C||i.x,A=i?.y==null?``:C||i.y,j=f||`M0,0`+(` H`+o)+(` L`+(o-E)+`,`+(s-D))+(` Q`+o/2+`,`+s+` `+E+`,`+(s-D))+` Z`,M={top:O?`rotate(180deg)`:``,left:O?`rotate(90deg)`:`rotate(-90deg)`,bottom:O?``:`rotate(180deg)`,right:O?`rotate(-90deg)`:`rotate(90deg)`}[y];return(0,U.jsxs)(`svg`,{...h,"aria-hidden":!0,ref:t,width:O?o:o+w,height:o,viewBox:`0 0 `+o+` `+(s>o?s:o),style:{position:`absolute`,pointerEvents:`none`,[k]:te,[ee]:A,[y]:S||O?`100%`:`calc(100% - `+w/2+`px)`,transform:[M,p].filter(e=>!!e).join(` `),...m},children:[w>0&&(0,U.jsx)(`path`,{clipPath:`url(#`+g+`)`,fill:`none`,stroke:d,strokeWidth:w+(f?0:1),d:j}),(0,U.jsx)(`path`,{stroke:w&&!f?h.fill:`none`,d:j}),(0,U.jsx)(`clipPath`,{id:g,children:(0,U.jsx)(`rect`,{x:-T,y:T*(O?-1:1),width:o+w,height:o})})]})});function Nm(){let e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}var Pm=b.createContext(null),Fm=b.createContext(null),Im=()=>b.useContext(Pm)?.id||null,Lm=()=>b.useContext(Fm);function Rm(e){let{open:t=!1,onOpenChange:n,elements:r}=e,i=jm(),a=b.useRef({}),[o]=b.useState(()=>Nm()),s=Im()!=null,[c,l]=b.useState(r.reference),u=yp((e,t,r)=>{a.current.openEvent=e?t:void 0,o.emit(`openchange`,{open:e,event:t,reason:r,nested:s}),n?.(e,t,r)}),d=b.useMemo(()=>({setPositionReference:l}),[]),f=b.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return b.useMemo(()=>({dataRef:a,open:t,onOpenChange:u,elements:f,events:o,floatingId:i,refs:d}),[t,u,f,o,i,d])}function zm(e){e===void 0&&(e={});let{nodeId:t}=e,n=Rm({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,o]=b.useState(null),[s,c]=b.useState(null),l=i?.domReference||a,u=b.useRef(null),d=Lm();_p(()=>{l&&(u.current=l)},[l]);let f=hm({...e,elements:{...i,...s&&{reference:s}}}),p=b.useCallback(e=>{let t=yf(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),f.refs.setReference(t)},[f.refs]),m=b.useCallback(e=>{(yf(e)||e===null)&&(u.current=e,o(e)),(yf(f.refs.reference.current)||f.refs.reference.current===null||e!==null&&!yf(e))&&f.refs.setReference(e)},[f.refs]),h=b.useMemo(()=>({...f.refs,setReference:m,setPositionReference:p,domReference:u}),[f.refs,m,p]),g=b.useMemo(()=>({...f.elements,domReference:l}),[f.elements,l]),_=b.useMemo(()=>({...f,...r,refs:h,elements:g,nodeId:t}),[f,h,g,t,r]);return _p(()=>{r.dataRef.current.floatingContext=_;let e=d?.nodesRef.current.find(e=>e.id===t);e&&(e.context=_)}),b.useMemo(()=>({...f,context:_,refs:h,elements:g}),[f,h,g,_])}var Bm=c({default:()=>Vm}),Vm,Hm=o((()=>{throw Vm={},Error(`Could not resolve "date-fns-tz" imported by "react-datepicker". Is it installed?`)})),Um=u(_()),Wm=function(e,t){return Wm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Wm(e,t)};function Gm(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);Wm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Km=function(){return Km=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Km.apply(this,arguments)};function qm(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Jm=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,a=e.className,o=e.children,s=e.inline,c=n?`Choose Time`:`Choose Date${i?` and Time`:``}`;return b.createElement(`div`,{className:a,"aria-label":c,role:s?void 0:`dialog`,"aria-modal":s?void 0:`true`,translate:`no`},o)},Ym=function(e,t){var n=(0,b.useRef)(null),r=(0,b.useRef)(e);(0,b.useEffect)(function(){r.current=e},[e]);var i=(0,b.useCallback)(function(e){var i,a=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(a)&&(t&&a instanceof HTMLElement&&a.classList.contains(t)||(i=r.current)==null||i.call(r,e))},[t]);return(0,b.useEffect)(function(){return document.addEventListener(`mousedown`,i),function(){document.removeEventListener(`mousedown`,i)}},[i]),n},Xm=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,o=e.ignoreClass,s=Ym(n,o);return b.createElement(`div`,{className:r,style:a,ref:function(e){s.current=e,i&&(i.current=e)}},t)},Zm=null,Qm=!1;function $m(){if(Qm)return Zm;Qm=!0;try{Zm=(Hm(),d(Bm))}catch{Zm=null}return Zm}function eh(e,t){if(!t)return e;var n=$m();return n?n.toZonedTime(e,t):e}function th(e,t){if(!t)return e;var n=$m();return n?n.fromZonedTime(e,t):e}var Q;(function(e){e.ArrowUp=`ArrowUp`,e.ArrowDown=`ArrowDown`,e.ArrowLeft=`ArrowLeft`,e.ArrowRight=`ArrowRight`,e.PageUp=`PageUp`,e.PageDown=`PageDown`,e.Home=`Home`,e.End=`End`,e.Enter=`Enter`,e.Space=` `,e.Tab=`Tab`,e.Escape=`Escape`,e.Backspace=`Backspace`,e.X=`x`})(Q||={});function nh(){return typeof window<`u`?window:globalThis}var rh=12;function ih(e){if(e==null)return new Date;var t=typeof e==`string`?Ld(e):X(e);return sh(t)?t:new Date}function ah(e,t,n,r,i){i===void 0&&(i=ih());for(var a=Ph(n)||Ph(Nh()),o=Array.isArray(t)?t:[t],s=0,c=o;s<c.length;s++){var l=c[s],u=Ad(e,l,i,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(sh(u)&&(!r||e===lh(u,l,n)))return u}if(!r&&e&&e.length>=8){var d=new Date(e);if(sl(d))return d}return null}function oh(e,t){if(t===void 0&&(t=ih()),!e)return null;var n=e.match(/\b(1\d{3}|2\d{3})\b/);if(!n||!n[1])return null;var r=parseInt(n[1],10),i=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),a=i&&i[1]?parseInt(i[1],10)-1:t.getMonth();return new Date(r,a,1)}function sh(e){return sl(e)}function ch(e){return e==null?null:ol(e)&&sl(e)?e:null}function lh(e,t,n){if(n===`en`)return ou(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ph(n):void 0;return n&&!r&&console.warn(`A locale object was not found for the provided string ["${n}"].`),r||=Ph(Nh()),ou(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function uh(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&lh(e,i,r)||``}var dh=` - `;function fh(e,t,n){if(!e&&!t)return``;var r=e?uh(e,n):``,i=t?uh(t,n):``;return`${r}${n.rangeSeparator||dh}${i}`}function ph(e,t){if(!e?.length)return``;var n=e[0]?uh(e[0],t):``;return e.length===1?n:e.length===2&&e[1]?`${n}, ${uh(e[1],t)}`:`${n} (+${e.length-1})`}function mh(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,a=i===void 0?0:i,o=t.second;return af(of(cf(e,o===void 0?0:o),a),r)}function hh(e){return Fl(e)}function gh(e,t){return lh(e,`ddd`,t)}function _h(e){return Yc(e)}function vh(e,t,n){return Wc(e,{locale:Ph(t||Nh()),weekStartsOn:n})}function yh(e){return _l(e)}function bh(e){return yl(e)}function xh(e){return gl(e)}function Sh(){return Yc(ih())}function Ch(e){return ml(e)}function wh(e){return bl(e)}function Th(e){return hl(e)}function Eh(e,t){return e&&t?Pd(e,t):!e&&!t}function Dh(e,t){return e&&t?Md(e,t):!e&&!t}function Oh(e,t){return e&&t?Nd(e,t):!e&&!t}function kh(e,t){return e&&t?al(e,t):!e&&!t}function Ah(e,t){return e&&t?xu(e,t):!e&&!t}function jh(e,t,n){var r,i=Yc(t),a=ml(n);try{r=Fd(e,{start:i,end:a})}catch{r=!1}return r}function Mh(e,t){var n=nh();n.__localeData__||={},n.__localeData__[e]=t}function Nh(){return nh().__localeId__}function Ph(e){if(typeof e==`string`){var t=nh();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function Fh(e,t,n){return t(lh(e,`EEEE`,n))}function Ih(e,t){return lh(e,`EEEEEE`,t)}function Lh(e,t){return lh(e,`EEE`,t)}function Rh(e,t){return lh(rf(ih(),e),`LLLL`,t)}function zh(e,t){return lh(rf(ih(),e),`LLL`,t)}function Bh(e,t){return lh(sf(ih(),e),`QQQ`,t)}function Vh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.excludeDateIntervals,s=n.includeDates,c=n.includeDateIntervals,l=n.filterDate;return n.disabled?!0:Xh(e,{minDate:r,maxDate:i})||a&&a.some(function(t){return t instanceof Date?kh(e,t):kh(e,t.date)})||o&&o.some(function(t){var n=t.start,r=t.end;return Fd(e,{start:n,end:r})})||s&&!s.some(function(t){return kh(e,t)})||c&&!c.some(function(t){var n=t.start,r=t.end;return Fd(e,{start:n,end:r})})||l&&!l(ih(e))||!1}function Hh(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(t){var n=t.start,r=t.end;return Fd(e,{start:n,end:r})}):r&&r.some(function(t){return t instanceof Date?kh(e,t):kh(e,t.date??new Date)})||!1}function Uh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;return Xh(e,{minDate:r?_l(r):void 0,maxDate:i?hl(i):void 0})||a?.some(function(t){return Dh(e,t instanceof Date?t:t.date)})||o&&!o.some(function(t){return Dh(e,t)})||s&&!s(ih(e))||!1}function Wh(e,t,n,r){var i=vu(e),a=hu(e),o=vu(t),s=hu(t),c=vu(r);return i===o&&i===c?a<=n&&n<=s:i<o?c===i&&a<=n||c===o&&s>=n||c<o&&c>i:!1}function Gh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates;return Xh(e,{minDate:r,maxDate:i})||a&&a.some(function(t){return Dh(t instanceof Date?t:t.date,e)})||o&&!o.some(function(t){return Dh(t,e)})||!1}function Kh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;return n.disabled?!0:Xh(e,{minDate:r,maxDate:i})||a?.some(function(t){return Oh(e,t instanceof Date?t:t.date)})||o&&!o.some(function(t){return Oh(e,t)})||s&&!s(ih(e))||!1}function qh(e,t,n){if(!t||!n||!sl(t)||!sl(n))return!1;var r=vu(t),i=vu(n);return r<=e&&i>=e}function Jh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;if(n.disabled)return!0;var c=new Date(e,0,1);return Xh(c,{minDate:r?yl(r):void 0,maxDate:i?vl(i):void 0})||a?.some(function(e){return Eh(c,e instanceof Date?e:e.date)})||o&&!o.some(function(e){return Eh(c,e)})||s&&!s(ih(c))||!1}function Yh(e,t,n,r){var i=vu(e),a=ll(e),o=vu(t),s=ll(t),c=vu(r);return i===o&&i===c?a<=n&&n<=s:i<o?c===i&&a<=n||c===o&&s>=n||c<o&&c>i:!1}function Xh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate;return(r&&Xc(e,r)<0||i&&Xc(e,i)>0)??!1}function Zh(e,t){return t.some(function(t){return fu(t)===fu(e)&&mu(t)===mu(e)&&gu(t)===gu(e)})}function Qh(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&Zh(e,r)||i&&!Zh(e,i)||a&&!a(e)||!1}function $h(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw Error(`Both minTime and maxTime props required`);var i=ih();i=af(i,fu(e)),i=of(i,mu(e)),i=cf(i,gu(e));var a=ih();a=af(a,fu(n)),a=of(a,mu(n)),a=cf(a,gu(n));var o=ih();o=af(o,fu(r)),o=of(o,mu(r)),o=cf(o,gu(r));var s;try{s=!Fd(i,{start:a,end:o})}catch{s=!1}return s}function eg(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=uf(e,1);return r&&cl(r,a)>0||i&&i.every(function(e){return cl(e,a)>0})||!1}function tg(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=zc(e,1);return r&&cl(a,r)>0||i&&i.every(function(e){return cl(a,e)>0})||!1}function ng(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=df(yl(e),1);return r&&ul(r,a)>0||i&&i.every(function(e){return ul(e,a)>0})||!1}function rg(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=$c(vl(e),1);return r&&ul(a,r)>0||i&&i.every(function(e){return ul(a,e)>0})||!1}function ig(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=pf(e,1);return r&&dl(r,a)>0||i&&i.every(function(e){return dl(e,a)>0})||!1}function ag(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,a=i===void 0?rh:i,o=hg(bh(pf(e,a)),a).endPeriod,s=r&&vu(r);return s&&s>o||!1}function og(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=nl(e,1);return r&&dl(a,r)>0||i&&i.every(function(e){return dl(a,e)>0})||!1}function sg(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,a=i===void 0?rh:i,o=hg(nl(e,a),a).startPeriod,s=r&&vu(r);return s&&s<o||!1}function cg(e){var t=e.minDate,n=e.includeDates;return n&&t?il(n.filter(function(e){return Xc(e,t)>=0})):n?il(n):t}function lg(e){var t=e.maxDate,n=e.includeDates;return n&&t?rl(n.filter(function(e){return Xc(e,t)<=0})):n?rl(n):t}function ug(e,t){e===void 0&&(e=[]),t===void 0&&(t=`react-datepicker__day--highlighted`);for(var n=new Map,r=0,i=e.length;r<i;r++){var a=e[r];if(ol(a)){var o=lh(a,`MM.dd.yyyy`),s=n.get(o)||[];s.includes(t)||(s.push(t),n.set(o,s))}else if(typeof a==`object`){var c=Object.keys(a)[0]??``,l=a[c];if(typeof c==`string`&&Array.isArray(l))for(var u=0,d=l.length;u<d;u++){var f=l[u];if(f){var o=lh(f,`MM.dd.yyyy`),s=n.get(o)||[];s.includes(c)||(s.push(c),n.set(o,s))}}}}return n}function dg(e,t){return e.length===t.length?e.every(function(e,n){return e===t[n]}):!1}function fg(e,t){e===void 0&&(e=[]),t===void 0&&(t=`react-datepicker__day--holidays`);var n=new Map;return e.forEach(function(e){var r=e.date,i=e.holidayName;if(ol(r)){var a=lh(r,`MM.dd.yyyy`),o=n.get(a)||{className:``,holidayNames:[]};if(!(`className`in o&&o.className===t&&dg(o.holidayNames,[i]))){o.className=t;var s=o.holidayNames;o.holidayNames=s?qm(qm([],s,!0),[i],!1):[i],n.set(a,o)}}}),n}function pg(e,t,n,r,i){for(var a=i.length,o=[],s=0;s<a;s++){var c=e,l=i[s];l&&(c=Vc(c,fu(l)),c=Qc(c,mu(l)),c=el(c,gu(l)));var u=Qc(e,(n+1)*r);yu(c,t)&&bu(c,u)&&l!=null&&o.push(l)}return o}function mg(e){return e<10?`0${e}`:`${e}`}function hg(e,t){t===void 0&&(t=rh);var n=Math.ceil(vu(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function gg(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((n-+t)/36e5)}function _g(e){var t=e.getSeconds(),n=e.getMilliseconds();return X(e.getTime()-t*1e3-n)}function vg(e,t){return _g(e).getTime()===_g(t).getTime()}function yg(e){if(!ol(e))throw Error(`Invalid date`);var t=new Date(e);return t.setHours(0,0,0,0),t}function bg(e,t){if(!ol(e)||!ol(t))throw Error(`Invalid date received`);return bu(yg(e),yg(t))}function xg(e){return e.key===Q.Space}var Sg=function(e){Gm(t,e);function t(t){var n=e.call(this,t)||this;return n.inputRef=b.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var i=n.props.date,a=i instanceof Date&&!isNaN(+i)?i:new Date;if(e?.includes(`:`)){var o=e.split(`:`),s=o[0],c=o[1];a.setHours(Number(s)),a.setMinutes(Number(c))}(r=(t=n.props).onChange)==null||r.call(t,a)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,i=t.timeString,a=t.customTimeInput;return a?(0,b.cloneElement)(a,{date:r,value:e,onChange:n.onTimeChange}):b.createElement(`input`,{type:`time`,className:`react-datepicker-time__input`,placeholder:`Time`,name:`time-input`,ref:n.inputRef,onClick:function(){var e;(e=n.inputRef.current)==null||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||i)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(e,t){return e.timeString===t.time?null:{time:e.timeString}},t.prototype.render=function(){return b.createElement(`div`,{className:`react-datepicker__input-time-container`},b.createElement(`div`,{className:`react-datepicker-time__caption`},this.props.timeInputLabel),b.createElement(`div`,{className:`react-datepicker-time__input-container`},b.createElement(`div`,{className:`react-datepicker-time__input`},this.renderTimeInput())))},t}(b.Component),Cg=function(e){Gm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=(0,b.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===Q.Space&&(e.preventDefault(),e.key=Q.Enter),(r=(n=t.props).handleOnKeyDown)==null||r.call(n,e)},t.isSameDay=function(e){return kh(t.props.day,e)},t.isKeyboardSelected=function(){if(t.props.disabledKeyboardNavigation)return!1;var e=t.props.selectsMultiple?t.props.selectedDates?.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected),n=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!e&&t.isSameDayOrWeek(t.props.preSelection)&&!n},t.isDisabled=function(e){return e===void 0&&(e=t.props.day),Vh(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Hh(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return kh(t.props.day,vh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&kh(e,vh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var i=lh(n,`MM.dd.yyyy`);return r.get(i)},t.getHolidaysClass=function(){var e=t.props,n=e.day,r=e.holidays;if(!r)return[void 0];var i=lh(n,`MM.dd.yyyy`);return r.has(i)?[r.get(i)?.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!r||!i?!1:jh(n,r,i)},t.isInSelectingRange=function(){var e=t.props,n=e.day,r=e.selectsStart,i=e.selectsEnd,a=e.selectsRange,o=e.selectsDisabledDaysInRange,s=e.startDate,c=e.swapRange,l=e.endDate,u=t.props.selectingDate??t.props.preSelection;if(t.isAfterMonth()||t.isBeforeMonth()||!(r||i||a)||!u||!o&&t.isDisabled())return!1;if(r&&l&&(bu(u,l)||Ah(u,l)))return jh(n,u,l);if(i&&s&&(yu(u,s)||Ah(u,s)))return jh(n,s,u);if(a&&s&&!l){if(Ah(u,s)||yu(u,s))return jh(n,s,u);if(c&&bu(u,s))return jh(n,u,s)}return!1},t.isSelectingRangeStart=function(){if(!t.isInSelectingRange())return!1;var e=t.props,n=e.day,r=e.startDate,i=e.selectsStart,a=e.swapRange,o=e.selectsRange,s=t.props.selectingDate??t.props.preSelection;return i?kh(n,s):o&&a&&r&&s?kh(n,bu(s,r)?s:r):kh(n,r)},t.isSelectingRangeEnd=function(){if(!t.isInSelectingRange())return!1;var e=t.props,n=e.day,r=e.endDate,i=e.selectsEnd,a=e.selectsRange,o=e.swapRange,s=e.startDate,c=t.props.selectingDate??t.props.preSelection;return i?kh(n,c):a&&o&&s&&c?kh(n,bu(c,s)?s:c):a?kh(n,c):kh(n,r)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!r||!i?!1:kh(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!r||!i?!1:kh(i,n)},t.isWeekend=function(){var e=lu(t.props.day);return e===0||e===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===hu(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(hu(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ih())},t.isSelected=function(){return t.props.selectsMultiple?t.props.selectedDates?.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){return jc(`react-datepicker__day`,t.props.dayClassName?t.props.dayClassName(e):void 0,`react-datepicker__day--`+gh(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,i=r===void 0?`Choose`:r,a=e.ariaLabelPrefixWhenDisabled,o=a===void 0?`Not available`:a;return`${t.isDisabled()||t.isExcluded()?o:i} ${lh(n,`PPPP`,t.props.locale)}`},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,i=r===void 0?new Map:r,a=e.excludeDates,o=lh(n,`MM.dd.yyyy`),s=[];return i.has(o)&&s.push.apply(s,i.get(o).holidayNames),t.isExcluded()&&s.push(a?.filter(function(e){return e instanceof Date?kh(e,n):kh(e?.date,n)}).map(function(e){if(!(e instanceof Date))return e?.message})),s.join(`, `)},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(e)&&kh(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&((e=t.dayEl.current)==null||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(cu(t.props.day),t.props.day):cu(t.props.day)},t.render=function(){return b.createElement(`div`,{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:`gridcell`,title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?`date`:void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==``&&b.createElement(`span`,{className:`overlay`},t.getTitle()))},t}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){return(this.props.containerRef?.current)?.contains(document.activeElement)&&document.activeElement?.classList.contains(`react-datepicker__day`)},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(b.Component),wg=function(e){Gm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,b.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===Q.Space&&(e.preventDefault(),e.key=Q.Enter),(r=(n=t.props).handleOnKeyDown)==null||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!kh(t.props.date,t.props.selected)&&kh(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||kh(t.props.date,t.props.selected)&&kh(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;t.getTabIndex()===0&&!e?.isInputFocused&&kh(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains(`react-datepicker__week-number`)&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(t,`defaultProps`,{get:function(){return{ariaLabelPrefix:`week `}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,i=e.ariaLabelPrefix,a=i===void 0?t.defaultProps.ariaLabelPrefix:i,o=e.onClick,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!r,"react-datepicker__week-number--selected":!!o&&kh(this.props.date,this.props.selected)};return b.createElement(`div`,{ref:this.weekNumberEl,className:jc(s),"aria-label":`${a} ${this.props.weekNumber}`,onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:`gridcell`},n)},t}(b.Component),Tg=function(e){Gm(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return Vh(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,i){for(var a,o,s=new Date(e),c=0;c<7;c++){var l=new Date(e);if(l.setDate(l.getDate()+c),!n.isDisabled(l)){s=l;break}}typeof n.props.onWeekSelect==`function`&&n.props.onWeekSelect(s,r,i),n.props.showWeekPicker&&n.handleDayClick(s,i),(n.props.shouldCloseOnSelect??t.defaultProps.shouldCloseOnSelect)&&((o=(a=n.props).setOpen)==null||o.call(a,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):hh(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Rc(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Rc(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],i=n.formatWeekNumber(e);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,i):void 0;r.push(b.createElement(wg,Km({key:`W`},t.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:a})))}return r.concat([0,1,2,3,4,5,6].map(function(r){var i=Rc(e,r);return b.createElement(Cg,Km({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:i.valueOf(),day:i,onClick:n.handleDayClick.bind(n,i),onMouseEnter:n.handleDayMouseEnter.bind(n,i)}))}))},n.startOfWeek=function(){return vh(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!kh(n.startOfWeek(),n.props.selected)&&kh(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,`defaultProps`,{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":kh(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return b.createElement(`div`,{className:jc(e,t),role:`row`},this.renderDays())},t}(b.Component),Eg,Dg=6,Og={TWO_COLUMNS:`two_columns`,THREE_COLUMNS:`three_columns`,FOUR_COLUMNS:`four_columns`},kg=(Eg={},Eg[Og.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Eg[Og.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Eg[Og.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Eg),Ag=1;function jg(e,t){return e?Og.FOUR_COLUMNS:t?Og.TWO_COLUMNS:Og.THREE_COLUMNS}var Mg=function(e){Gm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=qm([],Array(12),!0).map(function(){return(0,b.createRef)()}),t.QUARTER_REFS=qm([],[,,,,],!0).map(function(){return(0,b.createRef)()}),t.isDisabled=function(e){return Vh(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(e){return Hh(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,i;(i=(r=t.props).onDayClick)==null||i.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;(r=(n=t.props).onDayMouseEnter)==null||r.call(n,e)},t.handleMouseLeave=function(){var e,n;(n=(e=t.props).onMouseLeave)==null||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:Dh(rf(r,e),i)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:Oh(sf(r,e),i)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:Dh(rf(r,e),a)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:Oh(sf(r,e),a)},t.isInSelectingRangeMonth=function(e){var n=t.props,r=n.day,i=n.selectsStart,a=n.selectsEnd,o=n.selectsRange,s=n.startDate,c=n.endDate,l=t.props.selectingDate??t.props.preSelection;return!(i||a||o)||!l?!1:i&&c?Wh(l,c,e,r):a&&s||o&&s&&!c?Wh(s,l,e,r):!1},t.isSelectingMonthRangeStart=function(e){if(!t.isInSelectingRangeMonth(e))return!1;var n=t.props,r=n.day,i=n.startDate,a=n.selectsStart,o=rf(r,e),s=t.props.selectingDate??t.props.preSelection;return a?Dh(o,s):Dh(o,i)},t.isSelectingMonthRangeEnd=function(e){if(!t.isInSelectingRangeMonth(e))return!1;var n=t.props,r=n.day,i=n.endDate,a=n.selectsEnd,o=n.selectsRange,s=rf(r,e),c=t.props.selectingDate??t.props.preSelection;return a||o?Dh(s,c):Dh(s,i)},t.isInSelectingRangeQuarter=function(e){var n=t.props,r=n.day,i=n.selectsStart,a=n.selectsEnd,o=n.selectsRange,s=n.startDate,c=n.endDate,l=t.props.selectingDate??t.props.preSelection;return!(i||a||o)||!l?!1:i&&c?Yh(l,c,e,r):a&&s||o&&s&&!c?Yh(s,l,e,r):!1},t.isWeekInMonth=function(e){var n=t.props.day,r=Rc(e,6);return Dh(e,n)||Dh(r,n)},t.isCurrentMonth=function(e,t){return vu(e)===vu(ih())&&t===hu(ih())},t.isCurrentQuarter=function(e,t){return vu(e)===vu(ih())&&t===ll(ih())},t.isSelectedMonth=function(e,t,n){return hu(n)===t&&vu(e)===vu(n)},t.isSelectMonthInList=function(e,n,r){return r.some(function(r){return t.isSelectedMonth(e,n,r)})},t.isSelectedQuarter=function(e,t,n){return ll(n)===t&&vu(e)===vu(n)},t.isSelectQuarterInList=function(e,n,r){return r.some(function(r){return t.isSelectedQuarter(e,n,r)})},t.isMonthSelected=function(){var e=t.props,n=e.day,r=e.selected,i=e.selectedDates,a=e.selectsMultiple,o=hu(n);return a?i?.some(function(e){return t.isSelectedMonth(n,o,e)}):!!r&&t.isSelectedMonth(n,o,r)},t.isQuarterSelected=function(){var e=t.props,n=e.day,r=e.selected,i=e.selectedDates,a=e.selectsMultiple,o=ll(n);return a?i?.some(function(e){return t.isSelectedQuarter(n,o,e)}):!!r&&t.isSelectedQuarter(n,o,r)},t.renderWeeks=function(){if(!sh(t.props.day))return[];for(var e=[],n=t.props.fixedHeight,r=0,i=!1,a=vh(yh(t.props.day),t.props.locale,t.props.calendarStartDay),o=function(e){return t.props.showWeekPicker?vh(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection},s=t.props.selected?function(e){return t.props.showWeekPicker?vh(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,c=t.props.preSelection?o(t.props.preSelection):void 0;e.push(b.createElement(Tg,Km({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:a,month:hu(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:s,preSelection:c,showWeekNumber:t.props.showWeekNumbers}))),!i;){r++,a=tl(a,1);var l=n&&r>=Dg,u=!n&&!t.isWeekInMonth(a);if(l||u)if(t.props.peekNextMonth)i=!0;else break}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),i=r.isDisabled,a=r.labelDate;i||t.handleDayClick(yh(a),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,i=n.labelDate;r||t.handleDayMouseEnter(yh(i))},t.handleMonthNavigation=function(e,n){var r,i,a;(i=(r=t.props).setPreSelection)==null||i.call(r,n),(a=t.MONTH_REFS[e]?.current)==null||a.focus()},t.handleKeyboardNavigation=function(e,n,r){var i=t.props,a=i.selected,o=i.preSelection,s=i.setPreSelection,c=i.minDate,l=i.maxDate,u=i.showFourColumnMonthYearPicker,d=i.showTwoColumnMonthYearPicker;if(o){var f=jg(u,d),p=t.getVerticalOffset(f),m=kg[f]?.grid,h=function(e,t,n){var r=t,i=n;switch(e){case Q.ArrowRight:r=zc(t,Ag),i=n===11?0:n+Ag;break;case Q.ArrowLeft:r=uf(t,Ag),i=n===0?11:n-Ag;break;case Q.ArrowUp:r=uf(t,p),i=(m?.[0])?.includes(n)?n+12-p:n-p;break;case Q.ArrowDown:r=zc(t,p),i=(m?.[m.length-1])?.includes(n)?n-12+p:n+p;break}return{newCalculatedDate:r,newCalculatedMonth:i}},g=function(e,n,r){for(var i=40,a=e,o=!1,s=0,u=h(a,n,r),d=u.newCalculatedDate,f=u.newCalculatedMonth;!o;){if(s>=i){d=n,f=r;break}if(c&&d<c){a=Q.ArrowRight;var p=h(a,d,f);d=p.newCalculatedDate,f=p.newCalculatedMonth}if(l&&d>l){a=Q.ArrowLeft;var p=h(a,d,f);d=p.newCalculatedDate,f=p.newCalculatedMonth}if(Gh(d,t.props)){var p=h(a,d,f);d=p.newCalculatedDate,f=p.newCalculatedMonth}else o=!0;s++}return{newCalculatedDate:d,newCalculatedMonth:f}};if(n===Q.Enter){t.isMonthDisabled(r)||(t.onMonthClick(e,r),s?.(a));return}var _=g(n,o,r),v=_.newCalculatedDate,y=_.newCalculatedMonth;switch(n){case Q.ArrowRight:case Q.ArrowLeft:case Q.ArrowUp:case Q.ArrowDown:t.handleMonthNavigation(y,v);break}}},t.getVerticalOffset=function(e){return kg[e]?.verticalNavigationOffset??0},t.onMonthKeyDown=function(e,n){var r=t.props,i=r.disabledKeyboardNavigation,a=r.handleOnMonthKeyDown,o=e.key;o!==Q.Tab&&e.preventDefault(),i||t.handleKeyboardNavigation(e,o,n),a&&a(e)},t.onQuarterClick=function(e,n){var r=sf(t.props.day,n);Kh(r,t.props)||t.handleDayClick(xh(r),e)},t.onQuarterMouseEnter=function(e){var n=sf(t.props.day,e);Kh(n,t.props)||t.handleDayMouseEnter(xh(n))},t.handleQuarterNavigation=function(e,n){var r,i,a;t.isDisabled(n)||t.isExcluded(n)||((i=(r=t.props).setPreSelection)==null||i.call(r,n),(a=t.QUARTER_REFS[e-1]?.current)==null||a.focus())},t.onQuarterKeyDown=function(e,n){var r,i,a=e.key;if(!t.props.disabledKeyboardNavigation)switch(a){case Q.Enter:t.onQuarterClick(e,n),(i=(r=t.props).setPreSelection)==null||i.call(r,t.props.selected);break;case Q.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(n===4?1:n+1,$c(t.props.preSelection,1));break;case Q.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(n===1?4:n-1,df(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(e){var n=t.props,r=n.day,i=n.disabled,a=n.minDate,o=n.maxDate,s=n.excludeDates,c=n.includeDates,l=rf(r,e);return i?{isDisabled:!0,labelDate:rf(r,e)}:{isDisabled:((a||o||s||c)&&Uh(l,t.props))??!1,labelDate:l}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,o=n.preSelection,s=n.monthClassName,c=s?s(rf(r,e)):void 0,l=t.getSelection();return jc(`react-datepicker__month-text`,`react-datepicker__month-${e}`,c,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":l?t.isSelectMonthInList(r,e,l):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&o&&t.isSelectedMonth(r,e,o)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":i&&a?Wh(i,a,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(t.props.preSelection==null)return`-1`;var n=hu(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e===n&&!(r||t.props.disabledKeyboardNavigation)?`0`:`-1`},t.getQuarterTabIndex=function(e){if(t.props.preSelection==null)return`-1`;var n=ll(t.props.preSelection),r=Kh(t.props.day,t.props);return e===n&&!(r||t.props.disabledKeyboardNavigation)?`0`:`-1`},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,i=r===void 0?`Choose`:r,a=n.disabledDayAriaLabelPrefix,o=a===void 0?`Not available`:a,s=n.day,c=n.locale,l=rf(s,e);return`${t.isDisabled(l)||t.isExcluded(l)?o:i} ${lh(l,`MMMM yyyy`,c)}`},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,o=n.minDate,s=n.maxDate,c=n.excludeDates,l=n.includeDates,u=n.filterDate,d=n.preSelection,f=n.disabledKeyboardNavigation,p=n.disabled,m=(o||s||c||l||u||p)&&Kh(sf(r,e),t.props),h=t.getSelection();return jc(`react-datepicker__quarter-text`,`react-datepicker__quarter-${e}`,{"react-datepicker__quarter-text--disabled":m,"react-datepicker__quarter-text--selected":h?t.isSelectQuarterInList(r,e,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!f&&d&&t.isSelectedQuarter(r,e,d)&&!t.isQuarterSelected()&&!m,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":i&&a?Yh(i,a,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,i=n.renderMonthContent,a=n.locale,o=n.day,s=zh(e,a),c=Rh(e,a);return i?i(e,s,c,o):r?c:s},t.getQuarterContent=function(e){var n=t.props,r=n.renderQuarterContent,i=n.locale,a=Bh(e,i);return r?.(e,a)??a},t.renderMonths=function(){var e=t.props,n=e.showTwoColumnMonthYearPicker,r=e.showFourColumnMonthYearPicker,i=e.day,a=e.selected;return(kg[jg(r,n)]?.grid)?.map(function(e,n){return b.createElement(`div`,{className:`react-datepicker__month-wrapper`,key:n},e.map(function(e,n){return b.createElement(`div`,{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){xg(n)&&(n.preventDefault(),n.key=Q.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:`option`,"aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(i,e)?`date`:void 0,"aria-selected":a?t.isSelectedMonth(i,e,a):void 0},t.getMonthContent(e))}))})},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return b.createElement(`div`,{className:`react-datepicker__quarter-wrapper`},[1,2,3,4].map(function(e,i){return b.createElement(`div`,{key:i,ref:t.QUARTER_REFS[i],role:`option`,onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?`date`:void 0},t.getQuarterContent(e))}))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,i=e.selectsEnd,a=e.showMonthYearPicker,o=e.showQuarterYearPicker,s=e.showWeekPicker;return jc(`react-datepicker__month`,{"react-datepicker__month--selecting-range":n&&(r||i)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":o},{"react-datepicker__weekPicker":s})},t}return t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;if(e.selectsMultiple)return n;if(t)return[t]},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,i=e.ariaLabelPrefix,a=i===void 0?`Month `:i,o=a?a.trim()+` `:``,s=sh(r)?`${o}${lh(r,`MMMM, yyyy`,this.props.locale)}`:``;return t||n?b.createElement(`div`,{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":s,role:`listbox`},t?this.renderMonths():this.renderQuarters()):b.createElement(`div`,{role:`table`},this.props.dayNamesHeader&&b.createElement(`div`,{role:`rowgroup`},this.props.dayNamesHeader),this.props.monthHeader&&b.createElement(`div`,{role:`rowgroup`},this.props.monthHeader),b.createElement(`div`,{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":s,role:`rowgroup`},this.renderWeeks()),this.props.monthFooter&&b.createElement(`div`,{role:`rowgroup`},this.props.monthFooter))},t}(b.Component),Ng=function(e){Gm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(e){return t.props.month===e},t.handleOptionKeyDown=function(e,n){var r;switch(n.key){case`Enter`:n.preventDefault(),t.onChange(e);break;case`Escape`:n.preventDefault(),t.props.onCancel();break;case`ArrowUp`:case`ArrowDown`:n.preventDefault();var i=(e+(n.key===`ArrowUp`?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(r=t.monthOptionButtonsRef[i])==null||r.focus();break}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(e,n){return b.createElement(`div`,{ref:function(e){t.monthOptionButtonsRef[n]=e,t.isSelectedMonth(n)&&e?.focus()},role:`button`,tabIndex:0,className:t.isSelectedMonth(n)?`react-datepicker__month-option react-datepicker__month-option--selected_month`:`react-datepicker__month-option`,key:e,onClick:t.onChange.bind(t,n),onKeyDown:t.handleOptionKeyDown.bind(t,n),"aria-selected":t.isSelectedMonth(n)?`true`:void 0},t.isSelectedMonth(n)?b.createElement(`span`,{className:`react-datepicker__month-option--selected`},``):``,e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return t.prototype.render=function(){return b.createElement(Xm,{className:`react-datepicker__month-dropdown`,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),Pg=function(e){Gm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(e,t){return b.createElement(`option`,{key:e,value:t},e)})},t.renderSelectMode=function(e){return b.createElement(`select`,{value:t.props.month,className:`react-datepicker__month-select`,onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return b.createElement(`button`,{key:`read`,type:`button`,style:{visibility:e?`visible`:`hidden`},className:`react-datepicker__month-read-view`,onClick:t.toggleDropdown},b.createElement(`span`,{className:`react-datepicker__month-read-view--down-arrow`}),b.createElement(`span`,{className:`react-datepicker__month-read-view--selected-month`},n[t.props.month]))},t.renderDropdown=function(e){return b.createElement(Ng,Km({key:`dropdown`},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return t.prototype.render=function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(t){return zh(t,e.props.locale)}:function(t){return Rh(t,e.props.locale)}),n;switch(this.props.dropdownMode){case`scroll`:n=this.renderScrollMode(t);break;case`select`:n=this.renderSelectMode(t);break}return b.createElement(`div`,{className:`react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--${this.props.dropdownMode}`},n)},t}(b.Component),Fg=5;function Ig(e,t,n){for(var r=[],i=e??pf(n,Fg),a=t??nl(n,Fg),o=yh(i),s=yh(a);!yu(o,s);)r.push(ih(o)),o=zc(o,1);return r}var Lg=function(e){Gm(t,e);function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var t=_u(e),r=Eh(n.props.date,e)&&Dh(n.props.date,e);return b.createElement(`div`,{className:r?`react-datepicker__month-year-option--selected_month-year`:`react-datepicker__month-year-option`,key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?`true`:void 0},r?b.createElement(`span`,{className:`react-datepicker__month-year-option--selected`},``):``,lh(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Ig(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var e=jc({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return b.createElement(Xm,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),Rg=5,zg=function(e){Gm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate??pf(t.props.date,Rg),n=t.props.maxDate??nl(t.props.date,Rg),r=yh(e),i=yh(n),a=[];!yu(r,i);){var o=_u(r);a.push(b.createElement(`option`,{key:o,value:o},lh(r,t.props.dateFormat,t.props.locale))),r=zc(r,1)}return a},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement(`select`,{value:_u(yh(t.props.date)),className:`react-datepicker__month-year-select`,onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=lh(t.props.date,t.props.dateFormat,t.props.locale);return b.createElement(`div`,{key:`read`,style:{visibility:e?`visible`:`hidden`},className:`react-datepicker__month-year-read-view`,onClick:t.toggleDropdown},b.createElement(`span`,{className:`react-datepicker__month-year-read-view--down-arrow`}),b.createElement(`span`,{className:`react-datepicker__month-year-read-view--selected-month-year`},n))},t.renderDropdown=function(){return b.createElement(Lg,Km({key:`dropdown`},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=ih(e);Eh(t.props.date,n)&&Dh(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return t.prototype.render=function(){var e;switch(this.props.dropdownMode){case`scroll`:e=this.renderScrollMode();break;case`select`:e=this.renderSelectMode();break}return b.createElement(`div`,{className:`react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--${this.props.dropdownMode}`},e)},t}(b.Component),Bg=function(e){Gm(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=(n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(n.header?.clientHeight??0):n.list.clientHeight,n.centerLi))??0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&$h(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Qh(e,n.props)||(r=(t=n.props).onChange)==null||r.call(t,e)},n.isSelectedTime=function(e){var t=ch(n.props.selected);return t&&vg(t,e)},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&$h(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Qh(e,n.props)},n.liClasses=function(e){var r=[`react-datepicker__time-list-item`,n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&r.push(`react-datepicker__time-list-item--selected`),n.isDisabledTime(e)&&r.push(`react-datepicker__time-list-item--disabled`),n.props.injectTimes&&(fu(e)*3600+mu(e)*60+gu(e))%((n.props.intervals??t.defaultProps.intervals)*60)!=0&&r.push(`react-datepicker__time-list-item--injected`),r.join(` `)},n.handleOnKeyDown=function(e,t){var r,i;e.key===Q.Space&&(e.preventDefault(),e.key=Q.Enter),(e.key===Q.ArrowUp||e.key===Q.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===Q.ArrowDown||e.key===Q.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===Q.Enter&&n.handleClick(t),(i=(r=n.props).handleOnKeyDown)==null||i.call(r,e)},n.renderTimes=function(){for(var e=[],r=typeof n.props.format==`string`?n.props.format:`p`,i=n.props.intervals??t.defaultProps.intervals,a=ch(n.props.selected)||ch(n.props.openToDate)||ih(),o=_h(a),s=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),c=60*gg(a)/i,l=0;l<c;l++){var u=Qc(o,l*i);if(e.push(u),s){var d=pg(o,u,l,i,s);e=e.concat(d)}}var f=e.reduce(function(e,t){return t.getTime()<=a.getTime()?t:e},e[0]);return e.map(function(e){return b.createElement(`li`,{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===f&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===f?0:-1,role:`option`,"aria-selected":n.isSelectedTime(e)?`true`:void 0,"aria-disabled":n.isDisabledTime(e)?`true`:void 0},lh(e,r,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?b.createElement(b.Fragment,null):b.createElement(`div`,{className:`react-datepicker__header react-datepicker__header--time ${n.props.showTimeSelectOnly?`react-datepicker__header--time--only`:``}`,ref:function(e){n.header=e}},b.createElement(`div`,{className:`react-datepicker-time__header`},n.props.timeCaption))},n}return Object.defineProperty(t,`defaultProps`,{get:function(){return{intervals:30,todayButton:null,timeCaption:`Time`,showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;(e=this.resizeObserver)==null||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var e=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==e&&this.setState({height:e})}},t.prototype.render=function(){var e=this,n=this.state.height;return b.createElement(`div`,{className:`react-datepicker__time-container ${this.props.todayButton??t.defaultProps.todayButton?`react-datepicker__time-container--with-today-button`:``}`},this.renderTimeCaption(),b.createElement(`div`,{className:`react-datepicker__time`},b.createElement(`div`,{className:`react-datepicker__time-box`},b.createElement(`ul`,{className:`react-datepicker__time-list`,ref:function(t){e.list=t},style:n?{height:n}:{},role:`listbox`,"aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(b.Component),Vg=3,Hg=function(e){Gm(t,e);function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=qm([],Array(n.props.yearItemNumber),!0).map(function(){return(0,b.createRef)()}),n.isDisabled=function(e){return Vh(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return Hh(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){return n.props.selectingDate??n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t;(t=n.YEAR_REFS[e]?.current)==null||t.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,i,a,o=n.props,s=o.date,c=o.yearItemNumber;if(!(s===void 0||c===void 0)){var l=hg(s,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||((i=(r=n.props).setPreSelection)==null||i.call(r,t),e-l<0?n.updateFocusOnPaginate(c-(l-e)):e-l>=c?n.updateFocusOnPaginate(Math.abs(c-(e-l))):(a=n.YEAR_REFS[e-l]?.current)==null||a.focus())}},n.isSameDay=function(e,t){return kh(e,t)},n.isCurrentYear=function(e){return e===vu(ih())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&Eh(lf(ih(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&Eh(lf(ih(),e),n.props.endDate)},n.isInRange=function(e){return qh(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,i=t.selectsEnd,a=t.selectsRange,o=t.startDate,s=t.endDate;return!(r||i||a)||!n.selectingDate()?!1:r&&s?qh(e,n.selectingDate(),s):i&&o||a&&o&&!s?qh(e,o,n.selectingDate()):!1},n.isSelectingRangeStart=function(e){if(!n.isInSelectingRange(e))return!1;var t=n.props,r=t.startDate,i=t.selectsStart,a=lf(ih(),e);return i?Eh(a,n.selectingDate()??null):Eh(a,r??null)},n.isSelectingRangeEnd=function(e){if(!n.isInSelectingRange(e))return!1;var t=n.props,r=t.endDate,i=t.selectsEnd,a=t.selectsRange,o=lf(ih(),e);return i||a?Eh(o,n.selectingDate()??null):Eh(o,r??null)},n.isKeyboardSelected=function(e){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var t=n.props,r=t.minDate,i=t.maxDate,a=t.excludeDates,o=t.includeDates,s=t.filterDate,c=t.selected,l=bh(lf(n.props.date,e)),u=(r||i||a||o||s)&&Jh(e,n.props),d=!!c&&kh(l,bh(c)),f=kh(l,bh(n.props.preSelection));return!n.props.inline&&!d&&f&&!u}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,i=t.selected,a=t.selectedDates;return r?a?.some(function(t){return e===vu(t)}):!!i&&e===vu(i)},n.onYearClick=function(e,t){var r=n.props.date;r!==void 0&&n.handleYearClick(bh(lf(r,t)),e)},n.onYearKeyDown=function(e,t){var r,i,a=e.key,o=n.props,s=o.date,c=o.yearItemNumber,l=o.handleOnKeyDown;if(a!==Q.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(a){case Q.Enter:if(n.props.selected==null)break;n.onYearClick(e,t),(i=(r=n.props).setPreSelection)==null||i.call(r,n.props.selected);break;case Q.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(t+1,nl(n.props.preSelection,1));break;case Q.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(t-1,pf(n.props.preSelection,1));break;case Q.ArrowUp:if(s===void 0||c===void 0||n.props.preSelection==null)break;var u=hg(s,c).startPeriod,d=Vg,f=t-d;if(f<u){var p=c%d;t>=u&&t<u+p?d=p:d+=p,f=t-d}n.handleYearNavigation(f,pf(n.props.preSelection,d));break;case Q.ArrowDown:if(s===void 0||c===void 0||n.props.preSelection==null)break;var m=hg(s,c).endPeriod,d=Vg,f=t+d;if(f>m){var p=c%d;t<=m&&t>m-p?d=p:d+=p,f=t+d}n.handleYearNavigation(f,nl(n.props.preSelection,d));break}l&&l(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,i=t.disabled,a=t.minDate,o=t.maxDate,s=t.excludeDates,c=t.includeDates,l=t.filterDate,u=t.yearClassName;return jc(`react-datepicker__year-text`,`react-datepicker__year-${e}`,r?u?.(lf(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(a||o||s||c||l||i)&&Jh(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return`-1`;var t=vu(n.props.preSelection),r=Jh(e,n.props);return e===t&&!r?`0`:`-1`},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,i=n.yearItemNumber,a=n.onYearMouseEnter,o=n.onYearMouseLeave;if(r===void 0)return null;for(var s=hg(r,i),c=s.startPeriod,l=s.endPeriod,u=function(n){t.push(b.createElement(`div`,{ref:d.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){xg(t)&&(t.preventDefault(),t.key=Q.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(d.getYearTabIndex(n)),className:d.getYearClassNames(n),onMouseEnter:d.props.usePointerEvent?void 0:function(e){return a(e,n)},onPointerEnter:d.props.usePointerEvent?function(e){return a(e,n)}:void 0,onMouseLeave:d.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerLeave:d.props.usePointerEvent?function(e){return o(e,n)}:void 0,key:n,"aria-current":d.isCurrentYear(n)?`date`:void 0},d.getYearContent(n)))},d=this,f=c;f<=l;f++)u(f);return b.createElement(`div`,{className:`react-datepicker__year`},b.createElement(`div`,{className:`react-datepicker__year-wrapper`,onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(b.Component);function Ug(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var o=e+t-a,s=!0;n&&(s=vu(n)<=o),r&&s&&(s=vu(r)>=o),s&&i.push(o)}return i}var Wg=function(e){Gm(t,e);function t(t){var n=e.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(e,t){var r;switch(t.key){case`Enter`:t.preventDefault(),n.onChange(e);break;case`Escape`:t.preventDefault(),n.props.onCancel();break;case`ArrowUp`:case`ArrowDown`:t.preventDefault();var i=e+(t.key===`ArrowUp`?1:-1);n.yearOptionButtonsRef[i]&&((r=n.yearOptionButtonsRef[i])==null||r.focus());break}},n.renderOptions=function(){n.yearOptionButtonsRef={};var e=n.props.year,t=n.state.yearsList.map(function(t){return b.createElement(`div`,{ref:function(r){n.yearOptionButtonsRef[t]=r,t===e&&r?.focus()},role:`button`,tabIndex:0,className:e===t?`react-datepicker__year-option react-datepicker__year-option--selected_year`:`react-datepicker__year-option`,key:t,onClick:n.onChange.bind(n,t),onKeyDown:n.handleOptionKeyDown.bind(n,t),"aria-selected":e===t?`true`:void 0},e===t?b.createElement(`span`,{className:`react-datepicker__year-option--selected`},``):``,t)}),r=n.props.minDate?vu(n.props.minDate):null,i=n.props.maxDate?vu(n.props.maxDate):null;return(!i||!n.state.yearsList.find(function(e){return e===i}))&&t.unshift(b.createElement(`div`,{className:`react-datepicker__year-option`,key:`upcoming`,onClick:n.incrementYears},b.createElement(`a`,{className:`react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming`}))),(!r||!n.state.yearsList.find(function(e){return e===r}))&&t.push(b.createElement(`div`,{className:`react-datepicker__year-option`,key:`previous`,onClick:n.decrementYears},b.createElement(`a`,{className:`react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous`}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,a=r||(i?10:5);return n.state={yearsList:Ug(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,b.createRef)(),n}return t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=jc({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return b.createElement(Xm,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),Gg=function(e){Gm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?vu(t.props.minDate):1900,n=t.props.maxDate?vu(t.props.maxDate):2100,r=[],i=e;i<=n;i++)r.push(b.createElement(`option`,{key:i,value:i},i));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement(`select`,{value:t.props.year,className:`react-datepicker__year-select`,onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return b.createElement(`button`,{key:`read`,type:`button`,style:{visibility:e?`visible`:`hidden`},className:`react-datepicker__year-read-view`,onClick:t.toggleDropdown},b.createElement(`span`,{className:`react-datepicker__year-read-view--down-arrow`}),b.createElement(`span`,{className:`react-datepicker__year-read-view--selected-year`},t.props.year))},t.renderDropdown=function(){return b.createElement(Wg,Km({key:`dropdown`},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,n){var r;(r=t.onSelect)==null||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,i;(i=(r=t.props).onSelect)==null||i.call(r,e,n)},t.setOpen=function(){var e,n;(n=(e=t.props).setOpen)==null||n.call(e,!0)},t}return t.prototype.render=function(){var e;switch(this.props.dropdownMode){case`scroll`:e=this.renderScrollMode();break;case`select`:e=this.renderSelectMode();break}return b.createElement(`div`,{className:`react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--${this.props.dropdownMode}`},e)},t}(b.Component),Kg=[`react-datepicker__year-select`,`react-datepicker__month-select`,`react-datepicker__month-year-select`],qg=`react-datepicker-ignore-onclickoutside`,Jg=function(e){var t=(e.className||``).split(/\s+/);return Kg.some(function(e){return t.indexOf(e)>=0})},Yg=function(e){Gm(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;Jg(e.target)&&((n=(t=r.props).onDropdownFocus)==null||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,i=e.openToDate,a=cg(r.props),o=lg(r.props),s=ih();return i||n||t||(a&&bu(s,a)?a:o&&yu(s,o)?o:s)},r.increaseMonth=function(){r.setState(function(e){var t=e.date;return{date:zc(t,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(e){var t=e.date;return{date:uf(t,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:lf(ih(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,i,a;(n=(t=r.props).onYearChange)==null||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),(a=(i=r.props).setOpen)==null||a.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!Vh(e,r.props))return e;for(var t=yh(e),n=fl(Th(e),t),i=null,a=0;a<=n;a++){var o=Rc(t,a);if(!Vh(o,r.props)){i=o;break}}return i},r.handleMonthChange=function(e){var t,n,i=r.getEnabledPreSelectionDateForMonth(e)??e;r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect(i),(n=(t=r.props).setOpen)==null||n.call(t,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(e){var t,n;(n=(t=r.props).onMonthChange)==null||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState(function(t){var n=t.date;return{date:lf(n,Number(e))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(e){r.setState(function(t){var n=t.date;return{date:rf(n,Number(e))}},function(){var e,t;r.handleMonthChange(r.state.date),(t=(e=r.props).onMonthSelectedInChange)==null||t.call(e,0)})},r.changeMonthYear=function(e){r.setState(function(t){var n=t.date;return{date:lf(rf(n,hu(e)),vu(e))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(e,t){if(e===void 0&&(e=r.state.date),t===void 0&&(t=0),!sh(e))return[];var n=r.props.disabled,i=vh(e,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(b.createElement(`div`,{key:`W`,className:`react-datepicker__day-name ${n?`react-datepicker__day-name--disabled`:``}`,role:`columnheader`},b.createElement(`span`,{className:`react-datepicker__sr-only`},`Week number`),b.createElement(`span`,{"aria-hidden":`true`},r.props.weekLabel||`#`))),a.concat([0,1,2,3,4,5,6].map(function(e){var a=Rc(i,e),o=r.formatWeekday(a,r.props.locale),s=lh(a,`EEEE`,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(a):void 0;if(r.props.renderCustomDayName){var l=r.props.renderCustomDayName({day:a,shortName:o,fullName:s,locale:r.props.locale,customDayNameCount:t});return b.createElement(`div`,{key:e,role:`columnheader`,className:jc(`react-datepicker__day-name`,c,n?`react-datepicker__day-name--disabled`:``)},l)}return b.createElement(`div`,{key:e,role:`columnheader`,className:jc(`react-datepicker__day-name`,c,n?`react-datepicker__day-name--disabled`:``)},b.createElement(`span`,{className:`react-datepicker__sr-only`},s),b.createElement(`span`,{"aria-hidden":`true`},o))}))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?Fh(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?Lh(e,t):Ih(e,t)},r.decreaseYear=function(){r.setState(function(e){var n=e.date;return{date:pf(n,r.props.showYearPicker?r.props.yearItemNumber??t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){if(!r.props.renderCustomHeader){var e=r.props.monthsShown??t.defaultProps.monthsShown,n=r.props.showPreviousMonths?e-1:0,i=r.props.monthSelectedIn??n,a=uf(r.state.date,i),o;switch(!0){case r.props.disabled:o=!0;break;case r.props.showMonthYearPicker:o=ig(r.state.date,r.props);break;case r.props.showYearPicker:o=ag(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=ng(r.state.date,r.props);break;default:o=eg(a,r.props);break}if(!(!(r.props.forceShowMonthNavigation??t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=[`react-datepicker__navigation-icon`,`react-datepicker__navigation-icon--previous`],c=[`react-datepicker__navigation`,`react-datepicker__navigation--previous`],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(c.push(`react-datepicker__navigation--previous--disabled`),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.previousMonthButtonLabel,p=f===void 0?t.defaultProps.previousMonthButtonLabel:f,m=d.previousYearButtonLabel,h=m===void 0?t.defaultProps.previousYearButtonLabel:m,g=r.props,_=g.previousMonthAriaLabel,v=_===void 0?typeof p==`string`?p:`Previous Month`:_,y=g.previousYearAriaLabel,x=y===void 0?typeof h==`string`?h:`Previous Year`:y;return b.createElement(`button`,{type:`button`,className:c.join(` `),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?x:v},b.createElement(`span`,{className:s.join(` `)},u?h:p))}}},r.increaseYear=function(){r.setState(function(e){var n=e.date;return{date:nl(n,r.props.showYearPicker?r.props.yearItemNumber??t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.disabled:e=!0;break;case r.props.showMonthYearPicker:e=og(r.state.date,r.props);break;case r.props.showYearPicker:e=sg(r.state.date,r.props);break;case r.props.showQuarterYearPicker:e=rg(r.state.date,r.props);break;default:e=tg(r.state.date,r.props);break}if(!(!(r.props.forceShowMonthNavigation??t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&e||r.props.showTimeSelectOnly)){var n=[`react-datepicker__navigation`,`react-datepicker__navigation--next`],i=[`react-datepicker__navigation-icon`,`react-datepicker__navigation-icon--next`];r.props.showTimeSelect&&n.push(`react-datepicker__navigation--next--with-time`),r.props.todayButton&&n.push(`react-datepicker__navigation--next--with-today-button`);var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(n.push(`react-datepicker__navigation--next--disabled`),a=void 0);var o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,s=r.props,c=s.nextMonthButtonLabel,l=c===void 0?t.defaultProps.nextMonthButtonLabel:c,u=s.nextYearButtonLabel,d=u===void 0?t.defaultProps.nextYearButtonLabel:u,f=r.props,p=f.nextMonthAriaLabel,m=p===void 0?typeof l==`string`?l:`Next Month`:p,h=f.nextYearAriaLabel,g=h===void 0?typeof d==`string`?d:`Next Year`:h;return b.createElement(`button`,{type:`button`,className:n.join(` `),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":o?g:m},b.createElement(`span`,{className:i.join(` `)},o?d:l))}}},r.renderCurrentMonth=function(e){e===void 0&&(e=r.state.date);var t=[`react-datepicker__current-month`];return r.props.showYearDropdown&&t.push(`react-datepicker__current-month--hasYearDropdown`),r.props.showMonthDropdown&&t.push(`react-datepicker__current-month--hasMonthDropdown`),r.props.showMonthYearDropdown&&t.push(`react-datepicker__current-month--hasMonthYearDropdown`),b.createElement(`h2`,{className:t.join(` `)},sh(e)?lh(e,r.props.dateFormat,r.props.locale):``)},r.renderYearDropdown=function(e){if(e===void 0&&(e=!1),!(!r.props.showYearDropdown||e))return b.createElement(Gg,Km({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:vu(r.state.date)}))},r.renderMonthDropdown=function(e){if(e===void 0&&(e=!1),!(!r.props.showMonthDropdown||e))return b.createElement(Pg,Km({},t.defaultProps,r.props,{month:hu(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(e===void 0&&(e=!1),!(!r.props.showMonthYearDropdown||e))return b.createElement(zg,Km({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(Sh(),e),r.props.setPreSelection&&r.props.setPreSelection(Sh())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return b.createElement(`div`,{className:`react-datepicker__today-button`,onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(e,t){return t===void 0&&(t=0),b.createElement(`div`,{className:`react-datepicker__day-names`,role:`row`},r.header(e,t))},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i,i=b.createElement(`div`,{className:jc(`react-datepicker__header`,{"react-datepicker__header--has-time-select":r.props.showTimeSelect,"react-datepicker__header--middle":r.props.monthHeaderPosition===`middle`,"react-datepicker__header--bottom":r.props.monthHeaderPosition===`bottom`})},r.renderCurrentMonth(t),b.createElement(`div`,{className:`react-datepicker__header__dropdown react-datepicker__header__dropdown--${r.props.dropdownMode}`,onFocus:r.handleDropdownFocus},r.renderMonthDropdown(n!==0),r.renderMonthYearDropdown(n!==0),r.renderYearDropdown(n!==0)));return r.props.monthHeaderPosition===`top`?i:b.createElement(`div`,{className:`react-datepicker__header-wrapper`},r.renderPreviousButton()||null,r.renderNextButton()||null,i)},r.renderCustomHeader=function(e){var t,n=e.monthDate,i=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=r.props,o=a.showYearPicker,s=a.yearItemNumber,c;if(o){var l=hg(n,s);c={startYear:l.startPeriod,endYear:l.endPeriod}}var u=eg(r.state.date,r.props),d=tg(r.state.date,r.props),f=ig(r.state.date,r.props),p=og(r.state.date,r.props);return b.createElement(`div`,{className:`react-datepicker__header react-datepicker__header--custom`,onFocus:r.props.onDropdownFocus},(t=r.props).renderCustomHeader?.call(t,Km(Km(Km({},r.state),o&&{visibleYearsRange:c}),{customHeaderCount:i,monthDate:n,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:p})))},r.renderYearHeader=function(e){var n=e.monthDate,i=r.props,a=i.showYearPicker,o=i.yearItemNumber,s=hg(n,o===void 0?t.defaultProps.yearItemNumber:o),c=s.startPeriod,l=s.endPeriod;return b.createElement(`div`,{className:`react-datepicker__header react-datepicker-year-header`},a?`${c} - ${l}`:vu(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,i={monthDate:t,i:n===void 0?0:n};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(i);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}},r.renderMonths=function(){if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var e=[],n=r.props.monthsShown??t.defaultProps.monthsShown,i=r.props.showPreviousMonths?n-1:0,a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?nl(r.state.date,i):uf(r.state.date,i),o=r.props.monthSelectedIn??i,s=0;s<n;++s){var c=s-o+i,l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?nl(a,c):zc(a,c),u=`month-${s}`,d=s<n-1,f=s>0;e.push(b.createElement(`div`,{key:u,ref:function(e){r.monthContainer=e??void 0},className:`react-datepicker__month-container`},r.props.monthHeaderPosition===`top`&&r.renderHeader({monthDate:l,i:s}),b.createElement(Mg,Km({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:l,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:s,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:d,monthShowsDuplicateDaysStart:f,dayNamesHeader:r.renderDayNamesHeader(l,s),monthHeader:r.props.monthHeaderPosition===`middle`?r.renderHeader({monthDate:l,i:s}):void 0,monthFooter:r.props.monthHeaderPosition===`bottom`?r.renderHeader({monthDate:l,i:s}):void 0}))))}return e}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return b.createElement(`div`,{className:`react-datepicker__year--container`},r.renderHeader({monthDate:r.state.date}),b.createElement(Hg,Km({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return b.createElement(Bg,Km({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){if(r.props.showTimeInput){if(r.props.selectsRange){var e=r.props,n=e.startDate,i=e.endDate,a=n?new Date(n):void 0,o=a&&sh(a)&&n?`${mg(a.getHours())}:${mg(a.getMinutes())}`:``,s=i?new Date(i):void 0,c=s&&sh(s)&&i?`${mg(s.getHours())}:${mg(s.getMinutes())}`:``;return b.createElement(b.Fragment,null,b.createElement(Sg,Km({},t.defaultProps,r.props,{date:a,timeString:o,onChange:function(e){var t,n;(n=(t=r.props).onTimeChange)==null||n.call(t,e,`start`)},timeInputLabel:(r.props.timeInputLabel??`Time`)+` (Start)`})),b.createElement(Sg,Km({},t.defaultProps,r.props,{date:s,timeString:c,onChange:function(e){var t,n;(n=(t=r.props).onTimeChange)==null||n.call(t,e,`end`)},timeInputLabel:(r.props.timeInputLabel??`Time`)+` (End)`})))}var l=r.props.selected?new Date(r.props.selected):void 0,u=l&&sh(l)&&r.props.selected?`${mg(l.getHours())}:${mg(l.getMinutes())}`:``;return b.createElement(Sg,Km({},t.defaultProps,r.props,{date:l,timeString:u,onChange:function(e){var t,n;(n=(t=r.props).onTimeChange)==null||n.call(t,e)}}))}},r.renderAriaLiveRegion=function(){if(!sh(r.state.date))return b.createElement(`span`,{role:`alert`,"aria-live":`polite`,className:`react-datepicker__aria-live`});var e=hg(r.state.date,r.props.yearItemNumber??t.defaultProps.yearItemNumber),n=e.startPeriod,i=e.endPeriod,a=r.props.showYearPicker?`${n} - ${i}`:r.props.showMonthYearPicker||r.props.showQuarterYearPicker?vu(r.state.date):`${Rh(hu(r.state.date),r.props.locale)} ${vu(r.state.date)}`;return b.createElement(`span`,{role:`alert`,"aria-live":`polite`,className:`react-datepicker__aria-live`},r.state.isRenderAriaLiveMessage&&a)},r.renderChildren=function(){if(r.props.children)return b.createElement(`div`,{className:`react-datepicker__children-container`},r.props.children)},r.containerRef=(0,b.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,`defaultProps`,{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:qg,timeCaption:`Time`,previousYearButtonLabel:`Previous Year`,nextYearButtonLabel:`Next Year`,previousMonthButtonLabel:`Previous Month`,nextMonthButtonLabel:`Next Month`,yearItemNumber:rh,monthHeaderPosition:`top`}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){e.setState({monthContainer:e.monthContainer})})())},t.prototype.componentDidUpdate=function(e){var t=this;if(this.props.preSelection&&sh(this.props.preSelection)&&(!kh(this.props.preSelection,e.preSelection)||this.props.monthSelectedIn!==e.monthSelectedIn)){var n=!Dh(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!kh(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var e=this.props.container||Jm;return b.createElement(Xm,{onClickOutside:this.handleClickOutside,style:{display:`contents`},ignoreClass:this.props.outsideClickIgnoreClass},b.createElement(`div`,{style:{display:`contents`},ref:this.containerRef},b.createElement(e,{className:jc(`react-datepicker`,this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition===`top`&&this.renderPreviousButton(),this.props.monthHeaderPosition===`top`&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(b.Component),Xg=function(e){var t=e.icon,n=e.className,r=n===void 0?``:n,i=e.onClick,a=`react-datepicker__calendar-icon`;if(typeof t==`string`)return b.createElement(`i`,{className:`${a} ${t} ${r}`,"aria-hidden":`true`,onClick:i});if(b.isValidElement(t)){var o=t;return b.cloneElement(o,{className:`${o.props.className||``} ${a} ${r}`,onClick:function(e){typeof o.props.onClick==`function`&&o.props.onClick(e),typeof i==`function`&&i(e)}})}return b.createElement(`svg`,{className:`${a} ${r}`,xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 448 512`,onClick:i},b.createElement(`path`,{d:`M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z`}))},Zg=function(e){Gm(t,e);function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement(`div`),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement(`div`),this.portalRoot.setAttribute(`id`,this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Um.createPortal(this.props.children,this.el)},t}(b.Component),Qg=`[tabindex], a, button, input, select, textarea`,$g=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},e_=function(e){Gm(t,e);function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){return Array.prototype.slice.call(n.tabLoopRef.current?.querySelectorAll(Qg),1,-1).filter($g)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,b.createRef)(),n}return t.prototype.render=function(){return this.props.enableTabLoop??t.defaultProps.enableTabLoop?b.createElement(`div`,{className:`react-datepicker__tab-loop`,ref:this.tabLoopRef},b.createElement(`div`,{className:`react-datepicker__tab-loop__start`,tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,b.createElement(`div`,{className:`react-datepicker__tab-loop__end`,tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(b.Component);function t_(e){function t(t){var n=typeof t.hidePopper==`boolean`?t.hidePopper:!0,r=(0,b.useRef)(null),i=zm(Km({open:!n,whileElementsMounted:am,placement:t.popperPlacement,middleware:qm([vm({padding:15}),_m(10),ym({element:r})],t.popperModifiers??[],!0)},t.popperProps)),a=Km(Km({},t),{hidePopper:n,popperProps:Km(Km({},i),{arrowRef:r})});return b.createElement(e,Km({},a))}return t.displayName=`withFloating(${e.displayName||e.name||`Component`})`,t}var n_=t_(function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,i=r===void 0?!0:r,a=e.popperComponent,o=e.targetComponent,s=e.enableTabLoop,c=e.popperOnKeyDown,l=e.portalId,u=e.portalHost,d=e.popperProps,f=e.showArrow,p=e.popperTargetRef,m=e.monthHeaderPosition;(0,b.useEffect)(function(){p?.current&&d.refs.setPositionReference(p.current)},[p,d.refs]);var h=void 0;if(!i){var g=jc(`react-datepicker-popper`,!f&&`react-datepicker-popper-offset`,m===`middle`&&`react-datepicker-popper--header-middle`,m===`bottom`&&`react-datepicker-popper--header-bottom`,t);h=b.createElement(e_,{enableTabLoop:s},b.createElement(`div`,{ref:d.refs.setFloating,style:d.floatingStyles,className:g,"data-placement":d.placement,onKeyDown:c},a,f&&b.createElement(Mm,{ref:d.arrowRef,context:d.context,fill:`currentColor`,strokeWidth:1,height:8,width:16,style:{transform:`translateY(-1px)`},className:`react-datepicker__triangle`})))}e.popperContainer&&(h=(0,b.createElement)(e.popperContainer,{},h)),l&&!i&&(h=b.createElement(Zg,{portalId:l,portalHost:u},h));var _=jc(`react-datepicker-wrapper`,n);return b.createElement(b.Fragment,null,b.createElement(`div`,{ref:d.refs.setReference,className:_},o),h)});function r_(e,t){return e&&t?hu(e)!==hu(t)||vu(e)!==vu(t):e!==t}var i_=`Date input not valid.`,a_=function(e){Gm(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){var e=r.props.timeZone,t=r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:ih();return e?eh(t,e):t},r.modifyHolidays=function(){return r.props.holidays?.reduce(function(e,t){var n=ah(t.date,`yyyy-MM-dd`,void 0,!1);return n?qm(qm([],e,!0),[Km(Km({},t),{date:n})],!1):e},[])},r.calcInitialState=function(){var e=r.props.timeZone,t=r.getPreSelection(),n=cg(r.props),i=lg(r.props),a=n&&bu(t,_h(n))?n:i&&yu(t,Ch(i))?i:t,o=r.props.selectsRange?r.props.startDate:r.props.selected;return o&&e&&(o=eh(o,e)),{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:o??a,highlightDates:ug(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var e=r.props,n=e.locale,i=e.startDate,a=e.endDate,o=e.rangeSeparator,s=e.selected,c=e.selectedDates,l=e.selectsMultiple,u=e.selectsRange,d=e.formatMultipleDates,f=e.value,p=r.props.dateFormat??t.defaultProps.dateFormat,m=r.state.inputValue;return typeof f==`string`?f:typeof m==`string`?m:u?fh(i,a,{dateFormat:p,locale:n,rangeSeparator:o}):l?d?d(c??[],function(e){return uh(e,{dateFormat:p,locale:n})}):ph(c??[],{dateFormat:p,locale:n}):uh(s,{dateFormat:p,locale:n})},r.resetHiddenStatus=function(){r.setState(Km(Km({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Km(Km({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState===`hidden`&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;(t=(e=r.input)?.focus)==null||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;(t=(e=r.input)?.blur)==null||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(e,t){t===void 0&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:s_},function(){e||r.setState(function(e){return{focused:t?e.focused:!1}},function(){!t&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ol(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,i=r.state.wasHidden,a=i?r.state.open:!0;i&&r.resetHiddenStatus(),r.state.preventFocus||((n=(t=r.props).onFocus)==null||n.call(t,e),a&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(Km(Km({},r.state),{inputValue:null}))},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((n=(t=r.props).onBlur)==null||n.call(t,e));var i=r.state.inputValue;typeof i==`string`&&i.length>0&&!/[a-zA-Z0-9]/.test(i)&&r.props.selected&&r.setSelected(null,void 0,!0),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;(n=(t=r.props).onClickOutside)==null||n.call(t,e),!r.props.inline&&!e.defaultPrevented&&r.setOpen(!1),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),!o||typeof o.isDefaultPrevented!=`function`||o.isDefaultPrevented()))){r.setState({inputValue:o?.target instanceof HTMLInputElement?o.target.value:null,lastPreSelectChange:o_});var s=r.props,c=s.selectsRange,l=s.startDate,u=s.endDate,d=r.props.dateFormat??t.defaultProps.dateFormat,f=r.props.strictParsing??t.defaultProps.strictParsing,p=o?.target instanceof HTMLInputElement?o.target.value:``;if(c){var m=r.props.rangeSeparator,h=m.trim(),g=p.split(d.includes(h)?m:h,2).map(function(e){return e.trim()}),_=g[0],v=g[1],y=ah(_??``,d,r.props.locale,f),b=y?ah(v??``,d,r.props.locale,f):null,x=ch(l)?.getTime()!==y?.getTime(),S=ch(u)?.getTime()!==b?.getTime();if(!x&&!S||y&&Vh(y,r.props)||b&&Vh(b,r.props))return;y&&r.setState({preSelection:y}),(n=(e=r.props).onChange)==null||n.call(e,[y,b],o)}else{var C=ah(p,d,r.props.locale,f,r.props.selected??void 0);if(C||!p)r.setSelected(C,o,!0);else if(!r.props.inline){var w=oh(p,r.state.preSelection??void 0);w&&(!r.props.minDate||!bu(w,r.props.minDate))&&(!r.props.maxDate||!yu(w,r.props.maxDate))&&r.setState({preSelection:w})}}}},r.handleSelect=function(e,n,i){if(!r.props.readOnly){var a=r.props,o=a.selectsRange,s=a.startDate,c=a.endDate,l=a.locale,u=a.swapRange,d=r.props.dateFormat??t.defaultProps.dateFormat,f=!o||s&&!c&&(u||!bg(e,s));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&f&&r.sendFocusBackToInput(),r.props.onChangeRaw){var p=uh(e,{dateFormat:d,locale:l});r.props.onChangeRaw(n,{date:e,formattedDate:p})}r.setSelected(e,n,!1,i),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(e):f&&r.setOpen(!1)}},r.setSelected=function(e,t,n,i){var a,o,s=r.props.timeZone,c=e;if(c&&s&&(c=th(c,s)),r.props.showYearPicker){if(c!==null&&Jh(vu(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&Uh(c,r.props))return}else if(c!==null&&Vh(c,r.props))return;var l=r.props,u=l.onChange,d=l.selectsRange,f=l.startDate,p=l.endDate,m=l.selectsMultiple,h=l.selectedDates,g=l.minTime,_=l.swapRange;if(!Ah(r.props.selected,c)||r.props.allowSameDay||d||m)if(c!==null&&(r.props.selected&&(!n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=mh(c,{hour:fu(r.props.selected),minute:mu(r.props.selected),second:gu(r.props.selected)})),!n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&g&&(c=mh(c,{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:i})),d){var v=u,y=!f&&!p,b=f&&!p,x=!f&&!!p,S=f&&p;y?v?.([c,null],t):b?c===null?v?.([null,null],t):bg(c,f)?_?v?.([c,f],t):v?.([c,null],t):v?.([f,c],t):x&&(c&&bg(c,p)?v?.([c,p],t):v?.([c,null],t)),S&&v?.([c,null],t)}else if(m){var C=u;if(c!==null)if(!h?.length)C?.([c],t);else if(h.some(function(e){return kh(e,c)})){var w=h.filter(function(e){return!kh(e,c)});C?.(w,t)}else C?.(qm(qm([],h,!0),[c],!1),t)}else u?.(c,t);n||((o=(a=r.props).onSelect)==null||o.call(a,c,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){if(!r.props.readOnly){var t=ol(r.props.minDate),n=ol(r.props.maxDate),i=!0;if(e){var a=_h(e);if(t&&n)i=jh(e,r.props.minDate,r.props.maxDate);else if(t){var o=_h(r.props.minDate);i=yu(e,o)||Ah(a,o)}else if(n){var s=Ch(r.props.maxDate);i=bu(e,s)||Ah(a,s)}}i&&r.setState({preSelection:e})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e,t){var n,i;if(!r.props.selectsMultiple){var a=r.props,o=a.selectsRange,s=a.startDate,c=a.endDate,l=a.onChange,u=a.timeZone;if(o){var d=l;if(t===`start`){if(s){var f=mh(s,{hour:fu(e),minute:mu(e)});r.setState({preSelection:f}),u&&(f=th(f,u)),d?.([f,c?u?th(c,u):c:null],void 0)}}else if(t===`end`){if(c){var p=mh(c,{hour:fu(e),minute:mu(e)});r.setState({preSelection:p}),u&&(p=th(p,u)),d?.([s?u?th(s,u):s:null,p],void 0)}}else if(s&&!c){var f=mh(s,{hour:fu(e),minute:mu(e)});r.setState({preSelection:f}),u&&(f=th(f,u)),d?.([f,null],void 0)}else if(s&&c){var p=mh(c,{hour:fu(e),minute:mu(e)});r.setState({preSelection:p}),u&&(p=th(p,u)),d?.([u?th(s,u):s,p],void 0)}else{var m=mh(r.getPreSelection(),{hour:fu(e),minute:mu(e)});r.setState({preSelection:m})}}else{var h=r.props.selected?r.props.selected:r.getPreSelection(),m=r.props.selected?e:mh(h,{hour:fu(e),minute:mu(e)});r.setState({preSelection:m}),m&&u&&(m=th(m,u)),(i=(n=r.props).onChange)==null||i.call(n,m)}r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(t=(e=r.props).onInputClick)==null||t.call(e)},r.handleTimeOnlyArrowKey=function(e){var n,i,a=ch(r.props.selected)||r.state.preSelection||ih(),o=r.props.timeIntervals??30,s=r.props.dateFormat??t.defaultProps.dateFormat,c=Array.isArray(s)?s[0]:s,l=_h(a),u=fu(a)*60+mu(a),d=1440-o,f;if(e===Q.ArrowUp){var p=Math.max(0,u-o);f=Qc(l,p)}else{var p=Math.min(d,u+o);f=Qc(l,p)}var m=lh(f,c||t.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:f,inputValue:m}),!(r.props.selectsRange||r.props.selectsMultiple)){var h=r.props.selected?r.props.selected:r.getPreSelection(),g=r.props.selected?f:mh(h,{hour:fu(f),minute:mu(f)});(i=(n=r.props).onChange)==null||i.call(n,g),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(f)})}},r.handleTimeOnlyEnterKey=function(e){var n=e.target.value,i=r.props.dateFormat??t.defaultProps.dateFormat,a=r.props.timeFormat||`p`,o=r.state.preSelection||ch(r.props.selected)||ih(),s=ah(n,i,r.props.locale,r.props.strictParsing??!1,o),c=o;if(s&&sh(s))c=s;else{var l=r.calendar?.containerRef.current instanceof Element&&r.calendar.containerRef.current.querySelector(`.react-datepicker__time-list-item[tabindex='0']`);if(l instanceof HTMLElement){var u=l.textContent?.trim();if(u){var d=ah(u,a,r.props.locale,!1,o);d&&sh(d)&&(c=d)}}}r.handleTimeChange(c),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(e){if(r.calendar?.containerRef.current){for(var t=r.calendar.containerRef.current,n=Array.from(t.querySelectorAll(`.react-datepicker__time-list-item`)),i=null,a=1/0,o=r.props.timeFormat||`p`,s=0,c=n;s<c.length;s++){var l=c[s],u=l.textContent?.trim();if(u){var d=ah(u,o,r.props.locale,!1,e);if(d&&sh(d)){if(vg(d,e)){i=l;break}var f=Math.abs(d.getTime()-e.getTime());f<a&&(a=f,i=l)}}}i&&(n.forEach(function(e){e.setAttribute(`tabindex`,`-1`)}),i.setAttribute(`tabindex`,`0`),i.scrollIntoView({behavior:`smooth`,block:`center`}))}},r.onInputKeyDown=function(e){var t,n,i,a,o;(n=(t=r.props).onKeyDown)==null||n.call(t,e);var s=e.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(s===Q.ArrowDown||s===Q.ArrowUp||s===Q.Enter)&&((i=r.onInputClick)==null||i.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(s===Q.ArrowDown||s===Q.ArrowUp){e.preventDefault(),r.handleTimeOnlyArrowKey(s);return}if(s===Q.Enter){e.preventDefault(),r.handleTimeOnlyEnterKey(e);return}}if(r.state.open){if(s===Q.ArrowDown||s===Q.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?`.react-datepicker__time-list-item[tabindex='0']`:r.props.showWeekPicker&&r.props.showWeekNumbers?`.react-datepicker__week-number[tabindex="0"]`:r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?`.react-datepicker__month-text[tabindex="0"]`:`.react-datepicker__day[tabindex="0"]`,l=r.calendar?.containerRef.current instanceof Element&&r.calendar.containerRef.current.querySelector(c);l instanceof HTMLElement&&l.focus({preventScroll:!0});return}var u=ih(r.state.preSelection);s===Q.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===s_?(r.handleSelect(u,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(u)):r.setOpen(!1)):s===Q.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):s===Q.Tab&&r.setOpen(!1),r.inputOk()||(o=(a=r.props).onInputError)==null||o.call(a,{code:1,msg:i_})}},r.onPortalKeyDown=function(e){e.key===Q.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(e){var t,n,i,a,o,s,c=r.props,l=c.minDate,u=c.maxDate,d=c.disabledKeyboardNavigation,f=c.showWeekPicker,p=c.shouldCloseOnSelect,m=c.locale,h=c.calendarStartDay,g=c.adjustDateOnChange,_=c.inline;if((n=(t=r.props).onKeyDown)==null||n.call(t,e),!d){var v=e.key,y=e.shiftKey,b=ih(r.state.preSelection),x=function(e,t){var n=t;switch(e){case Q.ArrowRight:n=f?tl(t,1):Rc(t,1);break;case Q.ArrowLeft:n=f?ff(t,1):Id(t,1);break;case Q.ArrowUp:n=ff(t,1);break;case Q.ArrowDown:n=tl(t,1);break;case Q.PageUp:n=y?pf(t,1):uf(t,1);break;case Q.PageDown:n=y?nl(t,1):zc(t,1);break;case Q.Home:n=vh(t,m,h);break;case Q.End:n=wh(t);break}return n},S=function(e,t){for(var n=40,i=e,a=!1,o=0,s=x(e,t);!a;){if(o>=n){s=t;break}l&&s<l&&(i=Q.ArrowRight,s=Vh(l,r.props)?x(i,s):l),u&&s>u&&(i=Q.ArrowLeft,s=Vh(u,r.props)?x(i,s):u),Vh(s,r.props)?((i===Q.PageUp||i===Q.Home)&&(i=Q.ArrowRight),(i===Q.PageDown||i===Q.End)&&(i=Q.ArrowLeft),s=x(i,s)):a=!0,o++}return s};if(v===Q.Enter){e.preventDefault(),r.handleSelect(b,e),!p&&r.setPreSelection(b);return}else if(v===Q.Escape){e.preventDefault(),r.setOpen(!1),r.inputOk()||(a=(i=r.props).onInputError)==null||a.call(i,{code:1,msg:i_});return}var C=null;switch(v){case Q.ArrowLeft:case Q.ArrowRight:case Q.ArrowUp:case Q.ArrowDown:case Q.PageUp:case Q.PageDown:case Q.Home:case Q.End:C=S(v,b);break}if(!C){(s=(o=r.props).onInputError)==null||s.call(o,{code:1,msg:i_});return}e.preventDefault(),r.setState({lastPreSelectChange:s_}),g&&r.setSelected(C),r.setPreSelection(C),_&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(e){e.key===Q.Escape&&(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,i=t.onChange;n?i?.([null,null],e):i?.(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){typeof r.props.closeOnScroll==`boolean`&&r.props.closeOnScroll?(e.target===document||e.target===document.documentElement||e.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll==`function`&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.handleMonthSelectedInChange=function(e){r.setState({monthSelectedIn:e})},r.renderCalendar=function(){return!r.props.inline&&!r.isCalendarOpen()?null:b.createElement(Yg,Km({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:r.props.dateFormatCalendar??t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:fg(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:r.props.dropdownMode??t.defaultProps.dropdownMode,onMonthSelectedInChange:r.handleMonthSelectedInChange}),r.props.children)},r.renderAriaLiveRegion=function(){var e=r.props.locale,n=r.props.dateFormat??t.defaultProps.dateFormat,i=r.props.showTimeInput||r.props.showTimeSelect?`PPPPp`:`PPPP`,a=r.props.selectsRange?`Selected start date: ${uh(r.props.startDate,{dateFormat:i,locale:e})}. ${r.props.endDate?`End date: `+uh(r.props.endDate,{dateFormat:i,locale:e}):``}`:r.props.showTimeSelectOnly?`Selected time: ${uh(r.props.selected,{dateFormat:n,locale:e})}`:r.props.showYearPicker?`Selected year: ${uh(r.props.selected,{dateFormat:`yyyy`,locale:e})}`:r.props.showMonthYearPicker?`Selected month: ${uh(r.props.selected,{dateFormat:`MMMM yyyy`,locale:e})}`:r.props.showQuarterYearPicker?`Selected quarter: ${uh(r.props.selected,{dateFormat:`yyyy, QQQ`,locale:e})}`:`Selected date: ${uh(r.props.selected,{dateFormat:i,locale:e})}`;return b.createElement(`span`,{role:`alert`,"aria-live":`polite`,className:`react-datepicker__aria-live`},a)},r.renderDateInput=function(){var e,n,i=jc(r.props.className,(e={},e[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,e)),a=r.props.customInput||b.createElement(`input`,{type:`text`}),o=r.props.customInputRef||`ref`,s={},c=r.props[`aria-describedby`]??r.props.ariaDescribedBy,l=r.props[`aria-invalid`]??r.props.ariaInvalid,u=r.props[`aria-label`]??r.props.ariaLabel,d=r.props[`aria-labelledby`]??r.props.ariaLabelledBy,f=r.props[`aria-required`]??r.props.ariaRequired;return c!=null&&(s[`aria-describedby`]=c),l!=null&&(s[`aria-invalid`]=l),u!=null&&(s[`aria-label`]=u),d!=null&&(s[`aria-labelledby`]=d),f!=null&&(s[`aria-required`]=f),(0,b.cloneElement)(a,Km((n={},n[o]=function(e){r.input=e},n.value=r.getInputValue(),n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=jc(a.props.className,i),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n),s))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,i=e.selected,a=e.startDate,o=e.endDate,s=e.clearButtonTitle,c=e.clearButtonClassName,l=c===void 0?``:c,u=e.ariaLabelClose,d=u===void 0?`Close`:u,f=e.selectedDates,p=e.readOnly;return t&&!p&&(i!=null||a!=null||o!=null||f?.length)?b.createElement(`button`,{type:`button`,className:jc(`react-datepicker__close-icon`,l,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":d,onClick:r.onClearClick,title:s,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,`defaultProps`,{get:function(){return{allowSameDay:!1,dateFormat:`MM/dd/yyyy`,dateFormatCalendar:`LLLL yyyy`,disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:`scroll`,preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:qg,readOnly:!1,rangeSeparator:dh,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:`Time`,previousMonthAriaLabel:`Previous Month`,previousMonthButtonLabel:`Previous Month`,nextMonthAriaLabel:`Next Month`,nextMonthButtonLabel:`Next Month`,previousYearAriaLabel:`Previous Year`,previousYearButtonLabel:`Previous Year`,nextYearAriaLabel:`Next Year`,nextYearButtonLabel:`Next Year`,timeInputLabel:`Time`,enableTabLoop:!0,yearItemNumber:rh,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener(`scroll`,this.onScroll,!0),document.addEventListener(`visibilitychange`,this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,i,a;this.props.selectsRange&&r_(e.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):r_(e.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&t.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:ug(this.props.highlightDates)}),!t.focused&&!Ah(e.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((r=(n=this.props).onCalendarOpen)==null||r.call(n)),t.open===!0&&this.state.open===!1&&((a=(i=this.props).onCalendarClose)==null||a.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener(`scroll`,this.onScroll,!0),document.removeEventListener(`visibilitychange`,this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,i=e.calendarIconClassName,a=e.toggleCalendarOnIconClick,o=this.state.open;return r&&console.warn(`calendarIconClassname props is deprecated. should use calendarIconClassName props.`),b.createElement(`div`,{className:`react-datepicker__input-container${t?` react-datepicker__view-calendar-icon`:``}`},t&&b.createElement(Xg,Km({icon:n,className:jc(i,!i&&r,o&&`react-datepicker-ignore-onclickoutside`)},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?b.createElement(e_,{enableTabLoop:this.props.enableTabLoop},b.createElement(`div`,{className:`react-datepicker__portal`,tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=b.createElement(Zg,Km({portalId:this.props.portalId},this.props),t)),b.createElement(b.Fragment,null,this.renderInputContainer(),t)}return b.createElement(n_,Km({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t}(b.Component),o_=`input`,s_=`navigate`;function c_(e){return(t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}function l_(e){return(t,n)=>{let r=n?.context?String(n.context):`standalone`,i;if(r===`formatting`&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}let a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}function u_(e){return(t,n={})=>{let r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;let o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?f_(s,e=>e.test(o)):d_(s,e=>e.test(o)),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;let u=t.slice(o.length);return{value:l,rest:u}}}function d_(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function f_(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function p_(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;let s=t.slice(i.length);return{value:o,rest:s}}}function m_(e){let t=Object.prototype.toString.call(e);return e instanceof Date||typeof e==`object`&&t===`[object Date]`?new e.constructor(+e):typeof e==`number`||t===`[object Number]`||typeof e==`string`||t===`[object String]`?new Date(e):new Date(NaN)}var h_={};function g_(){return h_}function __(e,t){let n=g_(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=m_(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function v_(e,t,n){let r=__(e,n),i=__(t,n);return+r==+i}var y_={lessThanXSeconds:{one:` 1 `,other:` {{count}} `},xSeconds:{one:`1 `,other:`{{count}} `},halfAMinute:``,lessThanXMinutes:{one:` 1 `,other:` {{count}} `},xMinutes:{one:`1 `,other:`{{count}} `},xHours:{one:`1 `,other:`{{count}} `},aboutXHours:{one:` 1 `,other:` {{count}} `},xDays:{one:`1 `,other:`{{count}} `},aboutXWeeks:{one:` 1 `,other:` {{count}} `},xWeeks:{one:`1 `,other:`{{count}} `},aboutXMonths:{one:` 1 `,other:` {{count}} `},xMonths:{one:`1 `,other:`{{count}} `},aboutXYears:{one:` 1 `,other:` {{count}} `},xYears:{one:`1 `,other:`{{count}} `},overXYears:{one:` 1 `,other:` {{count}} `},almostXYears:{one:` 1 `,other:` {{count}} `}};const b_=(e,t,n)=>{let r,i=y_[e];return r=typeof i==`string`?i:t===1?i.one:i.other.replace(`{{count}}`,String(t)),n?.addSuffix?n.comparison&&n.comparison>0?r+``:r+``:r},x_={date:c_({formats:{full:`y''M''d'' EEEE`,long:`y''M''d''`,medium:`yyyy-MM-dd`,short:`yy-MM-dd`},defaultWidth:`full`}),time:c_({formats:{full:`zzzz a h:mm:ss`,long:`z a h:mm:ss`,medium:`a h:mm:ss`,short:`a h:mm`},defaultWidth:`full`}),dateTime:c_({formats:{full:`{{date}} {{time}}`,long:`{{date}} {{time}}`,medium:`{{date}} {{time}}`,short:`{{date}} {{time}}`},defaultWidth:`full`})};function S_(e,t,n){let r=`eeee p`;return v_(e,t,n)?r:e.getTime()>t.getTime()?`''`+r:`''`+r}var C_={lastWeek:S_,yesterday:`'' p`,today:`'' p`,tomorrow:`'' p`,nextWeek:S_,other:`PP p`};const w_={code:`zh-CN`,formatDistance:b_,formatLong:x_,formatRelative:(e,t,n,r)=>{let i=C_[e];return typeof i==`function`?i(t,n,r):i},localize:{ordinalNumber:(e,t)=>{let n=Number(e);switch(t?.unit){case`date`:return n.toString()+``;case`hour`:return n.toString()+``;case`minute`:return n.toString()+``;case`second`:return n.toString()+``;default:return` `+n.toString()}},era:l_({values:{narrow:[``,``],abbreviated:[``,``],wide:[``,``]},defaultWidth:`wide`}),quarter:l_({values:{narrow:[`1`,`2`,`3`,`4`],abbreviated:[``,``,``,``],wide:[``,``,``,``]},defaultWidth:`wide`,argumentCallback:e=>e-1}),month:l_({values:{narrow:[``,``,``,``,``,``,``,``,``,``,``,``],abbreviated:[`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`10`,`11`,`12`],wide:[``,``,``,``,``,``,``,``,``,``,``,``]},defaultWidth:`wide`}),day:l_({values:{narrow:[``,``,``,``,``,``,``],short:[``,``,``,``,``,``,``],abbreviated:[``,``,``,``,``,``,``],wide:[``,``,``,``,``,``,``]},defaultWidth:`wide`}),dayPeriod:l_({values:{narrow:{am:``,pm:``,midnight:``,noon:``,morning:``,afternoon:``,evening:``,night:``},abbreviated:{am:``,pm:``,midnight:``,noon:``,morning:``,afternoon:``,evening:``,night:``},wide:{am:``,pm:``,midnight:``,noon:``,morning:``,afternoon:``,evening:``,night:``}},defaultWidth:`wide`,formattingValues:{narrow:{am:``,pm:``,midnight:``,noon:``,morning:``,afternoon:``,evening:``,night:``},abbreviated:{am:``,pm:``,midnight:``,noon:``,morning:``,afternoon:``,evening:``,night:``},wide:{am:``,pm:``,midnight:``,noon:``,morning:``,afternoon:``,evening:``,night:``}},defaultFormattingWidth:`wide`})},match:{ordinalNumber:p_({matchPattern:/^(\s*)?\d+(|||)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:u_({matchPatterns:{narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/^()/i,/^()/i]},defaultParseWidth:`any`}),quarter:u_({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},defaultParseWidth:`any`,valueCallback:e=>e+1}),month:u_({matchPatterns:{narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},defaultParseWidth:`any`}),day:u_({matchPatterns:{narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},defaultMatchWidth:`wide`,parsePatterns:{any:[//i,//i,//i,//i,//i,//i,//i]},defaultParseWidth:`any`}),dayPeriod:u_({matchPatterns:{any:/^(?|?||[]|?||?||)/i},defaultMatchWidth:`any`,parsePatterns:{any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},defaultParseWidth:`any`})},options:{weekStartsOn:1,firstWeekContainsDate:4}},T_=`Odyssey`,E_=`https://api.dicebear.com/7.x/avataaars/svg?seed=Felix`;var D_=[`https://api.dicebear.com/7.x/avataaars/svg?seed=Athena`,`https://api.dicebear.com/7.x/avataaars/svg?seed=Odysseus`,`https://api.dicebear.com/7.x/avataaars/svg?seed=Hermes`,`https://api.dicebear.com/7.x/avataaars/svg?seed=Apollo`,`https://api.dicebear.com/7.x/avataaars/svg?seed=Artemis`,`https://api.dicebear.com/7.x/avataaars/svg?seed=Hera`,`https://api.dicebear.com/7.x/avataaars/svg?seed=Dionysus`,`https://api.dicebear.com/7.x/avataaars/svg?seed=Muse`,`https://api.dicebear.com/7.x/avataaars/svg?seed=Pegasus`],O_=()=>D_[Math.floor(Math.random()*D_.length)],k_=(e,t)=>{let n=(e||``).trim(),r=n.toLowerCase();return r.includes(`invalid login credentials`)?t===`login`?``:``:r.includes(`email not confirmed`)?``:r.includes(`user already registered`)||r.includes(`already registered`)||r.includes(`already exists`)?t===`register`?``:``:r.includes(`password`)&&(r.includes(`at least`)||r.includes(`6`))?` 6 `:r.includes(`email`)&&r.includes(`invalid`)?``:r.includes(`rate limit`)||r.includes(`too many`)?``:r.includes(`otp`)||r.includes(`token`)?r.includes(`expired`)||r.includes(`invalid`)?``:``:r.includes(`failed to fetch`)||r.includes(`network`)?``:t===`login`?n||``:t===`register`?n||``:n||``};const A_=async(e,t)=>{if(`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))try{let{data:n,error:r}=await J.auth.signInWithPassword({email:e,password:t});if(r)return{success:!1,message:k_(r.message,`login`)};if(n.user)return{success:!0,data:{id:n.user.id,name:n.user.user_metadata.name||e.split(`@`)[0],email:n.user.email||``,avatar:n.user.user_metadata.avatar_url||O_(),token:n.session?.access_token}}}catch(e){return console.error(`Supabase Login Error:`,e),{success:!1,message:``}}return new Promise(n=>{setTimeout(()=>{if(t.length<6){n({success:!1,message:`6`});return}n({success:!0,data:{id:`user-`+Date.now(),name:e.split(`@`)[0],email:e,avatar:O_(),token:`mock-jwt-token-`+Date.now()}})},1500)})},j_=async e=>{if(!`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))return{success:!0,registered:!1};try{let{data:t,error:n}=await J.rpc(`is_email_registered`,{p_email:e});return n?n.code===`PGRST202`||n.message.toLowerCase().includes(`could not find the function`)?{success:!1,message:``}:{success:!1,message:n.message}:{success:!0,registered:!!t}}catch(e){return console.error(`Supabase isEmailRegistered Error:`,e),{success:!1,message:``}}},M_=async e=>{if(!`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))return{success:!0,taken:!1};try{let{data:t,error:n}=await J.rpc(`is_nickname_taken`,{p_name:e});return n?n.code===`PGRST202`||n.message.toLowerCase().includes(`could not find the function`)?{success:!1,message:``}:{success:!1,message:n.message}:{success:!0,taken:!!t}}catch(e){return console.error(`Supabase isNicknameTaken Error:`,e),{success:!1,message:``}}},N_=async e=>{if(!`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))return{success:!1,message:` Supabase`};try{let{error:t}=await J.auth.signInWithOtp({email:e,options:{shouldCreateUser:!0}});return t?{success:!1,message:k_(t.message,`register`)}:{success:!0,message:` 6 `}}catch(e){return console.error(`Supabase Send Email Code Error:`,e),{success:!1,message:``}}},P_=async e=>{if(!`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))return{success:!1,message:` Supabase`};try{let t=`${window.location.origin}${window.location.pathname}?reset=1#/reset-password`,{error:n}=await J.auth.resetPasswordForEmail(e,{redirectTo:t});return n?{success:!1,message:k_(n.message,`login`)}:{success:!0,message:``}}catch(e){return console.error(`Supabase Password Reset Email Error:`,e),{success:!1,message:``}}},F_=async(e,t,n,r)=>{if(!`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))return{success:!1,message:` Supabase`};try{let i=await J.auth.verifyOtp({email:e,token:r,type:`email`});if(i.error)return{success:!1,message:k_(i.error.message,`register`)};let a=await J.auth.updateUser({password:t,data:{name:n,avatar_url:O_()}});if(a.error)return{success:!1,message:k_(a.error.message,`register`)};let o=i.data.session,s=i.data.user||a.data.user;return!s||!o?{success:!1,message:``}:{success:!0,data:{id:s.id,name:s.user_metadata?.name||n||e.split(`@`)[0],email:s.email||e,avatar:s.user_metadata?.avatar_url||O_(),token:o.access_token}}}catch(e){return console.error(`Supabase Register With Email Code Error:`,e),{success:!1,message:``}}},I_=async(e,t,n)=>{if(`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))try{let{data:r,error:i}=await J.auth.signUp({email:e,password:t,options:{data:{name:n,avatar_url:O_()}}});if(i)return{success:!1,message:k_(i.message,`register`)};if(r.user)return r.session?{success:!0,data:{id:r.user.id,name:n,email:e,avatar:r.user.user_metadata.avatar_url||O_(),token:r.session?.access_token}}:{success:!1,message:``}}catch(e){return console.error(`Supabase Register Error:`,e),{success:!1,message:``}}return new Promise(r=>{setTimeout(()=>{if(t.length<6){r({success:!1,message:`6`});return}r({success:!0,data:{id:`user-`+Date.now(),name:n||``,email:e,avatar:O_(),token:`mock-jwt-token-`+Date.now()}})},1500)})},L_=async e=>{if(`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))try{let{error:e}=await J.rpc(`delete_user`);return e?(console.error(`Supabase Delete Account Error (RPC):`,e),{success:!1,message:k_(e.message,`delete`)}):(await J.auth.signOut(),{success:!0})}catch(e){return console.error(`Supabase Delete Account Error:`,e),{success:!1,message:``}}return new Promise(e=>{setTimeout(()=>{e({success:!0})},1e3)})};Mh(`zh-CN`,w_);var R_=()=>{let e=tt(),[t,n]=(0,b.useState)(null),[r,i]=(0,b.useState)([]),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)([null,null]),[l,u]=s,[d,f]=(0,b.useState)(0),[p,m]=(0,b.useState)(`all`),[h,g]=(0,b.useState)(!1),[_,v]=(0,b.useState)(``),[y,x]=(0,b.useState)(``),[S,C]=(0,b.useState)(``),w=b.useRef(null);b.useEffect(()=>{let e=localStorage.getItem(`museum_user`),t=null;if(e)try{let r=JSON.parse(e);t=r.id||r.uid,n(r)}catch(e){console.error(`Failed to parse user`,e)}(async()=>{if(t){let e=await Sc.getUserPlans(t);if(e.length>0)i(e);else{let e=localStorage.getItem(`my_plans`);e&&i(JSON.parse(e).filter(e=>e.uid===t))}}else i([])})()},[]);let T=e=>{if(!e)return``;let t=new Date(e);return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}`};b.useEffect(()=>{if(l&&u){let e=Math.abs(u.getTime()-l.getTime()),t=Math.ceil(e/(1e3*60*60*24))+1;f(t>0?t:0)}else f(0)},[l,u]);let E=e=>{v(e.title||``),x(e.message),C(e.actionText||``),w.current=e.onAction||null,g(!0)},D=e=>{let t=localStorage.getItem(`my_plans`);if(t)try{let n=JSON.parse(t).filter(t=>t.id!==e);localStorage.setItem(`my_plans`,JSON.stringify(n))}catch{}},O=async e=>{t&&(i(t=>t.filter(t=>t.id!==e)),D(e),await Sc.deletePlan(e))},ee=()=>{if(!t){E({title:``,message:``,actionText:``,onAction:()=>e(`/auth`)});return}if(!a.trim()){E({title:``,message:``});return}if(!l||!u||d<=0){E({title:``,message:``});return}e(`/plan/edit`,{state:{destination:a,days:d,preferences:[],startDate:l?l.toISOString():null}})},k=(()=>{if(!r)return[];if(p===`all`)return r;let e=new Date;return e.setHours(0,0,0,0),r.filter(t=>t.startDate?new Date(t.startDate)>=e:!1)})();return(0,U.jsxs)(`div`,{className:`flex flex-col h-screen w-full bg-transparent text-stone-800 relative overflow-hidden`,children:[(0,U.jsxs)(`div`,{className:`absolute inset-0 pointer-events-none z-[1]`,children:[(0,U.jsx)(`div`,{className:`absolute -top-28 -right-24 w-[520px] h-[520px] rounded-full bg-gradient-to-br from-amber-200/25 via-violet-200/15 to-indigo-200/15 blur-3xl`}),(0,U.jsx)(`div`,{className:`absolute -bottom-32 -left-24 w-[520px] h-[520px] rounded-full bg-gradient-to-tr from-stone-200/25 via-rose-200/15 to-amber-200/15 blur-3xl`}),(0,U.jsx)(`div`,{className:`absolute top-1/3 left-1/2 -translate-x-1/2 w-[420px] h-[420px] rounded-full bg-gradient-to-tr from-emerald-200/10 via-amber-200/10 to-transparent blur-3xl`})]}),h&&(0,U.jsxs)(`div`,{className:`fixed inset-0 z-[1000] flex items-center justify-center p-6`,children:[(0,U.jsx)(`button`,{className:`absolute inset-0 bg-black/50 backdrop-blur-sm`,onClick:()=>g(!1),"aria-label":`Close`}),(0,U.jsxs)(`div`,{className:`relative w-full max-w-sm bg-white rounded-3xl shadow-2xl border border-stone-100 overflow-hidden animate-in fade-in zoom-in duration-200`,children:[(0,U.jsxs)(`div`,{className:`p-5 border-b border-stone-100 flex items-center justify-between`,children:[(0,U.jsx)(`div`,{className:`text-sm font-bold text-stone-900`,children:_}),(0,U.jsx)(`button`,{onClick:()=>g(!1),className:`w-9 h-9 rounded-full bg-stone-50 flex items-center justify-center text-stone-500 hover:bg-stone-100 transition-colors`,"aria-label":`Close`,children:(0,U.jsx)(Ur,{size:18})})]}),(0,U.jsxs)(`div`,{className:`p-5`,children:[(0,U.jsx)(`div`,{className:`text-sm text-stone-600 leading-relaxed whitespace-pre-line`,children:y}),(0,U.jsxs)(`div`,{className:`mt-5 flex gap-3`,children:[S!==``&&(0,U.jsx)(`button`,{onClick:()=>g(!1),className:`flex-1 h-11 rounded-2xl border border-stone-200 text-stone-700 font-bold text-sm hover:bg-stone-50 transition-colors`,children:``}),(0,U.jsx)(`button`,{onClick:()=>{g(!1),w.current?.()},className:`flex-1 h-11 rounded-2xl bg-stone-900 text-white font-bold text-sm hover:bg-stone-800 transition-colors`,children:S})]})]})]})]}),(0,U.jsx)(`header`,{className:`w-full max-w-3xl mx-auto px-6 pt-8 pb-4 bg-transparent sticky top-0 z-10 relative`,children:(0,U.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h1`,{className:`text-2xl font-bold font-serif tracking-wide text-stone-900`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mt-1 leading-relaxed`,children:``})]}),(0,U.jsx)(vn,{to:`/profile`,className:`w-10 h-10 rounded-full bg-stone-200 overflow-hidden border-2 border-white shadow-sm active:scale-95 transition-transform block`,children:(0,U.jsx)(`img`,{src:t?.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=Felix`,alt:`Avatar`,className:`w-full h-full object-cover`,onError:e=>{e.target.src=E_}})})]})}),(0,U.jsx)(`main`,{className:`flex-1 px-4 py-2 overflow-y-auto pb-20 relative z-10 flex flex-col items-center`,children:(0,U.jsxs)(`div`,{className:`w-full max-w-3xl`,children:[(0,U.jsxs)(`section`,{className:`bg-white rounded-3xl p-5 shadow-sm border border-stone-100 mb-6 relative overflow-hidden`,children:[(0,U.jsx)(`div`,{className:`absolute -top-16 -right-20 w-56 h-56 rounded-full bg-gradient-to-br from-amber-200/30 via-violet-200/20 to-indigo-200/20 blur-2xl`}),(0,U.jsx)(`div`,{className:`absolute -bottom-20 -left-20 w-56 h-56 rounded-full bg-gradient-to-tr from-stone-200/30 via-amber-200/20 to-rose-200/20 blur-2xl`}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(`div`,{className:`flex items-start justify-between gap-4 mb-4`,children:(0,U.jsxs)(`div`,{children:[(0,U.jsxs)(`h2`,{className:`text-lg font-bold text-stone-900 flex items-center`,children:[(0,U.jsx)(er,{className:`w-5 h-5 mr-2 text-amber-500`}),``]}),(0,U.jsxs)(`div`,{className:`mt-2 flex flex-wrap gap-2`,children:[(0,U.jsx)(`span`,{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-stone-50 text-stone-600 text-[11px] font-bold border border-stone-100`,children:``}),(0,U.jsx)(`span`,{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-stone-50 text-stone-600 text-[11px] font-bold border border-stone-100`,children:`//`}),(0,U.jsx)(`span`,{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-stone-50 text-stone-600 text-[11px] font-bold border border-stone-100`,children:``})]})]})}),(0,U.jsxs)(`div`,{className:`mb-4`,children:[(0,U.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-1.5 uppercase tracking-wider`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(_r,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 w-5 h-5`}),(0,U.jsx)(`input`,{type:`text`,value:a,onChange:e=>o(e.target.value),placeholder:`()`,className:`w-full pl-10 pr-4 py-3 bg-stone-50 border-none rounded-xl focus:ring-2 focus:ring-amber-200 text-stone-800 placeholder-stone-400 font-medium`})]}),(0,U.jsx)(`div`,{className:`mt-2 text-[11px] text-stone-400 leading-relaxed`,children:``})]}),(0,U.jsxs)(`div`,{className:`mb-6`,children:[(0,U.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider`,children:``}),(0,U.jsxs)(`div`,{className:`relative w-full`,children:[(0,U.jsx)(`div`,{className:`absolute left-3 top-1/2 -translate-y-1/2 z-10 pointer-events-none text-stone-400`,children:(0,U.jsx)(qn,{size:18})}),(0,U.jsx)(a_,{selectsRange:!0,startDate:l,endDate:u,onChange:e=>{c(e)},locale:`zh-CN`,withPortal:!0,placeholderText:``,className:`w-full pl-10 pr-4 py-3 bg-stone-50 border-none rounded-xl focus:ring-2 focus:ring-amber-200 text-stone-800 placeholder-stone-400 font-medium`,wrapperClassName:`w-full`,dateFormat:`yyyy/MM/dd`,minDate:new Date,isClearable:!0})]}),d>0&&(0,U.jsx)(`div`,{className:`mt-3 bg-white rounded-xl p-2 flex items-center justify-center space-x-2 border border-stone-100 shadow-sm animate-in fade-in slide-in-from-top-1`,children:(0,U.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,U.jsxs)(`div`,{className:`flex flex-col items-start leading-none`,children:[(0,U.jsx)(`div`,{className:`text-[10px] text-stone-500 font-bold uppercase tracking-wider`,children:``}),(0,U.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,U.jsx)(`span`,{className:`text-2xl font-bold text-stone-900`,children:d}),(0,U.jsx)(`span`,{className:`text-xs text-stone-500 font-medium`,children:``})]})]})})})]}),(0,U.jsx)(`button`,{onClick:ee,className:`w-full relative group overflow-hidden rounded-2xl h-14 flex items-center justify-center bg-stone-900 text-white shadow-lg active:scale-[0.98] transition-transform`,children:(0,U.jsx)(`div`,{className:`relative flex flex-col items-center leading-none`,children:(0,U.jsxs)(`div`,{className:`flex items-center font-bold`,children:[(0,U.jsx)(Hr,{size:18,className:`mr-2 text-white/90`}),`AI `,(0,U.jsx)(Nr,{size:16,className:`ml-2 text-amber-200`})]})})})]})]}),(0,U.jsxs)(`section`,{children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,U.jsx)(`h3`,{className:`text-lg font-bold font-serif text-stone-900`,children:``}),(0,U.jsxs)(`div`,{className:`flex items-center bg-white/70 backdrop-blur border border-white shadow-sm rounded-full p-1`,children:[(0,U.jsx)(`button`,{onClick:()=>m(`all`),className:[`px-3 py-1 rounded-full text-xs font-bold transition-colors`,p===`all`?`bg-white text-stone-900 shadow-sm`:`text-stone-500 hover:text-stone-800`].join(` `),children:``}),(0,U.jsx)(`button`,{onClick:()=>m(`upcoming`),className:[`px-3 py-1 rounded-full text-xs font-bold transition-colors`,p===`upcoming`?`bg-white text-stone-900 shadow-sm`:`text-stone-500 hover:text-stone-800`].join(` `),children:``})]})]}),(0,U.jsx)(`div`,{className:`space-y-4`,children:k.length>0?k.map(t=>(0,U.jsxs)(`div`,{onClick:()=>e(`/plan/edit`,{state:{planId:t.id}}),className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4 active:scale-[0.99] transition-transform cursor-pointer hover:shadow-md hover:border-stone-200`,children:[(0,U.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,U.jsx)(`img`,{src:t.image,alt:t.destination,className:`w-full h-full object-cover ${t.status===`completed`?`grayscale`:``}`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,U.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:[t.days,``]})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsxs)(`div`,{className:`flex items-start justify-between gap-3`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-lg leading-tight mb-1 flex-1 min-w-0 line-clamp-1`,children:t.title}),(0,U.jsx)(`button`,{onClick:e=>{e.stopPropagation(),E({title:``,message:`
`,actionText:``,onAction:()=>O(t.id)})},className:`text-xs font-bold text-stone-400 hover:text-rose-500 transition-colors`,children:``})]}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,U.jsx)(_r,{size:12,className:`mr-1`}),(0,U.jsx)(`span`,{children:t.destination})]})]}),(0,U.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,U.jsx)(`span`,{className:`text-xs text-stone-400 font-medium`,children:T(t.startDate)}),(0,U.jsx)(`span`,{className:`text-xs px-2 py-1 rounded-full font-medium ${t.status===`upcoming`?`bg-blue-50 text-blue-600`:t.status===`completed`?`bg-stone-100 text-stone-500`:`bg-amber-50 text-amber-600`}`,children:t.status===`upcoming`?``:t.status===`completed`?``:``})]})]})]},t.id)):(0,U.jsxs)(`div`,{className:`bg-white rounded-2xl p-8 shadow-sm border border-stone-100 text-center flex flex-col items-center justify-center animate-in fade-in zoom-in duration-500`,children:[(0,U.jsx)(`div`,{className:`w-16 h-16 bg-gradient-to-br from-stone-100 to-amber-50 rounded-full flex items-center justify-center mb-4 text-stone-400 border border-stone-100`,children:(0,U.jsx)(Nr,{size:28,strokeWidth:1.5,className:`text-amber-600`})}),(0,U.jsx)(`h3`,{className:`text-lg font-bold text-stone-800 mb-2`,children:t?``:``}),(0,U.jsx)(`p`,{className:`text-stone-500 text-xs mb-6 leading-relaxed max-w-xs`,children:t?`
 AI `:`
`}),t?(0,U.jsxs)(`button`,{onClick:()=>document.querySelector(`input`)?.focus(),className:`px-6 py-2.5 bg-stone-900 text-white rounded-xl font-medium shadow-lg shadow-stone-900/10 hover:bg-stone-800 active:scale-95 transition-all flex items-center text-sm`,children:[(0,U.jsx)(Dr,{size:16,className:`mr-1.5`}),``]}):(0,U.jsx)(vn,{to:`/auth`,className:`px-6 py-2.5 bg-amber-600 text-white rounded-xl font-medium shadow-lg shadow-amber-900/10 hover:bg-amber-500 active:scale-95 transition-all flex items-center text-sm`,children:``})]})})]})]})})]})},z_=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`),B_=e=>`https://api.dicebear.com/7.x/shapes/svg?seed=${encodeURIComponent(e||`odyssey`)}`;const V_={generate:async e=>{if(!z_)return{success:!1,message:` Supabase`};try{let{data:t,error:n}=await J.functions.invoke(`itinerary`,{body:e});return n?{success:!1,message:n.message||``}:t?{success:!0,data:t}:{success:!1,message:``}}catch{return{success:!1,message:``}}},chat:async e=>{if(!z_)return{success:!1,message:` Supabase`};try{let{data:t,error:n}=await J.functions.invoke(`itinerary`,{body:{mode:`chat`,destination:e.destination,startDate:e.startDate||null,days:e.days,preferences:e.preferences||[],itinerary:e.itinerary,messages:e.messages||[],message:e.message}});return n?{success:!1,message:n.message||``}:t?{success:!0,data:t}:{success:!1,message:``}}catch{return{success:!1,message:``}}},toPlanItemsBySlot:e=>{let t={},n=[{key:`morning`,label:``},{key:`afternoon`,label:``},{key:`night`,label:``}];return e.days.forEach((e,r)=>{n.forEach(n=>{let i=`day-${r}-${n.key}`,a=e[n.key];t[i]=(Array.isArray(a?.items)?a.items:[]).slice(0,6).map((e,t)=>({id:`spot-${r}-${n.key}-${t}-${Date.now()}-${Math.random().toString(36).slice(2)}`,name:e.name,image:B_(`${e.name}-${r}-${n.key}-${t}`),duration:typeof e.estimatedDurationHours==`number`?e.estimatedDurationHours:2,tag:e.tag?`${n.label}  ${e.tag}`:e.category?`${n.label}  ${e.category}`:n.label}))})}),t}};var H_=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`);const U_={getSession:async(e,t)=>{if(!H_||!e||!t)return[];try{let{data:n,error:r}=await J.from(`plan_agent_sessions`).select(`messages`).eq(`plan_id`,e).eq(`user_id`,t).maybeSingle();if(r||!n)return[];let i=n.messages;return(Array.isArray(i)?i:[]).map(e=>({role:e?.role,content:e?.content})).filter(e=>(e.role===`user`||e.role===`assistant`)&&typeof e.content==`string`)}catch{return[]}},saveSession:async(e,t,n)=>{if(H_&&!(!e||!t))try{await J.from(`plan_agent_sessions`).upsert({plan_id:e,user_id:t,messages:n,updated_at:new Date().toISOString()},{onConflict:`plan_id,user_id`})}catch{}}};var W_=()=>{let e=tt(),t=I().state||null,n={:[{id:`1`,name:``,image:Y(``),duration:4,tag:``},{id:`2`,name:``,image:Y(``),duration:1.5},{id:`3`,name:``,image:Y(``),duration:2},{id:`4`,name:``,image:Y(``),duration:3,tag:``},{id:`5`,name:``,image:Y(``),duration:4,tag:``},{id:`6`,name:``,image:Y(``),duration:4,tag:``},{id:`7`,name:``,image:Y(``),duration:3},{id:`8`,name:``,image:Y(``),duration:2}],default:[{id:`101`,name:``,image:Y(``),duration:3,tag:``},{id:`102`,name:``,image:Y(``),duration:2},{id:`103`,name:``,image:Y(``),duration:2.5}]},[r,i]=(0,b.useState)({}),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)(null),[l,u]=(0,b.useState)(!1),[d,f]=(0,b.useState)(!1),[p,m]=(0,b.useState)(!1),[h,g]=(0,b.useState)(``),[_,v]=(0,b.useState)(null),[y,x]=(0,b.useState)(!1),[S,C]=(0,b.useState)([]),[w,T]=(0,b.useState)(``),[E,D]=(0,b.useState)(!1),[O]=(0,b.useState)(()=>t?.planId||`plan-${Date.now()}-${Math.random().toString(36).slice(2)}`),[ee,k]=(0,b.useState)(!0),[te,A]=(0,b.useState)(!1),[j,M]=(0,b.useState)(!1),ne=(0,b.useRef)(null),N=(0,b.useRef)(``);(0,b.useEffect)(()=>{N.current=w},[w]),(0,b.useEffect)(()=>(M(!!(window.SpeechRecognition||window.webkitSpeechRecognition)),()=>{try{ne.current?.stop?.()}catch{}ne.current=null}),[]);let P=async()=>{let e=null,t=localStorage.getItem(`museum_user`);if(t)try{let n=JSON.parse(t);e=n.id||n.uid}catch{e=null}if(!e)try{let{data:t}=await J.auth.getUser();e=t.user?.id||null}catch{e=null}return e},re=()=>{try{ne.current?.stop?.()}catch{}},ie=()=>{if(!j)return;re();let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return;let t=new e;ne.current=t,t.lang=`zh-CN`,t.continuous=!0,t.interimResults=!0;let n=``;t.onresult=e=>{let t=``;for(let r=e.resultIndex;r<e.results.length;r++){let i=e.results[r],a=String(i?.[0]?.transcript||``);i.isFinal?n+=a:t+=a}let r=`${n}${t}`.trim();r&&T(r)},t.onerror=()=>{A(!1),ne.current=null},t.onend=()=>{A(!1),ne.current=null},A(!0);try{t.start()}catch{A(!1),ne.current=null}},F=async e=>{let n=e.trim();if(!n)return;re(),A(!1),T(``);let r=[...S,{role:`user`,content:n}];C(r),D(!0);let a=_||se(),o=await P(),c=await V_.chat({destination:t?.destination||a.destination||``,days:t?.days||a.days?.length||1,startDate:s,preferences:t?.preferences||[],itinerary:a,messages:r,message:n});if(c.success&&c.data){let e=[...r,{role:`assistant`,content:c.data.reply}];C(e),v(c.data.itinerary),i(V_.toPlanItemsBySlot(c.data.itinerary)),u(!0),o&&await U_.saveSession(O,o,e)}else C(e=>[...e,{role:`assistant`,content:c.message||``}]);D(!1)};(0,b.useEffect)(()=>{let e=!1,r=[`morning`,`afternoon`,`night`],a=e=>{let t=e&&typeof e==`object`?e:{},n=Object.keys(t);if(!n.some(e=>/^day-\d+$/.test(e)))return t;let r={};for(let e of n){let n=e.match(/^day-(\d+)$/);if(n){let i=Number(n[1]),a=Array.isArray(t[e])?t[e]:[];r[`day-${i}-morning`]=a.slice(0,1),r[`day-${i}-afternoon`]=a.slice(1,2),r[`day-${i}-night`]=a.slice(2)}else r[e]=t[e]}return r};return(async()=>{if(!t){o(``),i({"day-0-morning":n.default,"day-0-afternoon":[],"day-0-night":[]}),v(null),m(!1),g(``);return}if(t.planId&&(!t.destination||!t.days)){m(!0),g(``);let n=null,r=localStorage.getItem(`museum_user`);if(r)try{let e=JSON.parse(r);n=e.id||e.uid}catch{n=null}if(!n)try{let{data:e}=await J.auth.getUser();n=e.user?.id||null}catch{n=null}let s=await Sc.getPlanById(t.planId);if(e)return;if(s){if(o(s.title||``),c(s.startDate||null),v(s.planData?.itinerary||null),i(a(s.planData?.items||{})),n){let r=await U_.getSession(t.planId,n);e||C(r)}g(``)}else g(``);m(!1);return}let s=t.destination||``,l=t.days||1,d=t.preferences||[],f=t.startDate??null;c(f),o(`${s}${d.length>0?d.join(``):``}${l}`),m(!0),g(`AI `);try{let t=await V_.generate({destination:s,days:l,preferences:d,startDate:f});if(e)return;if(t.success&&t.data){v(t.data);let e=V_.toPlanItemsBySlot(t.data);if(Object.keys(e).length>0){r.forEach(t=>{for(let n=0;n<l;n++){let r=`day-${n}-${t}`;e[r]||(e[r]=[])}}),i(e),u(!0),g(``),m(!1);return}}i({}),g(` POI  Supabase/AMAP_KEY `),v(null),m(!1)}catch{if(e)return;m(!1),g(` Supabase/AMAP_KEY `),v(null)}})(),()=>{e=!0}},[t]),(0,b.useEffect)(()=>{let e=e=>{l&&(e.preventDefault(),e.returnValue=``)};return window.addEventListener(`beforeunload`,e),()=>{window.removeEventListener(`beforeunload`,e)}},[l]);let ae=()=>{l?f(!0):e(`/plan`)},oe=e=>{if(!s)return` ${e+1} `;let t=new Date(s);return t.setDate(t.getDate()+e),`${t.getMonth()+1}${t.getDate()} ${[``,``,``,``,``,``,``][t.getDay()]}`},se=()=>{let e=t?.destination||_?.destination||``,n=Object.keys(r).map(e=>{let t=e.match(/^day-(\d+)-/);return t?Number(t[1]):-1}).filter(e=>e>=0).reduce((e,t)=>Math.max(e,t),-1)+1,i=t?.days||_?.days?.length||(n>0?n:1),o=[{key:`morning`,title:``},{key:`afternoon`,title:``},{key:`night`,title:``}],c=Array.from({length:i}).map((e,t)=>{let n=e=>{let n=r[`day-${t}-${e}`]||[];return{title:o.find(t=>t.key===e)?.title,items:n.map(e=>({name:e.name,estimatedDurationHours:e.duration,tag:e.tag}))}},i=s?new Date(s):null;return{date:i?(()=>{let e=new Date(i);return e.setDate(e.getDate()+t),e.toISOString().slice(0,10)})():``,title:`Day ${t+1}`,morning:n(`morning`),afternoon:n(`afternoon`),night:n(`night`)}});return{title:a,destination:e,cityIntro:_?.cityIntro||`${e}`,overview:_?.overview,days:c,foodMap:_?.foodMap||{hotpot:[],localCuisine:[],snacks:[],streets:[],coffeeDessert:[]},tips:_?.tips||[]}},ce=async()=>{let n=localStorage.getItem(`museum_user`),i=null;if(n)try{let e=JSON.parse(n);i=e.id||e.uid}catch(e){console.error(`Failed to parse user for plan saving`,e)}if(!i)try{let{data:e}=await J.auth.getUser();if(e.user){i=e.user.id;let t=e.user.email||``;if(!localStorage.getItem(`museum_user`)){let n=e.user.user_metadata?.name||(t?t.split(`@`)[0]:``),r=e.user.user_metadata?.avatar_url||``;localStorage.setItem(`museum_user`,JSON.stringify({id:e.user.id,name:n,email:t,avatar:r}))}}}catch{}let o=r[`day-0-morning`]?.[0]?.image||r[`day-0-afternoon`]?.[0]?.image||r[`day-0-night`]?.[0]?.image||Y(a||t?.destination||``),c={id:O,uid:i||void 0,title:a,destination:t?.destination||_?.destination||``,days:t?.days||_?.days?.length||0,startDate:s,image:o,status:`upcoming`,createdAt:Date.now(),planData:{items:r,itinerary:_}};i&&await Sc.savePlan(c,i);let l=localStorage.getItem(`my_plans`),d=l?JSON.parse(l):[];localStorage.setItem(`my_plans`,JSON.stringify([c,...d])),u(!1),e(`/plan`)};return(0,U.jsxs)(`div`,{className:`flex flex-col h-screen bg-transparent text-stone-800`,children:[(0,U.jsxs)(`header`,{className:`w-full max-w-3xl mx-auto px-4 py-4 bg-white sticky top-0 z-20 border-b border-stone-100 flex items-center justify-between shadow-sm`,children:[(0,U.jsx)(`button`,{onClick:ae,className:`w-10 h-10 rounded-full bg-stone-50 flex items-center justify-center text-stone-600 active:scale-95 transition-transform`,children:(0,U.jsx)(Un,{size:20})}),(0,U.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,U.jsx)(`h1`,{className:`text-base font-bold text-stone-900 truncate max-w-[200px]`,children:a}),(0,U.jsxs)(`div`,{className:`flex items-center text-[10px] text-stone-400 mt-0.5`,children:[(0,U.jsx)(_r,{size:10,className:`mr-0.5`}),t?.destination||_?.destination||``]})]}),(0,U.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,U.jsx)(`button`,{onClick:()=>x(e=>!e),className:`w-10 h-10 rounded-full bg-stone-50 flex items-center justify-center text-stone-600 hover:bg-stone-100 transition-colors`,"aria-label":``,children:(0,U.jsx)(yr,{size:18})}),(0,U.jsx)(`button`,{onClick:ce,className:`text-sm font-bold text-amber-600 bg-amber-50 px-3 py-1.5 rounded-full hover:bg-amber-100 transition-colors`,children:``})]})]}),(0,U.jsxs)(`main`,{className:`flex-1 w-full max-w-3xl mx-auto px-4 py-6 overflow-y-auto pb-36`,children:[(p||h)&&(0,U.jsx)(`div`,{className:[`rounded-xl px-3 py-2 border backdrop-blur-sm flex items-start gap-2 animate-in fade-in mb-4`,p?`bg-amber-500/10 border-amber-500/15 text-amber-900`:h.includes(``)?`bg-rose-500/10 border-rose-500/15 text-rose-900`:`bg-amber-500/10 border-amber-500/15 text-amber-900`].join(` `),role:`status`,"aria-live":`polite`,children:(0,U.jsx)(`div`,{className:`text-xs leading-relaxed`,children:h||``})}),(()=>{if(p&&!_){let e=t?.destination||``,n=t?.days||1;return(0,U.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-sm border border-stone-100 mb-6 overflow-hidden relative`,children:[(0,U.jsx)(`div`,{className:`absolute -top-16 -right-20 w-56 h-56 rounded-full bg-gradient-to-br from-amber-200/30 via-violet-200/20 to-indigo-200/20 blur-2xl`}),(0,U.jsx)(`div`,{className:`absolute -bottom-20 -left-20 w-56 h-56 rounded-full bg-gradient-to-tr from-stone-200/30 via-amber-200/20 to-rose-200/20 blur-2xl`}),(0,U.jsxs)(`div`,{className:`relative p-5`,children:[(0,U.jsxs)(`div`,{className:`flex items-center justify-between gap-4`,children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,U.jsx)(`div`,{className:`w-9 h-9 rounded-2xl bg-white/70 backdrop-blur border border-white shadow-sm flex items-center justify-center`,children:(0,U.jsx)(wr,{size:18,className:`text-amber-600`})}),(0,U.jsx)(`div`,{className:`text-lg font-bold text-stone-900 font-serif`,children:`${e}${n}`})]}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-500 font-bold uppercase tracking-wider`,children:``})]}),(0,U.jsxs)(`div`,{className:`mt-4 space-y-3`,children:[(0,U.jsx)(`div`,{className:`h-3 rounded-full bg-stone-100 w-5/6`}),(0,U.jsx)(`div`,{className:`h-3 rounded-full bg-stone-100 w-11/12`}),(0,U.jsx)(`div`,{className:`h-3 rounded-full bg-stone-100 w-2/3`})]}),(0,U.jsxs)(`div`,{className:`mt-6 grid grid-cols-1 gap-3`,children:[(0,U.jsxs)(`div`,{className:`rounded-2xl border border-stone-100 bg-white/70 backdrop-blur p-4`,children:[(0,U.jsx)(`div`,{className:`h-3 rounded-full bg-stone-100 w-32`}),(0,U.jsxs)(`div`,{className:`mt-3 space-y-2`,children:[(0,U.jsx)(`div`,{className:`h-3 rounded-full bg-stone-100 w-5/6`}),(0,U.jsx)(`div`,{className:`h-3 rounded-full bg-stone-100 w-3/4`})]})]}),(0,U.jsxs)(`div`,{className:`rounded-2xl border border-stone-100 bg-white/70 backdrop-blur p-4`,children:[(0,U.jsx)(`div`,{className:`h-3 rounded-full bg-stone-100 w-40`}),(0,U.jsxs)(`div`,{className:`mt-3 space-y-2`,children:[(0,U.jsx)(`div`,{className:`h-3 rounded-full bg-stone-100 w-2/3`}),(0,U.jsx)(`div`,{className:`h-3 rounded-full bg-stone-100 w-1/2`})]})]})]})]})]})}let e=_||se(),n=t?.days||e.days?.length||1,r=e=>{let t=Array.isArray(e?.items)?e.items:[];return t.length===0?` / `:t.map(e=>String(e?.name||``).trim()).filter(Boolean).join(``)};return(0,U.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-sm border border-stone-100 mb-6 overflow-hidden relative`,children:[(0,U.jsx)(`div`,{className:`absolute -top-16 -right-20 w-56 h-56 rounded-full bg-gradient-to-br from-amber-200/30 via-violet-200/20 to-indigo-200/20 blur-2xl`}),(0,U.jsx)(`div`,{className:`absolute -bottom-20 -left-20 w-56 h-56 rounded-full bg-gradient-to-tr from-stone-200/30 via-amber-200/20 to-rose-200/20 blur-2xl`}),(0,U.jsxs)(`div`,{className:`relative p-5`,children:[(0,U.jsx)(`div`,{className:`flex items-start justify-between gap-4`,children:(0,U.jsxs)(`div`,{children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,U.jsx)(`div`,{className:`w-9 h-9 rounded-2xl bg-white/70 backdrop-blur border border-white shadow-sm flex items-center justify-center`,children:(0,U.jsx)(wr,{size:18,className:`text-amber-600`})}),(0,U.jsx)(`div`,{className:`text-lg font-bold text-stone-900 font-serif`,children:e.title})]}),(0,U.jsxs)(`div`,{className:`mt-2 flex items-center gap-2`,children:[(0,U.jsxs)(`span`,{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-stone-50 text-stone-600 text-[11px] font-bold border border-stone-100`,children:[(0,U.jsx)(_r,{size:14,className:`text-stone-500`}),e.destination]}),(0,U.jsxs)(`span`,{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-stone-50 text-stone-600 text-[11px] font-bold border border-stone-100`,children:[(0,U.jsx)(Nr,{size:14,className:`text-amber-500`}),``]})]})]})}),(0,U.jsxs)(`div`,{className:`mt-5 rounded-2xl border border-stone-100 bg-white/70 backdrop-blur p-4`,children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-2 text-sm font-bold text-stone-900`,children:[(0,U.jsx)(`div`,{className:`w-8 h-8 rounded-full bg-amber-50 text-amber-700 flex items-center justify-center`,children:(0,U.jsx)(ur,{size:16})}),``]}),(0,U.jsx)(`div`,{className:`mt-3 text-sm text-stone-600 leading-relaxed whitespace-pre-line`,children:e.cityIntro}),e.overview&&(0,U.jsx)(`div`,{className:`mt-2 text-xs text-stone-500 leading-relaxed whitespace-pre-line`,children:e.overview})]}),(0,U.jsxs)(`div`,{className:`mt-6 space-y-4`,children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-2 text-sm font-bold text-stone-900`,children:[(0,U.jsx)(`div`,{className:`w-8 h-8 rounded-full bg-stone-100 text-stone-700 flex items-center justify-center`,children:(0,U.jsx)(kr,{size:16})}),``]}),(0,U.jsx)(`div`,{className:`space-y-4`,children:Array.from({length:n}).map((t,n)=>{let i=e.days?.[n];return(0,U.jsxs)(`div`,{className:`rounded-2xl border border-stone-100 bg-white/70 backdrop-blur p-4`,children:[(0,U.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,U.jsx)(`div`,{className:`text-sm font-bold text-stone-900`,children:`Day ${n+1}`}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-500 font-bold uppercase tracking-wider`,children:oe(n)})]}),(0,U.jsxs)(`div`,{className:`mt-3 space-y-2 text-sm text-stone-700`,children:[(0,U.jsxs)(`div`,{className:`flex items-start gap-2`,children:[(0,U.jsx)(`div`,{className:`w-7 h-7 rounded-xl bg-amber-50 text-amber-700 flex items-center justify-center flex-shrink-0`,children:(0,U.jsx)(Fr,{size:14})}),(0,U.jsxs)(`div`,{className:`flex-1`,children:[(0,U.jsx)(`div`,{className:`text-[10px] text-stone-500 font-bold uppercase tracking-wider`,children:``}),(0,U.jsx)(`div`,{className:`mt-0.5`,children:r(i?.morning)})]})]}),(0,U.jsxs)(`div`,{className:`flex items-start gap-2`,children:[(0,U.jsx)(`div`,{className:`w-7 h-7 rounded-xl bg-violet-50 text-violet-700 flex items-center justify-center flex-shrink-0`,children:(0,U.jsx)(Fr,{size:14})}),(0,U.jsxs)(`div`,{className:`flex-1`,children:[(0,U.jsx)(`div`,{className:`text-[10px] text-stone-500 font-bold uppercase tracking-wider`,children:``}),(0,U.jsx)(`div`,{className:`mt-0.5`,children:r(i?.afternoon)})]})]}),(0,U.jsxs)(`div`,{className:`flex items-start gap-2`,children:[(0,U.jsx)(`div`,{className:`w-7 h-7 rounded-xl bg-stone-100 text-stone-700 flex items-center justify-center flex-shrink-0`,children:(0,U.jsx)(Cr,{size:14})}),(0,U.jsxs)(`div`,{className:`flex-1`,children:[(0,U.jsx)(`div`,{className:`text-[10px] text-stone-500 font-bold uppercase tracking-wider`,children:``}),(0,U.jsx)(`div`,{className:`mt-0.5`,children:r(i?.night)})]})]})]})]},n)})}),(0,U.jsxs)(`div`,{className:`grid grid-cols-1 gap-4`,children:[(0,U.jsxs)(`div`,{className:`rounded-2xl border border-stone-100 bg-white/70 backdrop-blur p-4`,children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-2 text-sm font-bold text-stone-900 mb-3`,children:[(0,U.jsx)(`div`,{className:`w-8 h-8 rounded-full bg-rose-50 text-rose-700 flex items-center justify-center`,children:(0,U.jsx)(Br,{size:16})}),``]}),(0,U.jsxs)(`div`,{className:`space-y-2 text-sm text-stone-700`,children:[(0,U.jsxs)(`div`,{className:`flex items-start gap-2`,children:[(0,U.jsx)(`span`,{className:`mt-1 w-1.5 h-1.5 rounded-full bg-amber-400 flex-shrink-0`}),(0,U.jsxs)(`div`,{className:`flex-1`,children:[(0,U.jsx)(`span`,{className:`text-stone-500 text-xs font-bold uppercase tracking-wider mr-2`,children:`/`}),(0,U.jsx)(`span`,{children:(e.foodMap?.hotpot||[]).join(``)||``})]})]}),(0,U.jsxs)(`div`,{className:`flex items-start gap-2`,children:[(0,U.jsx)(`span`,{className:`mt-1 w-1.5 h-1.5 rounded-full bg-violet-400 flex-shrink-0`}),(0,U.jsxs)(`div`,{className:`flex-1`,children:[(0,U.jsx)(`span`,{className:`text-stone-500 text-xs font-bold uppercase tracking-wider mr-2`,children:``}),(0,U.jsx)(`span`,{children:(e.foodMap?.localCuisine||[]).join(``)||``})]})]}),(0,U.jsxs)(`div`,{className:`flex items-start gap-2`,children:[(0,U.jsx)(`span`,{className:`mt-1 w-1.5 h-1.5 rounded-full bg-rose-400 flex-shrink-0`}),(0,U.jsxs)(`div`,{className:`flex-1`,children:[(0,U.jsx)(`span`,{className:`text-stone-500 text-xs font-bold uppercase tracking-wider mr-2`,children:``}),(0,U.jsx)(`span`,{children:(e.foodMap?.snacks||[]).join(``)||``})]})]}),(0,U.jsxs)(`div`,{className:`flex items-start gap-2`,children:[(0,U.jsx)(`span`,{className:`mt-1 w-1.5 h-1.5 rounded-full bg-stone-400 flex-shrink-0`}),(0,U.jsxs)(`div`,{className:`flex-1`,children:[(0,U.jsx)(`span`,{className:`text-stone-500 text-xs font-bold uppercase tracking-wider mr-2`,children:``}),(0,U.jsx)(`span`,{children:(e.foodMap?.streets||[]).join(``)||``})]})]})]})]}),(0,U.jsxs)(`div`,{className:`rounded-2xl border border-stone-100 bg-white/70 backdrop-blur p-4`,children:[(0,U.jsxs)(`div`,{className:`flex items-center gap-2 text-sm font-bold text-stone-900 mb-3`,children:[(0,U.jsx)(`div`,{className:`w-8 h-8 rounded-full bg-amber-50 text-amber-700 flex items-center justify-center`,children:(0,U.jsx)(fr,{size:16})}),``]}),(0,U.jsxs)(`div`,{className:`space-y-2`,children:[(e.tips||[]).slice(0,10).map((e,t)=>(0,U.jsxs)(`div`,{className:`flex items-start gap-2 text-sm text-stone-600 leading-relaxed`,children:[(0,U.jsx)(`span`,{className:`mt-2 w-1.5 h-1.5 rounded-full bg-amber-400 flex-shrink-0`}),(0,U.jsx)(`span`,{className:`flex-1`,children:e})]},t)),(e.tips||[]).length===0&&(0,U.jsx)(`div`,{className:`text-sm text-stone-500`,children:``})]})]})]})]})]})]})})(),(0,U.jsx)(`div`,{className:`h-10`}),!d&&(0,U.jsxs)(`div`,{className:`fixed inset-x-0 bottom-0 z-[1100] pointer-events-none`,children:[y&&(0,U.jsx)(`div`,{className:`w-full max-w-3xl mx-auto px-4 pb-2 pointer-events-auto`,children:(0,U.jsxs)(`div`,{className:`bg-white/90 backdrop-blur border border-stone-100 shadow-2xl rounded-3xl overflow-hidden`,children:[(0,U.jsxs)(`div`,{className:`px-4 py-3 border-b border-stone-100 flex items-start justify-between gap-4`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`div`,{className:`text-sm font-bold text-stone-900`,children:` AI `}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-500 mt-0.5`,children:``})]}),(0,U.jsx)(`button`,{onClick:()=>x(!1),className:`w-9 h-9 rounded-full bg-stone-50 flex items-center justify-center text-stone-500 hover:bg-stone-100 transition-colors`,"aria-label":`Close`,children:(0,U.jsx)(Ur,{size:18})})]}),(0,U.jsx)(`div`,{className:`max-h-[40vh] overflow-y-auto p-4 space-y-3`,children:S.length===0?(0,U.jsx)(`div`,{className:`text-xs text-stone-500 leading-relaxed`,children:`Day2  1 `}):S.map((e,t)=>(0,U.jsx)(`div`,{className:e.role===`user`?`flex justify-end`:`flex justify-start`,children:(0,U.jsx)(`div`,{className:[`max-w-[85%] rounded-2xl px-3 py-2 text-sm leading-relaxed whitespace-pre-line`,e.role===`user`?`bg-stone-900 text-white`:`bg-stone-100 text-stone-800`].join(` `),children:e.content})},t))})]})}),(0,U.jsxs)(`div`,{className:`w-full max-w-3xl mx-auto pointer-events-auto`,children:[(0,U.jsx)(`div`,{className:`px-4 pb-2 flex gap-2 overflow-x-auto no-scrollbar mask-linear-fade`,children:[``,``,``].map(e=>(0,U.jsx)(`button`,{onClick:()=>{x(!0),F(e)},className:`whitespace-nowrap px-3 py-1.5 bg-white/80 backdrop-blur-sm border border-stone-200/50 rounded-full text-xs font-medium text-stone-600 shadow-sm hover:bg-white hover:text-amber-600 transition-colors`,children:e},e))}),(0,U.jsx)(`div`,{className:`px-4 py-3 bg-gradient-to-t from-white via-white to-transparent`,children:(0,U.jsxs)(`div`,{className:`bg-white rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-stone-100 p-1.5 flex items-center`,children:[(0,U.jsx)(`button`,{onClick:()=>k(!ee),className:`w-10 h-10 rounded-full bg-stone-50 text-stone-500 flex items-center justify-center hover:bg-stone-100 active:scale-95 transition-all`,"aria-label":`Toggle input mode`,children:ee?(0,U.jsx)(dr,{size:20}):(0,U.jsx)(Sr,{size:20})}),ee?(0,U.jsx)(`button`,{className:`flex-1 mx-2 h-9 bg-stone-100 hover:bg-stone-200 active:bg-stone-300 rounded-full text-sm font-bold text-stone-600 select-none touch-none transition-colors flex items-center justify-center`,onMouseDown:()=>{!j||E||ie()},onMouseUp:()=>{!j||E||(re(),window.setTimeout(()=>{let e=N.current.trim();e&&F(e)},250))},onTouchStart:()=>{!j||E||ie()},onTouchEnd:()=>{!j||E||(re(),window.setTimeout(()=>{let e=N.current.trim();e&&F(e)},250))},"aria-label":`Hold to talk`,disabled:!j||E,children:j?te?``:``:``}):(0,U.jsx)(`input`,{type:`text`,value:w,onChange:e=>T(e.target.value),onKeyDown:e=>{e.key===`Enter`&&F(w)},placeholder:`...`,className:`flex-1 bg-transparent border-none focus:ring-0 text-sm px-3 text-stone-800 placeholder-stone-400`}),(0,U.jsx)(`button`,{onClick:()=>x(!0),className:`w-10 h-10 rounded-full text-stone-500 flex items-center justify-center hover:bg-stone-100 active:scale-95 transition-all mr-1`,"aria-label":`Open chat`,children:(0,U.jsx)(Jn,{size:20})}),(0,U.jsx)(`button`,{onClick:()=>F(w),disabled:!w.trim()||ee||E,className:`w-10 h-10 rounded-full flex items-center justify-center text-white shadow-md transition-all active:scale-95 ${w.trim()&&!ee&&!E?`bg-stone-900 scale-100`:`bg-stone-300 scale-90 opacity-0 w-0 overflow-hidden`}`,"aria-label":`Send`,children:(0,U.jsx)(jr,{size:18})})]})})]})]}),d&&(0,U.jsxs)(`div`,{className:`fixed inset-0 z-[1300] flex items-center justify-center p-6`,children:[(0,U.jsx)(`button`,{className:`absolute inset-0 bg-black/50 backdrop-blur-sm`,onClick:()=>f(!1),"aria-label":`Close`}),(0,U.jsxs)(`div`,{className:`relative w-full max-w-sm bg-white rounded-3xl shadow-2xl border border-stone-100 overflow-hidden animate-in fade-in zoom-in duration-200`,children:[(0,U.jsxs)(`div`,{className:`p-5 border-b border-stone-100 flex items-center justify-between`,children:[(0,U.jsx)(`div`,{className:`text-sm font-bold text-stone-900`,children:``}),(0,U.jsx)(`button`,{onClick:()=>f(!1),className:`w-9 h-9 rounded-full bg-stone-50 flex items-center justify-center text-stone-500 hover:bg-stone-100 transition-colors`,"aria-label":`Close`,children:(0,U.jsx)(Ur,{size:18})})]}),(0,U.jsxs)(`div`,{className:`p-5`,children:[(0,U.jsxs)(`div`,{className:`text-sm text-stone-600 leading-relaxed whitespace-pre-line`,children:[``,`
`,``]}),(0,U.jsxs)(`div`,{className:`mt-5 space-y-3`,children:[(0,U.jsxs)(`button`,{onClick:async()=>{f(!1),await ce()},className:`w-full h-11 rounded-2xl bg-stone-900 text-white font-bold text-sm hover:bg-stone-800 transition-colors flex items-center justify-center`,children:[(0,U.jsx)(Or,{size:18,className:`mr-2`}),``]}),(0,U.jsx)(`button`,{onClick:()=>{u(!1),f(!1),e(`/plan`)},className:`w-full h-11 rounded-2xl border border-stone-200 text-stone-700 font-bold text-sm hover:bg-stone-50 transition-colors`,children:``}),(0,U.jsx)(`button`,{onClick:()=>f(!1),className:`w-full h-11 rounded-2xl bg-stone-50 text-stone-500 font-bold text-sm hover:bg-stone-100 transition-colors`,children:``})]})]})]})]})]})]})};function G_(e,t){let n=(0,b.useRef)(t);(0,b.useEffect)(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function K_(e){return Object.freeze({__version:1,map:e})}function q_(e,t){return Object.freeze({...e,...t})}const J_=(0,b.createContext)(null);function Y_(){let e=(0,b.use)(J_);if(e==null)throw Error(`No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>`);return e}_();function X_(e){function t(t,n){let{instance:r,context:i}=e(t).current;(0,b.useImperativeHandle)(n,()=>r);let{children:a}=t;return a==null?null:b.createElement(J_,{value:i},a)}return(0,b.forwardRef)(t)}function Z_(e){function t(t,n){let{instance:r}=e(t).current;return(0,b.useImperativeHandle)(n,()=>r),null}return(0,b.forwardRef)(t)}function Q_(e,t){let n=(0,b.useRef)(void 0);(0,b.useEffect)(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function $_(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}var ev=s(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?r(e):typeof define==`function`&&define.amd?define([`exports`],r):(n=typeof globalThis<`u`?globalThis:n||self,r(n.leaflet={}))})(e,(function(e){var t=`1.9.4`;function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n],i)e[t]=i[t];return e}var r=Object.create||(function(){function e(){}return function(t){return e.prototype=t,new e}})();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function o(e){return`_leaflet_id`in e||(e._leaflet_id=++a),e._leaflet_id}function s(e,t,n){var r,i,a,o=function(){r=!1,i&&=(a.apply(n,i),!1)};return a=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)},a}function c(e,t,n){var r=t[1],i=t[0],a=r-i;return e===r&&n?e:((e-i)%a+a)%a+i}function l(){return!1}function u(e,t){if(t===!1)return e;var n=10**(t===void 0?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,``)}function f(e){return d(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,`options`)||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function m(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+`=`+encodeURIComponent(e[i]));return(!t||t.indexOf(`?`)===-1?`?`:`&`)+r.join(`&`)}var h=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(h,function(e,n){var r=t[n];if(r===void 0)throw Error(`No value provided for variable `+e);return typeof r==`function`&&(r=r(t)),r})}var _=Array.isArray||function(e){return Object.prototype.toString.call(e)===`[object Array]`};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y=`data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=`;function b(e){return window[`webkit`+e]||window[`moz`+e]||window[`ms`+e]}var x=0;function S(e){var t=+new Date,n=Math.max(0,16-(t-x));return x=t+n,window.setTimeout(e,n)}var C=window.requestAnimationFrame||b(`RequestAnimationFrame`)||S,w=window.cancelAnimationFrame||b(`CancelAnimationFrame`)||b(`CancelRequestAnimationFrame`)||function(e){window.clearTimeout(e)};function T(e,t,n){if(n&&C===S)e.call(t);else return C.call(window,i(e,t))}function E(e){e&&w.call(window,e)}var D={__proto__:null,extend:n,create:r,bind:i,get lastId(){return a},stamp:o,throttle:s,wrapNum:c,falseFn:l,formatNum:u,trim:d,splitWords:f,setOptions:p,getParamString:m,template:g,isArray:_,indexOf:v,emptyImageUrl:y,requestFn:C,cancelFn:w,requestAnimFrame:T,cancelAnimFrame:E};function O(){}O.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,a=r(i);for(var o in a.constructor=t,t.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&o!==`prototype`&&o!==`__super__`&&(t[o]=this[o]);return e.statics&&n(t,e.statics),e.includes&&(ee(e.includes),n.apply(null,[a].concat(e.includes))),n(a,e),delete a.statics,delete a.includes,a.options&&(a.options=i.options?r(i.options):{},n(a.options,e.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},t},O.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},O.mergeOptions=function(e){return n(this.prototype.options,e),this},O.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n=typeof e==`function`?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function ee(e){if(!(typeof L>`u`||!L||!L.Mixin)){e=_(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn(`Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.`,Error().stack)}}var k={on:function(e,t,n){if(typeof e==`object`)for(var r in e)this._on(r,e[r],t);else{e=f(e);for(var i=0,a=e.length;i<a;i++)this._on(e[i],t,n)}return this},off:function(e,t,n){if(!arguments.length)delete this._events;else if(typeof e==`object`)for(var r in e)this._off(r,e[r],t);else{e=f(e);for(var i=arguments.length===1,a=0,o=e.length;a<o;a++)i?this._off(e[a]):this._off(e[a],t,n)}return this},_on:function(e,t,n,r){if(typeof t!=`function`){console.warn(`wrong listener type: `+typeof t);return}if(this._listens(e,t,n)===!1){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}},_off:function(e,t,n){var r,i,a;if(this._events&&(r=this._events[e],r)){if(arguments.length===1){if(this._firingCount)for(i=0,a=r.length;i<a;i++)r[i].fn=l;delete this._events[e];return}if(typeof t!=`function`){console.warn(`wrong listener type: `+typeof t);return}var o=this._listens(e,t,n);if(o!==!1){var s=r[o];this._firingCount&&(s.fn=l,this._events[e]=r=r.slice()),r.splice(o,1)}}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var c=a[o],l=c.fn;c.once&&this.off(e,l,c.ctx),l.call(c.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){typeof e!=`string`&&console.warn(`"string" type argument expected`);var i=t;typeof t!=`function`&&(r=!!t,i=void 0,n=void 0);var a=this._events&&this._events[e];if(a&&a.length&&this._listens(e,i,n)!==!1)return!0;if(r){for(var o in this._eventParents)if(this._eventParents[o].listens(e,t,n,r))return!0}return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,a=r.length;i<a;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if(typeof e==`object`)for(var r in e)this._on(r,e[r],t,!0);else{e=f(e);for(var i=0,a=e.length;i<a;i++)this._on(e[i],t,n,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};k.addEventListener=k.on,k.removeEventListener=k.clearAllEventListeners=k.off,k.addOneTimeEventListener=k.once,k.fireEvent=k.fire,k.hasEventListeners=k.listens;var te=O.extend(k);function A(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var j=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(e){return this.clone()._add(M(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(M(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new A(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new A(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=j(this.x),this.y=j(this.y),this},distanceTo:function(e){e=M(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=M(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=M(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return`Point(`+u(this.x)+`, `+u(this.y)+`)`}};function M(e,t,n){return e instanceof A?e:_(e)?new A(e[0],e[1]):e==null?e:typeof e==`object`&&`x`in e&&`y`in e?new A(e.x,e.y):new A(e,t,n)}function ne(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}ne.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof A||typeof e[0]==`number`||`x`in e)t=n=M(e);else if(e=N(e),t=e.min,n=e.max,!t||!n)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=n.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(e){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return e=typeof e[0]==`number`||e instanceof A?M(e):N(e),e instanceof ne?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=N(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return a&&o},overlaps:function(e){e=N(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>t.x&&r.x<n.x,o=i.y>t.y&&r.y<n.y;return a&&o},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return N(M(t.x-r,t.y-i),M(n.x+r,n.y+i))},equals:function(e){return e?(e=N(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function N(e,t){return!e||e instanceof ne?e:new ne(e,t)}function P(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}P.prototype={extend:function(e){var t=this._southWest,n=this._northEast,r,i;if(e instanceof ie)r=e,i=e;else if(e instanceof P){if(r=e._southWest,i=e._northEast,!r||!i)return this}else return e?this.extend(F(e)||re(e)):this;return!t&&!n?(this._southWest=new ie(r.lat,r.lng),this._northEast=new ie(i.lat,i.lng)):(t.lat=Math.min(r.lat,t.lat),t.lng=Math.min(r.lng,t.lng),n.lat=Math.max(i.lat,n.lat),n.lng=Math.max(i.lng,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new P(new ie(t.lat-r,t.lng-i),new ie(n.lat+r,n.lng+i))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e=typeof e[0]==`number`||e instanceof ie||`lat`in e?F(e):re(e);var t=this._southWest,n=this._northEast,r,i;return e instanceof P?(r=e.getSouthWest(),i=e.getNorthEast()):r=i=e,r.lat>=t.lat&&i.lat<=n.lat&&r.lng>=t.lng&&i.lng<=n.lng},intersects:function(e){e=re(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return a&&o},overlaps:function(e){e=re(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>t.lat&&r.lat<n.lat,o=i.lng>t.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(`,`)},equals:function(e,t){return e?(e=re(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(e,t){return e instanceof P?e:new P(e,t)}function ie(e,t,n){if(isNaN(e)||isNaN(t))throw Error(`Invalid LatLng object: (`+e+`, `+t+`)`);this.lat=+e,this.lng=+t,n!==void 0&&(this.alt=+n)}ie.prototype={equals:function(e,t){return e?(e=F(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(t===void 0?1e-9:t)):!1},toString:function(e){return`LatLng(`+u(this.lat,e)+`, `+u(this.lng,e)+`)`},distanceTo:function(e){return oe.distance(this,F(e))},wrap:function(){return oe.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return re([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function F(e,t,n){return e instanceof ie?e:_(e)&&typeof e[0]!=`object`?e.length===3?new ie(e[0],e[1],e[2]):e.length===2?new ie(e[0],e[1]):null:e==null?e:typeof e==`object`&&`lat`in e?new ie(e.lat,`lng`in e?e.lng:e.lon,e.alt):t===void 0?null:new ie(e,t,n)}var ae={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*2**e},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new ne(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?c(e.lng,this.wrapLng,!0):e.lng,n=this.wrapLat?c(e.lat,this.wrapLat,!0):e.lat,r=e.alt;return new ie(n,t,r)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(r===0&&i===0)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new P(new ie(a.lat-r,a.lng-i),new ie(o.lat-r,o.lng-i))}},oe=n({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,c=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*c}}),se=6378137,ce={R:se,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new A(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new ie((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(function(){var e=se*Math.PI;return new ne([-e,-e],[e,e])})()};function le(e,t,n,r){if(_(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=n,this._d=r}le.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t||=1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t||=1,new A((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function ue(e,t,n,r){return new le(e,t,n,r)}var de=n({},oe,{code:`EPSG:3857`,projection:ce,transformation:function(){var e=.5/(Math.PI*ce.R);return ue(e,.5,-e,.5)}()}),fe=n({},de,{code:`EPSG:900913`});function pe(e){return document.createElementNS(`http://www.w3.org/2000/svg`,e)}function me(e,t){var n=``,r,i,a,o,s,c;for(r=0,a=e.length;r<a;r++){for(s=e[r],i=0,o=s.length;i<o;i++)c=s[i],n+=(i?`L`:`M`)+c.x+` `+c.y;n+=t?I.svg?`z`:`x`:``}return n||`M0 0`}var he=document.documentElement.style,ge=`ActiveXObject`in window,_e=ge&&!document.addEventListener,ve=`msLaunchUri`in navigator&&!(`documentMode`in document),ye=Qe(`webkit`),be=Qe(`android`),xe=Qe(`android 2`)||Qe(`android 3`),Se=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ce=be&&Qe(`Google`)&&Se<537&&!(`AudioNode`in window),we=!!window.opera,Te=!ve&&Qe(`chrome`),Ee=Qe(`gecko`)&&!ye&&!we&&!ge,De=!Te&&Qe(`safari`),Oe=Qe(`phantom`),ke=`OTransition`in he,Ae=navigator.platform.indexOf(`Win`)===0,je=ge&&`transition`in he,Me=`WebKitCSSMatrix`in window&&`m11`in new window.WebKitCSSMatrix&&!xe,Ne=`MozPerspective`in he,Pe=!window.L_DISABLE_3D&&(je||Me||Ne)&&!ke&&!Oe,Fe=typeof orientation<`u`||Qe(`mobile`),Ie=Fe&&ye,Le=Fe&&Me,Re=!window.PointerEvent&&window.MSPointerEvent,ze=!!(window.PointerEvent||Re),Be=`ontouchstart`in window||!!window.TouchEvent,Ve=!window.L_NO_TOUCH&&(Be||ze),He=Fe&&we,Ue=Fe&&Ee,We=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ge=function(){var e=!1;try{var t=Object.defineProperty({},`passive`,{get:function(){e=!0}});window.addEventListener(`testPassiveEventSupport`,l,t),window.removeEventListener(`testPassiveEventSupport`,l,t)}catch{}return e}(),Ke=function(){return!!document.createElement(`canvas`).getContext}(),qe=!!(document.createElementNS&&pe(`svg`).createSVGRect),Je=!!qe&&(function(){var e=document.createElement(`div`);return e.innerHTML=`<svg/>`,(e.firstChild&&e.firstChild.namespaceURI)===`http://www.w3.org/2000/svg`})(),Ye=!qe&&function(){try{var e=document.createElement(`div`);e.innerHTML=`<v:shape adj="1"/>`;var t=e.firstChild;return t.style.behavior=`url(#default#VML)`,t&&typeof t.adj==`object`}catch{return!1}}(),Xe=navigator.platform.indexOf(`Mac`)===0,Ze=navigator.platform.indexOf(`Linux`)===0;function Qe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var I={ie:ge,ielt9:_e,edge:ve,webkit:ye,android:be,android23:xe,androidStock:Ce,opera:we,chrome:Te,gecko:Ee,safari:De,phantom:Oe,opera12:ke,win:Ae,ie3d:je,webkit3d:Me,gecko3d:Ne,any3d:Pe,mobile:Fe,mobileWebkit:Ie,mobileWebkit3d:Le,msPointer:Re,pointer:ze,touch:Ve,touchNative:Be,mobileOpera:He,mobileGecko:Ue,retina:We,passiveEvents:Ge,canvas:Ke,svg:qe,vml:Ye,inlineSvg:Je,mac:Xe,linux:Ze},$e=I.msPointer?`MSPointerDown`:`pointerdown`,et=I.msPointer?`MSPointerMove`:`pointermove`,tt=I.msPointer?`MSPointerUp`:`pointerup`,nt=I.msPointer?`MSPointerCancel`:`pointercancel`,rt={touchstart:$e,touchmove:et,touchend:tt,touchcancel:nt},it={touchstart:mt,touchmove:pt,touchend:pt,touchcancel:pt},at={},ot=!1;function st(e,t,n){return t===`touchstart`&&ft(),it[t]?(n=it[t].bind(this,n),e.addEventListener(rt[t],n,!1),n):(console.warn(`wrong event specified:`,t),l)}function ct(e,t,n){if(!rt[t]){console.warn(`wrong event specified:`,t);return}e.removeEventListener(rt[t],n,!1)}function lt(e){at[e.pointerId]=e}function ut(e){at[e.pointerId]&&(at[e.pointerId]=e)}function dt(e){delete at[e.pointerId]}function ft(){ot||=(document.addEventListener($e,lt,!0),document.addEventListener(et,ut,!0),document.addEventListener(tt,dt,!0),document.addEventListener(nt,dt,!0),!0)}function pt(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||`mouse`)){for(var n in t.touches=[],at)t.touches.push(at[n]);t.changedTouches=[t],e(t)}}function mt(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&sn(t),pt(e,t)}function ht(e){var t={},n,r;for(r in e)n=e[r],t[r]=n&&n.bind?n.bind(e):n;return e=t,t.type=`dblclick`,t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var gt=200;function _t(e,t){e.addEventListener(`dblclick`,t);var n=0,r;function i(e){if(e.detail!==1){r=e.detail;return}if(!(e.pointerType===`mouse`||e.sourceCapabilities&&!e.sourceCapabilities.firesTouchEvents)){var i=ln(e);if(!(i.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})&&!i.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var a=Date.now();a-n<=gt?(r++,r===2&&t(ht(e))):r=1,n=a}}}return e.addEventListener(`click`,i),{dblclick:t,simDblclick:i}}function vt(e,t){e.removeEventListener(`dblclick`,t.dblclick),e.removeEventListener(`click`,t.simDblclick)}var yt=Pt([`transform`,`webkitTransform`,`OTransform`,`MozTransform`,`msTransform`]),bt=Pt([`webkitTransition`,`transition`,`OTransition`,`MozTransition`,`msTransition`]),xt=bt===`webkitTransition`||bt===`OTransition`?bt+`End`:`transitionend`;function St(e){return typeof e==`string`?document.getElementById(e):e}function Ct(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||n===`auto`)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return n===`auto`?null:n}function R(e,t,n){var r=document.createElement(e);return r.className=t||``,n&&n.appendChild(r),r}function wt(e){var t=e.parentNode;t&&t.removeChild(e)}function Tt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Et(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Dt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Ot(e,t){if(e.classList!==void 0)return e.classList.contains(t);var n=jt(e);return n.length>0&&RegExp(`(^|\\s)`+t+`(\\s|$)`).test(n)}function z(e,t){if(e.classList!==void 0)for(var n=f(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!Ot(e,t)){var a=jt(e);At(e,(a?a+` `:``)+t)}}function kt(e,t){e.classList===void 0?At(e,d((` `+jt(e)+` `).replace(` `+t+` `,` `))):e.classList.remove(t)}function At(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function jt(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Mt(e,t){`opacity`in e.style?e.style.opacity=t:`filter`in e.style&&Nt(e,t)}function Nt(e,t){var n=!1,r=`DXImageTransform.Microsoft.Alpha`;try{n=e.filters.item(r)}catch{if(t===1)return}t=Math.round(t*100),n?(n.Enabled=t!==100,n.Opacity=t):e.style.filter+=` progid:`+r+`(opacity=`+t+`)`}function Pt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Ft(e,t,n){var r=t||new A(0,0);e.style[yt]=(I.ie3d?`translate(`+r.x+`px,`+r.y+`px)`:`translate3d(`+r.x+`px,`+r.y+`px,0)`)+(n?` scale(`+n+`)`:``)}function It(e,t){e._leaflet_pos=t,I.any3d?Ft(e,t):(e.style.left=t.x+`px`,e.style.top=t.y+`px`)}function Lt(e){return e._leaflet_pos||new A(0,0)}var Rt,zt,Bt;if(`onselectstart`in document)Rt=function(){B(window,`selectstart`,sn)},zt=function(){Qt(window,`selectstart`,sn)};else{var Vt=Pt([`userSelect`,`WebkitUserSelect`,`OUserSelect`,`MozUserSelect`,`msUserSelect`]);Rt=function(){if(Vt){var e=document.documentElement.style;Bt=e[Vt],e[Vt]=`none`}},zt=function(){Vt&&(document.documentElement.style[Vt]=Bt,Bt=void 0)}}function Ht(){B(window,`dragstart`,sn)}function Ut(){Qt(window,`dragstart`,sn)}var Wt,Gt;function Kt(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(qt(),Wt=e,Gt=e.style.outlineStyle,e.style.outlineStyle=`none`,B(window,`keydown`,qt))}function qt(){Wt&&(Wt.style.outlineStyle=Gt,Wt=void 0,Gt=void 0,Qt(window,`keydown`,qt))}function Jt(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Yt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Xt={__proto__:null,TRANSFORM:yt,TRANSITION:bt,TRANSITION_END:xt,get:St,getStyle:Ct,create:R,remove:wt,empty:Tt,toFront:Et,toBack:Dt,hasClass:Ot,addClass:z,removeClass:kt,setClass:At,getClass:jt,setOpacity:Mt,testProp:Pt,setTransform:Ft,setPosition:It,getPosition:Lt,get disableTextSelection(){return Rt},get enableTextSelection(){return zt},disableImageDrag:Ht,enableImageDrag:Ut,preventOutline:Kt,restoreOutline:qt,getSizedParentNode:Jt,getScale:Yt};function B(e,t,n,r){if(t&&typeof t==`object`)for(var i in t)tn(e,i,t[i],n);else{t=f(t);for(var a=0,o=t.length;a<o;a++)tn(e,t[a],n,r)}return this}var Zt=`_leaflet_events`;function Qt(e,t,n,r){if(arguments.length===1)$t(e),delete e[Zt];else if(t&&typeof t==`object`)for(var i in t)nn(e,i,t[i],n);else if(t=f(t),arguments.length===2)$t(e,function(e){return v(t,e)!==-1});else for(var a=0,o=t.length;a<o;a++)nn(e,t[a],n,r);return this}function $t(e,t){for(var n in e[Zt]){var r=n.split(/\d/)[0];(!t||t(r))&&nn(e,r,null,null,n)}}var en={mouseenter:`mouseover`,mouseleave:`mouseout`,wheel:!(`onwheel`in window)&&`mousewheel`};function tn(e,t,n,r){var i=t+o(n)+(r?`_`+o(r):``);if(e[Zt]&&e[Zt][i])return this;var a=function(t){return n.call(r||e,t||window.event)},s=a;!I.touchNative&&I.pointer&&t.indexOf(`touch`)===0?a=st(e,t,a):I.touch&&t===`dblclick`?a=_t(e,a):`addEventListener`in e?t===`touchstart`||t===`touchmove`||t===`wheel`||t===`mousewheel`?e.addEventListener(en[t]||t,a,I.passiveEvents?{passive:!1}:!1):t===`mouseenter`||t===`mouseleave`?(a=function(t){t||=window.event,pn(e,t)&&s(t)},e.addEventListener(en[t],a,!1)):e.addEventListener(t,s,!1):e.attachEvent(`on`+t,a),e[Zt]=e[Zt]||{},e[Zt][i]=a}function nn(e,t,n,r,i){i||=t+o(n)+(r?`_`+o(r):``);var a=e[Zt]&&e[Zt][i];if(!a)return this;!I.touchNative&&I.pointer&&t.indexOf(`touch`)===0?ct(e,t,a):I.touch&&t===`dblclick`?vt(e,a):`removeEventListener`in e?e.removeEventListener(en[t]||t,a,!1):e.detachEvent(`on`+t,a),e[Zt][i]=null}function rn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function an(e){return tn(e,`wheel`,rn),this}function on(e){return B(e,`mousedown touchstart dblclick contextmenu`,rn),e._leaflet_disable_click=!0,this}function sn(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function cn(e){return sn(e),rn(e),this}function ln(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function un(e,t){if(!t)return new A(e.clientX,e.clientY);var n=Yt(t),r=n.boundingClientRect;return new A((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var dn=I.linux&&I.chrome?window.devicePixelRatio:I.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fn(e){return I.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/dn:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function pn(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch{return!1}return n!==e}var mn={__proto__:null,on:B,off:Qt,stopPropagation:rn,disableScrollPropagation:an,disableClickPropagation:on,preventDefault:sn,stop:cn,getPropagationPath:ln,getMousePosition:un,getWheelDelta:fn,isExternalTarget:pn,addListener:B,removeListener:Qt},hn=te.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Lt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire(`start`),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=this._duration*1e3;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),It(this._el,n),this.fire(`step`)},_complete:function(){E(this._animId),this._inProgress=!1,this.fire(`end`)},_easeOut:function(e){return 1-(1-e)**this._easeOutPower}}),V=te.extend({options:{crs:de,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(F(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bt&&I.any3d&&!I.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),B(this._proxy,xt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(F(e),t,this.options.maxBounds),r||={},this._stop(),this._loaded&&!r.reset&&r!==!0&&(r.animate!==void 0&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom===t?this._tryAnimatedPan(e,r.pan):this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e||=I.any3d?this.options.zoomDelta:1,this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e||=I.any3d?this.options.zoomDelta:1,this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),a=(e instanceof A?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t||={},e=e.getBounds?e.getBounds():re(e);var n=M(t.paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if(i=typeof t.maxZoom==`number`?Math.min(t.maxZoom,i):i,i===1/0)return{center:e.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(e,t){if(e=re(e),!e.isValid())throw Error(`Bounds are not valid.`);var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=M(e).round(),t||={},!e.x&&!e.y)return this.fire(`moveend`);if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire(`movestart`),t.animate!==!1){z(this._mapPane,`leaflet-pan-anim`);var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire(`move`).fire(`moveend`);return this},flyTo:function(e,t,n){if(n||={},n.animate===!1||!I.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),a=this.getSize(),o=this._zoom;e=F(e),t=t===void 0?o:t;var s=Math.max(a.x,a.y),c=s*this.getZoomScale(o,t),l=i.distanceTo(r)||1,u=1.42,d=u*u;function f(e){var t=e?-1:1,n=e?c:s,r=(c*c-s*s+t*d*d*l*l)/(2*n*d*l),i=Math.sqrt(r*r+1)-r;return i<1e-9?-18:Math.log(i)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}function h(e){return p(e)/m(e)}var g=f(0);function _(e){return s*(m(g)/m(g+u*e))}function v(e){return s*(m(g)*h(g+u*e)-p(g))/d}function y(e){return 1-(1-e)**1.5}var b=Date.now(),x=(f(1)-g)/u,S=n.duration?1e3*n.duration:1e3*x*.8;function C(){var n=(Date.now()-b)/S,a=y(n)*x;n<=1?(this._flyToFrame=T(C,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(v(a)/l)),o),this.getScaleZoom(s/_(a),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),C.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=re(e),this.listens(`moveend`,this._panInsideMaxBounds)&&this.off(`moveend`,this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on(`moveend`,this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire(`zoomlevelschange`),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire(`zoomlevelschange`),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,re(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){t||={};var n=M(t.paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),a=this.project(e),o=this.getPixelBounds(),s=N([o.min.add(n),o.max.subtract(r)]),c=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var l=a.subtract(s.getCenter()),u=s.extend(a).getSize().subtract(c);i.x+=l.x<0?-u.x:u.x,i.y+=l.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=t.divideBy(2).round(),o=r.divideBy(2).round(),s=a.subtract(o);return!s.x&&!s.y?this:(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire(`move`),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,`moveend`),200)):this.fire(`moveend`)),this.fire(`resize`,{oldSize:t,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire(`viewreset`),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!(`geolocation`in navigator))return this._handleGeolocationError({code:0,message:`Geolocation not supported.`}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(t===1?`permission denied`:t===2?`position unavailable`:`timeout`);this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire(`locationerror`,{code:t,message:`Geolocation error: `+n+`.`})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,n=e.coords.longitude,r=new ie(t,n),i=r.toBounds(e.coords.accuracy*2),a=this._locateOptions;if(a.setView){var o=this.getBoundsZoom(i);this.setView(r,a.maxZoom?Math.min(o,a.maxZoom):o)}var s={latlng:r,bounds:i,timestamp:e.timestamp};for(var c in e.coords)typeof e.coords[c]==`number`&&(s[c]=e.coords[c]);this.fire(`locationfound`,s)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off(`moveend`,this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw Error(`Map container is being reused by another instance`);try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var e in this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&=(E(this._resizeRequest),null),this._clearHandlers(),this._loaded&&this.fire(`unload`),this._layers)this._layers[e].remove();for(e in this._panes)wt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=R(`div`,`leaflet-pane`+(e?` leaflet-`+e.replace(`Pane`,``)+`-pane`:``),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new P(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=re(e),n=M(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),c=this.getSize().subtract(n),l=N(this.project(s,r),this.project(o,r)).getSize(),u=I.any3d?this.options.zoomSnap:1,d=c.x/l.x,f=c.y/l.y,p=t?Math.max(d,f):Math.min(d,f);return r=this.getScaleZoom(p,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(a,r))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new ne(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e==`string`?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=t===void 0?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=t===void 0?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(F(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(M(e),t)},layerPointToLatLng:function(e){var t=M(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(F(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(F(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(re(e))},distance:function(e,t){return this.options.crs.distance(F(e),F(t))},containerPointToLayerPoint:function(e){return M(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return M(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(M(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(e)))},mouseEventToContainerPoint:function(e){return un(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=St(e);if(t){if(t._leaflet_id)throw Error(`Map container is already initialized.`)}else throw Error(`Map container not found.`);B(t,`scroll`,this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&I.any3d,z(e,`leaflet-container`+(I.touch?` leaflet-touch`:``)+(I.retina?` leaflet-retina`:``)+(I.ielt9?` leaflet-oldie`:``)+(I.safari?` leaflet-safari`:``)+(this._fadeAnimated?` leaflet-fade-anim`:``));var t=Ct(e,`position`);t!==`absolute`&&t!==`relative`&&t!==`fixed`&&t!==`sticky`&&(e.style.position=`relative`),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane(`mapPane`,this._container),It(this._mapPane,new A(0,0)),this.createPane(`tilePane`),this.createPane(`overlayPane`),this.createPane(`shadowPane`),this.createPane(`markerPane`),this.createPane(`tooltipPane`),this.createPane(`popupPane`),this.options.markerZoomAnimation||(z(e.markerPane,`leaflet-zoom-hide`),z(e.shadowPane,`leaflet-zoom-hide`))},_resetView:function(e,t,n){It(this._mapPane,new A(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire(`viewprereset`);var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire(`viewreset`),r&&this.fire(`load`)},_moveStart:function(e,t){return e&&this.fire(`zoomstart`),t||this.fire(`movestart`),this},_move:function(e,t,n,r){t===void 0&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire(`zoom`,n):((i||n&&n.pinch)&&this.fire(`zoom`,n),this.fire(`move`,n)),this},_moveEnd:function(e){return e&&this.fire(`zoomend`),this.fire(`moveend`)},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){It(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error(`Set map center and zoom first.`)},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Qt:B;t(this._container,`click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup`,this._handleDOMEvent,this),this.options.trackResize&&t(window,`resize`,this._onResize,this),I.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,`moveend`,this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n=[],r,i=t===`mouseout`||t===`mouseover`,a=e.target||e.srcElement,s=!1;a;){if(r=this._targets[o(a)],r&&(t===`click`||t===`preclick`)&&this._draggableMoved(r)){s=!0;break}if(r&&r.listens(t,!0)&&(i&&!pn(a,e)||(n.push(r),i))||a===this._container)break;a=a.parentNode}return!n.length&&!s&&!i&&this.listens(t,!0)&&(n=[this]),n},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type===`click`&&this._isClickDisabled(t))){var n=e.type;n===`mousedown`&&Kt(t),this._fireDOMEvent(e,n)}},_mouseEvents:[`click`,`dblclick`,`mouseover`,`mouseout`,`contextmenu`],_fireDOMEvent:function(e,t,r){if(e.type===`click`){var i=n({},e);i.type=`preclick`,this._fireDOMEvent(i,i.type,r)}var a=this._findEventTargets(e,t);if(r){for(var o=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&o.push(r[s]);a=o.concat(a)}if(a.length){t===`contextmenu`&&sn(e);var c=a[0],l={originalEvent:e};if(e.type!==`keypress`&&e.type!==`keydown`&&e.type!==`keyup`){var u=c.getLatLng&&(!c._radius||c._radius<=10);l.containerPoint=u?this.latLngToContainerPoint(c.getLatLng()):this.mouseEventToContainerPoint(e),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=u?c.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(t,l,!0),l.originalEvent._stopped||a[s].options.bubblingMouseEvents===!1&&v(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on(`load`,e,t),this},_getMapPanePos:function(){return Lt(this._mapPane)||new A(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return N([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),a=new ne(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,t);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?e:this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new ne(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=N(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),a=r.max.subtract(e.max);return new A(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=I.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire(`move`)},_onPanTransitionEnd:function(){kt(this._mapPane,`leaflet-pan-anim`),this.fire(`moveend`)},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=R(`div`,`leaflet-proxy leaflet-zoom-animated`);this._panes.mapPane.appendChild(e),this.on(`zoomanim`,function(e){var t=yt,n=this._proxy.style[t];Ft(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on(`load moveend`,this._animMoveEnd,this),this._on(`unload`,this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wt(this._proxy),this.off(`load moveend`,this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Ft(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf(`transform`)>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName(`leaflet-zoom-animated`).length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n||={},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return n.animate!==!0&&!this.getSize().contains(i)?!1:(T(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,z(this._mapPane,`leaflet-zoom-anim`)),this.fire(`zoomanim`,{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||=this._zoom!==this._animateToZoom,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&kt(this._mapPane,`leaflet-zoom-anim`),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire(`zoom`),delete this._tempFireZoomEvent,this.fire(`move`),this._moveEnd(!0))}});function gn(e,t){return new V(e,t)}var _n=O.extend({options:{position:`topright`},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return z(t,`leaflet-control`),n.indexOf(`bottom`)===-1?r.appendChild(t):r.insertBefore(t,r.firstChild),this._map.on(`unload`,this.remove,this),this},remove:function(){return this._map?(wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off(`unload`,this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),vn=function(e){return new _n(e)};V.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t=`leaflet-`,n=this._controlContainer=R(`div`,t+`control-container`,this._container);function r(r,i){var a=t+r+` `+t+i;e[r+i]=R(`div`,a,n)}r(`top`,`left`),r(`top`,`right`),r(`bottom`,`left`),r(`bottom`,`right`)},_clearControlPos:function(){for(var e in this._controlCorners)wt(this._controlCorners[e]);wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yn=_n.extend({options:{collapsed:!0,position:`topright`,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on(`zoomend`,this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on(`add remove`,this._onLayerChange,this);return this._container},addTo:function(e){return _n.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off(`zoomend`,this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off(`add remove`,this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off(`add remove`,this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){z(this._container,`leaflet-control-layers-expanded`),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(z(this._section,`leaflet-control-layers-scrollbar`),this._section.style.height=e+`px`):kt(this._section,`leaflet-control-layers-scrollbar`),this._checkDisabledLayers(),this},collapse:function(){return kt(this._container,`leaflet-control-layers-expanded`),this},_initLayout:function(){var e=`leaflet-control-layers`,t=this._container=R(`div`,e),n=this.options.collapsed;t.setAttribute(`aria-haspopup`,!0),on(t),an(t);var r=this._section=R(`section`,e+`-list`);n&&(this._map.on(`click`,this.collapse,this),B(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=R(`a`,e+`-toggle`,t);i.href=`#`,i.title=`Layers`,i.setAttribute(`role`,`button`),B(i,{keydown:function(e){e.keyCode===13&&this._expandSafely()},click:function(e){sn(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=R(`div`,e+`-base`,r),this._separator=R(`div`,e+`-separator`,r),this._overlaysList=R(`div`,e+`-overlays`,r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on(`add remove`,this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tt(this._baseLayersList),Tt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t||=r.overlay,e||=!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e&&=i>1,this._baseLayersList.style.display=e?``:`none`),this._separator.style.display=t&&e?``:`none`,this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?e.type===`add`?`overlayadd`:`overlayremove`:e.type===`add`?`baselayerchange`:null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n=`<input type="radio" class="leaflet-control-layers-selector" name="`+e+`"`+(t?` checked="checked"`:``)+`/>`,r=document.createElement(`div`);return r.innerHTML=n,r.firstChild},_addItem:function(e){var t=document.createElement(`label`),n=this._map.hasLayer(e.layer),r;e.overlay?(r=document.createElement(`input`),r.type=`checkbox`,r.className=`leaflet-control-layers-selector`,r.defaultChecked=n):r=this._createRadioElement(`leaflet-base-layers_`+o(this),n),this._layerControlInputs.push(r),r.layerId=o(e.layer),B(r,`click`,this._onInputClick,this);var i=document.createElement(`span`);i.innerHTML=` `+e.name;var a=document.createElement(`span`);return t.appendChild(a),a.appendChild(r),a.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,n,r=[],i=[];this._handlingClick=!0;for(var a=e.length-1;a>=0;a--)t=e[a],n=this._getLayer(t.layerId).layer,t.checked?r.push(n):t.checked||i.push(n);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,n,r=this._map.getZoom(),i=e.length-1;i>=0;i--)t=e[i],n=this._getLayer(t.layerId).layer,t.disabled=n.options.minZoom!==void 0&&r<n.options.minZoom||n.options.maxZoom!==void 0&&r>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,B(e,`click`,sn),this.expand();var t=this;setTimeout(function(){Qt(e,`click`,sn),t._preventClick=!1})}}),bn=function(e,t,n){return new yn(e,t,n)},xn=_n.extend({options:{position:`topleft`,zoomInText:`<span aria-hidden="true">+</span>`,zoomInTitle:`Zoom in`,zoomOutText:`<span aria-hidden="true">&#x2212;</span>`,zoomOutTitle:`Zoom out`},onAdd:function(e){var t=`leaflet-control-zoom`,n=R(`div`,t+` leaflet-bar`),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+`-in`,n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+`-out`,n,this._zoomOut),this._updateDisabled(),e.on(`zoomend zoomlevelschange`,this._updateDisabled,this),n},onRemove:function(e){e.off(`zoomend zoomlevelschange`,this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var a=R(`a`,n,r);return a.innerHTML=e,a.href=`#`,a.title=t,a.setAttribute(`role`,`button`),a.setAttribute(`aria-label`,t),on(a),B(a,`click`,cn),B(a,`click`,i,this),B(a,`click`,this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t=`leaflet-disabled`;kt(this._zoomInButton,t),kt(this._zoomOutButton,t),this._zoomInButton.setAttribute(`aria-disabled`,`false`),this._zoomOutButton.setAttribute(`aria-disabled`,`false`),(this._disabled||e._zoom===e.getMinZoom())&&(z(this._zoomOutButton,t),this._zoomOutButton.setAttribute(`aria-disabled`,`true`)),(this._disabled||e._zoom===e.getMaxZoom())&&(z(this._zoomInButton,t),this._zoomInButton.setAttribute(`aria-disabled`,`true`))}});V.mergeOptions({zoomControl:!0}),V.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xn,this.addControl(this.zoomControl))});var Sn=function(e){return new xn(e)},Cn=_n.extend({options:{position:`bottomleft`,maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=`leaflet-control-scale`,n=R(`div`,t),r=this.options;return this._addScales(r,t+`-line`,n),e.on(r.updateWhenIdle?`moveend`:`move`,this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?`moveend`:`move`,this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=R(`div`,t,n)),e.imperial&&(this._iScale=R(`div`,t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+` m`:t/1e3+` km`;this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t=e*3.2808399,n,r,i;t>5280?(n=t/5280,r=this._getRoundNum(n),this._updateScale(this._iScale,r+` mi`,r/n)):(i=this._getRoundNum(t),this._updateScale(this._iScale,i+` ft`,i/t))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+`px`,e.innerHTML=t},_getRoundNum:function(e){var t=10**((Math.floor(e)+``).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),wn=function(e){return new Cn(e)},Tn=_n.extend({options:{position:`bottomright`,prefix:`<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">`+(I.inlineSvg?`<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> `:``)+`Leaflet</a>`},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=R(`div`,`leaflet-control-attribution`),on(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on(`layeradd`,this._addAttribution,this),this._container},onRemove:function(e){e.off(`layeradd`,this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once(`remove`,function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e&&this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(`, `)),this._container.innerHTML=n.join(` <span aria-hidden="true">|</span> `)}}});V.mergeOptions({attributionControl:!0}),V.addInitHook(function(){this.options.attributionControl&&new Tn().addTo(this)}),_n.Layers=yn,_n.Zoom=xn,_n.Scale=Cn,_n.Attribution=Tn,vn.layers=bn,vn.zoom=Sn,vn.scale=wn,vn.attribution=function(e){return new Tn(e)};var En=O.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});En.addTo=function(e,t){return e.addHandler(t,this),this};var Dn={Events:k},On=I.touch?`touchstart mousedown`:`mousedown`,kn=te.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||=(B(this._dragStartTarget,On,this._onDown,this),!0)},disable:function(){this._enabled&&(kn._dragging===this&&this.finishDrag(!0),Qt(this._dragStartTarget,On,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Ot(this._element,`leaflet-zoom-anim`))){if(e.touches&&e.touches.length!==1){kn._dragging===this&&this.finishDrag();return}if(!(kn._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(kn._dragging=this,this._preventOutline&&Kt(this._element),Ht(),Rt(),!this._moving)){this.fire(`down`);var t=e.touches?e.touches[0]:e,n=Jt(this._element);this._startPoint=new A(t.clientX,t.clientY),this._startPos=Lt(this._element),this._parentScale=Yt(n);var r=e.type===`mousedown`;B(document,r?`mousemove`:`touchmove`,this._onMove,this),B(document,r?`mouseup`:`touchend touchcancel`,this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,n=new A(t.clientX,t.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,sn(e),this._moved||(this.fire(`dragstart`),this._moved=!0,z(document.body,`leaflet-dragging`),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),z(this._lastTarget,`leaflet-drag-target`)),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire(`predrag`,e),It(this._element,this._newPos),this.fire(`drag`,e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){kt(document.body,`leaflet-dragging`),this._lastTarget&&=(kt(this._lastTarget,`leaflet-drag-target`),null),Qt(document,`mousemove touchmove`,this._onMove,this),Qt(document,`mouseup touchend touchcancel`,this._onUp,this),Ut(),zt();var t=this._moved&&this._moving;this._moving=!1,kn._dragging=!1,t&&this.fire(`dragend`,{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function An(e,t,n){var r,i=[1,4,2,8],a,o,s,c,l,u,d,f;for(a=0,u=e.length;a<u;a++)e[a]._code=H(e[a],t);for(s=0;s<4;s++){for(d=i[s],r=[],a=0,u=e.length,o=u-1;a<u;o=a++)c=e[a],l=e[o],c._code&d?l._code&d||(f=Hn(l,c,d,t,n),f._code=H(f,t),r.push(f)):(l._code&d&&(f=Hn(l,c,d,t,n),f._code=H(f,t),r.push(f)),r.push(c));e=r}return e}function jn(e,t){var n,r,i,a,o,s,c,l,u;if(!e||e.length===0)throw Error(`latlngs not passed`);Gn(e)||(console.warn(`latlngs are not flat! Only the first ring will be used`),e=e[0]);var d=F([0,0]),f=re(e);f.getNorthWest().distanceTo(f.getSouthWest())*f.getNorthEast().distanceTo(f.getNorthWest())<1700&&(d=Mn(e));var p=e.length,m=[];for(n=0;n<p;n++){var h=F(e[n]);m.push(t.project(F([h.lat-d.lat,h.lng-d.lng])))}for(s=c=l=0,n=0,r=p-1;n<p;r=n++)i=m[n],a=m[r],o=i.y*a.x-a.y*i.x,c+=(i.x+a.x)*o,l+=(i.y+a.y)*o,s+=o*3;u=s===0?m[0]:[c/s,l/s];var g=t.unproject(M(u));return F([g.lat+d.lat,g.lng+d.lng])}function Mn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var a=F(e[i]);t+=a.lat,n+=a.lng,r++}return F([t/r,n/r])}var Nn={__proto__:null,clipPolygon:An,polygonCenter:jn,centroid:Mn};function Pn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=zn(e,n),e=Ln(e,n),e}function Fn(e,t,n){return Math.sqrt(Wn(e,t,n,!0))}function In(e,t,n){return Wn(e,t,n)}function Ln(e,t){var n=e.length,r=new(typeof Uint8Array<`u`?Uint8Array:Array)(n);r[0]=r[n-1]=1,Rn(e,r,t,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(e[i]);return a}function Rn(e,t,n,r,i){var a=0,o,s,c;for(s=r+1;s<=i-1;s++)c=Wn(e[s],e[r],e[i],!0),c>a&&(o=s,a=c);a>n&&(t[o]=1,Rn(e,t,n,r,o),Rn(e,t,n,o,i))}function zn(e,t){for(var n=[e[0]],r=1,i=0,a=e.length;r<a;r++)Un(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<a-1&&n.push(e[a-1]),n}var Bn;function Vn(e,t,n,r,i){var a=r?Bn:H(e,n),o=H(t,n),s,c,l;for(Bn=o;;){if(!(a|o))return[e,t];if(a&o)return!1;s=a||o,c=Hn(e,t,s,n,i),l=H(c,n),s===a?(e=c,a=l):(t=c,o=l)}}function Hn(e,t,n,r,i){var a=t.x-e.x,o=t.y-e.y,s=r.min,c=r.max,l,u;return n&8?(l=e.x+a*(c.y-e.y)/o,u=c.y):n&4?(l=e.x+a*(s.y-e.y)/o,u=s.y):n&2?(l=c.x,u=e.y+o*(c.x-e.x)/a):n&1&&(l=s.x,u=e.y+o*(s.x-e.x)/a),new A(l,u,i)}function H(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Un(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Wn(e,t,n,r){var i=t.x,a=t.y,o=n.x-i,s=n.y-a,c=o*o+s*s,l;return c>0&&(l=((e.x-i)*o+(e.y-a)*s)/c,l>1?(i=n.x,a=n.y):l>0&&(i+=o*l,a+=s*l)),o=e.x-i,s=e.y-a,r?o*o+s*s:new A(i,a)}function Gn(e){return!_(e[0])||typeof e[0][0]!=`object`&&e[0][0]!==void 0}function Kn(e){return console.warn(`Deprecated use of _flat, please use L.LineUtil.isFlat instead.`),Gn(e)}function qn(e,t){var n,r,i,a,o,s,c,l;if(!e||e.length===0)throw Error(`latlngs not passed`);Gn(e)||(console.warn(`latlngs are not flat! Only the first ring will be used`),e=e[0]);var u=F([0,0]),d=re(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=Mn(e));var f=e.length,p=[];for(n=0;n<f;n++){var m=F(e[n]);p.push(t.project(F([m.lat-u.lat,m.lng-u.lng])))}for(n=0,r=0;n<f-1;n++)r+=p[n].distanceTo(p[n+1])/2;if(r===0)l=p[0];else for(n=0,a=0;n<f-1;n++)if(o=p[n],s=p[n+1],i=o.distanceTo(s),a+=i,a>r){c=(a-r)/i,l=[s.x-c*(s.x-o.x),s.y-c*(s.y-o.y)];break}var h=t.unproject(M(l));return F([h.lat+u.lat,h.lng+u.lng])}var Jn={__proto__:null,simplify:Pn,pointToSegmentDistance:Fn,closestPointOnSegment:In,clipSegment:Vn,_getEdgeIntersection:Hn,_getBitCode:H,_sqClosestPointOnSegment:Wn,isFlat:Gn,_flat:Kn,polylineCenter:qn},Yn={project:function(e){return new A(e.lng,e.lat)},unproject:function(e){return new ie(e.y,e.x)},bounds:new ne([-180,-90],[180,90])},Xn={R:6378137,R_MINOR:6356752.314245179,bounds:new ne([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/((1-o)/(1+o))**(a/2);return r=-n*Math.log(Math.max(s,1e-10)),new A(e.lng*t*n,r)},unproject:function(e){for(var t=180/Math.PI,n=this.R,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),a=Math.exp(-e.y/n),o=Math.PI/2-2*Math.atan(a),s=0,c=.1,l;s<15&&Math.abs(c)>1e-7;s++)l=i*Math.sin(o),l=((1-l)/(1+l))**(i/2),c=Math.PI/2-2*Math.atan(a*l)-o,o+=c;return new ie(o*t,e.x*t/n)}},Zn={__proto__:null,LonLat:Yn,Mercator:Xn,SphericalMercator:ce},Qn=n({},oe,{code:`EPSG:3395`,projection:Xn,transformation:function(){var e=.5/(Math.PI*Xn.R);return ue(e,.5,-e,.5)}()}),$n=n({},oe,{code:`EPSG:4326`,projection:Yn,transformation:ue(1/180,1,-1/180,.5)}),er=n({},ae,{projection:Yn,transformation:ue(1,0,-1,0),scale:function(e){return 2**e},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});ae.Earth=oe,ae.EPSG3395=Qn,ae.EPSG3857=de,ae.EPSG900913=fe,ae.EPSG4326=$n,ae.Simple=er;var tr=te.extend({options:{pane:`overlayPane`,attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once(`remove`,function(){t.off(n,this)},this)}this.onAdd(t),this.fire(`add`),t.fire(`layeradd`,{layer:this})}}});V.include({addLayer:function(e){if(!e._layerAdd)throw Error(`The provided object is not a Layer.`);var t=o(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire(`layerremove`,{layer:e}),e.fire(`remove`)),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?_(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=i.minZoom===void 0?e:Math.min(e,i.minZoom),t=i.maxZoom===void 0?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire(`zoomlevelschange`),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nr=tr.extend({initialize:function(e,t){p(this,t),this._layers={};var n,r;if(e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return(typeof e==`number`?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),n,r;for(n in this._layers)r=this._layers[n],r[e]&&r[e].apply(r,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke(`setZIndex`,e)},getLayerId:function(e){return o(e)}}),rr=function(e,t){return new nr(e,t)},ir=nr.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),nr.prototype.addLayer.call(this,e),this.fire(`layeradd`,{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),nr.prototype.removeLayer.call(this,e),this.fire(`layerremove`,{layer:e})):this},setStyle:function(e){return this.invoke(`setStyle`,e)},bringToFront:function(){return this.invoke(`bringToFront`)},bringToBack:function(){return this.invoke(`bringToBack`)},getBounds:function(){var e=new P;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),ar=function(e,t){return new ir(e,t)},or=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon(`icon`,e)},createShadow:function(e){return this._createIcon(`shadow`,e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if(e===`icon`)throw Error(`iconUrl not set in Icon options (see the docs).`);return null}var r=this._createImg(n,t&&t.tagName===`IMG`?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||this.options.crossOrigin===``)&&(r.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+`Size`];typeof r==`number`&&(r=[r,r]);var i=M(r),a=M(t===`shadow`&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className=`leaflet-marker-`+t+` `+(n.className||``),a&&(e.style.marginLeft=-a.x+`px`,e.style.marginTop=-a.y+`px`),i&&(e.style.width=i.x+`px`,e.style.height=i.y+`px`)},_createImg:function(e,t){return t||=document.createElement(`img`),t.src=e,t},_getIconUrl:function(e){return I.retina&&this.options[e+`RetinaUrl`]||this.options[e+`Url`]}});function sr(e){return new or(e)}var cr=or.extend({options:{iconUrl:`marker-icon.png`,iconRetinaUrl:`marker-icon-2x.png`,shadowUrl:`marker-shadow.png`,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof cr.imagePath!=`string`&&(cr.imagePath=this._detectIconPath()),(this.options.imagePath||cr.imagePath)+or.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=R(`div`,`leaflet-default-icon-path`,document.body),t=Ct(e,`background-image`)||Ct(e,`backgroundImage`);if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var n=document.querySelector(`link[href$="leaflet.css"]`);return n?n.href.substring(0,n.href.length-11-1):``}}),lr=En.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||=new kn(e,e,!0),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),z(e,`leaflet-marker-draggable`)},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&kt(this._marker._icon,`leaflet-marker-draggable`)},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=Lt(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),c=N(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!c.contains(a)){var l=M((Math.max(c.max.x,a.x)-c.max.x)/(o.max.x-c.max.x)-(Math.min(c.min.x,a.x)-c.min.x)/(o.min.x-c.min.x),(Math.max(c.max.y,a.y)-c.max.y)/(o.max.y-c.max.y)-(Math.min(c.min.y,a.y)-c.min.y)/(o.min.y-c.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),It(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=T(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire(`movestart`).fire(`dragstart`)},_onPreDrag:function(e){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Lt(t._icon),i=t._map.layerPointToLatLng(r);n&&It(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire(`move`,e).fire(`drag`,e)},_onDragEnd:function(e){E(this._panRequest),delete this._oldLatLng,this._marker.fire(`moveend`).fire(`dragend`,e)}}),ur=tr.extend({options:{icon:new cr,interactive:!0,keyboard:!0,title:``,alt:`Marker`,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:`markerPane`,shadowPane:`shadowPane`,bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=F(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on(`zoomanim`,this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off(`zoomanim`,this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=F(e),this.update(),this.fire(`move`,{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t=`leaflet-zoom-`+(this._zoomAnimated?`animated`:`hide`),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),n.tagName===`IMG`&&(n.alt=e.alt||``)),z(n,t),e.keyboard&&(n.tabIndex=`0`,n.setAttribute(`role`,`button`)),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&B(n,`focus`,this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(z(i,t),i.alt=``),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(this._icon,`focus`,this._panOnFocus,this),wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&It(this._icon,e),this._shadow&&It(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(z(this._icon,`leaflet-interactive`),this.addInteractiveTarget(this._icon),lr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new lr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Mt(this._icon,e),this._shadow&&Mt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?M(t.iconSize):M(0,0),r=t.iconAnchor?M(t.iconAnchor):M(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dr(e,t){return new ur(e,t)}var fr=tr.extend({options:{stroke:!0,color:`#3388ff`,weight:3,opacity:1,lineCap:`round`,lineJoin:`round`,dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:`evenodd`,interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,`weight`)&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pr=fr.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=F(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=F(e),this.redraw(),this.fire(`move`,{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return fr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new ne(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mr(e,t){return new pr(e,t)}var hr=pr.extend({initialize:function(e,t,r){if(typeof t==`number`&&(t=n({},r,{radius:t})),p(this,t),this._latlng=F(e),isNaN(this.options.radius))throw Error(`Circle radius cannot be NaN`);this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new P(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:fr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===oe.distance){var i=Math.PI/180,a=this._mRadius/oe.R/i,o=n.project([t+a,e]),s=n.project([t-a,e]),c=o.add(s).divideBy(2),l=n.unproject(c).lat,u=Math.acos((Math.cos(a*i)-Math.sin(t*i)*Math.sin(l*i))/(Math.cos(t*i)*Math.cos(l*i)))/i;(isNaN(u)||u===0)&&(u=a/Math.cos(Math.PI/180*t)),this._point=c.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:c.x-n.project([l,e-u]).x,this._radiusY=c.y-o.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function gr(e,t,n){return new hr(e,t,n)}var _r=fr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,n=null,r=Wn,i,a,o=0,s=this._parts.length;o<s;o++)for(var c=this._parts[o],l=1,u=c.length;l<u;l++){i=c[l-1],a=c[l];var d=r(e,i,a,!0);d<t&&(t=d,n=r(e,i,a))}return n&&(n.distance=Math.sqrt(t)),n},getCenter:function(){if(!this._map)throw Error(`Must add layer to map before using getCenter()`);return qn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t||=this._defaultShape(),e=F(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new P,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Gn(e),r=0,i=e.length;r<i;r++)n?(t[r]=F(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new A(e,e);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r=e[0]instanceof ie,i=e.length,a,o;if(r){for(o=[],a=0;a<i;a++)o[a]=this._map.latLngToLayerPoint(e[a]),n.extend(o[a]);t.push(o)}else for(a=0;a<i;a++)this._projectLatlngs(e[a],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,n,r,i,a,o,s,c;for(n=0,i=0,a=this._rings.length;n<a;n++)for(c=this._rings[n],r=0,o=c.length;r<o-1;r++)s=Vn(c[r],c[r+1],e,r,!0),s&&(t[i]=t[i]||[],t[i].push(s[0]),(s[1]!==c[r+1]||r===o-2)&&(t[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Pn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,a,o,s,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(s=this._parts[n],r=0,o=s.length,i=o-1;r<o;i=r++)if(!(!t&&r===0)&&Fn(e,s[i],s[r])<=c)return!0;return!1}});function vr(e,t){return new _r(e,t)}_r._flat=Kn;var yr=_r.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error(`Must add layer to map before using getCenter()`);return jn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=_r.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof ie&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){_r.prototype._setLatLngs.call(this,e),Gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new A(t,t);if(e=new ne(e.min.subtract(n),e.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var r=0,i=this._rings.length,a;r<i;r++)a=An(this._rings[r],e,!0),a.length&&this._parts.push(a)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,n,r,i,a,o,s,c,l;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,c=this._parts.length;a<c;a++)for(n=this._parts[a],o=0,l=n.length,s=l-1;o<l;s=o++)r=n[o],i=n[s],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(t=!t);return t||_r.prototype._containsPoint.call(this,e,!0)}});function br(e,t){return new yr(e,t)}var xr=ir.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=_(e)?e:e.features,n,r,i;if(t){for(n=0,r=t.length;n<r;n++)i=t[n],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=Sr(e,a);return o?(o.feature=kr(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t==`function`&&(t=t(e.feature)),e.setStyle(t))}});function Sr(e,t){var n=e.type===`Feature`?e.geometry:e,r=n?n.coordinates:null,i=[],a=t&&t.pointToLayer,o=t&&t.coordsToLatLng||wr,s,c,l,u;if(!r&&!n)return null;switch(n.type){case`Point`:return s=o(r),Cr(a,e,s,t);case`MultiPoint`:for(l=0,u=r.length;l<u;l++)s=o(r[l]),i.push(Cr(a,e,s,t));return new ir(i);case`LineString`:case`MultiLineString`:return c=Tr(r,n.type===`LineString`?0:1,o),new _r(c,t);case`Polygon`:case`MultiPolygon`:return c=Tr(r,n.type===`Polygon`?1:2,o),new yr(c,t);case`GeometryCollection`:for(l=0,u=n.geometries.length;l<u;l++){var d=Sr({geometry:n.geometries[l],type:`Feature`,properties:e.properties},t);d&&i.push(d)}return new ir(i);case`FeatureCollection`:for(l=0,u=n.features.length;l<u;l++){var f=Sr(n.features[l],t);f&&i.push(f)}return new ir(i);default:throw Error(`Invalid GeoJSON object.`)}}function Cr(e,t,n,r){return e?e(t,n):new ur(n,r&&r.markersInheritOptions&&r)}function wr(e){return new ie(e[1],e[0],e[2])}function Tr(e,t,n){for(var r=[],i=0,a=e.length,o;i<a;i++)o=t?Tr(e[i],t-1,n):(n||wr)(e[i]),r.push(o);return r}function Er(e,t){return e=F(e),e.alt===void 0?[u(e.lng,t),u(e.lat,t)]:[u(e.lng,t),u(e.lat,t),u(e.alt,t)]}function Dr(e,t,n,r){for(var i=[],a=0,o=e.length;a<o;a++)i.push(t?Dr(e[a],Gn(e[a])?0:t-1,n,r):Er(e[a],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function Or(e,t){return e.feature?n({},e.feature,{geometry:t}):kr(t)}function kr(e){return e.type===`Feature`||e.type===`FeatureCollection`?e:{type:`Feature`,properties:{},geometry:e}}var Ar={toGeoJSON:function(e){return Or(this,{type:`Point`,coordinates:Er(this.getLatLng(),e)})}};ur.include(Ar),hr.include(Ar),pr.include(Ar),_r.include({toGeoJSON:function(e){var t=!Gn(this._latlngs),n=Dr(this._latlngs,t?1:0,!1,e);return Or(this,{type:(t?`Multi`:``)+`LineString`,coordinates:n})}}),yr.include({toGeoJSON:function(e){var t=!Gn(this._latlngs),n=t&&!Gn(this._latlngs[0]),r=Dr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),Or(this,{type:(n?`Multi`:``)+`Polygon`,coordinates:r})}}),nr.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),Or(this,{type:`MultiPoint`,coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t===`MultiPoint`)return this.toMultiPoint(e);var n=t===`GeometryCollection`,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var a=kr(i);a.type===`FeatureCollection`?r.push.apply(r,a.features):r.push(a)}}}),n?Or(this,{geometries:r,type:`GeometryCollection`}):{type:`FeatureCollection`,features:r}}});function jr(e,t){return new xr(e,t)}var Mr=jr,Nr=tr.extend({options:{opacity:1,alt:``,interactive:!1,crossOrigin:!1,errorOverlayUrl:``,zIndex:1,className:``},initialize:function(e,t,n){this._url=e,this._bounds=re(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(z(this._image,`leaflet-interactive`),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Et(this._image),this},bringToBack:function(){return this._map&&Dt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=re(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName===`IMG`,t=this._image=e?this._url:R(`img`);if(z(t,`leaflet-image-layer`),this._zoomAnimated&&z(t,`leaflet-zoom-animated`),this.options.className&&z(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=i(this.fire,this,`load`),t.onerror=i(this._overlayOnError,this,`error`),(this.options.crossOrigin||this.options.crossOrigin===``)&&(t.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ft(this._image,n,t)},_reset:function(){var e=this._image,t=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();It(e,t.min),e.style.width=n.x+`px`,e.style.height=n.y+`px`},_updateOpacity:function(){Mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire(`error`);var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Pr=function(e,t,n){return new Nr(e,t,n)},Fr=Nr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName===`VIDEO`,t=this._image=e?this._url:R(`video`);if(z(t,`leaflet-image-layer`),this._zoomAnimated&&z(t,`leaflet-zoom-animated`),this.options.className&&z(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=i(this.fire,this,`load`),e){for(var n=t.getElementsByTagName(`source`),r=[],a=0;a<n.length;a++)r.push(n[a].src);this._url=n.length>0?r:[t.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,`objectFit`)&&(t.style.objectFit=`fill`),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=R(`source`);s.src=this._url[o],t.appendChild(s)}}});function Ir(e,t,n){return new Fr(e,t,n)}var Lr=Nr.extend({_initImage:function(){var e=this._image=this._url;z(e,`leaflet-image-layer`),this._zoomAnimated&&z(e,`leaflet-zoom-animated`),this.options.className&&z(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});function Rr(e,t,n){return new Lr(e,t,n)}var zr=tr.extend({options:{interactive:!1,offset:[0,0],className:``,pane:void 0,content:``},initialize:function(e,t){e&&(e instanceof ie||_(e))?(this._latlng=F(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Mt(this._container,1),this.bringToFront(),this.options.interactive&&(z(this._container,`leaflet-interactive`),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Mt(this._container,0),this._removeTimeout=setTimeout(i(wt,void 0,this._container),200)):wt(this._container),this.options.interactive&&(kt(this._container,`leaflet-interactive`),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=F(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility=`hidden`,this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=``,this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Et(this._container),this},bringToBack:function(){return this._map&&Dt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof ir){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw Error(`Unable to get source layer LatLng.`);return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content==`function`?this._content(this._source||this):this._content;if(typeof t==`string`)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire(`contentupdate`)}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?It(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+`px`,this._container.style.left=i+`px`}},_getAnchor:function(){return[0,0]}});V.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),tr.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(p(i,r),i._source=this):(i=t&&!r?t:new e(r,this),i.setContent(n)),i}});var Br=zr.extend({options:{pane:`popupPane`,offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:``},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,zr.prototype.openOn.call(this,e)},onAdd:function(e){zr.prototype.onAdd.call(this,e),e.fire(`popupopen`,{popup:this}),this._source&&(this._source.fire(`popupopen`,{popup:this},!0),this._source instanceof fr||this._source.on(`preclick`,rn))},onRemove:function(e){zr.prototype.onRemove.call(this,e),e.fire(`popupclose`,{popup:this}),this._source&&(this._source.fire(`popupclose`,{popup:this},!0),this._source instanceof fr||this._source.off(`preclick`,rn))},getEvents:function(){var e=zr.prototype.getEvents.call(this);return(this.options.closeOnClick===void 0?this._map.options.closePopupOnClick:this.options.closeOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e=`leaflet-popup`,t=this._container=R(`div`,e+` `+(this.options.className||``)+` leaflet-zoom-animated`),n=this._wrapper=R(`div`,e+`-content-wrapper`,t);if(this._contentNode=R(`div`,e+`-content`,n),on(t),an(this._contentNode),B(t,`contextmenu`,rn),this._tipContainer=R(`div`,e+`-tip-container`,t),this._tip=R(`div`,e+`-tip`,this._tipContainer),this.options.closeButton){var r=this._closeButton=R(`a`,e+`-close-button`,t);r.setAttribute(`role`,`button`),r.setAttribute(`aria-label`,`Close popup`),r.href=`#close`,r.innerHTML=`<span aria-hidden="true">&#215;</span>`,B(r,`click`,function(e){sn(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width=``,t.whiteSpace=`nowrap`;var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+`px`,t.whiteSpace=``,t.height=``;var r=e.offsetHeight,i=this.options.maxHeight,a=`leaflet-popup-scrolled`;i&&r>i?(t.height=i+`px`,z(e,a)):kt(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();It(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt(Ct(this._container,`marginBottom`),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new A(this._containerLeft,-n-this._containerBottom);i._add(Lt(this._container));var a=e.layerPointToContainerPoint(i),o=M(this.options.autoPanPadding),s=M(this.options.autoPanPaddingTopLeft||o),c=M(this.options.autoPanPaddingBottomRight||o),l=e.getSize(),u=0,d=0;a.x+r+c.x>l.x&&(u=a.x+r-l.x+c.x),a.x-u-s.x<0&&(u=a.x-s.x),a.y+n+c.y>l.y&&(d=a.y+n-l.y+c.y),a.y-d-s.y<0&&(d=a.y-s.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire(`autopanstart`).panBy([u,d]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Vr=function(e,t){return new Br(e,t)};V.mergeOptions({closePopupOnClick:!0}),V.include({openPopup:function(e,t,n){return this._initOverlay(Br,e,t,n).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),tr.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Br,this._popup,e,t),this._popupHandlersAdded||=(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),!0),this},unbindPopup:function(){return this._popup&&=(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,null),this},openPopup:function(e){return this._popup&&(this instanceof ir||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){cn(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof fr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Hr=zr.extend({options:{pane:`tooltipPane`,offset:[0,0],direction:`auto`,permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){zr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire(`tooltipopen`,{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire(`tooltipopen`,{tooltip:this},!0))},onRemove:function(e){zr.prototype.onRemove.call(this,e),e.fire(`tooltipclose`,{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire(`tooltipclose`,{tooltip:this},!0))},getEvents:function(){var e=zr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){this._contentNode=this._container=R(`div`,`leaflet-tooltip `+(this.options.className||``)+` leaflet-zoom-`+(this._zoomAnimated?`animated`:`hide`)),this._container.setAttribute(`role`,`tooltip`),this._container.setAttribute(`id`,`leaflet-tooltip-`+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,a=r.latLngToContainerPoint(r.getCenter()),o=r.layerPointToContainerPoint(e),s=this.options.direction,c=i.offsetWidth,l=i.offsetHeight,u=M(this.options.offset),d=this._getAnchor();s===`top`?(t=c/2,n=l):s===`bottom`?(t=c/2,n=0):s===`center`?(t=c/2,n=l/2):s===`right`?(t=0,n=l/2):s===`left`?(t=c,n=l/2):o.x<a.x?(s=`right`,t=0,n=l/2):(s=`left`,t=c+(u.x+d.x)*2,n=l/2),e=e.subtract(M(t,n,!0)).add(u).add(d),kt(i,`leaflet-tooltip-right`),kt(i,`leaflet-tooltip-left`),kt(i,`leaflet-tooltip-top`),kt(i,`leaflet-tooltip-bottom`),z(i,`leaflet-tooltip-`+s),It(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Mt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ur=function(e,t){return new Hr(e,t)};V.include({openTooltip:function(e,t,n){return this._initOverlay(Hr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),tr.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Hr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&=(this._initTooltipInteractions(!0),this.closeTooltip(),null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?`off`:`on`,n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof ir||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement==`function`&&e.getElement();t&&(B(t,`focus`,function(){this._tooltip._source=e,this.openTooltip()},this),B(t,`blur`,this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement==`function`&&e.getElement();t&&t.setAttribute(`aria-describedby`,this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once(`moveend`,function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,n,r;this._tooltip.options.sticky&&e.originalEvent&&(n=this._map.mouseEventToContainerPoint(e.originalEvent),r=this._map.containerPointToLayerPoint(n),t=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(t)}});var Wr=or.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:`leaflet-div-icon`},createIcon:function(e){var t=e&&e.tagName===`DIV`?e:document.createElement(`div`),n=this.options;if(n.html instanceof Element?(Tt(t),t.appendChild(n.html)):t.innerHTML=n.html===!1?``:n.html,n.bgPos){var r=M(n.bgPos);t.style.backgroundPosition=-r.x+`px `+-r.y+`px`}return this._setIconStyles(t,`icon`),t},createShadow:function(){return null}});function U(e){return new Wr(e)}or.Default=cr;var Gr=tr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:I.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:`tilePane`,className:``,keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),wt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Et(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Dt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||=s(this._onMoveEnd,this.options.updateInterval,this),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement(`div`)},getTileSize:function(){var e=this.options.tileSize;return e instanceof A?e:new A(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,n=-e(-1/0,1/0),r=0,i=t.length,a;r<i;r++)a=t[r].style.zIndex,t[r]!==this._container&&a&&(n=e(n,+a));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!I.ielt9){Mt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(!(!i.current||!i.loaded)){var a=Math.min(1,(e-i.loaded)/200);Mt(i.el,a),a<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(E(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=R(`div`,`leaflet-layer `+(this.options.className||``)),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(wt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||(r=this._levels[e]={},r.el=R(`div`,`leaflet-tile-container leaflet-zoom-animated`,this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)wt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new A(+i,+a);s.z=+o;var c=this._tileCoordsToKey(s),l=this._tiles[c];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),o>r?this._retainParent(i,a,o,r):!1)},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var a=2*t;a<2*t+2;a++){var o=new A(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),c=this._tiles[s];if(c&&c.active){c.retain=!0;continue}else c&&c.loaded&&(c.retain=!0);n+1<r&&this._retainChildren(i,a,n+1,r)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=this.options.maxZoom!==void 0&&i>this.options.maxZoom||this.options.minZoom!==void 0&&i<this.options.minZoom?void 0:this._clampZoom(i);var a=this.options.updateWhenZooming&&i!==this._tileZoom;(!r||a)&&(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),i!==void 0&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();I.any3d?Ft(e.el,i,r):It(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(r*2);return new ne(i.subtract(a),i.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,c=new ne(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw Error(`Attempted to load an infinite number of tiles`);for(var l in this._tiles){var u=this._tiles[l].coords;(u.z!==this._tileZoom||!c.contains(new A(u.x,u.y)))&&(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(e,n);return}for(var d=i.min.y;d<=i.max.y;d++)for(var f=i.min.x;f<=i.max.x;f++){var p=new A(f,d);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:o.push(p)}}if(o.sort(function(e,t){return e.distanceTo(a)-t.distanceTo(a)}),o.length!==0){this._loading||(this._loading=!0,this.fire(`loading`));var h=document.createDocumentFragment();for(f=0;f<o.length;f++)this._addTile(o[f],h);this._level.el.appendChild(h)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return re(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new P(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+`:`+e.y+`:`+e.z},_keyToTileCoords:function(e){var t=e.split(`:`),n=new A(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(wt(t.el),delete this._tiles[e],this.fire(`tileunload`,{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){z(e,`leaflet-tile`);var t=this.getTileSize();e.style.width=t.x+`px`,e.style.height=t.y+`px`,e.onselectstart=l,e.onmousemove=l,I.ielt9&&this.options.opacity<1&&Mt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&T(i(this._tileReady,this,e,null,a)),It(a,n),this._tiles[r]={el:a,coords:e,current:!0},t.appendChild(a),this.fire(`tileloadstart`,{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire(`tileerror`,{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);n=this._tiles[r],n&&(n.loaded=+new Date,this._map._fadeAnimated?(Mt(n.el,0),E(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(z(n.el,`leaflet-tile-loaded`),this.fire(`tileload`,{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire(`load`),I.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new A(this._wrapX?c(e.x,this._wrapX):e.x,this._wrapY?c(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new ne(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Kr(e){return new Gr(e)}var qr=Gr.extend({options:{minZoom:0,maxZoom:18,subdomains:`abc`,errorTileUrl:``,zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=p(this,t),t.detectRetina&&I.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains==`string`&&(t.subdomains=t.subdomains.split(``)),this.on(`tileunload`,this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement(`img`);return B(n,`load`,i(this._tileOnLoad,this,t,n)),B(n,`error`,i(this._tileOnError,this,t,n)),(this.options.crossOrigin||this.options.crossOrigin===``)&&(n.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),typeof this.options.referrerPolicy==`string`&&(n.referrerPolicy=this.options.referrerPolicy),n.alt=``,n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:I.retina?`@2x`:``,s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t[`-y`]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){I.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute(`src`)!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;return n&&(e=t-e),e+r},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=l,t.onerror=l,!t.complete)){t.src=y;var n=this._tiles[e].coords;wt(t),delete this._tiles[e],this.fire(`tileabort`,{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute(`src`,y),Gr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(!(!this._map||n&&n.getAttribute(`src`)===y))return Gr.prototype._tileReady.call(this,e,t,n)}});function Jr(e,t){return new qr(e,t)}var Yr=qr.extend({defaultWmsParams:{service:`WMS`,request:`GetMap`,layers:``,styles:``,format:`image/jpeg`,transparent:!1,version:`1.1.1`},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);t=p(this,t);var a=t.detectRetina&&I.retina?2:1,o=this.getTileSize();r.width=o.x*a,r.height=o.y*a,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?`crs`:`srs`;this.wmsParams[t]=this._crs.code,qr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=N(n.project(t[0]),n.project(t[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===$n?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(`,`),s=qr.prototype.getTileUrl.call(this,e);return s+m(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?`&BBOX=`:`&bbox=`)+o},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Xr(e,t){return new Yr(e,t)}qr.WMS=Yr,Jr.wms=Xr;var Zr=tr.extend({options:{padding:.1},initialize:function(e){p(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),z(this._container,`leaflet-zoom-animated`)),this.getPane().appendChild(this._container),this._update(),this.on(`update`,this._updatePaths,this)},onRemove:function(){this.off(`update`,this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),a=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));I.any3d?Ft(this._container,a,n):It(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new ne(n,n.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Qr=Zr.extend({options:{tolerance:0},getEvents:function(){var e=Zr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement(`canvas`);B(e,`mousemove`,this._onMouseMove,this),B(e,`click dblclick mousedown mouseup contextmenu`,this._onClick,this),B(e,`mouseout`,this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext(`2d`)},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,wt(this._container),Qt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;for(var t in this._redrawBounds=null,this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=I.retina?2:1;It(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+`px`,t.style.height=n.y+`px`,I.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire(`update`)}},_reset:function(){Zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray==`string`){var t=e.options.dashArray.split(/[, ]+/),n=[],r,i;for(i=0;i<t.length;i++){if(r=Number(t[i]),isNaN(r))return;n.push(r)}e.options._dashArray=n}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,a,o=e._parts,s=o.length,c=this._ctx;if(s){for(c.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],c[r?`lineTo`:`moveTo`](a.x,a.y);t&&c.closePath()}this._fillStroke(c,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;i!==1&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,Math.PI*2,!1),i!==1&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||`evenodd`)),n.stroke&&n.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),n,r,i=this._drawFirst;i;i=i.next)n=i.layer,n.options.interactive&&n._containsPoint(t)&&(!(e.type===`click`||e.type===`preclick`)||!this._map._draggableMoved(n))&&(r=n);this._fireEvent(r?[r]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(kt(this._container,`leaflet-interactive`),this._fireEvent([t],e,`mouseout`),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,a=this._drawFirst;a;a=a.next)n=a.layer,n.options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(z(this._container,`leaflet-interactive`),this._fireEvent([r],e,`mouseover`),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;if(n)n.prev=r;else return;r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;if(r)r.next=n;else return;n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function $r(e){return I.canvas?new Qr(e):null}var ei=(function(){try{return document.namespaces.add(`lvml`,`urn:schemas-microsoft-com:vml`),function(e){return document.createElement(`<lvml:`+e+` class="lvml">`)}}catch{}return function(e){return document.createElement(`<`+e+` xmlns="urn:schemas-microsoft.com:vml" class="lvml">`)}})(),ti={_initContainer:function(){this._container=R(`div`,`leaflet-vml-container`)},_update:function(){this._map._animatingZoom||(Zr.prototype._update.call(this),this.fire(`update`))},_initPath:function(e){var t=e._container=ei(`shape`);z(t,`leaflet-vml-shape `+(this.options.className||``)),t.coordsize=`1 1`,e._path=ei(`path`),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;wt(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||=e._stroke=ei(`stroke`),i.appendChild(t),t.weight=r.weight+`px`,t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=_(r.dashArray)?r.dashArray.join(` `):r.dashArray.replace(/( *, *)/g,` `):t.dashStyle=``,t.endcap=r.lineCap.replace(`butt`,`flat`),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||=e._fill=ei(`fill`),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?`M0 0`:`AL `+t.x+`,`+t.y+` `+n+`,`+r+` 0,23592600`)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){Et(e._container)},_bringToBack:function(e){Dt(e._container)}},ni=I.vml?ei:pe,ri=Zr.extend({_initContainer:function(){this._container=ni(`svg`),this._container.setAttribute(`pointer-events`,`none`),this._rootGroup=ni(`g`),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wt(this._container),Qt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,n.setAttribute(`width`,t.x),n.setAttribute(`height`,t.y)),It(n,e.min),n.setAttribute(`viewBox`,[e.min.x,e.min.y,t.x,t.y].join(` `)),this.fire(`update`)}},_initPath:function(e){var t=e._path=ni(`path`);e.options.className&&z(t,e.options.className),e.options.interactive&&z(t,`leaflet-interactive`),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){wt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute(`stroke`,n.color),t.setAttribute(`stroke-opacity`,n.opacity),t.setAttribute(`stroke-width`,n.weight),t.setAttribute(`stroke-linecap`,n.lineCap),t.setAttribute(`stroke-linejoin`,n.lineJoin),n.dashArray?t.setAttribute(`stroke-dasharray`,n.dashArray):t.removeAttribute(`stroke-dasharray`),n.dashOffset?t.setAttribute(`stroke-dashoffset`,n.dashOffset):t.removeAttribute(`stroke-dashoffset`)):t.setAttribute(`stroke`,`none`),n.fill?(t.setAttribute(`fill`,n.fillColor||n.color),t.setAttribute(`fill-opacity`,n.fillOpacity),t.setAttribute(`fill-rule`,n.fillRule||`evenodd`)):t.setAttribute(`fill`,`none`))},_updatePoly:function(e,t){this._setPath(e,me(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||n,i=`a`+n+`,`+r+` 0 1,0 `,a=e._empty()?`M0 0`:`M`+(t.x-n)+`,`+t.y+i+n*2+`,0 `+i+-n*2+`,0 `;this._setPath(e,a)},_setPath:function(e,t){e._path.setAttribute(`d`,t)},_bringToFront:function(e){Et(e._path)},_bringToBack:function(e){Dt(e._path)}});I.vml&&ri.include(ti);function ii(e){return I.svg||I.vml?new ri(e):null}V.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||=this._renderer=this._createRenderer(),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e===`overlayPane`||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&$r(e)||ii(e)}});var ai=yr.extend({initialize:function(e,t){yr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=re(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function oi(e,t){return new ai(e,t)}ri.create=ni,ri.pointsToPath=me,xr.geometryToLayer=Sr,xr.coordsToLatLng=wr,xr.coordsToLatLngs=Tr,xr.latLngToCoords=Er,xr.latLngsToCoords=Dr,xr.getFeature=Or,xr.asFeature=kr,V.mergeOptions({boxZoom:!0});var si=En.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on(`unload`,this._destroy,this)},addHooks:function(){B(this._container,`mousedown`,this._onMouseDown,this)},removeHooks:function(){Qt(this._container,`mousedown`,this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Rt(),Ht(),this._startPoint=this._map.mouseEventToContainerPoint(e),B(document,{contextmenu:cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=R(`div`,`leaflet-zoom-box`,this._container),z(this._container,`leaflet-crosshair`),this._map.fire(`boxzoomstart`)),this._point=this._map.mouseEventToContainerPoint(e);var t=new ne(this._point,this._startPoint),n=t.getSize();It(this._box,t.min),this._box.style.width=n.x+`px`,this._box.style.height=n.y+`px`},_finish:function(){this._moved&&(wt(this._box),kt(this._container,`leaflet-crosshair`)),zt(),Ut(),Qt(document,{contextmenu:cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new P(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire(`boxzoomend`,{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});V.addInitHook(`addHandler`,`boxZoom`,si),V.mergeOptions({doubleClickZoom:!0});var ci=En.extend({addHooks:function(){this._map.on(`dblclick`,this._onDoubleClick,this)},removeHooks:function(){this._map.off(`dblclick`,this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;t.options.doubleClickZoom===`center`?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});V.addInitHook(`addHandler`,`doubleClickZoom`,ci),V.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var li=En.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new kn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on(`predrag`,this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on(`predrag`,this._onPreDragWrap,this),e.on(`zoomend`,this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}z(this._map._container,`leaflet-grab leaflet-touch-drag`),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){kt(this._map._container,`leaflet-grab`),kt(this._map._container,`leaflet-touch-drag`),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=re(this._map.options.maxBounds);this._offsetLimit=N(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire(`movestart`).fire(`dragstart`),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire(`move`,e).fire(`drag`,e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire(`dragend`,e),r)t.fire(`moveend`);else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),c=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,c),u=s.multiplyBy(l/c),d=l/(n.inertiaDeceleration*o),f=u.multiplyBy(-d/2).round();!f.x&&!f.y?t.fire(`moveend`):(f=t._limitOffset(f,t.options.maxBounds),T(function(){t.panBy(f,{duration:d,easeLinearity:o,noMoveStart:!0,animate:!0})}))}}});V.addInitHook(`addHandler`,`dragging`,li),V.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ui=En.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex=`0`),B(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Qt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire(`focus`)},_onBlur:function(){this._focused=!1,this._map.fire(`blur`)},_setPanDelta:function(e){var t=this._panKeys={},n=this.keyCodes,r,i;for(r=0,i=n.left.length;r<i;r++)t[n.left[r]]=[-1*e,0];for(r=0,i=n.right.length;r<i;r++)t[n.right[r]]=[e,0];for(r=0,i=n.down.length;r<i;r++)t[n.down[r]]=[0,e];for(r=0,i=n.up.length;r<i;r++)t[n.up[r]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},n=this.keyCodes,r,i;for(r=0,i=n.zoomIn.length;r<i;r++)t[n.zoomIn[r]]=e;for(r=0,i=n.zoomOut.length;r<i;r++)t[n.zoomOut[r]]=-e},_addHooks:function(){B(document,`keydown`,this._onKeyDown,this)},_removeHooks:function(){Qt(document,`keydown`,this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,n=this._map,r;if(t in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(r=this._panKeys[t],e.shiftKey&&(r=M(r).multiplyBy(3)),n.options.maxBounds&&(r=n._limitOffset(M(r),n.options.maxBounds)),n.options.worldCopyJump){var i=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(r)));n.panTo(i)}else n.panBy(r)}else if(t in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;cn(e)}}});V.addInitHook(`addHandler`,`keyboard`,ui),V.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var di=En.extend({addHooks:function(){B(this._map._container,`wheel`,this._onWheelScroll,this),this._delta=0},removeHooks:function(){Qt(this._map._container,`wheel`,this._onWheelScroll,this)},_onWheelScroll:function(e){var t=fn(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||=+new Date;var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),cn(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&(e.options.scrollWheelZoom===`center`?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});V.addInitHook(`addHandler`,`scrollWheelZoom`,di);var fi=600;V.mergeOptions({tapHold:I.touchNative&&I.safari&&I.mobile,tapTolerance:15});var pi=En.extend({addHooks:function(){B(this._map._container,`touchstart`,this._onDown,this)},removeHooks:function(){Qt(this._map._container,`touchstart`,this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new A(t.clientX,t.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(B(document,`touchend`,sn),B(document,`touchend touchcancel`,this._cancelClickPrevent),this._simulateEvent(`contextmenu`,t))},this),fi),B(document,`touchend touchcancel contextmenu`,this._cancel,this),B(document,`touchmove`,this._onMove,this)}},_cancelClickPrevent:function e(){Qt(document,`touchend`,sn),Qt(document,`touchend touchcancel`,e)},_cancel:function(){clearTimeout(this._holdTimeout),Qt(document,`touchend touchcancel contextmenu`,this._cancel,this),Qt(document,`touchmove`,this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new A(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});V.addInitHook(`addHandler`,`tapHold`,pi),V.mergeOptions({touchZoom:I.touch,bounceAtZoomLimits:!0});var mi=En.extend({addHooks:function(){z(this._map._container,`leaflet-touch-zoom`),B(this._map._container,`touchstart`,this._onTouchStart,this)},removeHooks:function(){kt(this._map._container,`leaflet-touch-zoom`),Qt(this._map._container,`touchstart`,this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!==`center`&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),B(document,`touchmove`,this._onTouchMove,this),B(document,`touchend touchcancel`,this._onTouchEnd,this),sn(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom===`center`){if(this._center=this._startLatLng,a===1)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(a===1&&o.x===0&&o.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||=(t._moveStart(!0,!1),!0),E(this._animRequest),this._animRequest=T(i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0),this,!0),sn(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,E(this._animRequest),Qt(document,`touchmove`,this._onTouchMove,this),Qt(document,`touchend touchcancel`,this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});V.addInitHook(`addHandler`,`touchZoom`,mi),V.BoxZoom=si,V.DoubleClickZoom=ci,V.Drag=li,V.Keyboard=ui,V.ScrollWheelZoom=di,V.TapHold=pi,V.TouchZoom=mi,e.Bounds=ne,e.Browser=I,e.CRS=ae,e.Canvas=Qr,e.Circle=hr,e.CircleMarker=pr,e.Class=O,e.Control=_n,e.DivIcon=Wr,e.DivOverlay=zr,e.DomEvent=mn,e.DomUtil=Xt,e.Draggable=kn,e.Evented=te,e.FeatureGroup=ir,e.GeoJSON=xr,e.GridLayer=Gr,e.Handler=En,e.Icon=or,e.ImageOverlay=Nr,e.LatLng=ie,e.LatLngBounds=P,e.Layer=tr,e.LayerGroup=nr,e.LineUtil=Jn,e.Map=V,e.Marker=ur,e.Mixin=Dn,e.Path=fr,e.Point=A,e.PolyUtil=Nn,e.Polygon=yr,e.Polyline=_r,e.Popup=Br,e.PosAnimation=hn,e.Projection=Zn,e.Rectangle=ai,e.Renderer=Zr,e.SVG=ri,e.SVGOverlay=Lr,e.TileLayer=qr,e.Tooltip=Hr,e.Transformation=le,e.Util=D,e.VideoOverlay=Fr,e.bind=i,e.bounds=N,e.canvas=$r,e.circle=gr,e.circleMarker=mr,e.control=vn,e.divIcon=U,e.extend=n,e.featureGroup=ar,e.geoJSON=jr,e.geoJson=Mr,e.gridLayer=Kr,e.icon=sr,e.imageOverlay=Pr,e.latLng=F,e.latLngBounds=re,e.layerGroup=rr,e.map=gn,e.marker=dr,e.point=M,e.polygon=br,e.polyline=vr,e.popup=Vr,e.rectangle=oi,e.setOptions=p,e.stamp=o,e.svg=ii,e.svgOverlay=Rr,e.tileLayer=Jr,e.tooltip=Ur,e.transformation=ue,e.version=t,e.videoOverlay=Ir;var hi=window.L;e.noConflict=function(){return window.L=hi,this},window.L=e}))}));function tv(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function nv(e,t){return t==null?function(t,n){let r=(0,b.useRef)(void 0);return r.current||=e(t,n),r}:function(n,r){let i=(0,b.useRef)(void 0);i.current||=e(n,r);let a=(0,b.useRef)(n),{instance:o}=i.current;return(0,b.useEffect)(function(){a.current!==n&&(t(o,n,a.current),a.current=n)},[o,n,t]),i}}function rv(e,t){(0,b.useEffect)(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function iv(e){return function(t){let n=Y_(),r=e($_(t,n),n);return G_(n.map,t.attribution),Q_(r.current,t.eventHandlers),rv(r.current,n),r}}function av(e,t){return X_(iv(nv(e,t)))}function ov(e,t){return Z_(iv(nv(e,t)))}function sv(e,t,n){let{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function cv(){return Y_().map}var lv=ev();function uv({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:c,zoom:l,...u},d){let[f]=(0,b.useState)({className:i,id:a,style:s}),[p,m]=(0,b.useState)(null),h=(0,b.useRef)(void 0);(0,b.useImperativeHandle)(d,()=>p?.map??null,[p]);let g=(0,b.useCallback)(r=>{if(r!==null&&!h.current){let i=new lv.Map(r,u);h.current=i,n!=null&&l!=null?i.setView(n,l):e!=null&&i.fitBounds(e,t),c!=null&&i.whenReady(c),m(K_(i))}},[]);(0,b.useEffect)(()=>()=>{p?.map.remove()},[p]);let _=p?b.createElement(J_,{value:p},r):o??null;return b.createElement(`div`,{...f,ref:g},_)}const dv=(0,b.forwardRef)(uv);var fv=ev();const pv=av(function({position:e,...t},n){let r=new fv.Marker(e,t);return tv(r,q_(n,{overlayContainer:r}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==n.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==n.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())});var mv=ev();const hv=ov(function({url:e,...t},n){return tv(new mv.TileLayer(e,$_(t,n)),n)},function(e,t,n){sv(e,t,n);let{url:r}=t;r!=null&&r!==n.url&&e.setUrl(r)});var gv=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`);const _v={getUserSessions:async e=>{if(!gv)return[];try{let{data:t,error:n}=await J.from(`chat_sessions`).select(`*`).eq(`user_id`,e).order(`updated_at`,{ascending:!1});if(n){if(n.code===`PGRST205`||n.message?.includes(`Could not find the table`))return[];throw n}if(!t)return[];let r=[];for(let e of t){let{data:t,error:n}=await J.from(`chat_messages`).select(`*`).eq(`session_id`,e.id).order(`created_at`,{ascending:!0});n&&!(n.code===`PGRST205`||n.message?.includes(`Could not find the table`))&&console.error(`Error fetching messages for session`,e.id,n),r.push({id:e.id,userId:e.user_id,locationId:e.location_id,locationName:e.location_name,startTime:new Date(e.created_at).getTime(),lastMessageTime:new Date(e.updated_at).getTime(),persona:e.persona||`expert`,preview:e.preview||``,messages:(t||[]).map(e=>({id:e.id,type:e.type,content:e.is_content_json?JSON.parse(e.content):e.content,cardData:e.card_data?JSON.parse(e.card_data):void 0,sender:e.sender,timestamp:new Date(e.created_at).getTime(),audioUrl:e.audio_url}))})}return r}catch(e){return console.error(`Failed to load user history:`,e),[]}},saveSession:async(e,t)=>{if(gv)try{let{error:n}=await J.from(`chat_sessions`).upsert({id:e.id,user_id:t,location_id:e.locationId,location_name:e.locationName,persona:e.persona,preview:e.preview,updated_at:new Date(e.lastMessageTime).toISOString()},{onConflict:`id`});if(n)throw n}catch(e){console.error(`Error saving session:`,e)}},saveMessage:async(e,t)=>{if(gv)try{let n=Array.isArray(t.content),{error:r}=await J.from(`chat_messages`).insert({id:t.id,session_id:e,sender:t.sender,type:t.type,content:n?JSON.stringify(t.content):t.content,is_content_json:n,card_data:t.cardData?JSON.stringify(t.cardData):null,audio_url:t.audioUrl,created_at:new Date(t.timestamp).toISOString()});if(r)throw r}catch(e){console.error(`Error saving message:`,e)}},deleteSession:async e=>{if(gv)try{await J.from(`chat_messages`).delete().eq(`session_id`,e);let{error:t}=await J.from(`chat_sessions`).delete().eq(`id`,e);if(t)throw t}catch(e){console.error(`Error deleting session:`,e)}}},vv=({isOpen:e,onClose:t,messages:n,location:r,persona:i,user:a,onGenerate:o})=>{let[s,c]=(0,b.useState)(new Set),[l,u]=(0,b.useState)(!1),d=(0,b.useMemo)(()=>{let e=[];return n.forEach(t=>{t.type===`image`&&t.sender===`user`?Array.isArray(t.content)?t.content.forEach(n=>e.push({url:n,msgId:t.id,timestamp:t.timestamp})):e.push({url:t.content,msgId:t.id,timestamp:t.timestamp}):t.type===`card`&&t.cardData?.image}),e},[n]);b.useEffect(()=>{if(e){let e=new Set;d.slice(0,30).forEach(t=>e.add(t.url)),c(e)}},[e,d]);let f=e=>{let t=new Set(s);if(t.has(e))t.delete(e);else{if(t.size>=30)return;t.add(e)}c(t)};return e?(0,U.jsx)(`div`,{className:`fixed inset-0 z-[1000] bg-stone-900/90 backdrop-blur-sm flex flex-col items-center justify-end sm:justify-center sm:p-6 animate-in fade-in duration-200`,children:(0,U.jsxs)(`div`,{className:`w-full max-w-md bg-stone-50 rounded-t-3xl sm:rounded-3xl shadow-2xl overflow-hidden flex flex-col h-[85vh] sm:h-[800px]`,children:[(0,U.jsxs)(`div`,{className:`p-4 border-b border-stone-200 bg-white flex justify-between items-center flex-shrink-0`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsxs)(`h3`,{className:`font-bold text-lg text-stone-800 flex items-center`,children:[(0,U.jsx)(Nr,{className:`w-5 h-5 text-amber-500 mr-2`}),` AI `]}),(0,U.jsxs)(`p`,{className:`text-xs text-stone-500`,children:[` `,s.size,`  ( 30)`]})]}),(0,U.jsx)(`button`,{onClick:t,className:`p-2 hover:bg-stone-100 rounded-full transition-colors`,children:(0,U.jsx)(Ur,{size:20,className:`text-stone-500`})})]}),(0,U.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 custom-scrollbar`,children:d.length===0?(0,U.jsxs)(`div`,{className:`h-full flex flex-col items-center justify-center text-stone-400 space-y-4`,children:[(0,U.jsx)(lr,{size:48,strokeWidth:1}),(0,U.jsx)(`p`,{className:`text-sm`,children:``}),(0,U.jsx)(`p`,{className:`text-xs opacity-70`,children:``})]}):(0,U.jsx)(`div`,{className:`grid grid-cols-3 gap-2`,children:d.map(e=>{let t=s.has(e.url);return(0,U.jsxs)(`button`,{onClick:()=>f(e.url),className:`relative aspect-square rounded-lg overflow-hidden group transition-all ${t?`ring-2 ring-amber-500 ring-offset-2`:`opacity-80 hover:opacity-100`}`,children:[(0,U.jsx)(`img`,{src:e.url,alt:`User upload`,className:`w-full h-full object-cover`}),(0,U.jsx)(`div`,{className:`absolute top-1 right-1 w-5 h-5 rounded-full flex items-center justify-center transition-colors ${t?`bg-amber-500 text-white`:`bg-black/30 text-transparent border border-white/50`}`,children:(0,U.jsx)(Yn,{size:12,strokeWidth:3})})]},e.url)})})}),(0,U.jsx)(`div`,{className:`p-4 bg-white border-t border-stone-200 flex-shrink-0 safe-area-bottom`,children:(0,U.jsx)(`button`,{onClick:async()=>{u(!0),setTimeout(()=>{if(!r)return;let e=d.filter(e=>s.has(e.url)).sort((e,t)=>e.timestamp-t.timestamp);e.length;let c=e.map(e=>{let t=n.findIndex(t=>t.id===e.msgId),i=``,a=``;for(let e=t+1;e<n.length;e++){let t=n[e];if(t.sender===`agent`){if(t.type===`card`&&t.cardData){i=t.cardData.description||t.cardData.subtitle,a=`AI ${t.cardData.title}`;break}else if(t.type===`text`){i=t.content;break}}if(t.sender===`user`)break}return{time:new Date(e.timestamp).toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`}),location:r.area||r.name,image:e.url,content:i||``,ai_tip:a||void 0,color:`amber`}}),l=new Date().toLocaleDateString().replace(/\//g,`.`),f=`${r.name}`,p=`${r.name}`;i===`humorous`?(f=`${r.name}`,p=`AI`):i===`kids`?(f=`${r.name} `,p=`AI${r.name}`):(f=`${r.name}`,p=`AI${r.name}`),o({id:`gen-${Date.now()}`,uid:a?.id||a?.uid,title:f,location:r.name,author:a?.nickname||a?.email?.split(`@`)[0]||``,avatar:a?.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=Felix`,date:l,intro:p,cover:e[0]?.url||r.coverImage,likes:0,timeline:c}),u(!1),t()},1500)},disabled:s.size===0||l,className:`w-full py-3.5 rounded-xl font-bold flex items-center justify-center transition-all ${s.size===0?`bg-stone-200 text-stone-400 cursor-not-allowed`:`bg-stone-900 text-white hover:bg-stone-800 active:scale-[0.98] shadow-lg shadow-stone-900/20`}`,children:l?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Nr,{className:`w-5 h-5 mr-2 animate-spin`}),`...`]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Nr,{className:`w-5 h-5 mr-2`}),``]})})})]})}):null};var yv=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`);const bv={chat:async e=>{if(!yv)return{success:!1,message:` Supabase`};try{let{data:t,error:n}=await J.functions.invoke(`guide`,{body:e});return n?{success:!1,message:n.message||``}:t?{success:!0,data:t}:{success:!1,message:``}}catch{return{success:!1,message:``}}}};var xv=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`);const Sv={searchNearbyMuseums:async(e,t,n=20)=>{if(!xv)return[];try{let{data:r,error:i}=await J.functions.invoke(`geo`,{body:{action:`search_nearby_museums`,lat:e,lng:t,limit:n}});return i?[]:Array.isArray(r)?r:[]}catch{return[]}},searchPlaces:async e=>{if(!xv)return[];try{let{data:t,error:n}=await J.functions.invoke(`geo`,{body:{action:`search_places`,...e}});return n?[]:Array.isArray(t)?t:[]}catch{return[]}},ipLocate:async()=>{if(!xv)return null;try{let{data:e,error:t}=await J.functions.invoke(`geo`,{body:{action:`ip_locate`}});return t?null:e||null}catch{return null}}};var Cv=u(ev(),1),wv=(e=>Cv.default.divIcon({className:`custom-div-icon`,html:`<div class="w-4 h-4 ${e} rounded-full border-2 border-white shadow-lg animate-pulse"></div>`,iconSize:[16,16],iconAnchor:[8,8]}))(`bg-blue-500`),Tv=[{bg1:`#0f172a`,bg2:`#1f2937`,accent:`#d97706`},{bg1:`#111827`,bg2:`#0f766e`,accent:`#f59e0b`},{bg1:`#1f2937`,bg2:`#312e81`,accent:`#f97316`},{bg1:`#0b1324`,bg2:`#3b1d2a`,accent:`#f59e0b`}],Ev=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t},Dv=e=>`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`,Ov=e=>{let t=(e||`Museum`).trim(),n=Ev(t),r=Tv[Math.abs(n)%Tv.length];return Dv(`
<svg xmlns="http://www.w3.org/2000/svg" width="1080" height="720" viewBox="0 0 1080 720">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="${r.bg1}"/>
      <stop offset="1" stop-color="${r.bg2}"/>
    </linearGradient>
  </defs>
  <rect width="1080" height="720" fill="url(#g)"/>
  <circle cx="900" cy="160" r="180" fill="${r.accent}" opacity="0.12"/>
  <circle cx="160" cy="620" r="220" fill="${r.accent}" opacity="0.10"/>
  <rect x="72" y="520" width="936" height="136" rx="22" fill="#0b1220" opacity="0.55"/>
  <text x="108" y="585" fill="#ffffff" font-size="54" font-family="ui-serif, Georgia, serif" font-weight="700">${t.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`)}</text>
  <text x="108" y="630" fill="#e5e7eb" font-size="26" font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif" opacity="0.9">Odyssey  </text>
</svg>`)},kv=(e,t)=>e>=18&&e<=54&&t>=73&&t<=135,Av=e=>e?[`https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png`]:[`https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png`,`https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png`,`https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png`],jv=(e,t)=>Ov(`${e}:${t}`),Mv=({src:e,alt:t,className:n})=>{let[r,i]=(0,b.useState)(e);return(0,b.useEffect)(()=>{i(e)},[e]),(0,U.jsx)(`img`,{src:r,alt:t,className:n,onError:()=>{r!==jv(`fallback`,t)&&i(jv(`fallback`,t))},loading:`lazy`})},Nv={louvre:{id:`louvre`,name:``,area:` 1F  `,weather:` 24C`,coverImage:jv(`louvre`,``),recommendations:[``,``,``],coordinates:[48.8606,2.3376]},gugong:{id:`gugong`,name:``,area:``,weather:` 20C`,coverImage:jv(`gugong`,``),recommendations:[``,``,``],coordinates:[39.9163,116.3972]},national_museum:{id:`national_museum`,name:``,area:``,weather:` 21C`,coverImage:jv(`national_museum`,``),recommendations:[``,``,``],coordinates:[39.904,116.3974]},orsay:{id:`orsay`,name:``,area:``,weather:` 25C`,coverImage:jv(`orsay`,``),recommendations:[``,``,``],coordinates:[48.8599,2.3265]},british_museum:{id:`british_museum`,name:``,area:``,weather:` 15C`,coverImage:jv(`british_museum`,``),recommendations:[``,``,``],coordinates:[51.5194,-.127]}},Pv=(e,t=!0)=>{let n=e.split(/[,]/)[0],r=t?8:15;return n.length>r&&(n=n.substring(0,r-1)+`...`),t?[`${n}`,`${n}`,``,`${n}`]:[`Intro to ${n}`,`Must-sees at ${n}`,`Restrooms nearby`,`History of ${n}`]};function Fv(e,t,n,r){let i=Iv(n-e),a=Iv(r-t),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(Iv(e))*Math.cos(Iv(n))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function Iv(e){return e*(Math.PI/180)}var Lv=({center:e,zoom:t})=>{let n=cv();return(0,b.useEffect)(()=>{n.flyTo(e,t,{duration:1.5})},[e,t,n]),null},Rv=0,zv=async(e,t)=>{if(Date.now()<Rv)return[];try{let n=await Sv.searchNearbyMuseums(e,t,20);return Array.isArray(n)&&n.length>0?n.map(n=>{let r=n.name||(n.display_name?String(n.display_name).split(`,`)[0]:``),i=parseFloat(n.lat),a=parseFloat(n.lon);return{id:`osm-${n.place_id||`${i},${a}`}`,name:r,area:n.display_name?String(n.display_name).split(`,`).slice(1,3).join(`,`).trim()||n.display_name:``,weather:``,coverImage:jv(`osm-${n.place_id||`${i},${a}`}`,r),recommendations:Pv(r,/[\u4e00-\u9fa5]/.test(r)),coordinates:[i,a],distance:Fv(e,t,i,a),floorPlanUrl:void 0}}):[]}catch{return Rv=Date.now()+60*1e3,[]}},Bv=()=>{let e=I(),t=tt(),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)(null),[o,s]=(0,b.useState)(!1),[c,l]=(0,b.useState)([]),[u,d]=(0,b.useState)(``),f=(0,b.useRef)(null),p=(0,b.useRef)(null),[m,h]=(0,b.useState)(`locating`),[g,_]=(0,b.useState)(!0),[v,y]=(0,b.useState)(0),[x,S]=(0,b.useState)(null),[C,w]=(0,b.useState)(!1),[T,E]=(0,b.useState)(0),[D,O]=(0,b.useState)(!0),ee=(0,b.useRef)(0),[k,te]=(0,b.useState)(null),[A,j]=(0,b.useState)([]),[M,ne]=(0,b.useState)(``),[N,P]=(0,b.useState)([]),[re,ie]=(0,b.useState)(!1),F=(0,b.useRef)(null),ae=(0,b.useRef)(new window.Map),oe=(0,b.useRef)(m),se=(0,b.useRef)(!1),ce=(0,b.useRef)([]),le=!!(x?.coordinates&&kv(x.coordinates[0],x.coordinates[1])),ue=Av(le),de=le?[`1`,`2`,`3`,`4`]:void 0,fe=le?``:`&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors`;(0,b.useEffect)(()=>{E(0),O(!0)},[ue.length,ue[0]]);let[pe,me]=(0,b.useState)(`expert`),[he,ge]=(0,b.useState)(!1),[_e,ve]=(0,b.useState)(!1),[ye,be]=(0,b.useState)(!1),[xe,Se]=(0,b.useState)(!1),[Ce,we]=(0,b.useState)(!1),[Te,Ee]=(0,b.useState)(null),[De,Oe]=(0,b.useState)(0);(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`);if(e)try{Ee(JSON.parse(e))}catch(e){console.error(`Failed to parse user`,e)}let t=localStorage.getItem(`guest_msg_count`);t&&Oe(parseInt(t,10)||0)},[]);let[ke,Ae]=(0,b.useState)(null),[je,Me]=(0,b.useState)(!1),[Ne,Pe]=(0,b.useState)(!1),[Fe,Ie]=(0,b.useState)(0),[Le,Re]=(0,b.useState)(!1),ze=(0,b.useRef)(null),Be=(0,b.useRef)([]),[Ve,He]=(0,b.useState)([]);(0,b.useEffect)(()=>{oe.current=m},[m]),(0,b.useEffect)(()=>{m===`locating`&&ge(!1)},[m]),(0,b.useEffect)(()=>{if(!(`speechSynthesis`in window))return;let e=()=>He(window.speechSynthesis.getVoices());return e(),window.speechSynthesis.onvoiceschanged=e,()=>{window.speechSynthesis.onvoiceschanged=null}},[]),(0,b.useEffect)(()=>{Te?_v.getUserSessions(Te.id||Te.uid).then(e=>{e&&e.length>0&&r(e)}):r([])},[Te]),(0,b.useEffect)(()=>{if(Te&&i&&n.length>0){let e=n.find(e=>e.id===i);e&&_v.saveSession(e,Te.id||Te.uid)}},[n,Te,i]),(0,b.useEffect)(()=>{!i||c.length===0||r(e=>{let t=e.findIndex(e=>e.id===i);if(t>=0){let n={...e[t],messages:c,lastMessageTime:Date.now(),preview:typeof c[c.length-1].content==`string`?c[c.length-1].content.substring(0,30):`[]`},r=[...e];return r.splice(t,1),r.unshift(n),r}else return x?[{id:i,locationId:x.id,locationName:x.name,startTime:Date.now(),lastMessageTime:Date.now(),messages:c,persona:pe,preview:typeof c[c.length-1].content==`string`?c[c.length-1].content.substring(0,30):`[]`},...e]:e})},[c,i]);let Ue=e=>{a(e.id),l(e.messages),me(e.persona);let t=Nv[e.locationId];t||={id:e.locationId,name:e.locationName,area:``,weather:``,coverImage:jv(e.locationId,e.locationName),recommendations:Pv(e.locationName,!0),coordinates:[39.9042,116.4074]},S(t),h(`agent-chat`),s(!1),ge(!1),ve(!1)},We=()=>{s(!1),h(`manual-selection`),a(null),l([]),S(null)},Ge=(e,t)=>{e.stopPropagation(),r(n.filter(e=>e.id!==t)),Te&&_v.deleteSession(t),i===t&&We()};(0,b.useEffect)(()=>{if(e.state?.sessionId&&n.length>0){let r=n.find(t=>t.id===e.state.sessionId);r&&(Ue(r),t(e.pathname,{replace:!0,state:{}}))}else e.state?.openHistory&&(s(!0),t(e.pathname,{replace:!0,state:{}}))},[e.state,n]);let Ke=(e,t)=>{if(`speechSynthesis`in window){if(ke===t){window.speechSynthesis.cancel(),Ae(null);return}let n=e=>String(e||``).replace(/[\u{1F300}-\u{1FAFF}]/gu,``).replace(/\s+/g,` `).replace(/([])(\S)/g,`$1 $2`).trim(),r=e=>{let t=n(e);if(!t)return[];let r=[],i=``;for(let e of t)if(i+=e,e===``||e===``||e===``||e===``||e===`
`){let e=i.trim();e&&r.push(e),i=``}let a=i.trim();return a&&r.push(a),r},i=Ve.length>0?Ve:window.speechSynthesis.getVoices(),a=e=>/zh/i.test(e.lang)||/Chinese/i.test(e.lang),o=e=>{let t=0;return a(e)&&(t+=50),/Ting-?Ting|Xiaoxiao|Xiaoyi|Mei-?Jia|Sin-?ji|Zhiyu|Google\s*/i.test(e.name)&&(t+=30),/Siri|Premium|Enhanced|Neural/i.test(e.name)&&(t+=10),/female|woman/i.test(e.name)&&(t+=3),t},s=[...i].filter(a).sort((e,t)=>o(t)-o(e))[0]||i.find(a)||i[0],c=pe===`humorous`?1.06:pe===`kids`?1:1.02,l=pe===`humorous`?1.05:pe===`kids`?1.12:1,u=r(e);if(u.length===0)return;window.speechSynthesis.cancel(),Ae(t);let d=0,f=()=>{if(d>=u.length){Ae(null);return}let e=new SpeechSynthesisUtterance(u[d++]);s?(e.voice=s,e.lang=s.lang):e.lang=`zh-CN`,e.volume=1,e.rate=c,e.pitch=l,e.onend=()=>window.setTimeout(f,140),e.onerror=()=>Ae(null),window.speechSynthesis.speak(e)};f()}},qe=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});ze.current=new MediaRecorder(e),Be.current=[],ze.current.ondataavailable=e=>{Be.current.push(e.data)},ze.current.onstop=async()=>{if(Pe(!1),Re(!1),Le||Date.now()-Fe<500)return;let e=[``,``,``,``],t=e[Math.floor(Math.random()*e.length)];Ze(t)},ze.current.start(),Pe(!0),Ie(Date.now()),Re(!1)}catch(e){console.error(`Error accessing microphone:`,e)}},Je=()=>{ze.current&&Ne&&(ze.current.stop(),ze.current.stream.getTracks().forEach(e=>e.stop()))},Ye=e=>{if(!Ne)return;let t=e.touches[0],n=e.target.getBoundingClientRect();t.clientY<n.top-50?Re(!0):Re(!1)};(0,b.useEffect)(()=>{let e=null,t=!1,n=Object.values(Nv).map(e=>({...e,distance:0})),r=`last_geo_v1`,i=!1;_(!0);let a=(e,t)=>{try{localStorage.setItem(r,JSON.stringify({lat:e,lng:t,ts:Date.now()}))}catch{}},o=(e,r)=>{_(!1),te([e,r]),a(e,r);let i=Object.values(Nv).map(t=>({...t,distance:Fv(e,r,t.coordinates[0],t.coordinates[1])})),o=i.slice().sort((e,t)=>e.distance-t.distance).filter(e=>e.distance<50),s=o.length>0?o:n;j(s),se.current||P(s),s.length>0&&s[0].distance<2&&o.length>0?(S(s[0]),h(`agent-chat`),ge(!0)):h(`manual-selection`),zv(e,r).then(e=>{if(t)return;ce.current=e;let r=[...e,...i].sort((e,t)=>e.distance-t.distance).filter(e=>e.distance<50),a=r.length>0,o=a?r:n;if(j(o),se.current||P(o),oe.current===`manual-selection`&&!se.current){let e=o[0];a&&e&&e.distance<2&&(S(e),w(!1),ge(!0),h(`agent-chat`))}}).catch(()=>{})};try{let e=localStorage.getItem(r);if(e){let t=JSON.parse(e),n=Number(t?.lat),r=Number(t?.lng),i=Number(t?.ts);Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(i)&&Date.now()-i<1440*60*1e3&&o(n,r)}}catch{}let s=window.setTimeout(()=>{t||i||(oe.current===`locating`&&(h(`manual-selection`),j(n),P(n)),Sv.ipLocate().then(e=>{if(t||i)return;let n=e?.center;n&&Number.isFinite(n.lat)&&Number.isFinite(n.lng)&&(i=!0,o(n.lat,n.lng))}))},1200);navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{i=!0,window.clearTimeout(s);let{latitude:t,longitude:n}=e.coords;o(t,n)},r=>{window.clearTimeout(s),_(!1);try{console.warn(`Geolocation denied or error:`,{code:r?.code,message:r?.message})}catch{console.warn(`Geolocation denied or error`)}h(`manual-selection`),j(n),P(n),Sv.ipLocate().then(e=>{if(t||i)return;let n=e?.center;n&&Number.isFinite(n.lat)&&Number.isFinite(n.lng)&&(i=!0,o(n.lat,n.lng))}),console.log(`Starting background location watch...`),e=navigator.geolocation.watchPosition(e=>{console.log(`Background location acquired:`,e.coords);let{latitude:t,longitude:r}=e.coords;te([t,r]);let i=ce.current.map(e=>({...e,distance:Fv(t,r,e.coordinates[0],e.coordinates[1])})),a=Object.values(Nv).map(e=>({...e,distance:Fv(t,r,e.coordinates[0],e.coordinates[1])})),o=[...i,...a].sort((e,t)=>e.distance-t.distance).filter(e=>e.distance<50),s=o.length>0?o:n;if(j(s),se.current||P(s),oe.current===`manual-selection`&&!se.current){let e=o[0];e&&e.distance<2&&(S(e),w(!1),ge(!0),h(`agent-chat`))}},e=>console.warn(`Background watch error:`,e),{enableHighAccuracy:!0,timeout:2e4,maximumAge:0})},{enableHighAccuracy:!1,timeout:3500,maximumAge:600*1e3}):(_(!1),h(`manual-selection`),j(n),P(n));let c=window.setTimeout(()=>{t||i||_(!1)},12e3);return()=>{t=!0,window.clearTimeout(s),window.clearTimeout(c),e!==null&&navigator.geolocation.clearWatch(e)}},[v]),(0,b.useEffect)(()=>{f.current?.scrollIntoView({behavior:`smooth`})},[c]),(0,b.useEffect)(()=>{if(m===`agent-chat`&&x&&!he&&!i){a(`session-${Date.now()}`);let e=`${x.name}`,t=`${x.area}`;pe===`humorous`?(e=`${x.name}`,t=`${x.area}`):pe===`kids`&&(e=` ${x.name}`,t=`${x.area}`),l([{id:`init-${Date.now()}`,type:`text`,content:e,sender:`agent`,timestamp:Date.now()},{id:`init-2-${Date.now()}`,type:`text`,content:t,sender:`agent`,timestamp:Date.now()+100}])}},[m,x,he]);let Xe=async e=>new Promise(t=>{setTimeout(()=>{t({title:``,subtitle:`190  `,description:` AI 
`,tags:[``,``,``],image:e})},2e3)}),Ze=async(e=u)=>{if(!e.trim())return;if(!Te){if(De>=2){be(!0);return}let e=De+1;Oe(e),localStorage.setItem(`guest_msg_count`,e.toString())}let t={id:`user-${Date.now()}`,type:`text`,content:e,sender:`user`,timestamp:Date.now()},n=`agent-typing-${Date.now()}`,r={id:n,type:`text`,content:``,sender:`agent`,timestamp:Date.now()+1};l(e=>[...e,t,r]),d(``),Te&&i&&_v.saveMessage(i,t);let a=[...c,t].slice(-12).filter(e=>e.type===`text`||e.type===`card`).map(e=>({role:e.sender===`user`?`user`:`assistant`,content:e.type===`card`?`${String(e.content||``)}\n${e.cardData?.title?`${e.cardData.title}`:``}`.trim():String(e.content||``)})).filter(e=>e.content),o=k?{lat:k[0],lng:k[1]}:null,s=null;try{let t=await bv.chat({message:e,history:a,persona:pe,location:o||void 0,clientTime:new Date().toISOString(),locale:navigator.language,context:{selectedName:x?.name,area:x?.area,weather:x?.weather}});s=t.success&&t.data?t.data:null}catch{s=null}let f={id:`agent-${Date.now()}`,type:s?.card?`card`:`text`,content:s?.reply||``,cardData:s?.card,sender:`agent`,timestamp:Date.now(),audioUrl:`tts-enabled`};l(e=>[...e.filter(e=>e.id!==n),f]),Te&&i&&_v.saveMessage(i,f)},Qe=async e=>{if(e.target.files&&e.target.files.length>0){let t=Array.from(e.target.files),n=t.map(e=>URL.createObjectURL(e)),r={id:`user-img-${Date.now()}`,type:`image`,content:n,sender:`user`,timestamp:Date.now()};l(e=>[...e,r]);let i=`agent-analyzing-${Date.now()}`,a={id:i,type:`text`,content:t.length>1?` ${t.length} ...`:`...`,sender:`agent`,timestamp:Date.now()+100};l(e=>[...e,a]);let o=await Xe(n[0]);l(e=>e.filter(e=>e.id!==i));let s={id:`agent-result-${Date.now()}`,type:`card`,content:t.length>1?``:``,sender:`agent`,timestamp:Date.now(),cardData:o};l(e=>[...e,s])}};(0,b.useEffect)(()=>{if(m!==`agent-chat`)return;let e=setInterval(()=>{x?.id===`louvre`&&(console.log(`User moved to new area...`),S(e=>e?{...e,area:` 2F  `}:null))},3e4);return()=>clearInterval(e)},[m,x]);let $e=e=>{if(ne(e),se.current=!!e.trim(),F.current&&clearTimeout(F.current),!e.trim()){P(A),ie(!1);return}let t=e.toLowerCase(),n=A.filter(e=>e.name.toLowerCase().includes(t)||e.area.toLowerCase().includes(t));P(n);let r=e=>e.filter(Boolean).map(e=>e.trim()).filter(Boolean).slice(0,3).join(`  `)||``,i=e=>{let t=new Set,n=[];for(let r of e){let e=r.coordinates[0],i=r.coordinates[1],a=`${r.name}|${e.toFixed(5)}|${i.toFixed(5)}`;t.has(a)||(t.add(a),n.push(r))}return n},a=e=>{let t=String(e._class||``).toLowerCase(),n=String(e._type||``).toLowerCase(),r=0;return(t===`tourism`||t===`amenity`||t===`leisure`||t===`historic`)&&(r+=50),(n.includes(`museum`)||n.includes(`attraction`)||n.includes(`gallery`)||n.includes(`viewpoint`)||n.includes(`park`))&&(r+=20),typeof e.distance==`number`&&e.distance>0&&(r+=Math.max(0,30-Math.min(30,e.distance))),r},o=(e,t)=>{let n=e?.namedetails||{},i=n[`name:zh`]||n[`name:zh-CN`]||n[`name:zh-Hans`]||n.zh||void 0,a=n[`name:en`]||n.en||void 0,o=e?.name||(e?.display_name?String(e.display_name).split(`,`)[0]:``)||t,s=(i||o||a||t).trim(),c=e?.address||{},l=r([c.city||c.town||c.village,c.state,c.country]),u=parseFloat(e.lat),d=parseFloat(e.lon),f=k?Fv(k[0],k[1],u,d):0;return{id:`osm-${e.place_id||`${u},${d}`}`,name:s,area:l,weather:``,coverImage:jv(`osm-${e.place_id||`${u},${d}`}`,s),recommendations:Pv(s,/[\u4e00-\u9fa5]/.test(s)),coordinates:[u,d],distance:f,_class:e.class,_type:e.type}},s=async e=>{let t=`${e}|${k?`${k[0].toFixed(3)},${k[1].toFixed(3)}`:`na`}`,n=ae.current.get(t);if(n)return n;let r=await Sv.searchPlaces({q:e,limit:8,acceptLanguage:`zh-CN,en`}),i=(Array.isArray(r)?r.map(t=>o(t,e)):[]).filter(e=>Number.isFinite(e.coordinates?.[0])&&Number.isFinite(e.coordinates?.[1])).sort((e,t)=>a(t)-a(e)||(e.distance||0)-(t.distance||0)).slice(0,10).map(({_class:e,_type:t,...n})=>n);return ae.current.set(t,i),i},c=e=>{let t=e.trim();if(!/[\u4e00-\u9fa5]/.test(t))return[t];let n={:` `,:` `,:` `,:` `,:` `,:` `,:` `},r=[``,``,``,``,``,``,``,``].some(e=>t.includes(e)),i=[t];return n[t]&&i.push(n[t]),!r&&t.length>=2&&(i.push(`${t} `),i.push(`${t} `),i.push(`${t} `)),i.slice(0,5)};ie(!0),F.current=setTimeout(async()=>{try{let t=c(e),r=[];for(let e of t)if(r=await s(e),r.length>0)break;P(i([...n,...r]))}finally{ie(!1)}},800)},et=()=>{if(!M.trim())return;let e=`custom-${Date.now()}`,t=M.trim(),n=k||[39.9042,116.4074];Sv.searchPlaces({q:t,limit:1,acceptLanguage:`zh-CN,en`}).then(r=>{let i=Array.isArray(r)?r[0]:null,a=i?.lat?parseFloat(i.lat):NaN,o=i?.lon?parseFloat(i.lon):NaN,s=Number.isFinite(a)&&Number.isFinite(o)?[a,o]:n;S({id:e,name:t,area:i?.display_name&&String(i.display_name).split(`,`).slice(1,3).join(`  `).trim()||``,weather:``,coverImage:jv(e,t),recommendations:Pv(t,/[\u4e00-\u9fa5]/.test(t)),coordinates:s}),w(!1),ge(!0),h(`agent-chat`)}).catch(()=>{S({id:e,name:t,area:``,weather:``,coverImage:jv(e,t),recommendations:Pv(t,/[\u4e00-\u9fa5]/.test(t)),coordinates:n}),w(!1),ge(!0),h(`agent-chat`)})},nt=()=>{w(!C)},rt=e=>{if(!x)return;S({...x,area:e}),w(!1);let t={id:`sys-${Date.now()}`,type:`text`,content:`${e}`,sender:`agent`,timestamp:Date.now()};l(e=>[...e,t])},it=e=>{let t=Nv[e]||N.find(t=>t.id===e);t&&(S(t),w(!1),ge(!0),h(`agent-chat`))},at=async e=>{await Oc.add(e),t(`/travelogue/${e.id}`)},ot=A.find(e=>typeof e.distance==`number`&&e.distance>0&&e.distance<=50),st=typeof ot?.name==`string`?ot.name.trim():``,ct=!!(k&&st);return(0,U.jsxs)(`div`,{className:`flex flex-col h-screen w-full bg-transparent text-stone-800 relative overflow-hidden`,children:[m===`locating`&&(0,U.jsxs)(`div`,{className:`absolute inset-0 z-[700] bg-stone-900 flex flex-col items-center justify-center text-white space-y-6`,children:[(0,U.jsx)(`button`,{onClick:()=>t(`/`,{replace:!0}),className:`absolute top-4 right-4 p-2 text-stone-400 hover:text-white bg-stone-800/50 rounded-full transition-colors z-[710]`,children:(0,U.jsx)(Ur,{size:24})}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(`div`,{className:`w-24 h-24 border-2 border-stone-700 rounded-full animate-ping absolute inset-0`}),(0,U.jsx)(`div`,{className:`w-24 h-24 border-2 border-amber-500/50 rounded-full animate-pulse absolute inset-0 delay-75`}),(0,U.jsx)(`div`,{className:`w-24 h-24 flex items-center justify-center`,children:(0,U.jsx)(er,{size:48,className:`text-amber-500 animate-spin-slow`})})]}),(0,U.jsxs)(`div`,{className:`text-center space-y-2`,children:[(0,U.jsx)(`h3`,{className:`text-xl font-bold font-serif`,children:``}),(0,U.jsx)(`p`,{className:`text-stone-400 text-sm animate-pulse`,children:``}),(0,U.jsx)(`p`,{className:`text-stone-600 text-xs mt-4`,children:``}),(0,U.jsx)(`button`,{onClick:()=>h(`manual-selection`),className:`mt-6 px-6 py-2 bg-stone-800 rounded-full text-xs text-stone-400 hover:text-white hover:bg-stone-700 transition-colors border border-stone-700`,children:``})]})]}),m===`manual-selection`&&(0,U.jsxs)(`div`,{className:`absolute inset-0 z-[600] bg-stone-900 flex flex-col items-center justify-center text-white p-6`,children:[(0,U.jsx)(`button`,{onClick:()=>t(`/`,{replace:!0}),className:`absolute top-4 right-4 p-2 text-stone-400 hover:text-white bg-stone-800/50 rounded-full transition-colors z-[610]`,children:(0,U.jsx)(Ur,{size:24})}),(0,U.jsxs)(`div`,{className:`w-full max-w-md space-y-4 animate-in fade-in zoom-in duration-300 flex flex-col h-[80vh]`,children:[(0,U.jsxs)(`div`,{className:`text-center space-y-2 flex-shrink-0`,children:[g?(0,U.jsx)(`div`,{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 border transition-colors bg-amber-500/20 border-amber-500`,children:(0,U.jsx)(pr,{size:32,className:`text-amber-500 animate-spin`})}):(0,U.jsx)(`div`,{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 border transition-colors ${k?`bg-amber-500/20 border-amber-500`:`bg-stone-800 border-stone-700`}`,children:(0,U.jsx)(_r,{size:32,className:k?`text-amber-500`:`text-stone-400`})}),(0,U.jsx)(`h3`,{className:`text-xl font-bold font-serif`,children:g?``:ct?``:` / /`}),(0,U.jsx)(`p`,{className:`text-stone-400 text-sm`,children:g?``:ct?`${st}`:``})]}),(0,U.jsxs)(`div`,{className:`relative flex-shrink-0`,children:[re?(0,U.jsx)(pr,{className:`absolute left-3 top-3 text-amber-500 animate-spin`,size:18}):(0,U.jsx)(Ar,{className:`absolute left-3 top-3 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:`text`,value:M,onChange:e=>$e(e.target.value),placeholder:`/...`,className:`w-full bg-stone-800 border border-stone-700 rounded-xl py-2.5 pl-10 pr-4 text-sm text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 transition-colors`})]}),(0,U.jsxs)(`div`,{className:`grid grid-cols-1 gap-3 overflow-y-auto flex-1 min-h-0 pr-1 custom-scrollbar`,children:[!g&&!M&&N.length>0&&(0,U.jsxs)(`div`,{className:`flex items-center px-1 pt-1 pb-2`,children:[(0,U.jsx)(er,{size:12,className:`text-amber-500 mr-1.5`}),(0,U.jsx)(`span`,{className:`text-xs font-bold text-stone-500 uppercase tracking-wider`,children:k&&N.some(e=>e.distance>0&&e.distance<=50&&!!e.name)?`/`:`/`})]}),g&&!M?(0,U.jsxs)(`div`,{className:`text-center py-10 text-stone-400 text-sm`,children:[(0,U.jsx)(`div`,{className:`flex items-center justify-center mb-3`,children:(0,U.jsx)(pr,{size:20,className:`text-amber-500 animate-spin`})}),``]}):N.map(e=>(0,U.jsxs)(`button`,{onClick:()=>it(e.id),className:`flex items-center p-3 bg-stone-800 hover:bg-stone-700 border border-stone-700 rounded-xl transition-all text-left group active:scale-95 flex-shrink-0`,children:[(0,U.jsxs)(`div`,{className:`w-16 h-12 bg-stone-900 rounded-lg overflow-hidden mr-4 border border-stone-600 relative`,children:[(0,U.jsx)(Mv,{src:e.coverImage,alt:e.name,className:`w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity`}),e.id.startsWith(`osm-`)&&(0,U.jsx)(`div`,{className:`absolute top-0 right-0 p-0.5 bg-black/60 rounded-bl-md`,children:(0,U.jsx)(ir,{size:8,className:`text-white/80`})})]}),(0,U.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-baseline`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-base text-stone-100 truncate pr-2`,children:e.name}),e.distance>0&&(0,U.jsx)(`span`,{className:`text-[10px] text-stone-500 flex-shrink-0`,children:e.distance<1?`${(e.distance*1e3).toFixed(0)}m`:`${e.distance.toFixed(1)}km`})]}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 truncate`,children:e.area})]}),(0,U.jsx)(Xn,{className:`-rotate-90 text-stone-500 ml-2`,size:16})]},e.id)),!re&&M&&(0,U.jsxs)(`div`,{className:`pt-2 pb-4 px-1`,children:[N.length>0&&(0,U.jsx)(`div`,{className:`text-xs text-stone-500 mb-2 text-center`,children:``}),(0,U.jsxs)(`button`,{onClick:et,className:`w-full py-3 bg-stone-800 border border-stone-600 rounded-xl text-stone-300 hover:bg-stone-700 hover:text-white transition-colors text-sm flex items-center justify-center`,children:[(0,U.jsx)(Dr,{size:16,className:`mr-2`}),` "`,M,`" `]})]}),N.length===0&&!re&&!M&&(0,U.jsxs)(`div`,{className:`text-center py-12 flex flex-col items-center opacity-50`,children:[(0,U.jsx)(Ar,{size:48,className:`text-stone-600 mb-4`,strokeWidth:1}),(0,U.jsx)(`p`,{className:`text-stone-400 text-sm`,children:``})]})]}),(0,U.jsx)(`button`,{onClick:()=>{_(!0),ge(!1),h(`locating`),y(e=>e+1)},className:`w-full py-3 text-sm text-stone-500 hover:text-white transition-colors flex-shrink-0`,children:``})]})]}),he&&m!==`locating`&&(0,U.jsxs)(`div`,{className:`absolute inset-0 z-[800] bg-stone-900/90 backdrop-blur-sm flex flex-col items-center justify-center p-6 animate-in fade-in duration-300`,children:[(0,U.jsx)(`button`,{onClick:()=>{ge(!1),h(`manual-selection`)},className:`absolute top-4 right-4 p-2 text-stone-400 hover:text-white bg-stone-800/50 rounded-full transition-colors z-[810]`,children:(0,U.jsx)(Ur,{size:24})}),(0,U.jsxs)(`div`,{className:`w-full max-w-sm bg-white rounded-3xl p-6 shadow-2xl space-y-6 relative`,children:[(0,U.jsxs)(`div`,{className:`text-center`,children:[(0,U.jsx)(`h3`,{className:`text-xl font-bold font-serif text-stone-900 mb-2`,children:``}),(0,U.jsx)(`p`,{className:`text-stone-500 text-sm`,children:` AI `})]}),(0,U.jsxs)(`div`,{className:`space-y-3`,children:[(0,U.jsxs)(`button`,{onClick:()=>{me(`expert`),ge(!1)},className:`w-full p-4 rounded-xl border-2 border-stone-100 hover:border-amber-500 hover:bg-amber-50 transition-all flex items-center group text-left`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center text-2xl group-hover:bg-white group-hover:shadow-sm transition-colors`,children:``}),(0,U.jsxs)(`div`,{className:`ml-4`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mt-0.5`,children:``})]})]}),(0,U.jsxs)(`button`,{onClick:()=>{me(`humorous`),ge(!1)},className:`w-full p-4 rounded-xl border-2 border-stone-100 hover:border-amber-500 hover:bg-amber-50 transition-all flex items-center group text-left`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center text-2xl group-hover:bg-white group-hover:shadow-sm transition-colors`,children:``}),(0,U.jsxs)(`div`,{className:`ml-4`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mt-0.5`,children:``})]})]}),(0,U.jsxs)(`button`,{onClick:()=>{me(`kids`),ge(!1)},className:`w-full p-4 rounded-xl border-2 border-stone-100 hover:border-amber-500 hover:bg-amber-50 transition-all flex items-center group text-left`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center text-2xl group-hover:bg-white group-hover:shadow-sm transition-colors`,children:``}),(0,U.jsxs)(`div`,{className:`ml-4`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mt-0.5`,children:``})]})]})]})]})]}),m===`agent-chat`?(0,U.jsxs)(`div`,{className:`absolute inset-0 z-0 transition-opacity duration-500 ${_e?`opacity-100`:`opacity-80`} pointer-events-auto`,children:[D?(0,U.jsxs)(dv,{center:x?.coordinates||[48.8606,2.3376],zoom:16,style:{width:`100%`,height:`100%`},zoomControl:!1,attributionControl:!1,zoomAnimation:!1,fadeAnimation:!1,children:[(0,U.jsx)(hv,{url:ue[T],attribution:fe,subdomains:de,updateWhenZooming:!1,eventHandlers:{tileerror:()=>{let e=Date.now();e-ee.current<1200||(ee.current=e,T<ue.length-1?E(T+1):O(!1))}}}),x&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(pv,{position:x.coordinates,icon:wv}),(0,U.jsx)(Lv,{center:x.coordinates,zoom:16})]})]}):(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-br from-stone-100 via-stone-50 to-amber-50/40`}),(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-stone-50 via-stone-50/80 to-transparent pointer-events-none z-[400] transition-opacity duration-500 ${_e?`opacity-0`:`opacity-100`}`})]}):(0,U.jsx)(`div`,{className:`absolute inset-0 z-0 bg-gradient-to-br from-stone-100 via-stone-50 to-amber-50/40`}),m===`agent-chat`&&(0,U.jsx)(`button`,{onClick:()=>ve(!_e),className:`absolute bottom-40 right-4 z-[600] w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center text-stone-600 hover:text-amber-500 hover:bg-stone-50 transition-all active:scale-95 border border-stone-100`,children:_e?(0,U.jsx)(yr,{size:24}):(0,U.jsx)(vr,{size:24})}),m===`agent-chat`&&x&&(0,U.jsxs)(`div`,{className:`absolute top-0 left-0 right-0 w-full max-w-3xl mx-auto px-4 pt-12 pb-4 z-[500] pointer-events-none animate-in slide-in-from-top-4 duration-500 flex gap-2 transition-transform duration-500 ${_e?`-translate-y-full`:`translate-y-0`}`,children:[(0,U.jsxs)(`button`,{onClick:nt,className:`bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 p-1.5 pr-4 pointer-events-auto flex items-center flex-1 min-w-0 text-left active:scale-[0.98] transition-all relative z-30`,children:[(0,U.jsx)(`div`,{className:`w-9 h-9 rounded-full bg-stone-100 overflow-hidden border border-stone-200 flex-shrink-0 relative`,children:(0,U.jsx)(Mv,{src:x?.coverImage,alt:`Location`,className:`w-full h-full object-cover`})}),(0,U.jsxs)(`div`,{className:`min-w-0 flex-1 ml-2.5`,children:[(0,U.jsx)(`h2`,{className:`font-bold text-stone-900 text-sm flex items-center truncate leading-tight`,children:(0,U.jsx)(`span`,{className:`truncate`,children:x?.name})}),(0,U.jsxs)(`div`,{className:`flex items-center text-[10px] text-stone-500 mt-0.5 leading-tight`,children:[(0,U.jsx)(_r,{size:10,className:`mr-0.5`}),(0,U.jsx)(`span`,{className:`truncate max-w-[120px]`,children:x?.area})]})]}),(0,U.jsx)(Xn,{size:14,className:`text-stone-400 ml-2 transition-transform duration-300 ${C?`rotate-180`:``}`})]}),(0,U.jsxs)(`div`,{className:`flex gap-2 relative`,children:[(0,U.jsx)(`button`,{onClick:()=>we(!Ce),className:`w-10 h-10 bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 pointer-events-auto flex items-center justify-center active:scale-95 transition-all z-30 ${Ce?`text-amber-600 bg-amber-50`:`text-stone-600`}`,children:(0,U.jsx)(tr,{size:20})}),Ce&&(0,U.jsx)(`div`,{className:`absolute top-12 right-0 w-48 bg-white rounded-2xl shadow-xl border border-stone-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 pointer-events-auto z-40`,children:(0,U.jsxs)(`div`,{className:`p-1.5 space-y-1`,children:[(0,U.jsxs)(`button`,{onClick:()=>{Se(!0),we(!1)},className:`w-full flex items-center px-3 py-2.5 rounded-xl hover:bg-stone-50 text-left transition-colors group`,children:[(0,U.jsx)(`div`,{className:`w-8 h-8 rounded-full bg-purple-50 text-purple-600 flex items-center justify-center mr-3 group-hover:bg-purple-100 transition-colors`,children:(0,U.jsx)(Kn,{size:16})}),(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`div`,{className:`text-sm font-bold text-stone-800`,children:`AI`}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-400`,children:``})]})]}),(0,U.jsxs)(`button`,{onClick:()=>{We(),we(!1)},className:`w-full flex items-center px-3 py-2.5 rounded-xl hover:bg-stone-50 text-left transition-colors group`,children:[(0,U.jsx)(`div`,{className:`w-8 h-8 rounded-full bg-green-50 text-green-600 flex items-center justify-center mr-3 group-hover:bg-green-100 transition-colors`,children:(0,U.jsx)(br,{size:16})}),(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`div`,{className:`text-sm font-bold text-stone-800`,children:``}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-400`,children:``})]})]}),(0,U.jsxs)(`button`,{onClick:()=>{s(!0),we(!1)},className:`w-full flex items-center px-3 py-2.5 rounded-xl hover:bg-stone-50 text-left transition-colors group`,children:[(0,U.jsx)(`div`,{className:`w-8 h-8 rounded-full bg-amber-50 text-amber-600 flex items-center justify-center mr-3 group-hover:bg-amber-100 transition-colors`,children:(0,U.jsx)(sr,{size:16})}),(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`div`,{className:`text-sm font-bold text-stone-800`,children:``}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-400`,children:``})]})]})]})}),(0,U.jsx)(`button`,{onClick:()=>t(`/`,{replace:!0}),className:`w-10 h-10 bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 pointer-events-auto flex items-center justify-center active:scale-95 transition-all text-stone-600 hover:text-red-500 z-30`,children:(0,U.jsx)(Ur,{size:18})})]}),C&&(0,U.jsxs)(`div`,{className:`absolute top-full left-4 right-4 mt-2 bg-white rounded-2xl shadow-xl border border-stone-100 overflow-hidden animate-in slide-in-from-top-4 fade-in duration-200 pointer-events-auto z-20`,children:[(0,U.jsxs)(`div`,{className:`p-4 bg-stone-50 border-b border-stone-100 flex justify-between items-center`,children:[(0,U.jsx)(`h3`,{className:`font-bold text-sm text-stone-900`,children:``}),(x.floorPlanUrl||Nv[x.id])&&(0,U.jsx)(`span`,{className:`text-xs text-stone-400`,children:``})]}),(0,U.jsxs)(`div`,{className:`p-4 pb-0`,children:[(0,U.jsxs)(`h4`,{className:`text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider flex justify-between items-center`,children:[``,(0,U.jsx)(`span`,{className:`text-[10px] bg-stone-100 text-stone-400 px-1.5 py-0.5 rounded`,children:k?`GPS`:``})]}),(0,U.jsx)(`div`,{className:`flex gap-2 overflow-x-auto no-scrollbar pb-2`,children:A.map(e=>(0,U.jsxs)(`button`,{onClick:()=>it(e.id),className:`flex-shrink-0 w-32 p-2 rounded-xl border transition-all text-left ${x?.id===e.id?`bg-stone-900 border-stone-900 text-white shadow-md`:`bg-white border-stone-200 text-stone-800 hover:border-stone-400`}`,children:[(0,U.jsxs)(`div`,{className:`h-16 rounded-lg bg-stone-200 mb-2 overflow-hidden relative`,children:[(0,U.jsx)(Mv,{src:e.coverImage,alt:e.name,className:`w-full h-full object-cover`}),(0,U.jsx)(`div`,{className:`absolute bottom-1 right-1 bg-black/50 backdrop-blur-sm text-white text-[8px] px-1 rounded`,children:e.distance<1?`${(e.distance*1e3).toFixed(0)}m`:`${e.distance.toFixed(1)}km`})]}),(0,U.jsx)(`div`,{className:`font-bold text-xs truncate`,children:e.name}),(0,U.jsx)(`div`,{className:`text-[10px] opacity-70 truncate`,children:e.weather})]},e.id))})]}),(0,U.jsx)(`div`,{className:`p-4 relative pt-2`,children:x.floorPlanUrl||Nv[x.id]?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(`h4`,{className:`text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider`,children:``}),(0,U.jsxs)(`div`,{className:`aspect-[4/3] bg-stone-100 rounded-xl relative overflow-hidden border border-stone-200`,children:[(0,U.jsx)(`button`,{onClick:()=>rt(` 1F  `),className:`absolute top-[10%] left-[10%] w-[40%] h-[40%] rounded-lg flex items-center justify-center text-[10px] font-bold border-2 transition-all ${x?.area.includes(``)?`bg-amber-100 border-amber-500 text-amber-700 shadow-md scale-105 z-10`:`bg-white border-stone-200 text-stone-500 hover:bg-stone-50`}`,children:``}),(0,U.jsx)(`button`,{onClick:()=>rt(` 2F  `),className:`absolute bottom-[10%] right-[10%] w-[50%] h-[30%] rounded-lg flex items-center justify-center text-[10px] font-bold border-2 transition-all ${x?.area.includes(``)?`bg-amber-100 border-amber-500 text-amber-700 shadow-md scale-105 z-10`:`bg-white border-stone-200 text-stone-500 hover:bg-stone-50`}`,children:``}),(0,U.jsx)(`button`,{onClick:()=>rt(` 3F  `),className:`absolute top-[10%] right-[10%] w-[30%] h-[40%] rounded-lg flex items-center justify-center text-[10px] font-bold border-2 transition-all ${x?.area.includes(``)?`bg-amber-100 border-amber-500 text-amber-700 shadow-md scale-105 z-10`:`bg-white border-stone-200 text-stone-500 hover:bg-stone-50`}`,children:``}),(0,U.jsx)(`div`,{className:`absolute top-1/2 left-1/2 w-3 h-3 bg-blue-500 rounded-full border-2 border-white shadow-sm transform -translate-x-1/2 -translate-y-1/2 z-20 animate-pulse`})]}),(0,U.jsx)(`div`,{className:`mt-3 text-center`,children:(0,U.jsxs)(`button`,{className:`text-xs text-blue-600 font-medium flex items-center justify-center mx-auto`,children:[(0,U.jsx)(vr,{size:12,className:`mr-1`}),` `]})})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(`h4`,{className:`text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider`,children:`/`}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(Ar,{className:`absolute left-3 top-3 text-stone-400`,size:16}),(0,U.jsx)(`input`,{type:`text`,placeholder:`...`,value:M,onChange:e=>$e(e.target.value),className:`w-full bg-stone-100 border border-stone-200 rounded-xl py-2.5 pl-9 pr-4 text-sm text-stone-800 placeholder-stone-400 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all`})]}),M&&(0,U.jsx)(`div`,{className:`mt-2 max-h-40 overflow-y-auto custom-scrollbar border border-stone-100 rounded-lg bg-white shadow-sm`,children:N.length>0?N.slice(0,3).map(e=>(0,U.jsxs)(`button`,{onClick:()=>it(e.id),className:`w-full text-left p-2 hover:bg-stone-50 flex items-center border-b border-stone-50 last:border-0`,children:[(0,U.jsx)(`div`,{className:`w-8 h-8 rounded bg-stone-200 mr-2 overflow-hidden flex-shrink-0`,children:(0,U.jsx)(Mv,{src:e.coverImage,alt:e.name,className:`w-full h-full object-cover`})}),(0,U.jsxs)(`div`,{className:`min-w-0`,children:[(0,U.jsx)(`div`,{className:`text-xs font-bold truncate text-stone-800`,children:e.name}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-500 truncate`,children:e.area})]})]},e.id)):(0,U.jsx)(`div`,{className:`p-3 text-center`,children:(0,U.jsxs)(`button`,{onClick:et,className:`text-xs text-amber-600 font-medium flex items-center justify-center mx-auto`,children:[(0,U.jsx)(Dr,{size:12,className:`mr-1`}),` "`,M,`"`]})})})]})})]})]}),Ne&&(0,U.jsx)(`div`,{className:`absolute inset-0 z-[900] bg-black/40 flex flex-col items-center justify-center pointer-events-none`,children:(0,U.jsx)(`div`,{className:`transition-all duration-300 transform ${Le?`scale-110 opacity-100`:`scale-100 opacity-60`}`,children:(0,U.jsx)(`div`,{className:`w-32 h-32 rounded-full flex items-center justify-center mb-8 ${Le?`bg-red-500`:`bg-stone-800/80`}`,children:(0,U.jsx)(`div`,{className:`text-center text-white`,children:Le?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Ur,{size:32,className:`mx-auto mb-1`}),(0,U.jsx)(`span`,{className:`text-xs font-bold`,children:``})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(`div`,{className:`flex justify-center space-x-1 mb-2 h-4 items-end`,children:[(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite] h-2`}),(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.1s] h-4`}),(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.2s] h-3`}),(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.1s] h-4`}),(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.3s] h-2`})]}),(0,U.jsx)(`span`,{className:`text-xs`,children:`...`}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-300 mt-1`,children:``})]})})})})}),m===`agent-chat`&&(0,U.jsxs)(`div`,{className:`flex flex-col h-full w-full max-w-3xl mx-auto z-[450] pt-32 pb-safe pointer-events-none transition-all duration-500 ${_e?`opacity-0 translate-y-20`:`opacity-100 translate-y-0`}`,children:[(0,U.jsxs)(`div`,{className:`flex-1 overflow-y-auto px-4 space-y-6 pb-4 pointer-events-auto`,children:[c.map(e=>(0,U.jsxs)(`div`,{className:`flex flex-col ${e.sender===`user`?`items-end`:`items-start`}`,children:[e.type===`text`&&(0,U.jsx)(`div`,{className:`max-w-[85%] px-5 py-3.5 rounded-2xl text-sm leading-relaxed shadow-sm ${e.sender===`user`?`bg-stone-900 text-white rounded-tr-none`:`bg-white/90 backdrop-blur-md text-stone-800 border border-white/50 rounded-tl-none`}`,children:e.sender===`agent`&&e.id.startsWith(`agent-typing-`)?(0,U.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,U.jsx)(`span`,{className:`text-xs font-medium text-stone-500`,children:``}),(0,U.jsxs)(`div`,{className:`flex items-end space-x-1`,children:[(0,U.jsx)(`span`,{className:`w-1.5 h-1.5 bg-stone-400 rounded-full animate-bounce [animation-duration:900ms]`}),(0,U.jsx)(`span`,{className:`w-1.5 h-1.5 bg-stone-400 rounded-full animate-bounce [animation-duration:900ms] [animation-delay:150ms]`}),(0,U.jsx)(`span`,{className:`w-1.5 h-1.5 bg-stone-400 rounded-full animate-bounce [animation-duration:900ms] [animation-delay:300ms]`})]})]}):typeof e.content==`string`?e.content:``}),e.sender===`agent`&&e.type===`text`&&(e.audioUrl||e.cardData)&&(0,U.jsxs)(`button`,{onClick:()=>Ke(typeof e.content==`string`?e.content:``,e.id),className:`mt-1 p-1.5 rounded-full transition-colors flex items-center space-x-1 ${ke===e.id?`text-amber-500 bg-amber-50`:`text-stone-400 hover:text-stone-600`}`,children:[ke===e.id?(0,U.jsx)($n,{size:14}):(0,U.jsx)(Vr,{size:14}),(0,U.jsx)(`span`,{className:`text-[10px] font-medium`,children:ke===e.id?``:``})]}),e.type===`image`&&(0,U.jsx)(`div`,{className:`max-w-[70%]`,children:Array.isArray(e.content)&&e.content.length>1?(0,U.jsx)(`div`,{className:`grid gap-1 rounded-xl overflow-hidden shadow-md border-2 border-white ${e.content.length===2||e.content.length===3||e.content.length===4?`grid-cols-2`:`grid-cols-3`}`,children:e.content.map((e,t)=>(0,U.jsx)(`div`,{className:`relative aspect-square`,children:(0,U.jsx)(`img`,{src:e,alt:`Upload ${t}`,className:`w-full h-full object-cover`})},t))}):(0,U.jsx)(`div`,{className:`rounded-xl overflow-hidden shadow-md border-2 border-white`,children:(0,U.jsx)(`img`,{src:typeof e.content==`string`?e.content:e.content[0],alt:`Upload`,className:`w-full h-auto`})})}),e.type===`card`&&e.cardData&&(0,U.jsxs)(`div`,{className:`max-w-[90%] w-full bg-white rounded-2xl overflow-hidden shadow-lg border border-stone-100 mt-1 animate-in fade-in slide-in-from-bottom-2 duration-500`,children:[(0,U.jsxs)(`div`,{className:`relative h-40`,children:[(0,U.jsx)(`img`,{src:e.cardData.image,alt:e.cardData.title,className:`w-full h-full object-cover`}),(0,U.jsxs)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-4`,children:[(0,U.jsx)(`h3`,{className:`text-white font-bold text-lg`,children:e.cardData.title}),(0,U.jsx)(`p`,{className:`text-white/80 text-xs`,children:e.cardData.subtitle})]}),(0,U.jsx)(`button`,{className:`absolute top-3 right-3 w-8 h-8 bg-black/30 backdrop-blur-md rounded-full flex items-center justify-center text-white`,children:(0,U.jsx)(Er,{size:14,fill:`white`})})]}),(0,U.jsxs)(`div`,{className:`p-4`,children:[(0,U.jsx)(`p`,{className:`text-sm text-stone-600 leading-relaxed mb-3 line-clamp-3`,children:e.cardData.description}),(0,U.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:e.cardData.tags.map(e=>(0,U.jsx)(`span`,{className:`text-[10px] bg-stone-100 text-stone-500 px-2 py-1 rounded-md`,children:e},e))})]})]})]},e.id)),(0,U.jsx)(`div`,{ref:f})]}),(0,U.jsx)(`div`,{className:`px-4 pb-2 flex gap-2 overflow-x-auto no-scrollbar mask-linear-fade pointer-events-auto`,children:x?.recommendations.map((e,t)=>(0,U.jsx)(`button`,{onClick:()=>Ze(e),className:`whitespace-nowrap px-3 py-1.5 bg-white/80 backdrop-blur-sm border border-stone-200/50 rounded-full text-xs font-medium text-stone-600 shadow-sm hover:bg-white hover:text-amber-600 transition-colors`,children:e},t))}),(0,U.jsx)(`div`,{className:`px-4 py-3 bg-gradient-to-t from-white via-white to-transparent pointer-events-auto`,children:(0,U.jsxs)(`div`,{className:`bg-white rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-stone-100 p-1.5 flex items-center`,children:[(0,U.jsx)(`button`,{onClick:()=>Me(!je),className:`w-10 h-10 rounded-full bg-stone-50 text-stone-500 flex items-center justify-center hover:bg-stone-100 active:scale-95 transition-all`,children:je?(0,U.jsx)(dr,{size:20}):(0,U.jsx)(Sr,{size:20})}),je?(0,U.jsx)(`button`,{className:`flex-1 mx-2 h-9 bg-stone-100 hover:bg-stone-200 active:bg-stone-300 rounded-full text-sm font-bold text-stone-600 select-none touch-none transition-colors flex items-center justify-center`,onMouseDown:qe,onMouseUp:Je,onMouseMove:e=>{Ne&&(e.clientY<e.target.getBoundingClientRect().top-50?Re(!0):Re(!1))},onTouchStart:qe,onTouchEnd:Je,onTouchMove:Ye,children:Ne?Le?``:``:``}):(0,U.jsx)(`input`,{type:`text`,value:u,onChange:e=>d(e.target.value),onKeyPress:e=>e.key===`Enter`&&Ze(),placeholder:`...`,className:`flex-1 bg-transparent border-none focus:ring-0 text-sm px-3 text-stone-800 placeholder-stone-400`}),(0,U.jsx)(`input`,{type:`file`,ref:p,accept:`image/*`,multiple:!0,className:`hidden`,onChange:Qe}),(0,U.jsx)(`button`,{onClick:()=>p.current?.click(),className:`w-10 h-10 rounded-full text-stone-500 flex items-center justify-center hover:bg-stone-100 active:scale-95 transition-all mr-1`,children:(0,U.jsx)(Jn,{size:20})}),(0,U.jsx)(`button`,{onClick:()=>Ze(u),disabled:!u.trim(),className:`w-10 h-10 rounded-full flex items-center justify-center text-white shadow-md transition-all active:scale-95 ${u.trim()?`bg-stone-900 scale-100`:`bg-stone-300 scale-90 opacity-0 w-0 overflow-hidden`}`,children:(0,U.jsx)(jr,{size:18})})]})})]}),ye&&(0,U.jsx)(`div`,{className:`absolute inset-0 z-[1000] bg-stone-900/60 backdrop-blur-sm flex flex-col items-center justify-center p-6 animate-in fade-in duration-300`,children:(0,U.jsxs)(`div`,{className:`w-full max-w-sm bg-white rounded-2xl shadow-2xl p-8 relative overflow-hidden text-center animate-in zoom-in-95 duration-300 border border-stone-100`,children:[(0,U.jsx)(`div`,{className:`absolute -top-12 -right-12 w-32 h-32 bg-amber-100 rounded-full blur-3xl opacity-60 pointer-events-none`}),(0,U.jsx)(`div`,{className:`w-16 h-16 bg-amber-50 rounded-full flex items-center justify-center mx-auto mb-6 relative z-10`,children:(0,U.jsx)(mr,{size:32,className:`text-amber-600`})}),(0,U.jsx)(`h3`,{className:`text-2xl font-serif font-bold text-stone-900 mb-3`,children:``}),(0,U.jsxs)(`p`,{className:`text-stone-500 text-sm leading-relaxed mb-8 px-2`,children:[` 2 `,(0,U.jsx)(`br`,{}),``,(0,U.jsx)(`br`,{}),``]}),(0,U.jsxs)(`div`,{className:`space-y-3`,children:[(0,U.jsx)(`button`,{onClick:()=>t(`/auth`),className:`w-full py-3.5 bg-amber-600 hover:bg-amber-500 text-white font-bold rounded-xl shadow-lg shadow-amber-900/20 active:scale-[0.98] transition-all flex items-center justify-center`,children:` / `}),(0,U.jsx)(`button`,{onClick:()=>be(!1),className:`w-full py-3.5 bg-white text-stone-400 hover:text-stone-600 font-medium rounded-xl transition-colors text-sm`,children:``})]})]})}),o&&(0,U.jsxs)(`div`,{className:`absolute inset-0 z-[850] bg-stone-900/50 backdrop-blur-sm animate-in fade-in duration-200`,children:[(0,U.jsxs)(`div`,{className:`absolute top-0 bottom-0 right-0 w-3/4 max-w-sm bg-white shadow-2xl animate-in slide-in-from-right duration-300 flex flex-col`,children:[(0,U.jsxs)(`div`,{className:`p-4 border-b border-stone-100 flex justify-between items-center bg-stone-50`,children:[(0,U.jsxs)(`h3`,{className:`font-bold text-lg text-stone-800 flex items-center`,children:[(0,U.jsx)(sr,{size:20,className:`mr-2 text-amber-500`}),``]}),(0,U.jsx)(`button`,{onClick:()=>s(!1),className:`p-2 hover:bg-stone-200 rounded-full`,children:(0,U.jsx)(Ur,{size:20,className:`text-stone-500`})})]}),(0,U.jsx)(`div`,{className:`flex-1 overflow-y-auto px-4 py-4 space-y-3`,children:n.length===0?(0,U.jsx)(`div`,{className:`text-center py-10 text-stone-400 text-sm`,children:``}):n.map(e=>(0,U.jsxs)(`div`,{onClick:()=>Ue(e),className:`p-3 rounded-xl border transition-all cursor-pointer group relative ${i===e.id?`bg-amber-50 border-amber-200 ring-1 ring-amber-200`:`bg-white border-stone-100 hover:border-amber-200 hover:shadow-sm`}`,children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-start mb-1`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-800 text-sm`,children:e.locationName}),(0,U.jsx)(`span`,{className:`text-[10px] text-stone-400`,children:new Date(e.lastMessageTime).toLocaleDateString()})]}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 line-clamp-2 pr-6`,children:e.preview||``}),(0,U.jsx)(`button`,{onClick:t=>Ge(t,e.id),className:`absolute bottom-3 right-3 p-1.5 text-stone-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100`,children:(0,U.jsx)(Ir,{size:14})})]},e.id))})]}),(0,U.jsx)(`div`,{className:`absolute inset-0 -z-10`,onClick:()=>s(!1)})]}),Ce&&(0,U.jsx)(`div`,{className:`absolute inset-0 z-[499]`,onClick:()=>we(!1)}),(0,U.jsx)(vv,{isOpen:xe,onClose:()=>Se(!1),messages:c,location:x,persona:pe,user:Te,onGenerate:at})]})},Vv=()=>{let[e,t]=(0,b.useState)([]);return(0,b.useEffect)(()=>{(async()=>{t(await Oc.getAll())})()},[]),(0,U.jsxs)(`div`,{className:`flex flex-col h-screen w-full bg-transparent text-stone-800 relative overflow-hidden`,children:[(0,U.jsx)(`header`,{className:`w-full max-w-3xl mx-auto px-6 py-4 flex justify-between items-center bg-transparent sticky top-0 z-10 relative pt-8`,children:(0,U.jsx)(`h1`,{className:`text-2xl font-bold font-serif text-stone-900 tracking-wide`,children:``})}),(0,U.jsx)(`main`,{className:`flex-1 w-full max-w-3xl mx-auto p-2 overflow-y-auto relative z-10 pb-24`,children:(0,U.jsx)(`div`,{className:`columns-2 md:columns-2 gap-4 space-y-4`,children:e.map(e=>(0,U.jsxs)(vn,{to:`/travelogue/${e.id}`,className:`bg-white rounded-xl overflow-hidden shadow-sm border border-stone-100 break-inside-avoid block active:scale-[0.99] transition-transform`,children:[(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(`img`,{src:e.cover,alt:e.title,className:`w-full h-48 object-cover`}),(0,U.jsx)(`div`,{className:`absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full backdrop-blur-sm`,children:`AI `})]}),(0,U.jsxs)(`div`,{className:`p-3`,children:[(0,U.jsx)(`h3`,{className:`font-bold text-stone-900 text-sm mb-1 line-clamp-2`,children:e.title}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mb-3 line-clamp-2`,children:e.intro}),(0,U.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,U.jsx)(`img`,{src:e.avatar,className:`w-5 h-5 rounded-full object-cover`,alt:`Avatar`}),(0,U.jsx)(`span`,{className:`text-xs text-stone-600`,children:e.author})]}),(0,U.jsx)(`div`,{className:`flex items-center space-x-3 text-stone-400`,children:(0,U.jsxs)(`div`,{className:`flex items-center space-x-1`,children:[(0,U.jsx)(or,{size:14}),(0,U.jsx)(`span`,{className:`text-xs`,children:e.likes})]})})]})]})]},e.id))})})]})},Hv=(0,b.createContext)({});function Uv(e){let t=(0,b.useRef)(null);return t.current===null&&(t.current=e()),t.current}var Wv=typeof window<`u`,Gv=Wv?b.useLayoutEffect:b.useEffect,Kv=(0,b.createContext)(null);function qv(e,t){e.indexOf(t)===-1&&e.push(t)}function Jv(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Yv=(e,t,n)=>n>t?t:n<e?e:n,Xv={},Zv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Qv(e){return typeof e==`object`&&!!e}var $v=e=>/^0[^.\s]+$/u.test(e);function ey(e){let t;return()=>(t===void 0&&(t=e()),t)}var ty=e=>e,ny=(e,t)=>n=>t(e(n)),ry=(...e)=>e.reduce(ny),iy=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r},ay=class{constructor(){this.subscriptions=[]}add(e){return qv(this.subscriptions,e),()=>Jv(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},oy=e=>e*1e3,sy=e=>e/1e3;function cy(e,t){return t?e*(1e3/t):0}var ly=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,uy=1e-7,dy=12;function fy(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=ly(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>uy&&++s<dy);return o}function py(e,t,n,r){if(e===t&&n===r)return ty;let i=t=>fy(t,0,1,e,n);return e=>e===0||e===1?e:ly(i(e),t,r)}var my=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hy=e=>t=>1-e(1-t),gy=py(.33,1.53,.69,.99),_y=hy(gy),vy=my(_y),yy=e=>(e*=2)<1?.5*_y(e):.5*(2-2**(-10*(e-1))),by=e=>1-Math.sin(Math.acos(e)),xy=hy(by),Sy=my(by),Cy=py(.42,0,1,1),wy=py(0,0,.58,1),Ty=py(.42,0,.58,1),Ey=e=>Array.isArray(e)&&typeof e[0]!=`number`,Dy=e=>Array.isArray(e)&&typeof e[0]==`number`,Oy={linear:ty,easeIn:Cy,easeInOut:Ty,easeOut:wy,circIn:by,circInOut:Sy,circOut:xy,backIn:_y,backInOut:vy,backOut:gy,anticipate:yy},ky=e=>typeof e==`string`,Ay=e=>{if(Dy(e)){e.length;let[t,n,r,i]=e;return py(t,n,r,i)}else if(ky(e))return Oy[e],`${e}`,Oy[e];return e},jy=[`setup`,`read`,`resolveKeyframes`,`preUpdate`,`update`,`preRender`,`render`,`postRender`],My={value:null,addProjectionMetrics:null};function Ny(e,t){let n=new Set,r=new Set,i=!1,a=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},c=0;function l(t){o.has(t)&&(u.schedule(t),e()),c++,t(s)}let u={schedule:(e,t=!1,a=!1)=>{let s=a&&i?n:r;return t&&o.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(s=e,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),t&&My.value&&My.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}var Py=40;function Fy(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=jy.reduce((e,n)=>(e[n]=Ny(a,t?n:void 0),e),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:p,postRender:m}=o,h=()=>{let a=Xv.useManualTiming?i.timestamp:performance.now();n=!1,Xv.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,Py),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:jy.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,i=!1)=>(n||g(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<jy.length;t++)o[jy[t]].cancel(e)},state:i,steps:o}}var{schedule:Iy,cancel:Ly,state:Ry,steps:zy}=Fy(typeof requestAnimationFrame<`u`?requestAnimationFrame:ty,!0),By;function Vy(){By=void 0}var Hy={now:()=>(By===void 0&&Hy.set(Ry.isProcessing||Xv.useManualTiming?Ry.timestamp:performance.now()),By),set:e=>{By=e,queueMicrotask(Vy)}},Uy={layout:0,mainThread:0,waapi:0},Wy=e=>t=>typeof t==`string`&&t.startsWith(e),Gy=Wy(`--`),Ky=Wy(`var(--`),qy=e=>Ky(e)?Jy.test(e.split(`/*`)[0].trim()):!1,Jy=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Yy(e){return typeof e==`string`?e.split(`/*`)[0].includes(`var(--`):!1}var Xy={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},Zy={...Xy,transform:e=>Yv(0,1,e)},Qy={...Xy,default:1},$y=e=>Math.round(e*1e5)/1e5,eb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tb(e){return e==null}var nb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rb=(e,t)=>n=>!!(typeof n==`string`&&nb.test(n)&&n.startsWith(e)||t&&!tb(n)&&Object.prototype.hasOwnProperty.call(n,t)),ib=(e,t,n)=>r=>{if(typeof r!=`string`)return r;let[i,a,o,s]=r.match(eb);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},ab=e=>Yv(0,255,e),ob={...Xy,transform:e=>Math.round(ab(e))},sb={test:rb(`rgb`,`red`),parse:ib(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+ob.transform(e)+`, `+ob.transform(t)+`, `+ob.transform(n)+`, `+$y(Zy.transform(r))+`)`};function cb(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var lb={test:rb(`#`),parse:cb,transform:sb.transform},ub=e=>({test:t=>typeof t==`string`&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),db=ub(`deg`),fb=ub(`%`),$=ub(`px`),pb=ub(`vh`),mb=ub(`vw`),hb=(()=>({...fb,parse:e=>fb.parse(e)/100,transform:e=>fb.transform(e*100)}))(),gb={test:rb(`hsl`,`hue`),parse:ib(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+fb.transform($y(t))+`, `+fb.transform($y(n))+`, `+$y(Zy.transform(r))+`)`},_b={test:e=>sb.test(e)||lb.test(e)||gb.test(e),parse:e=>sb.test(e)?sb.parse(e):gb.test(e)?gb.parse(e):lb.parse(e),transform:e=>typeof e==`string`?e:e.hasOwnProperty(`red`)?sb.transform(e):gb.transform(e),getAnimatableNone:e=>{let t=_b.parse(e);return t.alpha=0,_b.transform(t)}},vb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yb(e){return isNaN(e)&&typeof e==`string`&&(e.match(eb)?.length||0)+(e.match(vb)?.length||0)>0}var bb=`number`,xb=`color`,Sb=`var`,Cb=`var(`,wb="${}",Tb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eb(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0;return{values:n,split:t.replace(Tb,e=>(_b.test(e)?(r.color.push(a),i.push(xb),n.push(_b.parse(e))):e.startsWith(Cb)?(r.var.push(a),i.push(Sb),n.push(e)):(r.number.push(a),i.push(bb),n.push(parseFloat(e))),++a,wb)).split(wb),indexes:r,types:i}}function Db(e){return Eb(e).values}function Ob(e){let{split:t,types:n}=Eb(e),r=t.length;return e=>{let i=``;for(let a=0;a<r;a++)if(i+=t[a],e[a]!==void 0){let t=n[a];t===bb?i+=$y(e[a]):t===xb?i+=_b.transform(e[a]):i+=e[a]}return i}}var kb=e=>typeof e==`number`?0:_b.test(e)?_b.getAnimatableNone(e):e;function Ab(e){let t=Db(e);return Ob(e)(t.map(kb))}var jb={test:yb,parse:Db,createTransformer:Ob,getAnimatableNone:Ab};function Mb(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Nb({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=Mb(s,r,e+1/3),a=Mb(s,r,e),o=Mb(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Pb(e,t){return n=>n>0?t:e}var Fb=(e,t,n)=>e+(t-e)*n,Ib=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Lb=[lb,sb,gb],Rb=e=>Lb.find(t=>t.test(e));function zb(e){let t=Rb(e);if(`${e}`,!t)return!1;let n=t.parse(e);return t===gb&&(n=Nb(n)),n}var Bb=(e,t)=>{let n=zb(e),r=zb(t);if(!n||!r)return Pb(e,t);let i={...n};return e=>(i.red=Ib(n.red,r.red,e),i.green=Ib(n.green,r.green,e),i.blue=Ib(n.blue,r.blue,e),i.alpha=Fb(n.alpha,r.alpha,e),sb.transform(i))},Vb=new Set([`none`,`hidden`]);function Hb(e,t){return Vb.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ub(e,t){return n=>Fb(e,t,n)}function Wb(e){return typeof e==`number`?Ub:typeof e==`string`?qy(e)?Pb:_b.test(e)?Bb:Jb:Array.isArray(e)?Gb:typeof e==`object`?_b.test(e)?Bb:Kb:Pb}function Gb(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>Wb(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Kb(e,t){let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Wb(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}function qb(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],o=e.indexes[a][r[a]];n[i]=e.values[o]??0,r[a]++}return n}var Jb=(e,t)=>{let n=jb.createTransformer(t),r=Eb(e),i=Eb(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Vb.has(e)&&!i.values.length||Vb.has(t)&&!r.values.length?Hb(e,t):ry(Gb(qb(r,i),i.values),n):(`${e}${t}`,Pb(e,t))};function Yb(e,t,n){return typeof e==`number`&&typeof t==`number`&&typeof n==`number`?Fb(e,t,n):Wb(e)(e,t)}var Xb=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>Iy.update(t,e),stop:()=>Ly(t),now:()=>Ry.isProcessing?Ry.timestamp:Hy.now()}},Zb=(e,t,n=10)=>{let r=``,i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=Math.round(e(t/(i-1))*1e4)/1e4+`, `;return`linear(${r.substring(0,r.length-2)})`},Qb=2e4;function $b(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function ex(e,t=100,n){let r=n({...e,keyframes:[0,t]}),i=Math.min($b(r),Qb);return{type:`keyframes`,ease:e=>r.next(i*e).value/t,duration:sy(i)}}var tx=5;function nx(e,t,n){let r=Math.max(t-tx,0);return cy(n-e(r),t-r)}var rx={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ix=.001;function ax({duration:e=rx.duration,bounce:t=rx.bounce,velocity:n=rx.velocity,mass:r=rx.mass}){let i,a;rx.maxDuration;let o=1-t;o=Yv(rx.minDamping,rx.maxDamping,o),e=Yv(rx.minDuration,rx.maxDuration,sy(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=cx(t,o),c=Math.exp(-i);return ix-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=cx(t**2,o);return(-i(t)+ix>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-ix+r*i},a=t=>Math.exp(-t*e)*((n-t)*(e*e)));let s=5/e,c=sx(i,a,s);if(e=oy(e),isNaN(c))return{stiffness:rx.stiffness,damping:rx.damping,duration:e};{let t=c**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var ox=12;function sx(e,t,n){let r=n;for(let n=1;n<ox;n++)r-=e(r)/t(r);return r}function cx(e,t){return e*Math.sqrt(1-t*t)}var lx=[`duration`,`bounce`],ux=[`stiffness`,`damping`,`mass`];function dx(e,t){return t.some(t=>e[t]!==void 0)}function fx(e){let t={velocity:rx.velocity,stiffness:rx.stiffness,damping:rx.damping,mass:rx.mass,isResolvedFromDuration:!1,...e};if(!dx(e,ux)&&dx(e,lx))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Yv(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:rx.mass,stiffness:i,damping:a}}else{let n=ax(e);t={...t,...n,mass:rx.mass},t.isResolvedFromDuration=!0}return t}function px(e=rx.visualDuration,t=rx.bounce){let n=typeof e==`object`?e:{visualDuration:e,keyframes:[0,1],bounce:t},{restSpeed:r,restDelta:i}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=fx({...n,velocity:-sy(n.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(c*u)),g=o-a,_=sy(Math.sqrt(c/u)),v=Math.abs(g)<5;r||=v?rx.restSpeed.granular:rx.restSpeed.default,i||=v?rx.restDelta.granular:rx.restDelta.default;let y;if(h<1){let e=cx(_,h);y=t=>o-Math.exp(-h*_*t)*((m+h*_*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(h===1)y=e=>o-Math.exp(-_*e)*(g+(m+_*g)*e);else{let e=_*Math.sqrt(h*h-1);y=t=>{let n=Math.exp(-h*_*t),r=Math.min(e*t,300);return o-n*((m+h*_*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}let b={calculatedDuration:p&&d||null,next:e=>{let t=y(e);if(p)s.done=e>=d;else{let n=e===0?m:0;h<1&&(n=e===0?oy(m):nx(y,e,t));let a=Math.abs(n)<=r,c=Math.abs(o-t)<=i;s.done=a&&c}return s.value=s.done?o:t,s},toString:()=>{let e=Math.min($b(b),Qb),t=Zb(t=>b.next(e*t).value,e,30);return e+`ms `+t},toTransition:()=>{}};return b}px.applyToOptions=e=>{let t=ex(e,100,px);return e.ease=t.ease,e.duration=oy(t.duration),e.type=`keyframes`,e};function mx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=px({keyframes:[f.value,m(f.value)],velocity:nx(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>=x?S.next(e-x):(!t&&b(e),f)}}}function hx(e,t,n){let r=[],i=n||Xv.mix||Yb,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);t&&(a=ry(Array.isArray(t)?t[n]||ty:t,a)),r.push(a)}return r}function gx(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(t.length,a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=hx(t,r,i),c=s.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(c>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=iy(e[r],e[r+1],n);return s[r](i)};return n?t=>l(Yv(e[0],e[a-1],t)):l}function _x(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=iy(0,t,r);e.push(Fb(n,1,i))}}function vx(e){let t=[0];return _x(t,e.length-1),t}function yx(e,t){return e.map(e=>e*t)}function bx(e,t){return e.map(()=>t||Ty).splice(0,e.length-1)}function xx({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=Ey(r)?r.map(Ay):Ay(r),a={done:!1,value:t[0]},o=gx(yx(n&&n.length===t.length?n:vx(t),e),t,{ease:Array.isArray(i)?i:bx(t,i)});return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}var Sx=e=>e!==null;function Cx(e,{repeat:t,repeatType:n=`loop`},r,i=1){let a=e.filter(Sx),o=i<0||t&&n!==`loop`&&t%2==1?0:a.length-1;return!o||r===void 0?a[o]:r}var wx={decay:mx,inertia:mx,tween:xx,keyframes:xx,spring:px};function Tx(e){typeof e.type==`string`&&(e.type=wx[e.type])}var Ex=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}},Dx=e=>e/100,Ox=class extends Ex{constructor(e){super(),this.state=`idle`,this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==Hy.now()&&this.tick(Hy.now()),this.isStopped=!0,this.state!==`idle`&&(this.teardown(),this.options.onStop?.())},Uy.mainThread++,this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){let{options:e}=this;Tx(e);let{type:t=xx,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e,{keyframes:o}=e,s=t||xx;s!==xx&&typeof o[0]!=`number`&&(this.mixKeyframes=ry(Dx,Yb(o[0],o[1])),o=[0,100]);let c=s({...e,keyframes:o});i===`mirror`&&(this.mirroredGenerator=s({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=$b(c));let{calculatedDuration:l}=c;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime===null?this.currentTime=t:this.currentTime=this.holdTime}tick(e,t=!1){let{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(this.startTime===null)return n.next(0);let{delay:c=0,keyframes:l,repeat:u,repeatType:d,repeatDelay:f,type:p,onUpdate:m,finalKeyframe:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state===`finished`&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,y=n;if(u){let e=Math.min(this.currentTime,r)/o,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,u+1),t%2&&(d===`reverse`?(n=1-n,f&&(n-=f/o)):d===`mirror`&&(y=a)),v=Yv(0,1,n)*o}let b=_?{done:!1,value:l[0]}:y.next(v);i&&(b.value=i(b.value));let{done:x}=b;!_&&s!==null&&(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let S=this.holdTime===null&&(this.state===`finished`||this.state===`running`&&x);return S&&p!==mx&&(b.value=Cx(l,this.options,h,this.speed)),m&&m(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return sy(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+sy(e)}get time(){return sy(this.currentTime)}set time(e){e=oy(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hy.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=sy(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=Xb,startTime:t}=this.options;this.driver||=e(e=>this.tick(e)),this.options.onPlay?.();let n=this.driver.now();this.state===`finished`?(this.updateFinished(),this.startTime=n):this.holdTime===null?this.startTime||=t??n:this.startTime=n-this.holdTime,this.state===`finished`&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state=`running`,this.driver.start()}pause(){this.state=`paused`,this.updateTime(Hy.now()),this.holdTime=this.currentTime}complete(){this.state!==`running`&&this.play(),this.state=`finished`,this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state=`finished`,this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state=`idle`,this.stopDriver(),this.startTime=this.holdTime=null,Uy.mainThread--}stopDriver(){this.driver&&=(this.driver.stop(),void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type=`keyframes`,this.options.ease=`linear`,this.initAnimation()),this.driver?.stop(),e.observe(this)}};function kx(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}var Ax=e=>e*180/Math.PI,jx=e=>Nx(Ax(Math.atan2(e[1],e[0]))),Mx={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:jx,rotateZ:jx,skewX:e=>Ax(Math.atan(e[1])),skewY:e=>Ax(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Nx=e=>(e%=360,e<0&&(e+=360),e),Px=jx,Fx=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ix=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Lx={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fx,scaleY:Ix,scale:e=>(Fx(e)+Ix(e))/2,rotateX:e=>Nx(Ax(Math.atan2(e[6],e[5]))),rotateY:e=>Nx(Ax(Math.atan2(-e[2],e[0]))),rotateZ:Px,rotate:Px,skewX:e=>Ax(Math.atan(e[4])),skewY:e=>Ax(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Rx(e){return e.includes(`scale`)?1:0}function zx(e,t){if(!e||e===`none`)return Rx(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),r,i;if(n)r=Lx,i=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Mx,i=t}if(!i)return Rx(t);let a=r[t],o=i[1].split(`,`).map(Vx);return typeof a==`function`?a(o):o[a]}var Bx=(e,t)=>{let{transform:n=`none`}=getComputedStyle(e);return zx(n,t)};function Vx(e){return parseFloat(e.trim())}var Hx=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`],Ux=(()=>new Set(Hx))(),Wx=e=>e===Xy||e===$,Gx=new Set([`x`,`y`,`z`]),Kx=Hx.filter(e=>!Gx.has(e));function qx(e){let t=[];return Kx.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(`scale`)?1:0))}),t}var Jx={width:({x:e},{paddingLeft:t=`0`,paddingRight:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=`0`,paddingBottom:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>zx(t,`x`),y:(e,{transform:t})=>zx(t,`y`)};Jx.translateX=Jx.x,Jx.translateY=Jx.y;var Yx=new Set,Xx=!1,Zx=!1,Qx=!1;function $x(){if(Zx){let e=Array.from(Yx).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=qx(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{e.suspendedScrollY!==void 0&&window.scrollTo(0,e.suspendedScrollY)})}Zx=!1,Xx=!1,Yx.forEach(e=>e.complete(Qx)),Yx.clear()}function eS(){Yx.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zx=!0)})}function tS(){Qx=!0,eS(),$x(),Qx=!1}var nS=class{constructor(e,t,n,r,i,a=!1){this.state=`pending`,this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state=`scheduled`,this.isAsync?(Yx.add(this),Xx||(Xx=!0,Iy.read(eS),Iy.resolveKeyframes($x))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){let i=r?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){let r=n.readValue(t,a);r!=null&&(e[0]=r)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}kx(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state=`complete`,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Yx.delete(this)}cancel(){this.state===`scheduled`&&(Yx.delete(this),this.state=`pending`)}resume(){this.state===`pending`&&this.scheduleResolve()}},rS=e=>e.startsWith(`--`);function iS(e,t,n){rS(t)?e.style.setProperty(t,n):e.style[t]=n}var aS=ey(()=>window.ScrollTimeline!==void 0),oS={};function sS(e,t){let n=ey(e);return()=>oS[t]??n()}var cS=sS(()=>{try{document.createElement(`div`).animate({opacity:0},{easing:`linear(0, 1)`})}catch{return!1}return!0},`linearEasing`),lS=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,uS={linear:`linear`,ease:`ease`,easeIn:`ease-in`,easeOut:`ease-out`,easeInOut:`ease-in-out`,circIn:lS([0,.65,.55,1]),circOut:lS([.55,0,1,.45]),backIn:lS([.31,.01,.66,-.59]),backOut:lS([.33,1.53,.69,.99])};function dS(e,t){if(e)return typeof e==`function`?cS()?Zb(e,t):`ease-out`:Dy(e)?lS(e):Array.isArray(e)?e.map(e=>dS(e,t)||uS.easeOut):uS[e]}function fS(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o=`loop`,ease:s=`easeOut`,times:c}={},l=void 0){let u={[t]:n};c&&(u.offset=c);let d=dS(s,i);Array.isArray(d)&&(u.easing=d),My.value&&Uy.waapi++;let f={delay:r,duration:i,easing:Array.isArray(d)?`linear`:d,fill:`both`,iterations:a+1,direction:o===`reverse`?`alternate`:`normal`};l&&(f.pseudoElement=l);let p=e.animate(u,f);return My.value&&p.finished.finally(()=>{Uy.waapi--}),p}function pS(e){return typeof e==`function`&&`applyToOptions`in e}function mS({type:e,...t}){return pS(e)&&cS()?e.applyToOptions(t):(t.duration??=300,t.ease??=`easeOut`,t)}var hS=class extends Ex{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;let{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,e.type;let c=mS(e);this.animation=fS(t,n,r,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=Cx(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):iS(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state===`finished`&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;e===`idle`||e===`finished`||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){let e=this.animation.effect?.getComputedTiming?.().duration||0;return sy(Number(e))}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+sy(e)}get time(){return sy(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=oy(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime===null?this.animation.playState:`finished`}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:`linear`}),this.animation.onfinish=null,e&&aS()?(this.animation.timeline=e,ty):t(this)}},gS={anticipate:yy,backInOut:vy,circInOut:Sy};function _S(e){return e in gS}function vS(e){typeof e.ease==`string`&&_S(e.ease)&&(e.ease=gS[e.ease])}var yS=10,bS=class extends hS{constructor(e){vS(e),Tx(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}let o=new Ox({...a,autoplay:!1}),s=Math.max(yS,Hy.now()-this.startTime),c=Yv(0,yS,s-yS);t.setWithVelocity(o.sample(Math.max(0,s-c)).value,o.sample(s).value,c),o.stop()}},xS=(e,t)=>t===`zIndex`?!1:!!(typeof e==`number`||Array.isArray(e)||typeof e==`string`&&(jb.test(e)||e===`0`)&&!e.startsWith(`url(`));function SS(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function CS(e,t,n,r){let i=e[0];if(i===null)return!1;if(t===`display`||t===`visibility`)return!0;let a=e[e.length-1],o=xS(i,t),s=xS(a,t);return`${t}${i}${a}${o?a:i}`,!o||!s?!1:SS(e)||(n===`spring`||pS(n))&&r}function wS(e){e.duration=0,e.type=`keyframes`}var TS=new Set([`opacity`,`clipPath`,`filter`,`transform`]),ES=ey(()=>Object.hasOwnProperty.call(Element.prototype,`animate`));function DS(e){let{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:s,transformTemplate:c}=t.owner.getProps();return ES()&&n&&TS.has(n)&&(n!==`transform`||!c)&&!s&&!r&&i!==`mirror`&&a!==0&&o!==`inertia`}var OS=40,kS=class extends Ex{constructor({autoplay:e=!0,delay:t=0,type:n=`keyframes`,repeat:r=0,repeatDelay:i=0,repeatType:a=`loop`,keyframes:o,name:s,motionValue:c,element:l,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Hy.now();let d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:s,motionValue:c,element:l,...u};this.keyframeResolver=new(l?.KeyframeResolver||nS)(o,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),s,c,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;let{name:i,type:a,velocity:o,delay:s,isHandoff:c,onUpdate:l}=n;this.resolvedAt=Hy.now(),CS(e,i,a,o)||((Xv.instantAnimations||!s)&&l?.(Cx(e,n,t)),e[0]=e[e.length-1],wS(n),n.repeat=0);let u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>OS?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!c&&DS(u),f=u.motionValue?.owner?.current,p=d?new bS({...u,element:f}):new Ox(u);p.finished.then(()=>{this.notifyFinished()}).catch(ty),this.pendingTimeline&&=(this.stopTimeline=p.attachTimeline(this.pendingTimeline),void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}};function AS(e,t,n,r=0,i=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return typeof n==`function`?n(a,o):i===1?a*r:s-a*r}var jS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MS(e){let t=jS.exec(e);if(!t)return[,];let[,n,r,i]=t;return[`--${n??r}`,i]}function NS(e,t,n=1){`${e}`;let[r,i]=MS(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let e=a.trim();return Zv(e)?parseFloat(e):e}return qy(i)?NS(i,t,n+1):i}var PS={type:`spring`,stiffness:500,damping:25,restSpeed:10},FS=e=>({type:`spring`,stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),IS={type:`keyframes`,duration:.8},LS={type:`keyframes`,ease:[.25,.1,.35,1],duration:.3},RS=(e,{keyframes:t})=>t.length>2?IS:Ux.has(e)?e.startsWith(`scale`)?FS(t[1]):PS:LS,zS=e=>e!==null;function BS(e,{repeat:t,repeatType:n=`loop`},r){let i=e.filter(zS),a=t&&n!==`loop`&&t%2==1?0:i.length-1;return!a||r===void 0?i[a]:r}function VS(e,t){if(e?.inherit&&t){let{inherit:n,...r}=e;return{...t,...r}}return e}function HS(e,t){let n=e?.[t]??e?.default??e;return n===e?n:VS(n,e)}function US({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}var WS=(e,t,n,r={},i,a)=>o=>{let s=HS(r,e)||{},c=s.delay||r.delay||0,{elapsed:l=0}=r;l-=oy(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:`easeOut`,velocity:t.getVelocity(),...s,delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};US(s)||Object.assign(u,RS(e,u)),u.duration&&=oy(u.duration),u.repeatDelay&&=oy(u.repeatDelay),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(wS(u),u.delay===0&&(d=!0)),(Xv.instantAnimations||Xv.skipAnimations||i?.shouldSkipAnimations)&&(d=!0,wS(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!a&&t.get()!==void 0){let e=BS(u.keyframes,s);if(e!==void 0){Iy.update(()=>{u.onUpdate(e),u.onComplete()});return}}return s.isSync?new Ox(u):new kS(u)};function GS(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function KS(e,t,n,r){if(typeof t==`function`){let[i,a]=GS(r);t=t(n===void 0?e.custom:n,i,a)}if(typeof t==`string`&&(t=e.variants&&e.variants[t]),typeof t==`function`){let[i,a]=GS(r);t=t(n===void 0?e.custom:n,i,a)}return t}function qS(e,t,n){let r=e.getProps();return KS(r,t,n===void 0?r.custom:n,e)}var JS=new Set([`width`,`height`,`top`,`left`,`right`,`bottom`,...Hx]),YS=30,XS=e=>!isNaN(parseFloat(e)),ZS={current:void 0},QS=class{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=Hy.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Hy.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XS(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new ay);let n=this.events[e].add(t);return e===`change`?()=>{n(),Iy.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||=new Set,this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ZS.current&&ZS.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=Hy.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YS)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,YS);return cy(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function $S(e,t){return new QS(e,t)}var eC=e=>Array.isArray(e);function tC(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$S(n))}function nC(e){return eC(e)?e[e.length-1]||0:e}function rC(e,t){let{transitionEnd:n={},transition:r={},...i}=qS(e,t)||{};for(let t in i={...i,...n},i)tC(e,t,nC(i[t]))}var iC=e=>!!(e&&e.getVelocity);function aC(e){return!!(iC(e)&&e.add)}function oC(e,t){let n=e.getValue(`willChange`);if(aC(n))return n.add(t);if(!n&&Xv.WillChange){let n=new Xv.WillChange(`auto`);e.addValue(`willChange`,n),n.add(t)}}function sC(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}var cC=`data-`+sC(`framerAppearId`);function lC(e){return e.props[cC]}function uC({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function dC(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a,transitionEnd:o,...s}=t,c=e.getDefaultTransition();a=a?VS(a,c):c;let l=a?.reduceMotion;r&&(a=r);let u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(let t in s){let r=e.getValue(t,e.latestValues[t]??null),i=s[t];if(i===void 0||d&&uC(d,t))continue;let o={delay:n,...HS(a||{},t)},c=r.get();if(c!==void 0&&!r.isAnimating&&!Array.isArray(i)&&i===c&&!o.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){let n=lC(e);if(n){let e=window.MotionHandoffAnimation(n,t,Iy);e!==null&&(o.startTime=e,f=!0)}}oC(e,t);let p=l??e.shouldReduceMotion;r.start(WS(t,r,i,p&&JS.has(t)?{type:!1}:o,e,f));let m=r.animation;m&&u.push(m)}if(o){let t=()=>Iy.update(()=>{o&&rC(e,o)});u.length?Promise.all(u).then(t):t()}return u}function fC(e,t,n={}){let r=qS(e,t,n.type===`exit`?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let a=r?()=>Promise.all(dC(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return pC(e,t,r,a,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){let[e,t]=s===`beforeChildren`?[a,o]:[o,a];return e().then(()=>t())}else return Promise.all([a(),o(n.delay)])}function pC(e,t,n=0,r=0,i=0,a=1,o){let s=[];for(let c of e.variantChildren)c.notify(`AnimationStart`,t),s.push(fC(c,t,{...o,delay:n+(typeof r==`function`?0:r)+AS(e.variantChildren,c,r,i,a)}).then(()=>c.notify(`AnimationComplete`,t)));return Promise.all(s)}function mC(e,t,n={}){e.notify(`AnimationStart`,t);let r;if(Array.isArray(t)){let i=t.map(t=>fC(e,t,n));r=Promise.all(i)}else if(typeof t==`string`)r=fC(e,t,n);else{let i=typeof t==`function`?qS(e,t,n.custom):t;r=Promise.all(dC(e,i,n))}return r.then(()=>{e.notify(`AnimationComplete`,t)})}var hC={test:e=>e===`auto`,parse:e=>e},gC=e=>t=>t.test(e),_C=[Xy,$,fb,db,mb,pb,hC],vC=e=>_C.find(gC(e));function yC(e){return typeof e==`number`?e===0:e===null?!0:e===`none`||e===`0`||$v(e)}var bC=new Set([`brightness`,`contrast`,`saturate`,`opacity`]);function xC(e){let[t,n]=e.slice(0,-1).split(`(`);if(t===`drop-shadow`)return e;let[r]=n.match(eb)||[];if(!r)return e;let i=n.replace(r,``),a=bC.has(t)?1:0;return r!==n&&(a*=100),t+`(`+a+i+`)`}var SC=/\b([a-z-]*)\(.*?\)/gu,CC={...jb,getAnimatableNone:e=>{let t=e.match(SC);return t?t.map(xC).join(` `):e}},wC={...Xy,transform:Math.round},TC={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,inset:$,insetBlock:$,insetBlockStart:$,insetBlockEnd:$,insetInline:$,insetInlineStart:$,insetInlineEnd:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,paddingBlock:$,paddingBlockStart:$,paddingBlockEnd:$,paddingInline:$,paddingInlineStart:$,paddingInlineEnd:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,marginBlock:$,marginBlockStart:$,marginBlockEnd:$,marginInline:$,marginInlineStart:$,marginInlineEnd:$,fontSize:$,backgroundPositionX:$,backgroundPositionY:$,rotate:db,rotateX:db,rotateY:db,rotateZ:db,scale:Qy,scaleX:Qy,scaleY:Qy,scaleZ:Qy,skew:db,skewX:db,skewY:db,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Zy,originX:hb,originY:hb,originZ:$,zIndex:wC,fillOpacity:Zy,strokeOpacity:Zy,numOctaves:wC},EC={...TC,color:_b,backgroundColor:_b,outlineColor:_b,fill:_b,stroke:_b,borderColor:_b,borderTopColor:_b,borderRightColor:_b,borderBottomColor:_b,borderLeftColor:_b,filter:CC,WebkitFilter:CC},DC=e=>EC[e];function OC(e,t){let n=DC(e);return n!==CC&&(n=jb),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var kC=new Set([`auto`,`none`,`0`]);function AC(e,t,n){let r=0,i;for(;r<e.length&&!i;){let t=e[r];typeof t==`string`&&!kC.has(t)&&Eb(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=OC(n,i)}var jC=class extends nS{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if(typeof r==`string`&&(r=r.trim(),qy(r))){let i=NS(r,t.current);i!==void 0&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!JS.has(n)||e.length!==2)return;let[r,i]=e,a=vC(r),o=vC(i);if(Yy(r)!==Yy(i)&&Jx[n]){this.needsMeasurement=!0;return}if(a!==o)if(Wx(a)&&Wx(o))for(let t=0;t<e.length;t++){let n=e[t];typeof n==`string`&&(e[t]=parseFloat(n))}else Jx[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(e[t]===null||yC(e[t]))&&n.push(t);n.length&&AC(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n===`height`&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jx[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let i=n.length-1,a=n[i];n[i]=Jx[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}},MC=new Set([`opacity`,`clipPath`,`filter`,`transform`]);function NC(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e==`string`){let r=document;t&&(r=t.current);let i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(e=>e!=null)}var PC=(e,t)=>t&&typeof e==`number`?t.transform(e):e;function FC(e){return Qv(e)&&`offsetHeight`in e}var{schedule:IC,cancel:LC}=Fy(queueMicrotask,!1),RC={x:!1,y:!1};function zC(){return RC.x||RC.y}function BC(e){return e===`x`||e===`y`?RC[e]?null:(RC[e]=!0,()=>{RC[e]=!1}):RC.x||RC.y?null:(RC.x=RC.y=!0,()=>{RC.x=RC.y=!1})}function VC(e,t){let n=NC(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function HC(e){return!(e.pointerType===`touch`||zC())}function UC(e,t,n={}){let[r,i,a]=VC(e,n);return r.forEach(e=>{let n=!1,r=!1,a,o=()=>{e.removeEventListener(`pointerleave`,u)},s=e=>{a&&=(a(e),void 0),o()},c=e=>{n=!1,window.removeEventListener(`pointerup`,c),window.removeEventListener(`pointercancel`,c),r&&(r=!1,s(e))},l=()=>{n=!0,window.addEventListener(`pointerup`,c,i),window.addEventListener(`pointercancel`,c,i)},u=e=>{if(e.pointerType!==`touch`){if(n){r=!0;return}s(e)}};e.addEventListener(`pointerenter`,n=>{if(!HC(n))return;r=!1;let o=t(e,n);typeof o==`function`&&(a=o,e.addEventListener(`pointerleave`,u,i))},i),e.addEventListener(`pointerdown`,l,i)}),a}var WC=(e,t)=>t?e===t?!0:WC(e,t.parentElement):!1,GC=e=>e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1,KC=new Set([`BUTTON`,`INPUT`,`SELECT`,`TEXTAREA`,`A`]);function qC(e){return KC.has(e.tagName)||e.isContentEditable===!0}var JC=new Set([`INPUT`,`SELECT`,`TEXTAREA`]);function YC(e){return JC.has(e.tagName)||e.isContentEditable===!0}var XC=new WeakSet;function ZC(e){return t=>{t.key===`Enter`&&e(t)}}function QC(e,t){e.dispatchEvent(new PointerEvent(`pointer`+t,{isPrimary:!0,bubbles:!0}))}var $C=(e,t)=>{let n=e.currentTarget;if(!n)return;let r=ZC(()=>{if(XC.has(n))return;QC(n,`down`);let e=ZC(()=>{QC(n,`up`)});n.addEventListener(`keyup`,e,t),n.addEventListener(`blur`,()=>QC(n,`cancel`),t)});n.addEventListener(`keydown`,r,t),n.addEventListener(`blur`,()=>n.removeEventListener(`keydown`,r),t)};function ew(e){return GC(e)&&!zC()}var tw=new WeakSet;function nw(e,t,n={}){let[r,i,a]=VC(e,n),o=e=>{let r=e.currentTarget;if(!ew(e)||tw.has(e))return;XC.add(r),n.stopPropagation&&tw.add(e);let a=t(r,e),o=(e,t)=>{window.removeEventListener(`pointerup`,s),window.removeEventListener(`pointercancel`,c),XC.has(r)&&XC.delete(r),ew(e)&&typeof a==`function`&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||WC(r,e.target))},c=e=>{o(e,!1)};window.addEventListener(`pointerup`,s,i),window.addEventListener(`pointercancel`,c,i)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener(`pointerdown`,o,i),FC(e)&&(e.addEventListener(`focus`,e=>$C(e,i)),!qC(e)&&!e.hasAttribute(`tabindex`)&&(e.tabIndex=0))}),a}function rw(e){return Qv(e)&&`ownerSVGElement`in e}var iw=new WeakMap,aw,ow=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+`Size`]:rw(r)&&`getBBox`in r?r.getBBox()[t]:r[n],sw=ow(`inline`,`width`,`offsetWidth`),cw=ow(`block`,`height`,`offsetHeight`);function lw({target:e,borderBoxSize:t}){iw.get(e)?.forEach(n=>{n(e,{get width(){return sw(e,t)},get height(){return cw(e,t)}})})}function uw(e){e.forEach(lw)}function dw(){typeof ResizeObserver>`u`||(aw=new ResizeObserver(uw))}function fw(e,t){aw||dw();let n=NC(e);return n.forEach(e=>{let n=iw.get(e);n||(n=new Set,iw.set(e,n)),n.add(t),aw?.observe(e)}),()=>{n.forEach(e=>{let n=iw.get(e);n?.delete(t),n?.size||aw?.unobserve(e)})}}var pw=new Set,mw;function hw(){mw=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};pw.forEach(t=>t(e))},window.addEventListener(`resize`,mw)}function gw(e){return pw.add(e),mw||hw(),()=>{pw.delete(e),!pw.size&&typeof mw==`function`&&(window.removeEventListener(`resize`,mw),mw=void 0)}}function _w(e,t){return typeof e==`function`?gw(e):fw(e,t)}function vw(e){return rw(e)&&e.tagName===`svg`}var yw=[..._C,_b,jb],bw=e=>yw.find(gC(e)),xw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sw=()=>({x:xw(),y:xw()}),Cw=()=>({min:0,max:0}),ww=()=>({x:Cw(),y:Cw()}),Tw=new WeakMap;function Ew(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}function Dw(e){return typeof e==`string`||Array.isArray(e)}var Ow=[`animate`,`whileInView`,`whileFocus`,`whileHover`,`whileTap`,`whileDrag`,`exit`],kw=[`initial`,...Ow];function Aw(e){return Ew(e.animate)||kw.some(t=>Dw(e[t]))}function jw(e){return!!(Aw(e)||e.variants)}function Mw(e,t,n){for(let r in t){let i=t[r],a=n[r];if(iC(i))e.addValue(r,i);else if(iC(a))e.addValue(r,$S(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){let t=e.getValue(r);t.liveStyle===!0?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,$S(t===void 0?i:t,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var Nw={current:null},Pw={current:!1},Fw=typeof window<`u`;function Iw(){if(Pw.current=!0,Fw)if(window.matchMedia){let e=window.matchMedia(`(prefers-reduced-motion)`),t=()=>Nw.current=e.matches;e.addEventListener(`change`,t),t()}else Nw.current=!1}var Lw=[`AnimationStart`,`AnimationComplete`,`Update`,`BeforeLayoutMeasure`,`LayoutMeasure`,`LayoutAnimationStart`,`LayoutAnimationComplete`],Rw={};function zw(e){Rw=e}function Bw(){return Rw}var Vw=class{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,skipAnimations:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=nS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(`Update`,this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=Hy.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Iy.render(this.render,!1,!0))};let{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=Aw(t),this.isVariantNode=jw(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in d){let t=d[e];c[e]!==void 0&&iC(t)&&t.set(c[e])}}mount(e){if(this.hasBeenMounted)for(let e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=e,Tw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),this.reducedMotionConfig===`never`?this.shouldReduceMotion=!1:this.reducedMotionConfig===`always`?this.shouldReduceMotion=!0:(Pw.current||Iw(),this.shouldReduceMotion=Nw.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){for(let e in this.projection&&this.projection.unmount(),Ly(this.notifyUpdate),Ly(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??=new Set,this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&MC.has(e)&&this.current instanceof HTMLElement){let{factory:n,keyframes:r,times:i,ease:a,duration:o}=t.accelerate,s=new hS({element:this.current,name:e,keyframes:r,times:i,ease:a,duration:oy(o)}),c=n(s);this.valueSubscriptions.set(e,()=>{c(),s.cancel()});return}let n=Ux.has(e);n&&this.onBindTransform&&this.onBindTransform();let r=t.on(`change`,t=>{this.latestValues[e]=t,this.props.onUpdate&&Iy.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),i;typeof window<`u`&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e=`animation`;for(e in Rw){let t=Rw[e];if(!t)continue;let{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ww()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<Lw.length;t++){let n=Lw[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e[`on`+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=Mw(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=$S(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n==`string`&&(Zv(n)||$v(n))?n=parseFloat(n):!bw(n)&&jb.test(t)&&(n=OC(e,t)),this.setBaseTarget(e,iC(n)?n.get():n)),iC(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n;if(typeof t==`string`||typeof t==`object`){let r=KS(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;let r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!iC(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ay),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){IC.render(this.render)}},Hw=class extends Vw{constructor(){super(...arguments),this.KeyframeResolver=jC}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){let n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;iC(e)&&(this.childSubscription=e.on(`change`,e=>{this.current&&(this.current.textContent=`${e}`)}))}},Uw=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function Ww({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Gw({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Kw(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qw(e){return e===void 0||e===1}function Jw({scale:e,scaleX:t,scaleY:n}){return!qw(e)||!qw(t)||!qw(n)}function Yw(e){return Jw(e)||Xw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Xw(e){return Zw(e.x)||Zw(e.y)}function Zw(e){return e&&e!==`0%`}function Qw(e,t,n){return n+t*(e-n)}function $w(e,t,n,r,i){return i!==void 0&&(e=Qw(e,i,r)),Qw(e,n,r)+t}function eT(e,t=0,n=1,r,i){e.min=$w(e.min,t,n,r,i),e.max=$w(e.max,t,n,r,i)}function tT(e,{x:t,y:n}){eT(e.x,t.translate,t.scale,t.originPoint),eT(e.y,n.translate,n.scale,n.originPoint)}var nT=.999999999999,rT=1.0000000000001;function iT(e,t,n,r=!1){let i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;let{visualElement:i}=a.options;i&&i.props.style&&i.props.style.display===`contents`||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&sT(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,tT(e,o)),r&&Yw(a.latestValues)&&sT(e,a.latestValues))}t.x<rT&&t.x>nT&&(t.x=1),t.y<rT&&t.y>nT&&(t.y=1)}function aT(e,t){e.min+=t,e.max+=t}function oT(e,t,n,r,i=.5){eT(e,t,n,Fb(e.min,e.max,i),r)}function sT(e,t){oT(e.x,t.x,t.scaleX,t.scale,t.originX),oT(e.y,t.y,t.scaleY,t.scale,t.originY)}function cT(e,t){return Ww(Kw(e.getBoundingClientRect(),t))}function lT(e,t,n){let r=cT(e,n),{scroll:i}=t;return i&&(aT(r.x,i.offset.x),aT(r.y,i.offset.y)),r}var uT={x:`translateX`,y:`translateY`,z:`translateZ`,transformPerspective:`perspective`},dT=Hx.length;function fT(e,t,n){let r=``,i=!0;for(let a=0;a<dT;a++){let o=Hx[a],s=e[o];if(s===void 0)continue;let c=!0;if(typeof s==`number`)c=s===(o.startsWith(`scale`)?1:0);else{let e=parseFloat(s);c=o.startsWith(`scale`)?e===1:e===0}if(!c||n){let e=PC(s,TC[o]);if(!c){i=!1;let t=uT[o]||o;r+=`${t}(${e}) `}n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?``:r):i&&(r=`none`),r}function pT(e,t,n){let{style:r,vars:i,transformOrigin:a}=e,o=!1,s=!1;for(let e in t){let n=t[e];if(Ux.has(e)){o=!0;continue}else if(Gy(e)){i[e]=n;continue}else{let t=PC(n,TC[e]);e.startsWith(`origin`)?(s=!0,a[e]=t):r[e]=t}}if(t.transform||(o||n?r.transform=fT(t,e.transform,n):r.transform&&=`none`),s){let{originX:e=`50%`,originY:t=`50%`,originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}function mT(e,{style:t,vars:n},r,i){let a=e.style,o;for(o in t)a[o]=t[o];for(o in i?.applyProjectionStyles(a,r),n)a.setProperty(o,n[o])}function hT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var gT={correct:(e,t)=>{if(!t.target)return e;if(typeof e==`string`)if($.test(e))e=parseFloat(e);else return e;return`${hT(e,t.target.x)}% ${hT(e,t.target.y)}%`}},_T={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,i=jb.parse(e);if(i.length>5)return r;let a=jb.createTransformer(e),o=typeof i[0]==`number`?0:1,s=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=c;let l=Fb(s,c,.5);return typeof i[2+o]==`number`&&(i[2+o]/=l),typeof i[3+o]==`number`&&(i[3+o]/=l),a(i)}},vT={borderRadius:{...gT,applyTo:[`borderTopLeftRadius`,`borderTopRightRadius`,`borderBottomLeftRadius`,`borderBottomRightRadius`]},borderTopLeftRadius:gT,borderTopRightRadius:gT,borderBottomLeftRadius:gT,borderBottomRightRadius:gT,boxShadow:_T};function yT(e,{layout:t,layoutId:n}){return Ux.has(e)||e.startsWith(`origin`)||(t||n!==void 0)&&(!!vT[e]||e===`opacity`)}function bT(e,t,n){let r=e.style,i=t?.style,a={};if(!r)return a;for(let t in r)(iC(r[t])||i&&iC(i[t])||yT(t,e)||n?.getValue(t)?.liveStyle!==void 0)&&(a[t]=r[t]);return a}function xT(e){return window.getComputedStyle(e)}var ST=class extends Hw{constructor(){super(...arguments),this.type=`html`,this.renderInstance=mT}readValueFromInstance(e,t){if(Ux.has(t))return this.projection?.isProjecting?Rx(t):Bx(e,t);{let n=xT(e),r=(Gy(t)?n.getPropertyValue(t):n[t])||0;return typeof r==`string`?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return cT(e,t)}build(e,t,n){pT(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return bT(e,t,n)}},CT={offset:`stroke-dashoffset`,array:`stroke-dasharray`},wT={offset:`strokeDashoffset`,array:`strokeDasharray`};function TT(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?CT:wT;e[a.offset]=`${-r}`,e[a.array]=`${t} ${n}`}var ET=[`offsetDistance`,`offsetPath`,`offsetRotate`,`offsetAnchor`];function DT(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},c,l,u){if(pT(e,s,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??`50% 50%`,delete d.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??`fill-box`,delete d.transformBox);for(let e of ET)d[e]!==void 0&&(f[e]=d[e],delete d[e]);t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&TT(d,i,a,o,!1)}var OT=new Set([`baseFrequency`,`diffuseConstant`,`kernelMatrix`,`kernelUnitLength`,`keySplines`,`keyTimes`,`limitingConeAngle`,`markerHeight`,`markerWidth`,`numOctaves`,`targetX`,`targetY`,`surfaceScale`,`specularConstant`,`specularExponent`,`stdDeviation`,`tableValues`,`viewBox`,`gradientTransform`,`pathLength`,`startOffset`,`textLength`,`lengthAdjust`]),kT=e=>typeof e==`string`&&e.toLowerCase()===`svg`;function AT(e,t,n,r){for(let n in mT(e,t,void 0,r),t.attrs)e.setAttribute(OT.has(n)?n:sC(n),t.attrs[n])}function jT(e,t,n){let r=bT(e,t,n);for(let n in e)if(iC(e[n])||iC(t[n])){let t=Hx.indexOf(n)===-1?n:`attr`+n.charAt(0).toUpperCase()+n.substring(1);r[t]=e[n]}return r}var MT=class extends Hw{constructor(){super(...arguments),this.type=`svg`,this.isSVGTag=!1,this.measureInstanceViewportBox=ww}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ux.has(t)){let e=DC(t);return e&&e.default||0}return t=OT.has(t)?t:sC(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return jT(e,t,n)}build(e,t,n){DT(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){AT(e,t,n,r)}mount(e){this.isSVGTag=kT(e.tagName),super.mount(e)}},NT=kw.length;function PT(e){if(!e)return;if(!e.isControllingVariants){let t=e.parent&&PT(e.parent)||{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}let t={};for(let n=0;n<NT;n++){let r=kw[n],i=e.props[r];(Dw(i)||i===!1)&&(t[r]=i)}return t}function FT(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var IT=[...Ow].reverse(),LT=Ow.length;function RT(e){return t=>Promise.all(t.map(({animation:t,options:n})=>mC(e,t,n)))}function zT(e){let t=RT(e),n=HT(),r=!0,i=t=>(n,r)=>{let i=qS(e,r,t===`exit`?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(n){t=n(e)}function o(a){let{props:o}=e,s=PT(e.parent)||{},c=[],l=new Set,u={},d=1/0;for(let t=0;t<LT;t++){let f=IT[t],p=n[f],m=o[f]===void 0?s[f]:o[f],h=Dw(m),g=f===a?p.isActive:null;g===!1&&(d=t);let _=m===s[f]&&m!==o[f]&&h;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),p.protectedKeys={...u},!p.isActive&&g===null||!m&&!p.prevProp||Ew(m)||typeof m==`boolean`)continue;if(f===`exit`&&p.isActive&&g!==!0){p.prevResolvedValues&&(u={...u,...p.prevResolvedValues});continue}let v=BT(p.prevProp,m),y=v||f===a&&p.isActive&&!_&&h||t>d&&h,b=!1,x=Array.isArray(m)?m:[m],S=x.reduce(i(f),{});g===!1&&(S={});let{prevResolvedValues:C={}}=p,w={...C,...S},T=t=>{y=!0,l.has(t)&&(b=!0,l.delete(t)),p.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in w){let t=S[e],n=C[e];if(u.hasOwnProperty(e))continue;let r=!1;r=eC(t)&&eC(n)?!FT(t,n):t!==n,r?t==null?l.add(e):T(e):t!==void 0&&l.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(y=!1);let E=_&&v;y&&(!E||b)&&c.push(...x.map(t=>{let n={type:f};if(typeof t==`string`&&r&&!E&&e.manuallyAnimateOnMount&&e.parent){let{parent:r}=e,i=qS(r,t);if(r.enteringChildren&&i){let{delayChildren:t}=i.transition||{};n.delay=AS(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(l.size){let t={};if(typeof o.initial!=`boolean`){let n=qS(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}l.forEach(n=>{let r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),c.push({animation:t})}let f=!!c.length;return r&&(o.initial===!1||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(c):Promise.resolve()}function s(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;let i=o(t);for(let e in n)n[e].protectedKeys={};return i}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=HT()}}}function BT(e,t){return typeof t==`string`?t!==e:Array.isArray(t)?!FT(t,e):!1}function VT(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HT(){return{animate:VT(!0),whileInView:VT(),whileHover:VT(),whileTap:VT(),whileDrag:VT(),whileFocus:VT(),exit:VT()}}function UT(e,t){e.min=t.min,e.max=t.max}function WT(e,t){UT(e.x,t.x),UT(e.y,t.y)}function GT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}var KT=1e-4,qT=1-KT,JT=1+KT,YT=.01,XT=0-YT,ZT=0+YT;function QT(e){return e.max-e.min}function $T(e,t,n){return Math.abs(e-t)<=n}function eE(e,t,n,r=.5){e.origin=r,e.originPoint=Fb(t.min,t.max,e.origin),e.scale=QT(n)/QT(t),e.translate=Fb(n.min,n.max,e.origin)-e.originPoint,(e.scale>=qT&&e.scale<=JT||isNaN(e.scale))&&(e.scale=1),(e.translate>=XT&&e.translate<=ZT||isNaN(e.translate))&&(e.translate=0)}function tE(e,t,n,r){eE(e.x,t.x,n.x,r?r.originX:void 0),eE(e.y,t.y,n.y,r?r.originY:void 0)}function nE(e,t,n){e.min=n.min+t.min,e.max=e.min+QT(t)}function rE(e,t,n){nE(e.x,t.x,n.x),nE(e.y,t.y,n.y)}function iE(e,t,n){e.min=t.min-n.min,e.max=e.min+QT(t)}function aE(e,t,n){iE(e.x,t.x,n.x),iE(e.y,t.y,n.y)}function oE(e,t,n,r,i){return e-=t,e=Qw(e,1/n,r),i!==void 0&&(e=Qw(e,1/i,r)),e}function sE(e,t=0,n=1,r=.5,i,a=e,o=e){if(fb.test(t)&&(t=parseFloat(t),t=Fb(o.min,o.max,t/100)-o.min),typeof t!=`number`)return;let s=Fb(a.min,a.max,r);e===a&&(s-=t),e.min=oE(e.min,t,n,s,i),e.max=oE(e.max,t,n,s,i)}function cE(e,t,[n,r,i],a,o){sE(e,t[n],t[r],t[i],t.scale,a,o)}var lE=[`x`,`scaleX`,`originX`],uE=[`y`,`scaleY`,`originY`];function dE(e,t,n,r){cE(e.x,t,lE,n?n.x:void 0,r?r.x:void 0),cE(e.y,t,uE,n?n.y:void 0,r?r.y:void 0)}function fE(e){return e.translate===0&&e.scale===1}function pE(e){return fE(e.x)&&fE(e.y)}function mE(e,t){return e.min===t.min&&e.max===t.max}function hE(e,t){return mE(e.x,t.x)&&mE(e.y,t.y)}function gE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _E(e,t){return gE(e.x,t.x)&&gE(e.y,t.y)}function vE(e){return QT(e.x)/QT(e.y)}function yE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function bE(e){return[e(`x`),e(`y`)]}function xE(e,t,n){let r=``,i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}let s=e.x.scale*t.x,c=e.y.scale*t.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||`none`}var SE=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`],CE=SE.length,wE=e=>typeof e==`string`?parseFloat(e):e,TE=e=>typeof e==`number`||$.test(e);function EE(e,t,n,r,i,a){i?(e.opacity=Fb(0,n.opacity??1,OE(r)),e.opacityExit=Fb(t.opacity??1,0,kE(r))):a&&(e.opacity=Fb(t.opacity??1,n.opacity??1,r));for(let i=0;i<CE;i++){let a=`border${SE[i]}Radius`,o=DE(t,a),s=DE(n,a);o===void 0&&s===void 0||(o||=0,s||=0,o===0||s===0||TE(o)===TE(s)?(e[a]=Math.max(Fb(wE(o),wE(s),r),0),(fb.test(s)||fb.test(o))&&(e[a]+=`%`)):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=Fb(t.rotate||0,n.rotate||0,r))}function DE(e,t){return e[t]===void 0?e.borderRadius:e[t]}var OE=AE(0,.5,xy),kE=AE(.5,.95,ty);function AE(e,t,n){return r=>r<e?0:r>t?1:n(iy(e,t,r))}function jE(e,t,n){let r=iC(e)?e:$S(e);return r.start(WS(``,r,t,n)),r.animation}function ME(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}var NE=(e,t)=>e.depth-t.depth,PE=class{constructor(){this.children=[],this.isDirty=!1}add(e){qv(this.children,e),this.isDirty=!0}remove(e){Jv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NE),this.isDirty=!1,this.children.forEach(e)}};function FE(e,t){let n=Hy.now(),r=({timestamp:i})=>{let a=i-n;a>=t&&(Ly(r),e(a-t))};return Iy.setup(r,!0),()=>Ly(r)}function IE(e){return iC(e)?e.get():e}var LE=class{constructor(){this.members=[]}add(e){qv(this.members,e);for(let t=this.members.length-1;t>=0;t--){let n=this.members[t];if(n===e||n===this.lead||n===this.prevLead)continue;let r=n.instance;r&&r.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&Jv(this.members,n)}e.scheduleRender()}remove(e){if(Jv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t=this.members.findIndex(t=>e===t);if(t===0)return!1;let n;for(let e=t;e>=0;e--){let t=this.members[e],r=t.instance;if(t.isPresent!==!1&&(!r||r.isConnected!==!1)){n=t;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();let r=n.options.layoutDependency,i=e.options.layoutDependency;if(!(r!==void 0&&i!==void 0&&r===i)){let r=n.instance;r&&r.isConnected===!1&&!n.snapshot||(e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}let{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}},RE={hasAnimatedSinceResize:!0,hasEverUpdated:!1},zE={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},BE=[``,`X`,`Y`,`Z`],VE=1e3,HE=0;function UE(e,t,n,r){let{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function WE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=lC(t);if(window.MotionHasOptimisedAnimation(n,`transform`)){let{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,`transform`,Iy,!(t||r))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&WE(r)}function GE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=HE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,My.value&&(zE.nodes=zE.calculatedTargetDeltas=zE.calculatedProjections=0),this.nodes.forEach(JE),this.nodes.forEach(tD),this.nodes.forEach(nD),this.nodes.forEach(YE),My.addProjectionMetrics&&My.addProjectionMetrics(zE)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new PE)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ay),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=rw(t)&&!vw(t),this.instance=t;let{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0,i=()=>this.root.updateBlockedByResize=!1;Iy.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=FE(i,250),RE.hasAnimatedSinceResize&&(RE.hasAnimatedSinceResize=!1,this.nodes.forEach(eD)))})}n&&this.root.registerSharedNode(n,this),this.options.animate!==!1&&i&&(n||r)&&this.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||i.getDefaultTransition()||lD,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=i.getProps(),c=!this.targetLayout||!_E(this.targetLayout,r),l=!t&&n;if(this.options.layoutRoot||this.resumeFrom||l||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...HS(a,`layout`),onPlay:o,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,l)}else t||eD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ly(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rD),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll(`snapshot`),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(t===void 0&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,``):void 0,this.updateSnapshot(),e&&this.notifyListeners(`willUpdate`)}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($E),this.nodes.forEach(KE),this.nodes.forEach(qE)):this.nodes.forEach(QE),this.clearAllSnapshots();let e=Hy.now();Ry.delta=Yv(0,1e3/60,e-Ry.timestamp),Ry.timestamp=e,Ry.isProcessing=!0,zy.update.process(Ry),zy.preRender.process(Ry),zy.render.process(Ry),Ry.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,IC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XE),this.sharedNodes.forEach(iD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Iy.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Iy.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!QT(this.snapshot.measuredBox.x)&&!QT(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ww(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(`measure`,this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify(`LayoutMeasure`,this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e=`measure`){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!pE(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,``):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Yw(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),pD(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return ww();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(hD))){let{scroll:e}=this.root;e&&(aT(t.x,e.offset.x),aT(t.y,e.offset.y))}return t}removeElementScroll(e){let t=ww();if(WT(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&WT(t,e),aT(t.x,i.offset.x),aT(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let n=ww();WT(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&sT(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),Yw(r.latestValues)&&sT(n,r.latestValues)}return Yw(this.latestValues)&&sT(n,this.latestValues),n}removeTransform(e){let t=ww();WT(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!Yw(n.latestValues))continue;Jw(n.latestValues)&&n.updateSnapshot();let r=ww();WT(r,n.measurePageBox()),dE(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return Yw(this.latestValues)&&dE(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:e.crossfade===void 0?!0:e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ry.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||=t.isProjectionDirty,this.isTransformDirty||=t.isTransformDirty,this.isSharedProjectionDirty||=t.isSharedProjectionDirty;let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:i}=this.options;if(!this.layout||!(r||i))return;this.resolvedRelativeTargetAt=Ry.timestamp;let a=this.getClosestProjectingParent();a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ww(),this.targetWithTransforms=ww()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):WT(this.target,this.layout.layoutBox),tT(this.target,this.targetDelta)):WT(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&this.animationProgress!==1?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0),My.value&&zE.calculatedTargetDeltas++)}getClosestProjectingParent(){if(!(!this.parent||Jw(this.parent.latestValues)||Xw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ww(),this.relativeTargetOrigin=ww(),aE(this.relativeTargetOrigin,t,n),WT(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Ry.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;WT(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;iT(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=ww());let{target:s}=e;if(!s){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GT(this.prevProjectionDelta.x,this.projectionDelta.x),GT(this.prevProjectionDelta.y,this.projectionDelta.y)),tE(this.projectionDelta,this.layoutCorrected,s,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==o||!yE(this.projectionDelta.x,this.prevProjectionDelta.x)||!yE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(`projectionUpdate`,s)),My.value&&zE.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sw(),this.projectionDelta=Sw(),this.projectionDeltaWithTransform=Sw()}setAnimationOrigin(e,t=!1){let n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a=Sw();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=ww(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=!!(s&&!l&&this.options.crossfade===!0&&!this.path.some(cD));this.animationProgress=0;let d;this.mixTargetDelta=t=>{let n=t/1e3;aD(a.x,e.x,n),aD(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(aE(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sD(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&hE(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||=ww(),WT(d,this.relativeTarget)),s&&(this.animationValues=i,EE(i,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners(`animationStart`),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&=(Ly(this.pendingAnimation),void 0),this.pendingAnimation=Iy.update(()=>{RE.hasAnimatedSinceResize=!0,Uy.layout++,this.motionValue||=$S(0),this.currentAnimation=jE(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Uy.layout--},onComplete:()=>{Uy.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(`animationComplete`)}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(!(!t||!n||!r)){if(this!==e&&this.layout&&r&&mD(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||ww();let t=QT(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=QT(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}WT(t,n),sT(t,i),tE(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new LE),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return e?e.lead===this:!0}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return e?e.relegate(this):!1}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let r={};n.z&&UE(`z`,e,r,this.animationValues);for(let t=0;t<BE.length;t++)UE(`rotate${BE[t]}`,e,r,this.animationValues),UE(`skew${BE[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility=`hidden`;return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility=``,e.opacity=``,e.pointerEvents=IE(t?.pointerEvents)||``,e.transform=n?n(this.latestValues,``):`none`;return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=this.latestValues.opacity===void 0?1:this.latestValues.opacity,e.pointerEvents=IE(t?.pointerEvents)||``),this.hasProjected&&!Yw(this.latestValues)&&(e.transform=n?n({},``):`none`,this.hasProjected=!1);return}e.visibility=``;let i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=xE(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;let{x:o,y:s}=this.projectionDelta;for(let t in e.transformOrigin=`${o.origin*100}% ${s.origin*100}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?i.opacity===void 0?``:i.opacity:i.opacityExit===void 0?0:i.opacityExit,vT){if(i[t]===void 0)continue;let{correct:n,applyTo:o,isCSSVariable:s}=vT[t],c=a===`none`?i[t]:n(i[t],r);if(o){let t=o.length;for(let n=0;n<t;n++)e[o[n]]=c}else s?this.options.visualElement.renderState.vars[t]=c:e[t]=c}this.options.layoutId&&(e.pointerEvents=r===this?IE(t?.pointerEvents)||``:`none`)}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(ZE),this.root.sharedNodes.clear()}}}function KE(e){e.updateLayout()}function qE(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners(`didUpdate`)){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i===`size`?bE(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=QT(r);r.min=n[e].min,r.max=r.min+i}):mD(i,t.layoutBox,n)&&bE(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],o=QT(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});let o=Sw();tE(o,n,t.layoutBox);let s=Sw();a?tE(s,e.applyTransform(r,!0),t.measuredBox):tE(s,n,t.layoutBox);let c=!pE(o),l=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let o=ww();aE(o,t.layoutBox,i.layoutBox);let s=ww();aE(s,n,a.layoutBox),_E(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners(`didUpdate`,{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:l})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function JE(e){My.value&&zE.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty),e.isTransformDirty||=e.parent.isTransformDirty)}function YE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function XE(e){e.clearSnapshot()}function ZE(e){e.clearMeasurements()}function QE(e){e.isLayoutDirty=!1}function $E(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(`BeforeLayoutMeasure`),e.resetTransform()}function eD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tD(e){e.resolveTargetDelta()}function nD(e){e.calcProjection()}function rD(e){e.resetSkewAndRotation()}function iD(e){e.removeLeadSnapshot()}function aD(e,t,n){e.translate=Fb(t.translate,0,n),e.scale=Fb(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function oD(e,t,n,r){e.min=Fb(t.min,n.min,r),e.max=Fb(t.max,n.max,r)}function sD(e,t,n,r){oD(e.x,t.x,n.x,r),oD(e.y,t.y,n.y,r)}function cD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var lD={duration:.45,ease:[.4,0,.1,1]},uD=e=>typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dD=uD(`applewebkit/`)&&!uD(`chrome/`)?Math.round:ty;function fD(e){e.min=dD(e.min),e.max=dD(e.max)}function pD(e){fD(e.x),fD(e.y)}function mD(e,t,n){return e===`position`||e===`preserve-aspect`&&!$T(vE(t),vE(n),.2)}function hD(e){return e!==e.root&&e.scroll?.wasRoot}var gD=GE({attachResizeListener:(e,t)=>ME(e,`resize`,t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),_D={current:void 0},vD=GE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_D.current){let e=new gD({});e.mount(window),e.setOptions({layoutScroll:!0}),_D.current=e}return _D.current},resetTransform:(e,t)=>{e.style.transform=t===void 0?`none`:t},checkIsScrollRoot:e=>window.getComputedStyle(e).position===`fixed`}),yD=(0,b.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`});function bD(e=!0){let t=(0,b.useContext)(Kv);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,b.useId)();(0,b.useEffect)(()=>{if(e)return i(a)},[e]);let o=(0,b.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}var xD=(0,b.createContext)({strict:!1}),SD={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},CD=!1;function wD(){if(CD)return;let e={};for(let t in SD)e[t]={isEnabled:e=>SD[t].some(t=>!!e[t])};zw(e),CD=!0}function TD(){return wD(),Bw()}function ED(e){let t=TD();for(let n in e)t[n]={...t[n],...e[n]};zw(t)}var DD=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.propagate.ignoreStrict.viewport`.split(`.`));function OD(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||DD.has(e)}var kD=c({default:()=>AD}),AD,jD=o((()=>{throw AD={},Error(`Could not resolve "@emotion/is-prop-valid" imported by "framer-motion". Is it installed?`)})),MD=e=>!OD(e);function ND(e){typeof e==`function`&&(MD=t=>t.startsWith(`on`)?!OD(t):e(t))}try{ND((jD(),d(kD)).default)}catch{}function PD(e,t,n){let r={};for(let i in e)i===`values`&&typeof e.values==`object`||(MD(i)||n===!0&&OD(i)||!t&&!OD(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i]);return r}var FD=(0,b.createContext)({});function ID(e,t){if(Aw(e)){let{initial:t,animate:n}=e;return{initial:t===!1||Dw(t)?t:void 0,animate:Dw(n)?n:void 0}}return e.inherit===!1?{}:t}function LD(e){let{initial:t,animate:n}=ID(e,(0,b.useContext)(FD));return(0,b.useMemo)(()=>({initial:t,animate:n}),[RD(t),RD(n)])}function RD(e){return Array.isArray(e)?e.join(` `):e}var zD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BD(e,t,n){for(let r in t)!iC(t[r])&&!yT(r,n)&&(e[r]=t[r])}function VD({transformTemplate:e},t){return(0,b.useMemo)(()=>{let n=zD();return pT(n,t,e),Object.assign({},n.vars,n.style)},[t])}function HD(e,t){let n=e.style||{},r={};return BD(r,n,e),Object.assign(r,VD(e,t)),r}function UD(e,t){let n={},r=HD(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=`none`,r.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var WD=()=>({...zD(),attrs:{}});function GD(e,t,n,r){let i=(0,b.useMemo)(()=>{let n=WD();return DT(n,t,kT(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};BD(t,e.style,e),i.style={...t,...i.style}}return i}var KD=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function qD(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(KD.indexOf(e)>-1||/[A-Z]/u.test(e))}function JD(e,t,n,{latestValues:r},i,a=!1,o){let s=(o??qD(e)?GD:UD)(t,r,i,e),c=PD(t,typeof e==`string`,a),l=e===b.Fragment?{}:{...c,...s,ref:n},{children:u}=t,d=(0,b.useMemo)(()=>iC(u)?u.get():u,[u]);return(0,b.createElement)(e,{...l,children:d})}function YD({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:XD(n,r,i,e),renderState:t()}}function XD(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=IE(a[e]);let{initial:o,animate:s}=e,c=Aw(e),l=jw(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u||=o===!1;let d=u?s:o;if(d&&typeof d!=`boolean`&&!Ew(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let r=KS(e,t[n]);if(r){let{transitionEnd:e,transition:t,...n}=r;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}var ZD=e=>(t,n)=>{let r=(0,b.useContext)(FD),i=(0,b.useContext)(Kv),a=()=>YD(e,t,r,i);return n?a():Uv(a)},QD=ZD({scrapeMotionValuesFromProps:bT,createRenderState:zD}),$D=ZD({scrapeMotionValuesFromProps:jT,createRenderState:WD}),eO=Symbol.for(`motionComponentSymbol`);function tO(e,t,n){let r=(0,b.useRef)(n);(0,b.useInsertionEffect)(()=>{r.current=n});let i=(0,b.useRef)(null);return(0,b.useCallback)(n=>{n&&e.onMount?.(n),t&&(n?t.mount(n):t.unmount());let a=r.current;if(typeof a==`function`)if(n){let e=a(n);typeof e==`function`&&(i.current=e)}else i.current?(i.current(),i.current=null):a(n);else a&&(a.current=n)},[t])}var nO=(0,b.createContext)({});function rO(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function iO(e,t,n,r,i,a){let{visualElement:o}=(0,b.useContext)(FD),s=(0,b.useContext)(xD),c=(0,b.useContext)(Kv),l=(0,b.useContext)(yD),u=l.reducedMotion,d=l.skipAnimations,f=(0,b.useRef)(null),p=(0,b.useRef)(!1);r||=s.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,skipAnimations:d,isSVG:a}),p.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));let m=f.current,h=(0,b.useContext)(nO);m&&!m.projection&&i&&(m.type===`html`||m.type===`svg`)&&aO(f.current,n,i,h);let g=(0,b.useRef)(!1);(0,b.useInsertionEffect)(()=>{m&&g.current&&m.update(n,c)});let _=n[cC],v=(0,b.useRef)(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return Gv(()=>{p.current=!0,m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),v.current&&m.animationState&&m.animationState.animateChanges())}),(0,b.useEffect)(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&=(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),!1),m.enteringChildren=void 0)}),m}function aO(e,t,n,r){let{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t[`data-framer-portal-id`]?void 0:oO(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&rO(s),visualElement:e,animationType:typeof a==`string`?a:`both`,initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function oO(e){if(e)return e.options.allowProjection===!1?oO(e.parent):e.projection}function sO(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&ED(r);let a=n?n===`svg`:qD(e),o=a?$D:QD;function s(n,s){let c,l={...(0,b.useContext)(yD),...n,layoutId:cO(n)},{isStatic:u}=l,d=LD(n),f=o(n,u);if(!u&&Wv){lO(l,r);let t=uO(l);c=t.MeasureLayout,d.visualElement=iO(e,f,l,i,t.ProjectionNode,a)}return(0,U.jsxs)(FD.Provider,{value:d,children:[c&&d.visualElement?(0,U.jsx)(c,{visualElement:d.visualElement,...l}):null,JD(e,n,tO(f,d.visualElement,s),f,u,t,a)]})}s.displayName=`motion.${typeof e==`string`?e:`create(${e.displayName??e.name??``})`}`;let c=(0,b.forwardRef)(s);return c[eO]=e,c}function cO({layoutId:e}){let t=(0,b.useContext)(Hv).id;return t&&e!==void 0?t+`-`+e:e}function lO(e,t){(0,b.useContext)(xD).strict}function uO(e){let{drag:t,layout:n}=TD();if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function dO(e,t){if(typeof Proxy>`u`)return sO;let n=new Map,r=(n,r)=>sO(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>a===`create`?r:(n.has(a)||n.set(a,sO(a,void 0,e,t)),n.get(a))})}var fO=(e,t)=>t.isSVG??qD(e)?new MT(t):new ST(t,{allowProjection:e!==b.Fragment}),pO=class extends Uw{constructor(e){super(e),e.animationState||=zT(e)}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();Ew(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}},mO=0,hO={animation:{Feature:pO},exit:{Feature:class extends Uw{constructor(){super(...arguments),this.id=mO++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive(`exit`,!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function gO(e){return{point:{x:e.pageX,y:e.pageY}}}var _O=e=>t=>GC(t)&&e(t,gO(t));function vO(e,t,n,r){return ME(e,t,_O(n),r)}var yO=({current:e})=>e?e.ownerDocument.defaultView:null,bO=(e,t)=>Math.abs(e-t);function xO(e,t){let n=bO(e.x,t.x),r=bO(e.y,t.y);return Math.sqrt(n**2+r**2)}var SO=new Set([`auto`,`scroll`]),CO=class{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=EO(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=xO(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=Ry;this.history.push({...r,timestamp:i});let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=wO(t,this.transformPagePoint),Iy.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=EO(e.type===`pointercancel`?this.lastMoveEventInfo:wO(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!GC(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;let s=wO(gO(e),this.transformPagePoint),{point:c}=s,{timestamp:l}=Ry;this.history=[{...c,timestamp:l}];let{onSessionStart:u}=t;u&&u(e,EO(s,this.history)),this.removeListeners=ry(vO(this.contextWindow,`pointermove`,this.handlePointerMove),vO(this.contextWindow,`pointerup`,this.handlePointerUp),vO(this.contextWindow,`pointercancel`,this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(SO.has(e.overflowX)||SO.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener(`scroll`,this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener(`scroll`,this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener(`scroll`,this.onElementScroll,{capture:!0}),window.removeEventListener(`scroll`,this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:r.x-t.x,y:r.y-t.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,r),Iy.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ly(this.updatePoint)}};function wO(e,t){return t?{point:t(e.point)}:e}function TO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function EO({point:e},t){return{point:e,delta:TO(e,OO(t)),offset:TO(e,DO(t)),velocity:kO(t,.1)}}function DO(e){return e[0]}function OO(e){return e[e.length-1]}function kO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=OO(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>oy(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&i.timestamp-r.timestamp>oy(t)*2&&(r=e[1]);let a=sy(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function AO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Fb(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Fb(n,e,r.max):Math.min(e,n)),e}function jO(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function MO(e,{top:t,left:n,bottom:r,right:i}){return{x:jO(e.x,n,i),y:jO(e.y,t,r)}}function NO(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function PO(e,t){return{x:NO(e.x,t.x),y:NO(e.y,t.y)}}function FO(e,t){let n=.5,r=QT(e),i=QT(t);return i>r?n=iy(t.min,t.max-r,e.min):r>i&&(n=iy(e.min,e.max-i,t.min)),Yv(0,1,n)}function IO(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var LO=.35;function RO(e=LO){return e===!1?e=0:e===!0&&(e=LO),{x:zO(e,`left`,`right`),y:zO(e,`top`,`bottom`)}}function zO(e,t,n){return{min:BO(e,t),max:BO(e,n)}}function BO(e,t){return typeof e==`number`?e:e[t]||0}var VO=new WeakMap,HO=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ww(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let i=e=>{t&&this.snapToCursor(gO(e).point),this.stopAnimation()},a=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BC(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bE(e=>{let t=this.getAxisMotionValue(e).get()||0;if(fb.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=QT(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&Iy.update(()=>i(e,t),!1,!0),oC(this.visualElement,`transform`);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=KO(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&Iy.update(()=>a(e,t),!1,!0)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{let{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:l}=this.getProps();this.panSession=new CO(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:n,contextWindow:yO(this.visualElement),element:this.visualElement.current})}stop(e,t){let n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;let{velocity:a}=r;this.startAnimation(a);let{onDragEnd:o}=this.getProps();o&&Iy.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive(`whileDrag`,!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!GO(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=AO(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&rO(e)?this.constraints||=this.resolveRefConstraints():e&&n?this.constraints=MO(n.layoutBox,e):this.constraints=!1,this.elastic=RO(t),r!==this.constraints&&!rO(e)&&n&&this.constraints&&!this.hasMutatedConstraints&&bE(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=IO(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!rO(e))return!1;let n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=lT(n,r.root,this.visualElement.getTransformPagePoint()),a=PO(r.layout.layoutBox,i);if(t){let e=t(Gw(a));this.hasMutatedConstraints=!!e,e&&(a=Ww(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=bE(o=>{if(!GO(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d={type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return oC(this.visualElement,e),n.start(WS(e,n,0,t,this.visualElement,!1))}stopAnimation(){bE(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){bE(t=>{let{drag:n}=this.getProps();if(!GO(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t],o=i.get()||0;i.set(e[t]-Fb(n,a,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!rO(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};bE(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=FO({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),bE(t=>{if(!GO(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(Fb(i,a,r[t]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;VO.set(this.visualElement,this);let e=this.visualElement.current,t=vO(e,`pointerdown`,t=>{let{drag:n,dragListener:r=!0}=this.getProps(),i=t.target,a=i!==e&&YC(i);n&&r&&!a&&this.start(t)}),n,r=()=>{let{dragConstraints:t}=this.getProps();rO(t)&&t.current&&(this.constraints=this.resolveRefConstraints(),n||=WO(e,t.current,()=>this.scalePositionWithinConstraints()))},{projection:i}=this.visualElement,a=i.addEventListener(`measure`,r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Iy.read(r);let o=ME(window,`resize`,()=>this.scalePositionWithinConstraints()),s=i.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(bE(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{o(),t(),a(),s&&s(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=LO,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function UO(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function WO(e,t,n){let r=_w(e,UO(n)),i=_w(t,UO(n));return()=>{r(),i()}}function GO(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function KO(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var qO=class extends Uw{constructor(e){super(e),this.removeGroupControls=ty,this.removeListeners=ty,this.controls=new HO(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ty}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},JO=e=>(t,n)=>{e&&Iy.update(()=>e(t,n),!1,!0)},YO=class extends Uw{constructor(){super(...arguments),this.removePointerDownListener=ty}onPointerDown(e){this.session=new CO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yO(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:JO(e),onStart:JO(t),onMove:JO(n),onEnd:(e,t)=>{delete this.session,r&&Iy.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=vO(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},XO=!1,ZO=class extends b.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),XO&&i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),RE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,e.layoutDependency!==t&&a.setOptions({...a.options,layoutDependency:t}),XO=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Iy.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),IC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;XO=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function QO(e){let[t,n]=bD(),r=(0,b.useContext)(Hv);return(0,U.jsx)(ZO,{...e,layoutGroup:r,switchLayoutGroup:(0,b.useContext)(nO),isPresent:t,safeToRemove:n})}var $O={pan:{Feature:YO},drag:{Feature:qO,ProjectionNode:vD,MeasureLayout:QO}};function ek(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(`whileHover`,n===`Start`);let i=r[`onHover`+n];i&&Iy.postRender(()=>i(t,gO(t)))}var tk=class extends Uw{mount(){let{current:e}=this.node;e&&(this.unmount=UC(e,(e,t)=>(ek(this.node,t,`Start`),e=>ek(this.node,e,`End`))))}unmount(){}},nk=class extends Uw{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=ry(ME(this.node.current,`focus`,()=>this.onFocus()),ME(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}};function rk(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive(`whileTap`,n===`Start`);let i=r[`onTap`+(n===`End`?``:n)];i&&Iy.postRender(()=>i(t,gO(t)))}var ik=class extends Uw{mount(){let{current:e}=this.node;if(!e)return;let{globalTapTarget:t,propagate:n}=this.node.props;this.unmount=nw(e,(e,t)=>(rk(this.node,t,`Start`),(e,{success:t})=>rk(this.node,e,t?`End`:`Cancel`)),{useGlobalTarget:t,stopPropagation:n?.tap===!1})}unmount(){}},ak=new WeakMap,ok=new WeakMap,sk=e=>{let t=ak.get(e.target);t&&t(e)},ck=e=>{e.forEach(sk)};function lk({root:e,...t}){let n=e||document;ok.has(n)||ok.set(n,{});let r=ok.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(ck,{root:e,...t})),r[i]}function uk(e,t,n){let r=lk(t);return ak.set(e,n),r.observe(e),()=>{ak.delete(e),r.unobserve(e)}}var dk={some:0,all:1},fk=class extends Uw{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:dk[r]};return uk(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(pk(e,t))&&this.startObserver()}unmount(){}};function pk({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var mk={inView:{Feature:fk},tap:{Feature:ik},focus:{Feature:nk},hover:{Feature:tk}},hk={layout:{ProjectionNode:vD,MeasureLayout:QO}},gk=dO({...hO,...mk,...$O,...hk},fO),_k=({text:e,className:t})=>{let n=(0,b.useMemo)(()=>e.split(``).map((e,t)=>({char:e,id:t,x:[(Math.random()-.5)*60,(Math.random()-.5)*30,0],y:[(Math.random()-.5)*60,(Math.random()-.5)*30,0],rotate:[(Math.random()-.5)*45,(Math.random()-.5)*20,0]})),[e]);return(0,U.jsx)(`div`,{className:`flex justify-center flex-wrap ${t}`,children:n.map((e,t)=>(0,U.jsx)(gk.span,{initial:{opacity:1,filter:`blur(0px)`,x:0,y:0},animate:{opacity:[1,.3,.8,1],filter:[`blur(0px)`,`blur(4px)`,`blur(2px)`,`blur(0px)`],x:[0,...e.x],y:[0,...e.y],rotate:[0,...e.rotate],scale:[1,1.5,.8,1]},transition:{duration:6,ease:`easeInOut`,repeat:1/0,repeatDelay:10,delay:t*.08,times:[0,.4,.7,1]},className:`inline-block whitespace-pre origin-center`,children:e.char},e.id))})},vk=()=>{let e=tt(),[t,n]=(0,b.useState)(null),r=(0,b.useRef)(null),[i,a]=(0,b.useState)({footprints:0,journals:0,likes:0}),[o,s]=(0,b.useState)(!1);return(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`),t=null;if(e){let r=JSON.parse(e);n(r),t=r.id||r.uid}(async()=>{if(!t){a({footprints:0,journals:0,likes:0});return}let e=0;try{let n=await Sc.getUserPlans(t);if(n.length>0)e=n.length;else{let n=localStorage.getItem(`my_plans`);n&&(e=JSON.parse(n).filter(e=>e.uid===t).length)}}catch{e=0}let n=await Oc.getUserTravelogues(t),r=n.length,i=n.reduce((e,t)=>e+(t.likes||0),0);a({footprints:e,journals:r,likes:i})})()},[]),(0,U.jsxs)(`div`,{className:`flex flex-col h-screen w-full bg-transparent text-stone-800 relative overflow-hidden`,children:[(0,U.jsx)(`header`,{className:`w-full max-w-3xl mx-auto px-6 py-4 flex justify-end items-center bg-transparent relative z-10 pt-8`}),(0,U.jsxs)(`main`,{className:`flex-1 w-full max-w-3xl mx-auto overflow-y-auto px-4 pb-24 relative z-10`,children:[(0,U.jsxs)(`div`,{className:`flex flex-col items-center mb-8`,children:[(0,U.jsxs)(`div`,{className:`relative group cursor-pointer`,children:[(0,U.jsx)(`input`,{type:`file`,ref:r,className:`hidden`,accept:`image/*`,onChange:e=>{if(e.target.files&&e.target.files[0]&&t){let r=e.target.files[0],i=URL.createObjectURL(r),a={...t,avatar:i};n(a),localStorage.setItem(`museum_user`,JSON.stringify(a))}}}),(0,U.jsxs)(`div`,{onClick:()=>r.current?.click(),className:`w-24 h-24 rounded-full bg-stone-200 border-4 border-white shadow-md mb-3 relative overflow-hidden transition-transform active:scale-95`,children:[t?(0,U.jsx)(`img`,{src:t.avatar,alt:`Avatar`,className:`w-full h-full object-cover`}):(0,U.jsx)(`img`,{src:E_,alt:`Guest Avatar`,className:`w-full h-full object-cover`}),t&&(0,U.jsx)(`div`,{className:`absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity`,children:(0,U.jsx)(Jn,{size:24,className:`text-white`})})]}),t&&(0,U.jsx)(`div`,{className:`absolute bottom-3 right-0 bg-amber-500 text-white p-1 rounded-full border-2 border-white pointer-events-none`,children:(0,U.jsx)(Gn,{size:12})})]}),t?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(`h2`,{className:`text-xl font-bold font-serif text-stone-900`,children:t.name}),(0,U.jsx)(`p`,{className:`text-stone-500 text-sm mt-1`,children:t.email}),(0,U.jsxs)(`div`,{className:`flex space-x-6 mt-4`,children:[(0,U.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,U.jsx)(`span`,{className:`font-bold text-lg text-stone-900`,children:i.footprints}),(0,U.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]}),(0,U.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,U.jsx)(`span`,{className:`font-bold text-lg text-stone-900`,children:i.journals}),(0,U.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]}),(0,U.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,U.jsx)(`span`,{className:`font-bold text-lg text-stone-900`,children:i.likes}),(0,U.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]})]})]}):(0,U.jsxs)(`div`,{className:`text-center`,children:[(0,U.jsx)(`h2`,{className:`text-xl font-bold font-serif text-stone-900 mb-2`,children:``}),(0,U.jsx)(_k,{text:`Your pocket odyssey`,className:`text-xs text-stone-500 mb-4 font-serif italic`}),(0,U.jsx)(`button`,{onClick:()=>e(`/auth`),className:`px-8 py-2 bg-stone-900 text-white rounded-full text-sm font-medium shadow-lg hover:bg-stone-800 transition-colors`,children:` / `})]})]}),(0,U.jsxs)(`div`,{className:`space-y-4`,children:[(0,U.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden`,children:[(0,U.jsxs)(`button`,{onClick:()=>e(`/profile/journals`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors border-b border-stone-50`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,U.jsx)(`div`,{className:`p-2 bg-blue-50 text-blue-600 rounded-lg`,children:(0,U.jsx)(Kn,{size:18})}),(0,U.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,U.jsx)(Zn,{size:16,className:`text-stone-400`})]}),(0,U.jsxs)(`button`,{onClick:()=>e(`/profile/plans`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors border-b border-stone-50`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,U.jsx)(`div`,{className:`p-2 bg-purple-50 text-purple-600 rounded-lg`,children:(0,U.jsx)(vr,{size:18})}),(0,U.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,U.jsx)(Zn,{size:16,className:`text-stone-400`})]}),(0,U.jsxs)(`button`,{onClick:()=>e(`/history`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,U.jsx)(`div`,{className:`p-2 bg-green-50 text-green-600 rounded-lg`,children:(0,U.jsx)(xr,{size:18})}),(0,U.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,U.jsx)(Zn,{size:16,className:`text-stone-400`})]})]}),t&&(0,U.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden mt-4 divide-y divide-stone-50`,children:[(0,U.jsxs)(`button`,{onClick:async()=>{await J.auth.signOut(),localStorage.removeItem(`museum_user`),n(null),e(`/auth`,{replace:!0})},className:`w-full px-4 py-4 flex items-center space-x-3 hover:bg-stone-50 transition-colors text-left`,children:[(0,U.jsx)(`div`,{className:`p-2 bg-stone-100 text-stone-600 rounded-lg`,children:(0,U.jsx)(hr,{size:18})}),(0,U.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,U.jsxs)(`button`,{onClick:()=>s(!0),className:`w-full px-4 py-4 flex items-center space-x-3 hover:bg-red-50 transition-colors text-left group`,children:[(0,U.jsx)(`div`,{className:`p-2 bg-red-50 text-red-500 rounded-lg group-hover:bg-red-100 transition-colors`,children:(0,U.jsx)(Lr,{size:18})}),(0,U.jsx)(`span`,{className:`text-sm font-medium text-red-500`,children:``})]})]})]}),o&&(0,U.jsxs)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center p-4`,children:[(0,U.jsx)(`div`,{className:`absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity`,onClick:()=>s(!1)}),(0,U.jsx)(`div`,{className:`bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl transform transition-all relative z-10`,children:(0,U.jsxs)(`div`,{className:`p-6 text-center`,children:[(0,U.jsx)(`div`,{className:`w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4`,children:(0,U.jsx)(Lr,{size:32,className:`text-red-500`})}),(0,U.jsx)(`h3`,{className:`text-xl font-bold text-stone-900 mb-2`,children:``}),(0,U.jsxs)(`p`,{className:`text-stone-600 mb-6 leading-relaxed`,children:[``,(0,U.jsxs)(`span`,{className:`font-bold text-amber-600 mx-1`,children:[i.journals,` `]}),``,(0,U.jsxs)(`span`,{className:`font-bold text-amber-600 mx-1`,children:[i.footprints,` `]}),``,(0,U.jsx)(`br`,{}),(0,U.jsx)(`span`,{className:`text-sm text-stone-400 mt-2 block`,children:`...`})]}),(0,U.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,U.jsx)(`button`,{onClick:()=>s(!1),className:`w-full py-3 bg-stone-900 text-white rounded-xl font-medium shadow-lg hover:bg-stone-800 active:scale-[0.98] transition-all`,children:` ()`}),(0,U.jsx)(`button`,{onClick:async()=>{if(!t)return;let r=t.id,{success:i,message:a}=await L_(r);i?(await J.auth.signOut(),localStorage.removeItem(`museum_user`),localStorage.removeItem(`chat_sessions_${r}`),localStorage.removeItem(`liked_posts_${r}`),n(null),s(!1),e(`/auth`)):(alert(a||``),s(!1))},className:`w-full py-3 bg-white text-stone-400 border border-stone-200 rounded-xl font-medium hover:bg-red-50 hover:text-red-500 hover:border-red-200 transition-colors`,children:``})]})]})})]})]})]})},yk=()=>{let e=tt(),[t,n]=(0,b.useState)(!0),[r,i]=(0,b.useState)(!1),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)(``),[l,u]=(0,b.useState)(!1),[d,f]=(0,b.useState)(0),[p,m]=(0,b.useState)({email:``,password:``,name:``}),[h,g]=(0,b.useState)(``);(0,b.useEffect)(()=>{if(d<=0)return;let e=window.setInterval(()=>{f(e=>e>0?e-1:0)},1e3);return()=>window.clearInterval(e)},[d]);let _=async r=>{r.preventDefault(),g(``),i(!0);let a=p.email.trim(),o=p.password,c=p.name.trim(),l=[];if(a||l.push(``),o||l.push(``),!t&&!c&&l.push(``),l.length>0){g(`${l.join(``)}`),i(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){g(` name@example.com`),i(!1);return}if(!t){if(c.length<6){g(` 6 `),i(!1);return}let e=/[a-z]/.test(o),t=/[A-Z]/.test(o),n=/\d/.test(o);if(o.length<8||!e||!t||!n){g(` 8 `),i(!1);return}let r=await M_(c);if(!r.success){g(r.message||``),i(!1);return}if(r.taken){g(``),i(!1);return}let a=s.trim();if(!/^\d{6}$/.test(a)){g(` 6 `),i(!1);return}}let u;if(t){let e=await j_(a);if(e.success&&e.registered===!1){n(!1),g(``),i(!1);return}e.success&&(u=e.registered)}let d;t?d=await A_(a,o):(d=await F_(a,o,c,s.trim()),!d.success&&d.message&&d.message.includes(` Supabase`)&&(d=await I_(a,o,c))),i(!1),d.success&&d.data?(localStorage.setItem(`museum_user`,JSON.stringify(d.data)),d.data.token&&localStorage.setItem(`museum_token`,d.data.token),e(`/profile`,{replace:!0})):g(t&&u===!0?`/`:d.message||(t?``:``))},v=h.includes(``)||h.includes(``)?`success`:h.includes(``)||h.includes(``)||h.includes(``)||h.includes(``)?`info`:`danger`;return(0,U.jsxs)(`div`,{className:`min-h-screen bg-stone-900 flex flex-col relative overflow-hidden w-full`,children:[(0,U.jsxs)(`div`,{className:`absolute inset-0 z-0 bg-stone-800`,children:[(0,U.jsx)(Kr,{mode:`full`,opacity:.5}),(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-stone-900/85 via-stone-900/35 to-transparent`})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-end px-8 pb-10 relative z-10 max-w-md mx-auto w-full`,children:[(0,U.jsxs)(`div`,{className:`mb-8 flex flex-col items-center text-center animate-in slide-in-from-bottom-4 duration-700`,children:[(0,U.jsx)(`div`,{className:`flex items-center justify-center mb-3`,children:(0,U.jsx)(`h1`,{className:`text-5xl font-serif font-bold text-white tracking-wide`,children:``})}),(0,U.jsx)(`h2`,{className:`text-lg font-light text-stone-300 mb-6 tracking-widest uppercase font-sans`,children:T_}),(0,U.jsx)(`div`,{className:`w-12 h-0.5 bg-amber-500/50 mb-6`}),(0,U.jsx)(_k,{text:``,className:`text-stone-400 text-xs font-serif italic tracking-wider`})]}),(0,U.jsxs)(`form`,{noValidate:!0,onSubmit:_,className:`space-y-4 animate-in slide-in-from-bottom-8 duration-700 delay-200`,children:[!t&&(0,U.jsxs)(`div`,{className:`space-y-1`,children:[(0,U.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(Rr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:`text`,placeholder:` 6 `,value:p.name,onChange:e=>m({...p,name:e.target.value}),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-4 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`})]})]}),(0,U.jsxs)(`div`,{className:`space-y-1`,children:[(0,U.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(gr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:`email`,placeholder:`name@example.com`,value:p.email,onChange:e=>m({...p,email:e.target.value}),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-4 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`})]})]}),!t&&(0,U.jsxs)(`div`,{className:`space-y-1`,children:[(0,U.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,U.jsxs)(`div`,{className:`flex gap-2`,children:[(0,U.jsx)(`div`,{className:`relative flex-1`,children:(0,U.jsx)(`input`,{inputMode:`numeric`,autoComplete:`one-time-code`,placeholder:`6 `,value:s,onChange:e=>c(e.target.value.replace(/[^\d]/g,``).slice(0,6)),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 px-4 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`})}),(0,U.jsx)(`button`,{type:`button`,onClick:async()=>{let e=p.email.trim();if(g(``),!e){g(``);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){g(``);return}if(d>0||l)return;u(!0);let t=await j_(e);if(t.success&&t.registered===!0){n(!0),u(!1),g(` Supabase `);return}let r=await N_(e);if(u(!1),r.success){f(60),g(r.message||``);return}g(r.message||``)},disabled:l||d>0,className:[`px-4 py-3 rounded-xl text-sm font-medium border transition-all active:scale-[0.98] whitespace-nowrap`,l||d>0?`bg-stone-800/40 text-stone-500 border-stone-700 cursor-not-allowed`:`bg-stone-800/60 text-amber-200 border-stone-700 hover:border-amber-500/50 hover:text-amber-100`].join(` `),children:l?``:d>0?`${d}s`:``})]}),(0,U.jsx)(`div`,{className:`text-[11px] text-stone-500 px-1`,children:``})]}),(0,U.jsxs)(`div`,{className:`space-y-1`,children:[(0,U.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(mr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:a?`text`:`password`,placeholder:t?``:` 8  + `,value:p.password,onChange:e=>m({...p,password:e.target.value}),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-12 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`}),(0,U.jsx)(`button`,{type:`button`,onClick:()=>o(!a),className:`absolute right-4 top-3.5 text-stone-500 hover:text-stone-300`,children:a?(0,U.jsx)(nr,{size:18}):(0,U.jsx)(rr,{size:18})})]}),t&&(0,U.jsx)(`div`,{className:`flex justify-end px-1 pt-1`,children:(0,U.jsx)(`button`,{type:`button`,onClick:async()=>{let e=p.email.trim();g(``);let t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);if(!e){g(``);return}if(!t){g(``);return}let r=await j_(e);if(r.success&&r.registered===!1){n(!1),g(``);return}let i=await P_(e);g(i.message||(i.success?``:``))},className:`text-xs text-stone-400 hover:text-amber-300 transition-colors`,children:``})})]}),h&&(0,U.jsxs)(`div`,{className:[`rounded-xl px-3 py-2 border backdrop-blur-sm flex items-start gap-2 animate-in fade-in`,v===`success`?`bg-emerald-500/10 border-emerald-500/15 text-emerald-100`:v===`info`?`bg-amber-500/10 border-amber-500/15 text-amber-100`:`bg-rose-500/10 border-rose-500/15 text-rose-100`].join(` `),role:`status`,"aria-live":`polite`,children:[(0,U.jsx)(Qn,{size:16,className:v===`success`?`text-emerald-400 mt-0.5`:v===`info`?`text-amber-400 mt-0.5`:`text-rose-400 mt-0.5`}),(0,U.jsx)(`div`,{className:`text-xs leading-relaxed`,children:h})]}),(0,U.jsx)(`button`,{type:`submit`,disabled:r,className:`w-full bg-amber-600 hover:bg-amber-500 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-amber-900/20 active:scale-[0.98] transition-all flex items-center justify-center mt-6`,children:r?(0,U.jsx)(pr,{size:20,className:`animate-spin`}):(0,U.jsxs)(U.Fragment,{children:[t?``:``,(0,U.jsx)(Wn,{size:18,className:`ml-2`})]})})]}),(0,U.jsx)(`div`,{className:`mt-6 text-center animate-in fade-in duration-700 delay-300`,children:(0,U.jsxs)(`p`,{className:`text-stone-500 text-sm`,children:[t?``:``,(0,U.jsx)(`button`,{onClick:()=>{n(!t),g(``),c(``),f(0)},className:`text-amber-500 font-medium ml-2 hover:text-amber-400 transition-colors`,children:t?``:``})]})})]}),(0,U.jsx)(`div`,{className:`p-8 text-center relative z-10 animate-in fade-in duration-700 delay-500 pt-0`,children:(0,U.jsx)(`button`,{onClick:()=>e(`/`),className:`text-stone-500 text-sm hover:text-stone-300 transition-colors`,children:``})})]})},bk=()=>{let e=tt(),[t,n]=(0,b.useState)([]);(0,b.useEffect)(()=>{try{let e=localStorage.getItem(`museum_guide_sessions`);e&&n(JSON.parse(e))}catch(e){console.error(`Failed to load sessions`,e)}},[]);let r=t=>{e(`/guide`,{state:{sessionId:t.id}})},i=(e,r)=>{e.stopPropagation();let i=t.filter(e=>e.id!==r);n(i),localStorage.setItem(`museum_guide_sessions`,JSON.stringify(i))};return(0,U.jsxs)(`div`,{className:`flex flex-col h-screen bg-transparent text-stone-800 w-full shadow-xl`,children:[(0,U.jsxs)(`header`,{className:`px-6 py-4 flex items-center bg-white border-b border-stone-100 sticky top-0 z-10`,children:[(0,U.jsx)(`button`,{onClick:()=>e(`/profile`,{replace:!0}),className:`p-2 -ml-2 text-stone-600 hover:bg-stone-100 rounded-full transition-colors`,children:(0,U.jsx)(Un,{size:20})}),(0,U.jsxs)(`h1`,{className:`text-lg font-bold font-serif text-stone-900 ml-2 flex items-center`,children:[(0,U.jsx)(sr,{size:20,className:`mr-2 text-amber-500`}),``]})]}),(0,U.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 flex flex-col items-center`,children:(0,U.jsx)(`div`,{className:`w-full max-w-3xl flex-1 flex flex-col`,children:t.length===0?(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col items-center justify-center text-stone-400`,children:[(0,U.jsx)(`div`,{className:`w-16 h-16 bg-stone-200 rounded-full flex items-center justify-center mb-4 text-stone-400`,children:(0,U.jsx)(xr,{size:32})}),(0,U.jsx)(`p`,{className:`text-sm`,children:``}),(0,U.jsx)(`button`,{onClick:()=>e(`/guide`),className:`mt-6 px-6 py-2 bg-stone-900 text-white rounded-full text-sm font-medium hover:bg-stone-800 transition-colors`,children:``})]}):(0,U.jsx)(`div`,{className:`space-y-3`,children:t.map(e=>(0,U.jsxs)(`div`,{onClick:()=>r(e),className:`p-4 bg-white rounded-xl border border-stone-100 shadow-sm hover:shadow-md hover:border-amber-200 transition-all cursor-pointer group relative active:scale-[0.98]`,children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-800`,children:e.locationName}),(0,U.jsxs)(`span`,{className:`text-xs text-stone-400 bg-stone-50 px-2 py-0.5 rounded-full`,children:[new Date(e.lastMessageTime).toLocaleDateString(),` `,new Date(e.lastMessageTime).toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`})]})]}),(0,U.jsx)(`div`,{className:`flex items-center text-xs text-stone-500 mb-2`,children:(0,U.jsx)(`span`,{className:`px-1.5 py-0.5 rounded text-[10px] mr-2 ${e.persona===`humorous`?`bg-amber-100 text-amber-700`:e.persona===`kids`?`bg-green-100 text-green-700`:`bg-blue-100 text-blue-700`}`,children:e.persona===`humorous`?``:e.persona===`kids`?``:``})}),(0,U.jsx)(`p`,{className:`text-sm text-stone-600 line-clamp-2 pr-8`,children:e.preview||``}),(0,U.jsx)(`button`,{onClick:t=>i(t,e.id),className:`absolute bottom-4 right-4 p-2 text-stone-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100`,children:(0,U.jsx)(Ir,{size:16})})]},e.id))})})})]})},xk=()=>{let e=tt(),{id:t}=at(),[n,r]=(0,b.useState)(null),[i,a]=(0,b.useState)(!1),[o,s]=(0,b.useState)(0),[c,l]=(0,b.useState)(!1),[u,d]=(0,b.useState)(null),[f,p]=(0,b.useState)(null);(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`);if(e)try{let t=JSON.parse(e);p(t.id||t.uid)}catch(e){console.error(e)}},[]),(0,b.useEffect)(()=>{(async()=>{if(t){let e=await Oc.getById(t);e&&(r(e),d(JSON.parse(JSON.stringify(e))),s(e.likes),f&&a(JSON.parse(localStorage.getItem(`liked_posts_${f}`)||`[]`).includes(t)))}})()},[t,f]);let m=()=>{if(!f){alert(``);return}if(!n)return;let e=JSON.parse(localStorage.getItem(`liked_posts_${f}`)||`[]`),r,c;i?(r=e.filter(e=>e!==t),c=o-1):(r=[...e,t],c=o+1),a(!i),s(c),localStorage.setItem(`liked_posts_${f}`,JSON.stringify(r))},h=()=>{navigator.share?navigator.share({title:n?.title,text:n?.intro,url:window.location.href}).catch(console.error):(navigator.clipboard.writeText(window.location.href),alert(``))},g=async()=>{u&&(await Oc.update(u),r(u),l(!1),alert(``))},_=async()=>{if(!n||!t)return;let e=!n.is_public;await Oc.publish(t,e),r({...n,is_public:e}),d(t=>t?{...t,is_public:e}:null),alert(e?``:``)},v=e=>{if(!u)return;let t=[...u.timeline];t.splice(e,1),d({...u,timeline:t})};if(!n)return(0,U.jsx)(`div`,{className:`flex justify-center items-center h-screen bg-transparent`,children:`...`});let y=f&&(n.uid===f||!n.uid&&!0);return(0,U.jsxs)(`div`,{className:`flex flex-col h-screen w-full mx-auto bg-transparent text-stone-800 relative overflow-hidden shadow-2xl`,children:[(0,U.jsx)(Kr,{mode:`full`,opacity:.34}),(0,U.jsxs)(`div`,{className:`flex-1 overflow-y-auto relative z-10 custom-scrollbar`,children:[(0,U.jsxs)(`div`,{className:`relative h-64 flex-shrink-0`,children:[(0,U.jsx)(`img`,{src:c?u?.cover:n.cover,alt:n.location,className:`w-full h-full object-cover rounded-b-[2rem] shadow-md`}),(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-b from-black/30 to-transparent rounded-b-[2rem]`}),(0,U.jsxs)(`div`,{className:`absolute top-4 left-4 right-4 flex justify-between items-center z-10`,children:[(0,U.jsx)(`button`,{onClick:()=>e(-1),className:`w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-stone-600 shadow-sm active:scale-95 transition-transform`,children:(0,U.jsx)(Un,{size:20})}),y&&(0,U.jsx)(`div`,{className:`flex space-x-2`,children:c?(0,U.jsxs)(`button`,{onClick:g,className:`px-4 h-10 bg-amber-500 text-white rounded-full flex items-center justify-center shadow-sm active:scale-95 transition-transform font-bold text-sm`,children:[(0,U.jsx)(Or,{size:16,className:`mr-1`}),` `]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(`button`,{onClick:_,className:`w-10 h-10 backdrop-blur-sm rounded-full flex items-center justify-center shadow-sm active:scale-95 transition-transform ${n.is_public?`bg-green-500 text-white`:`bg-white/90 text-stone-600`}`,children:n.is_public?(0,U.jsx)(ir,{size:18}):(0,U.jsx)(mr,{size:18})}),(0,U.jsx)(`button`,{onClick:()=>l(!0),className:`w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-stone-600 shadow-sm active:scale-95 transition-transform`,children:(0,U.jsx)(Tr,{size:18})})]})})]})]}),(0,U.jsxs)(`div`,{className:`flex-1 px-5 -mt-8 relative z-10 pb-20 max-w-3xl mx-auto w-full`,children:[(0,U.jsxs)(`div`,{className:`bg-white p-5 rounded-3xl shadow-lg mb-8 relative border-2 border-orange-50`,children:[(0,U.jsx)(`div`,{className:`absolute -top-3 left-1/2 transform -translate-x-1/2 w-24 h-6 bg-orange-200/80 rotate-1 shadow-sm`}),c?(0,U.jsx)(`input`,{type:`text`,value:u?.title,onChange:e=>d(t=>t?{...t,title:e.target.value}:null),className:`w-full text-xl font-bold text-stone-800 mb-3 font-serif text-center border-b border-stone-200 focus:border-amber-500 outline-none bg-transparent`}):(0,U.jsx)(`h1`,{className:`text-xl font-bold text-stone-800 mb-3 font-serif leading-relaxed text-center mt-2`,children:n.title}),(0,U.jsxs)(`div`,{className:`flex items-center justify-center space-x-3 mb-4`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-2 bg-orange-50 px-3 py-1 rounded-full`,children:[(0,U.jsx)(`img`,{src:n.avatar,className:`w-6 h-6 rounded-full border border-white`,alt:`Avatar`}),(0,U.jsx)(`span`,{className:`text-xs font-bold text-stone-600`,children:n.author})]}),(0,U.jsx)(`span`,{className:`text-xs text-stone-400`,children:n.date})]}),c?(0,U.jsx)(`textarea`,{value:u?.intro,onChange:e=>d(t=>t?{...t,intro:e.target.value}:null),className:`w-full text-sm text-stone-600 leading-relaxed text-center border p-2 rounded-lg focus:border-amber-500 outline-none min-h-[80px]`}):(0,U.jsx)(`p`,{className:`text-sm text-stone-600 leading-relaxed text-center`,children:n.intro})]}),(0,U.jsxs)(`div`,{className:`relative pl-4 space-y-8`,children:[(0,U.jsx)(`div`,{className:`absolute left-[27px] top-2 bottom-0 w-0.5 bg-orange-200 border-l-2 border-dashed border-orange-300`}),(c?u:n)?.timeline.map((e,t)=>(0,U.jsxs)(`div`,{className:`relative pl-8 group`,children:[(0,U.jsx)(`div`,{className:`absolute left-0 top-0 w-14 h-14 bg-white border-4 border-orange-100 rounded-full flex items-center justify-center shadow-sm z-10`,children:(0,U.jsx)(`span`,{className:`text-xs font-bold text-orange-400 font-mono`,children:e.time})}),(0,U.jsxs)(`div`,{className:`bg-white p-4 rounded-2xl shadow-sm border border-stone-100 ml-4 relative`,children:[c&&(0,U.jsx)(`button`,{onClick:()=>v(t),className:`absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full shadow-md z-20`,children:(0,U.jsx)(Ir,{size:12})}),(0,U.jsxs)(`div`,{className:`flex items-center space-x-1 text-orange-500 mb-2`,children:[(0,U.jsx)(_r,{size:14,fill:`currentColor`,className:`text-orange-200`}),(0,U.jsx)(`span`,{className:`text-sm font-bold`,children:e.location})]}),(0,U.jsx)(`div`,{className:`rounded-xl overflow-hidden mb-3 rotate-1 border-4 border-white shadow-md`,children:(0,U.jsx)(`img`,{src:e.image,alt:e.location,className:`w-full h-40 object-cover`})}),e.ai_tip&&(0,U.jsxs)(`div`,{className:`bg-${e.color||`amber`}-50 p-3 rounded-xl mb-2 relative`,children:[(0,U.jsx)(`div`,{className:`absolute -top-2 left-4 w-4 h-4 bg-${e.color||`amber`}-50 rotate-45`}),(0,U.jsxs)(`div`,{className:`flex items-start space-x-2`,children:[(0,U.jsx)(Nr,{size:16,className:`text-${e.color||`amber`}-400 mt-0.5 flex-shrink-0`}),(0,U.jsxs)(`p`,{className:`text-xs text-stone-600 leading-relaxed`,children:[(0,U.jsx)(`span`,{className:`font-bold text-${e.color||`amber`}-500`,children:`AI `}),e.ai_tip]})]})]}),c?(0,U.jsx)(`textarea`,{value:e.content,onChange:e=>{if(!u)return;let n=[...u.timeline];n[t]={...n[t],content:e.target.value},d({...u,timeline:n})},className:`w-full text-sm text-stone-700 border p-2 rounded-lg focus:border-amber-500 outline-none`}):(0,U.jsx)(`p`,{className:`text-sm text-stone-700`,children:e.content})]})]},t)),(0,U.jsxs)(`div`,{className:`relative pl-8 pb-8`,children:[(0,U.jsx)(`div`,{className:`absolute left-[22px] top-0 w-3 h-3 bg-orange-300 rounded-full border-2 border-white shadow-sm z-10`}),(0,U.jsx)(`p`,{className:`text-xs text-stone-400 italic ml-4 pt-1`,children:`...`})]})]})]})]}),(0,U.jsxs)(`div`,{className:`absolute bottom-0 left-0 right-0 bg-white border-t border-stone-100 px-6 py-3 flex items-center justify-between z-20 pb-safe shadow-[0_-4px_10px_rgba(0,0,0,0.05)]`,children:[(0,U.jsx)(`div`,{className:`flex-1`}),(0,U.jsxs)(`div`,{className:`flex items-center space-x-8 text-stone-500`,children:[(0,U.jsxs)(`button`,{onClick:m,className:`flex flex-col items-center space-y-0.5 active:scale-90 transition-transform`,children:[(0,U.jsx)(or,{size:24,className:i?`text-rose-500`:`text-stone-400`,fill:i?`#f43f5e`:`none`}),(0,U.jsx)(`span`,{className:`text-[10px] ${i?`text-rose-500 font-bold`:``}`,children:o})]}),(0,U.jsxs)(`button`,{onClick:h,className:`flex flex-col items-center space-y-0.5 active:scale-90 transition-transform`,children:[(0,U.jsx)(Mr,{size:24,className:`text-stone-400`}),(0,U.jsx)(`span`,{className:`text-[10px]`,children:``})]})]})]})]})},Sk=({icon:e,title:t,description:n,actionText:r,onAction:i})=>(0,U.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-full p-8 text-center animate-in fade-in zoom-in duration-500`,children:[(0,U.jsxs)(`div`,{className:`w-24 h-24 bg-stone-100 rounded-full flex items-center justify-center mb-6 text-stone-400 relative`,children:[e,(0,U.jsx)(`div`,{className:`absolute top-0 right-0 w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center text-amber-500 animate-bounce delay-700`,children:(0,U.jsx)(Pr,{size:14,fill:`currentColor`})})]}),(0,U.jsx)(`h3`,{className:`text-xl font-bold font-serif text-stone-800 mb-2`,children:t}),(0,U.jsx)(`p`,{className:`text-stone-500 text-sm mb-8 leading-relaxed max-w-xs`,children:n}),(0,U.jsxs)(`button`,{onClick:i,className:`px-8 py-3 bg-stone-900 text-white rounded-xl font-medium shadow-lg shadow-stone-900/20 hover:bg-stone-800 active:scale-95 transition-all flex items-center`,children:[(0,U.jsx)(Dr,{size:18,className:`mr-2`}),r]})]}),Ck=()=>{let e=tt(),t=I(),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)([]),[o,s]=(0,b.useState)(!1),[c,l]=(0,b.useState)(``),[u,d]=(0,b.useState)(``),[f,p]=(0,b.useState)(``),m=b.useRef(null),h=t.pathname.split(`/`).pop();(0,b.useEffect)(()=>{let e=(()=>{let e=localStorage.getItem(`museum_user`);if(e)try{let t=JSON.parse(e);return t.id||t.uid}catch(e){console.error(`Failed to parse user`,e)}return null})();h===`plans`?(async()=>{if(e){let t=await Sc.getUserPlans(e);if(t.length>0)r(t);else{let t=localStorage.getItem(`my_plans`);t&&r(JSON.parse(t).filter(t=>t.uid===e))}}else r([])})():h===`journals`&&(async()=>{a(e?await Oc.getUserTravelogues(e):[])})()},[h]);let g={title:``,emptyIcon:(0,U.jsx)(Kn,{size:40}),emptyTitle:``,emptyDesc:``,actionText:``,onAction:()=>e(`/`)},_=async(e,t)=>{e.stopPropagation(),confirm(``)&&(await Oc.delete(t),a(e=>e.filter(e=>e.id!==t)))},v=e=>{l(e.title||``),d(e.message),p(e.actionText||``),m.current=e.onAction||null,s(!0)},y=e=>{let t=localStorage.getItem(`my_plans`);if(t)try{let n=JSON.parse(t).filter(t=>t.id!==e);localStorage.setItem(`my_plans`,JSON.stringify(n))}catch{}},x=async(e,t)=>{e.stopPropagation(),v({title:``,message:`
`,actionText:``,onAction:async()=>{r(e=>e.filter(e=>e.id!==t)),y(t),await Sc.deletePlan(t)}})};return h===`journals`?g={title:``,emptyIcon:(0,U.jsx)(Kn,{size:48,strokeWidth:1.5}),emptyTitle:``,emptyDesc:``,actionText:``,onAction:()=>e(`/guide`)}:h===`plans`&&(g={title:``,emptyIcon:(0,U.jsx)(vr,{size:48,strokeWidth:1.5}),emptyTitle:``,emptyDesc:`
 AI `,actionText:``,onAction:()=>e(`/plan`)}),(0,U.jsxs)(`div`,{className:`flex flex-col h-screen bg-transparent text-stone-800 w-full shadow-xl`,children:[(0,U.jsxs)(`header`,{className:`px-6 py-4 flex items-center bg-white border-b border-stone-100 sticky top-0 z-10`,children:[(0,U.jsx)(`button`,{onClick:()=>e(`/profile`,{replace:!0}),className:`p-2 -ml-2 text-stone-600 hover:bg-stone-100 rounded-full transition-colors`,children:(0,U.jsx)(Un,{size:20})}),(0,U.jsx)(`h1`,{className:`text-lg font-bold font-serif text-stone-900 ml-2`,children:g.title})]}),o&&(0,U.jsxs)(`div`,{className:`fixed inset-0 z-[1000] flex items-center justify-center p-6`,children:[(0,U.jsx)(`button`,{className:`absolute inset-0 bg-black/50 backdrop-blur-sm`,onClick:()=>s(!1),"aria-label":`Close`}),(0,U.jsxs)(`div`,{className:`relative w-full max-w-sm bg-white rounded-3xl shadow-2xl border border-stone-100 overflow-hidden animate-in fade-in zoom-in duration-200`,children:[(0,U.jsxs)(`div`,{className:`p-5 border-b border-stone-100 flex items-center justify-between`,children:[(0,U.jsx)(`div`,{className:`text-sm font-bold text-stone-900`,children:c}),(0,U.jsx)(`button`,{onClick:()=>s(!1),className:`w-9 h-9 rounded-full bg-stone-50 flex items-center justify-center text-stone-500 hover:bg-stone-100 transition-colors`,"aria-label":`Close`,children:(0,U.jsx)(Ur,{size:18})})]}),(0,U.jsxs)(`div`,{className:`p-5`,children:[(0,U.jsx)(`div`,{className:`text-sm text-stone-600 leading-relaxed whitespace-pre-line`,children:u}),(0,U.jsxs)(`div`,{className:`mt-5 flex gap-3`,children:[f!==``&&(0,U.jsx)(`button`,{onClick:()=>s(!1),className:`flex-1 h-11 rounded-2xl border border-stone-200 text-stone-700 font-bold text-sm hover:bg-stone-50 transition-colors`,children:``}),(0,U.jsx)(`button`,{onClick:async()=>{s(!1),await m.current?.()},className:`flex-1 h-11 rounded-2xl bg-stone-900 text-white font-bold text-sm hover:bg-stone-800 transition-colors`,children:f})]})]})]})]}),(0,U.jsx)(`main`,{className:`flex-1 overflow-y-auto flex flex-col items-center`,children:(0,U.jsx)(`div`,{className:`w-full max-w-3xl flex-1`,children:h===`journals`&&i.length>0?(0,U.jsx)(`div`,{className:`p-4 space-y-4`,children:i.map(t=>(0,U.jsxs)(`div`,{onClick:()=>e(`/travelogue/${t.id}`),className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4 active:scale-[0.99] transition-transform relative group`,children:[(0,U.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,U.jsx)(`img`,{src:t.cover,alt:t.title,className:`w-full h-full object-cover`}),t.is_public&&(0,U.jsx)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:``})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1 min-w-0`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-base leading-tight mb-1 line-clamp-2`,children:t.title}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs mt-1`,children:[(0,U.jsx)(_r,{size:12,className:`mr-1 flex-shrink-0`}),(0,U.jsx)(`span`,{className:`truncate`,children:t.location})]})]}),(0,U.jsxs)(`div`,{className:`flex justify-between items-end mt-2`,children:[(0,U.jsxs)(`span`,{className:`text-xs text-stone-400 font-medium flex items-center`,children:[(0,U.jsx)(qn,{size:12,className:`mr-1`}),t.date]}),(0,U.jsx)(`button`,{onClick:e=>_(e,t.id),className:`p-1.5 text-stone-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors`,children:(0,U.jsx)(Ir,{size:14})})]})]})]},t.id))}):h===`plans`&&n.length>0?(0,U.jsx)(`div`,{className:`p-4 space-y-4`,children:n.map(t=>(0,U.jsxs)(`div`,{onClick:()=>e(`/plan/edit`,{state:{planId:t.id}}),className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4 active:scale-[0.99] transition-transform cursor-pointer`,children:[(0,U.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,U.jsx)(`img`,{src:t.image,alt:t.destination,className:`w-full h-full object-cover ${t.status===`completed`?`grayscale`:``}`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,U.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:[t.days,``]})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-lg leading-tight mb-1 line-clamp-1`,children:t.title}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,U.jsx)(_r,{size:12,className:`mr-1`}),(0,U.jsx)(`span`,{children:t.destination})]})]}),(0,U.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,U.jsx)(`span`,{className:`text-xs text-stone-400 font-medium`,children:t.startDate?new Date(t.startDate).toLocaleDateString():``}),(0,U.jsx)(`button`,{onClick:e=>x(e,t.id),className:`p-1.5 text-stone-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors`,"aria-label":``,children:(0,U.jsx)(Ir,{size:14})}),(0,U.jsx)(`span`,{className:`text-xs px-2 py-1 rounded-full font-medium ${t.status===`upcoming`?`bg-blue-50 text-blue-600`:t.status===`completed`?`bg-stone-100 text-stone-500`:`bg-amber-50 text-amber-600`}`,children:t.status===`upcoming`?``:t.status===`completed`?``:``})]})]})]},t.id))}):(0,U.jsx)(Sk,{icon:g.emptyIcon,title:g.emptyTitle,description:g.emptyDesc,actionText:g.actionText,onAction:g.onAction})})})]})},wk=()=>{let e=tt(),[t,n]=(0,b.useState)(!0),[r,i]=(0,b.useState)(!1),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)(``),[l,u]=(0,b.useState)(!1),[d,f]=(0,b.useState)(!1),[p,m]=(0,b.useState)(``),[h,g]=(0,b.useState)(``);(0,b.useEffect)(()=>{(async()=>{try{let e=new URLSearchParams(window.location.search),t=e.get(`code`);if(t){await J.auth.exchangeCodeForSession(t),e.delete(`code`),e.delete(`reset`);let n=`${window.location.origin}${window.location.pathname}${e.toString()?`?${e.toString()}`:``}#/reset-password`;window.history.replaceState({},``,n)}let{data:n}=await J.auth.getSession();n.session||o(``)}catch{o(``)}finally{n(!1)}})()},[]);let _=s?`success`:a?`danger`:`info`,v=s||a,y=async e=>{e.preventDefault(),o(``),c(``);let t=/[a-z]/.test(p),n=/[A-Z]/.test(p),r=/\d/.test(p);if(p.length<8||!t||!n||!r){o(` 8 `);return}if(p!==h){o(``);return}i(!0);let{error:a}=await J.auth.updateUser({password:p});if(i(!1),a){o(``);return}c(``),await J.auth.signOut()};return(0,U.jsxs)(`div`,{className:`min-h-screen bg-stone-900 flex flex-col relative overflow-hidden w-full`,children:[(0,U.jsxs)(`div`,{className:`absolute inset-0 z-0 bg-stone-800`,children:[(0,U.jsx)(Kr,{mode:`full`,opacity:.5}),(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-stone-900 via-stone-900/70 to-stone-900/30`})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-end px-8 pb-10 relative z-10 max-w-md mx-auto w-full`,children:[(0,U.jsxs)(`div`,{className:`mb-8 flex flex-col items-center text-center animate-in slide-in-from-bottom-4 duration-700`,children:[(0,U.jsx)(`h1`,{className:`text-4xl font-serif font-bold text-white tracking-wide`,children:``}),(0,U.jsx)(`h2`,{className:`text-lg font-light text-stone-300 mt-3 tracking-widest uppercase font-sans`,children:T_}),(0,U.jsx)(`div`,{className:`w-12 h-0.5 bg-amber-500/50 my-6`}),(0,U.jsx)(_k,{text:``,className:`text-stone-400 text-xs font-serif italic tracking-wider`})]}),v&&(0,U.jsxs)(`div`,{className:[`rounded-xl px-3 py-2 border backdrop-blur-sm flex items-start gap-2 animate-in fade-in mb-4`,_===`success`?`bg-emerald-500/10 border-emerald-500/15 text-emerald-100`:_===`info`?`bg-amber-500/10 border-amber-500/15 text-amber-100`:`bg-rose-500/10 border-rose-500/15 text-rose-100`].join(` `),role:`status`,"aria-live":`polite`,children:[(0,U.jsx)(Qn,{size:16,className:_===`success`?`text-emerald-400 mt-0.5`:_===`info`?`text-amber-400 mt-0.5`:`text-rose-400 mt-0.5`}),(0,U.jsx)(`div`,{className:`text-xs leading-relaxed`,children:v})]}),t?(0,U.jsxs)(`div`,{className:`flex items-center justify-center py-10 text-stone-400`,children:[(0,U.jsx)(pr,{size:18,className:`animate-spin mr-2`}),(0,U.jsx)(`span`,{className:`text-sm`,children:``})]}):(0,U.jsxs)(`form`,{noValidate:!0,onSubmit:y,className:`space-y-4 animate-in slide-in-from-bottom-8 duration-700 delay-200`,children:[(0,U.jsxs)(`div`,{className:`space-y-1`,children:[(0,U.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(mr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:l?`text`:`password`,placeholder:` 8  + `,value:p,onChange:e=>m(e.target.value),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-12 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`,disabled:!!a&&a.includes(``)}),(0,U.jsx)(`button`,{type:`button`,onClick:()=>u(!l),className:`absolute right-4 top-3.5 text-stone-500 hover:text-stone-300`,children:l?(0,U.jsx)(nr,{size:18}):(0,U.jsx)(rr,{size:18})})]})]}),(0,U.jsxs)(`div`,{className:`space-y-1`,children:[(0,U.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(mr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:d?`text`:`password`,placeholder:``,value:h,onChange:e=>g(e.target.value),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-12 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`,disabled:!!a&&a.includes(``)}),(0,U.jsx)(`button`,{type:`button`,onClick:()=>f(!d),className:`absolute right-4 top-3.5 text-stone-500 hover:text-stone-300`,children:d?(0,U.jsx)(nr,{size:18}):(0,U.jsx)(rr,{size:18})})]})]}),(0,U.jsx)(`button`,{type:`submit`,disabled:r||!!a&&a.includes(``),className:`w-full bg-amber-600 hover:bg-amber-500 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-amber-900/20 active:scale-[0.98] transition-all flex items-center justify-center mt-6 disabled:opacity-60 disabled:cursor-not-allowed`,children:r?(0,U.jsx)(pr,{size:20,className:`animate-spin`}):``}),(0,U.jsx)(`div`,{className:`text-center pt-2`,children:(0,U.jsx)(`button`,{type:`button`,onClick:()=>e(`/auth`,{replace:!0}),className:`text-stone-500 text-sm hover:text-stone-300 transition-colors`,children:``})})]})]})]})};function Tk(){return(0,b.useEffect)(()=>{(async()=>{try{let{data:e}=await J.auth.getUser(),t=e.user;if(!t)return;let n=t.email||``,r=localStorage.getItem(`museum_user`),i=null;try{i=r?JSON.parse(r):null}catch{i=null}if(!i||i.id!==t.id){let e=t.user_metadata?.name||(n?n.split(`@`)[0]:``),r=t.user_metadata?.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=Felix`;localStorage.setItem(`museum_user`,JSON.stringify({id:t.id,name:e,email:n,avatar:r}))}}catch{}})();try{let e=localStorage.getItem(`museum_user`);if(e){let t=JSON.parse(e);t.avatar&&(t.avatar.includes(`photo-1604580864964`)||t.avatar.includes(`images.unsplash.com/`))&&(t.avatar=E_,localStorage.setItem(`museum_user`,JSON.stringify(t)),console.log(`Fixed user avatar in localStorage`),window.location.reload())}}catch(e){console.error(`Error fixing local storage:`,e)}},[]),(0,U.jsx)(V,{children:(0,U.jsxs)(At,{children:[(0,U.jsxs)(z,{path:`/`,element:(0,U.jsx)(qr,{}),children:[(0,U.jsx)(z,{index:!0,element:(0,U.jsx)(kc,{})}),(0,U.jsx)(z,{path:`plan`,element:(0,U.jsx)(R_,{})}),(0,U.jsx)(z,{path:`guide`,element:(0,U.jsx)(Bv,{})}),(0,U.jsx)(z,{path:`community`,element:(0,U.jsx)(Vv,{})}),(0,U.jsx)(z,{path:`profile`,element:(0,U.jsx)(vk,{})})]}),(0,U.jsx)(z,{path:`/travelogue/:id`,element:(0,U.jsx)(xk,{})}),(0,U.jsx)(z,{path:`/plan/edit`,element:(0,U.jsx)(W_,{})}),(0,U.jsx)(z,{path:`/auth`,element:(0,U.jsx)(yk,{})}),(0,U.jsx)(z,{path:`/reset-password`,element:(0,U.jsx)(wk,{})}),(0,U.jsx)(z,{path:`/history`,element:(0,U.jsx)(bk,{})}),(0,U.jsx)(z,{path:`/profile/journals`,element:(0,U.jsx)(Ck,{})}),(0,U.jsx)(z,{path:`/profile/plans`,element:(0,U.jsx)(Ck,{})}),(0,U.jsx)(z,{path:`/profile/favorites`,element:(0,U.jsx)(Ck,{})})]})})}var Ek=Tk;(0,y.createRoot)(document.getElementById(`root`)).render((0,U.jsx)(b.StrictMode,{children:(0,U.jsx)(Ek,{})}));