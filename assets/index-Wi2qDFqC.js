var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var f=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function ee(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function E(e,t){return ee(e.type,t,e.props)}function D(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function te(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var O=/\/+/g;function ne(e,t){return typeof e==`object`&&e&&e.key!=null?te(``+e.key):t.toString(36)}function k(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function re(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,re(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+ne(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(O,`$&/`)+`/`),re(o,r,i,``,function(e){return e})):o!=null&&(D(o)&&(o=E(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(O,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+ne(a,u),c+=re(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+ne(a,u++),c+=re(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return re(k(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function A(e,t,n){if(e==null)return e;var r=[],i=0;return re(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function j(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var M=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},N={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!D(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=N,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return ee(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return ee(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=D,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,M)}catch(e){M(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.4`})),p=s(((e,t)=>{t.exports=f()})),m=s((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,D());else{var t=n(l);t!==null&&ne(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function ee(){return g?!0:!(e.unstable_now()-T<w)}function E(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&ee());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&ne(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?D():S=!1}}}var D;if(typeof y==`function`)D=function(){y(E)};else if(typeof MessageChannel<`u`){var te=new MessageChannel,O=te.port2;te.port1.onmessage=E,D=function(){O.postMessage(null)}}else D=function(){_(E,0)};function ne(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,ne(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,D()))),r},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),h=s(((e,t)=>{t.exports=m()})),g=s((e=>{var t=p();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.4`})),_=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=s((e=>{var t=h(),n=p(),r=_();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for(`react.element`),g=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),ee=Symbol.for(`react.suspense_list`),E=Symbol.for(`react.memo`),D=Symbol.for(`react.lazy`),te=Symbol.for(`react.activity`),O=Symbol.for(`react.memo_cache_sentinel`),ne=Symbol.iterator;function k(e){return typeof e!=`object`||!e?null:(e=ne&&e[ne]||e[`@@iterator`],typeof e==`function`?e:null)}var re=Symbol.for(`react.client.reference`);function A(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case ee:return`SuspenseList`;case te:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case E:return t=e.displayName||null,t===null?A(e.type)||`Memo`:t;case D:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}var j=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},F=[],I=-1;function ie(e){return{current:e}}function ae(e){0>I||(e.current=F[I],F[I]=null,I--)}function R(e,t){I++,F[I]=e.current,e.current=t}var oe=ie(null),se=ie(null),ce=ie(null),le=ie(null);function ue(e,t){switch(R(ce,t),R(se,e),R(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wd(t),e=Gd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}ae(oe),R(oe,e)}function de(){ae(oe),ae(se),ae(ce)}function fe(e){e.memoizedState!==null&&R(le,e);var t=oe.current,n=Gd(t,e.type);t!==n&&(R(se,e),R(oe,n))}function pe(e){se.current===e&&(ae(oe),ae(se)),le.current===e&&(ae(le),tp._currentValue=P)}var me,he;function ge(e){if(me===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);me=t&&t[1]||``,he=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+me+e+he}var _e=!1;function ve(e,t){if(!e||_e)return``;_e=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{_e=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?ge(n):``}function ye(e,t){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge(`Lazy`);case 13:return e.child!==t&&t!==null?ge(`Suspense Fallback`):ge(`Suspense`);case 19:return ge(`SuspenseList`);case 0:case 15:return ve(e.type,!1);case 11:return ve(e.type.render,!1);case 1:return ve(e.type,!0);case 31:return ge(`Activity`);default:return``}}function be(e){try{var t=``,n=null;do t+=ye(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var xe=Object.prototype.hasOwnProperty,Se=t.unstable_scheduleCallback,Ce=t.unstable_cancelCallback,we=t.unstable_shouldYield,Te=t.unstable_requestPaint,Ee=t.unstable_now,De=t.unstable_getCurrentPriorityLevel,Oe=t.unstable_ImmediatePriority,ke=t.unstable_UserBlockingPriority,Ae=t.unstable_NormalPriority,je=t.unstable_LowPriority,Me=t.unstable_IdlePriority,Ne=t.log,Pe=t.unstable_setDisableYieldValue,Fe=null,Ie=null;function Le(e){if(typeof Ne==`function`&&Pe(e),Ie&&typeof Ie.setStrictMode==`function`)try{Ie.setStrictMode(Fe,e)}catch{}}var Re=Math.clz32?Math.clz32:Ve,ze=Math.log,Be=Math.LN2;function Ve(e){return e>>>=0,e===0?32:31-(ze(e)/Be|0)|0}var He=256,Ue=262144,We=4194304;function Ge(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ke(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Ge(n))):i=Ge(o):i=Ge(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Ge(n))):i=Ge(o)):i=Ge(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function qe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var e=We;return We<<=1,!(We&62914560)&&(We=4194304),e}function Xe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function z(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ze(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Re(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&Qe(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Qe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Re(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function $e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Re(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function et(e,t){var n=t&-t;return n=n&42?1:tt(n),(n&(e.suspendedLanes|t))===0?n:0}function tt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function rt(){var e=N.p;return e===0?(e=window.event,e===void 0?32:_p(e.type)):e}function it(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var at=Math.random().toString(36).slice(2),ot=`__reactFiber$`+at,st=`__reactProps$`+at,ct=`__reactContainer$`+at,lt=`__reactEvents$`+at,ut=`__reactListeners$`+at,dt=`__reactHandles$`+at,ft=`__reactResources$`+at,pt=`__reactMarker$`+at;function mt(e){delete e[ot],delete e[st],delete e[lt],delete e[ut],delete e[dt]}function ht(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ct]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mf(e);e!==null;){if(n=e[ot])return n;e=mf(e)}return t}e=n,n=e.parentNode}return null}function gt(e){if(e=e[ot]||e[ct]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _t(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function vt(e){var t=e[ft];return t||=e[ft]={hoistableStyles:new Map,hoistableScripts:new Map},t}function yt(e){e[pt]=!0}var bt=new Set,xt={};function B(e,t){St(e,t),St(e+`Capture`,t)}function St(e,t){for(xt[e]=t,e=0;e<t.length;e++)bt.add(t[e])}var Ct=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),wt={},Tt={};function Et(e){return xe.call(Tt,e)?!0:xe.call(wt,e)?!1:Ct.test(e)?Tt[e]=!0:(wt[e]=!0,!1)}function V(e,t,n){if(Et(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Dt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Ot(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function kt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function At(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function jt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mt(e){if(!e._valueTracker){var t=At(e)?`checked`:`value`;e._valueTracker=jt(e,t,``+e[t])}}function Nt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=At(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Pt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Ft=/[\n"\\]/g;function It(e){return e.replace(Ft,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Lt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+kt(t)):e.value!==``+kt(t)&&(e.value=``+kt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):zt(e,o,kt(n)):zt(e,o,kt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+kt(s):e.removeAttribute(`name`)}function Rt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Mt(e);return}n=n==null?``:``+kt(n),t=t==null?n:``+kt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Mt(e)}function zt(e,t,n){t===`number`&&Pt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+kt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vt(e,t,n){if(t!=null&&(t=``+kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+kt(n)}function Ht(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(j(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=kt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Mt(e)}function Ut(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Gt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Wt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Kt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Gt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Gt(e,o,t[o])}function qt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Jt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),H=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yt(e){return H.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function Xt(){}var Zt=null;function Qt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $t=null,en=null;function tn(e){var t=gt(e);if(t&&(e=t.stateNode)){var n=e[st]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Lt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+It(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[st]||null;if(!a)throw Error(i(90));Lt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Nt(r)}break a;case`textarea`:Vt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Bt(e,!!n.multiple,t,!1)}}}var nn=!1;function rn(e,t,n){if(nn)return e(t,n);nn=!0;try{return e(t)}finally{if(nn=!1,($t!==null||en!==null)&&(bu(),$t&&(t=$t,e=en,en=$t=null,tn(t),e)))for(t=0;t<e.length;t++)tn(e[t])}}function an(e,t){var n=e.stateNode;if(n===null)return null;var r=n[st]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var on=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),sn=!1;if(on)try{var cn={};Object.defineProperty(cn,`passive`,{get:function(){sn=!0}}),window.addEventListener(`test`,cn,cn),window.removeEventListener(`test`,cn,cn)}catch{sn=!1}var ln=null,un=null,dn=null;function fn(){if(dn)return dn;var e,t=un,n=t.length,r,i=`value`in ln?ln.value:ln.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return dn=i.slice(e,1<r?1-r:void 0)}function pn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mn(){return!0}function hn(){return!1}function gn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?mn:hn,this.isPropagationStopped=hn,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vn=gn(_n),yn=f({},_n,{view:0,detail:0}),bn=gn(yn),xn,Sn,Cn,wn=f({},yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Cn&&(Cn&&e.type===`mousemove`?(xn=e.screenX-Cn.screenX,Sn=e.screenY-Cn.screenY):Sn=xn=0,Cn=e),xn)},movementY:function(e){return`movementY`in e?e.movementY:Sn}}),Tn=gn(wn),En=gn(f({},wn,{dataTransfer:0})),Dn=gn(f({},yn,{relatedTarget:0})),On=gn(f({},_n,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=gn(f({},_n,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),An=gn(f({},_n,{data:0})),jn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Mn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Nn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nn[e])?!!t[e]:!1}function Fn(){return Pn}var In=gn(f({},yn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=pn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Mn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(e){return e.type===`keypress`?pn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?pn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Ln=gn(f({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=gn(f({},yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn})),zn=gn(f({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0})),Bn=gn(f({},wn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),U=gn(f({},_n,{newState:0,oldState:0})),Vn=[9,13,27,32],Hn=on&&`CompositionEvent`in window,Un=null;on&&`documentMode`in document&&(Un=document.documentMode);var Wn=on&&`TextEvent`in window&&!Un,Gn=on&&(!Hn||Un&&8<Un&&11>=Un),Kn=` `,qn=!1;function Jn(e,t){switch(e){case`keyup`:return Vn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function Yn(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Xn=!1;function Zn(e,t){switch(e){case`compositionend`:return Yn(t);case`keypress`:return t.which===32?(qn=!0,Kn):null;case`textInput`:return e=t.data,e===Kn&&qn?null:e;default:return null}}function Qn(e,t){if(Xn)return e===`compositionend`||!Hn&&Jn(e,t)?(e=fn(),dn=un=ln=null,Xn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Gn&&t.locale!==`ko`?null:t.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!$n[e.type]:t===`textarea`}function tr(e,t,n,r){$t?en?en.push(r):en=[r]:$t=r,t=Od(t,`onChange`),0<t.length&&(n=new vn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var nr=null,rr=null;function ir(e){bd(e,0)}function ar(e){if(Nt(_t(e)))return e}function or(e,t){if(e===`change`)return t}var sr=!1;if(on){var cr;if(on){var lr=`oninput`in document;if(!lr){var ur=document.createElement(`div`);ur.setAttribute(`oninput`,`return;`),lr=typeof ur.oninput==`function`}cr=lr}else cr=!1;sr=cr&&(!document.documentMode||9<document.documentMode)}function dr(){nr&&(nr.detachEvent(`onpropertychange`,fr),rr=nr=null)}function fr(e){if(e.propertyName===`value`&&ar(rr)){var t=[];tr(t,rr,e,Qt(e)),rn(ir,t)}}function pr(e,t,n){e===`focusin`?(dr(),nr=t,rr=n,nr.attachEvent(`onpropertychange`,fr)):e===`focusout`&&dr()}function mr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return ar(rr)}function hr(e,t){if(e===`click`)return ar(t)}function gr(e,t){if(e===`input`||e===`change`)return ar(t)}function _r(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var vr=typeof Object.is==`function`?Object.is:_r;function yr(e,t){if(vr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xe.call(t,i)||!vr(e[i],t[i]))return!1}return!0}function br(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xr(e,t){var n=br(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=br(n)}}function Sr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pt(e.document)}return t}function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Tr=on&&`documentMode`in document&&11>=document.documentMode,Er=null,Dr=null,Or=null,kr=!1;function Ar(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kr||Er==null||Er!==Pt(r)||(r=Er,`selectionStart`in r&&wr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&yr(Or,r)||(Or=r,r=Od(Dr,`onSelect`),0<r.length&&(t=new vn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Mr={animationend:jr(`Animation`,`AnimationEnd`),animationiteration:jr(`Animation`,`AnimationIteration`),animationstart:jr(`Animation`,`AnimationStart`),transitionrun:jr(`Transition`,`TransitionRun`),transitionstart:jr(`Transition`,`TransitionStart`),transitioncancel:jr(`Transition`,`TransitionCancel`),transitionend:jr(`Transition`,`TransitionEnd`)},Nr={},Pr={};on&&(Pr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),`TransitionEvent`in window||delete Mr.transitionend.transition);function Fr(e){if(Nr[e])return Nr[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pr)return Nr[e]=t[n];return e}var W=Fr(`animationend`),Ir=Fr(`animationiteration`),Lr=Fr(`animationstart`),Rr=Fr(`transitionrun`),zr=Fr(`transitionstart`),Br=Fr(`transitioncancel`),Vr=Fr(`transitionend`),Hr=new Map,Ur=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Ur.push(`scrollEnd`);function Wr(e,t){Hr.set(e,t),B(t,[e])}var Gr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},Kr=[],qr=0,Jr=0;function Yr(){for(var e=qr,t=Jr=qr=0;t<e;){var n=Kr[t];Kr[t++]=null;var r=Kr[t];Kr[t++]=null;var i=Kr[t];Kr[t++]=null;var a=Kr[t];if(Kr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&$r(n,i,a)}}function Xr(e,t,n,r){Kr[qr++]=e,Kr[qr++]=t,Kr[qr++]=n,Kr[qr++]=r,Jr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Zr(e,t,n,r){return Xr(e,t,n,r),ei(e)}function Qr(e,t){return Xr(e,null,null,t),ei(e)}function $r(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Re(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ei(e){if(50<du)throw du=0,fu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ti={};function ni(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(e,t,n,r){return new ni(e,t,n,r)}function ii(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ai(e,t){var n=e.alternate;return n===null?(n=ri(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function oi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function si(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ii(e)&&(s=1);else if(typeof e==`string`)s=Kf(e,n,oe.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case te:return e=ri(31,n,t,a),e.elementType=te,e.lanes=o,e;case y:return ci(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=ri(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=ri(13,n,t,a),e.elementType=T,e.lanes=o,e;case ee:return e=ri(19,n,t,a),e.elementType=ee,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case E:s=14;break a;case D:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=ri(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function ci(e,t,n,r){return e=ri(7,e,r,t),e.lanes=n,e}function li(e,t,n){return e=ri(6,e,null,t),e.lanes=n,e}function ui(e){var t=ri(18,null,null,0);return t.stateNode=e,t}function di(e,t,n){return t=ri(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fi=new WeakMap;function pi(e,t){if(typeof e==`object`&&e){var n=fi.get(e);return n===void 0?(t={value:e,source:t,stack:be(t)},fi.set(e,t),t):n}return{value:e,source:t,stack:be(t)}}var mi=[],hi=0,gi=null,_i=0,vi=[],yi=0,bi=null,xi=1,Si=``;function Ci(e,t){mi[hi++]=_i,mi[hi++]=gi,gi=e,_i=t}function wi(e,t,n){vi[yi++]=xi,vi[yi++]=Si,vi[yi++]=bi,bi=e;var r=xi;e=Si;var i=32-Re(r)-1;r&=~(1<<i),n+=1;var a=32-Re(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xi=1<<32-Re(t)+i|n<<i|r,Si=a+e}else xi=1<<a|n<<i|r,Si=e}function Ti(e){e.return!==null&&(Ci(e,1),wi(e,1,0))}function Ei(e){for(;e===gi;)gi=mi[--hi],mi[hi]=null,_i=mi[--hi],mi[hi]=null;for(;e===bi;)bi=vi[--yi],vi[yi]=null,Si=vi[--yi],vi[yi]=null,xi=vi[--yi],vi[yi]=null}function Di(e,t){vi[yi++]=xi,vi[yi++]=Si,vi[yi++]=bi,xi=t.id,Si=t.overflow,bi=e}var Oi=null,ki=null,Ai=!1,ji=null,Mi=!1,Ni=Error(i(519));function Pi(e){throw Bi(pi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Ni}function Fi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ot]=e,t[st]=r,n){case`dialog`:xd(`cancel`,t),xd(`close`,t);break;case`iframe`:case`object`:case`embed`:xd(`load`,t);break;case`video`:case`audio`:for(n=0;n<vd.length;n++)xd(vd[n],t);break;case`source`:xd(`error`,t);break;case`img`:case`image`:case`link`:xd(`error`,t),xd(`load`,t);break;case`details`:xd(`toggle`,t);break;case`input`:xd(`invalid`,t),Rt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:xd(`invalid`,t);break;case`textarea`:xd(`invalid`,t),Ht(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Pd(t.textContent,n)?(r.popover!=null&&(xd(`beforetoggle`,t),xd(`toggle`,t)),r.onScroll!=null&&xd(`scroll`,t),r.onScrollEnd!=null&&xd(`scrollend`,t),r.onClick!=null&&(t.onclick=Xt),t=!0):t=!1,t||Pi(e,!0)}function Ii(e){for(Oi=e.return;Oi;)switch(Oi.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:Oi=Oi.return}}function Li(e){if(e!==Oi)return!1;if(!Ai)return Ii(e),Ai=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Kd(e.type,e.memoizedProps)),n=!n),n&&ki&&Pi(e),Ii(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));ki=pf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));ki=pf(e)}else t===27?(t=ki,ef(e.type)?(e=ff,ff=null,ki=e):ki=t):ki=Oi?df(e.stateNode.nextSibling):null;return!0}function Ri(){ki=Oi=null,Ai=!1}function zi(){var e=ji;return e!==null&&(Ql===null?Ql=e:Ql.push.apply(Ql,e),ji=null),e}function Bi(e){ji===null?ji=[e]:ji.push(e)}var Vi=ie(null),Hi=null,Ui=null;function Wi(e,t,n){R(Vi,t._currentValue),t._currentValue=n}function Gi(e){e._currentValue=Vi.current,ae(Vi)}function Ki(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function qi(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ki(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ki(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Ji(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;vr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===le.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[tp]:e.push(tp))}a=a.return}e!==null&&qi(t,e,n,r),t.flags|=262144}function Yi(e){for(e=e.firstContext;e!==null;){if(!vr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xi(e){Hi=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zi(e){return $i(Hi,e)}function Qi(e,t){return Hi===null&&Xi(e),$i(e,t)}function $i(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ui===null){if(e===null)throw Error(i(308));Ui=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ui=Ui.next=t;return n}var ea=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ta=t.unstable_scheduleCallback,na=t.unstable_NormalPriority,ra={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ia(){return{controller:new ea,data:new Map,refCount:0}}function aa(e){e.refCount--,e.refCount===0&&ta(na,function(){e.controller.abort()})}var oa=null,sa=0,ca=0,G=null;function la(e,t){if(oa===null){var n=oa=[];sa=0,ca=fd(),G={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return sa++,t.then(ua,ua),t}function ua(){if(--sa===0&&oa!==null){G!==null&&(G.status=`fulfilled`);var e=oa;oa=null,ca=0,G=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function da(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var fa=M.S;M.S=function(e,t){tu=Ee(),typeof t==`object`&&t&&typeof t.then==`function`&&la(e,t),fa!==null&&fa(e,t)};var pa=ie(null);function ma(){var e=pa.current;return e===null?Il.pooledCache:e}function ha(e,t){t===null?R(pa,pa.current):R(pa,t.pool)}function ga(){var e=ma();return e===null?null:{parent:ra._currentValue,pool:e}}var _a=Error(i(460)),va=Error(i(474)),ya=Error(i(542)),ba={then:function(){}};function xa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Sa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Xt,Xt),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ea(e),e;default:if(typeof t.status==`string`)t.then(Xt,Xt);else{if(e=Il,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ea(e),e}throw wa=t,_a}}function Ca(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(wa=e,_a):e}}var wa=null;function Ta(){if(wa===null)throw Error(i(459));var e=wa;return wa=null,e}function Ea(e){if(e===_a||e===ya)throw Error(i(483))}var Da=null,Oa=0;function ka(e){var t=Oa;return Oa+=1,Da===null&&(Da=[]),Sa(Da,e,t)}function Aa(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function ja(e,t){throw t.$$typeof===m?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ma(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=ai(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=li(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===D&&Ca(i)===t.type)?(t=a(t,n.props),Aa(t,n),t.return=e,t):(t=si(n.type,n.key,n.props,null,e.mode,r),Aa(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=di(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=ci(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=li(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case g:return n=si(t.type,t.key,t.props,null,e.mode,n),Aa(n,t),n.return=e,n;case v:return t=di(t,e.mode,n),t.return=e,t;case D:return t=Ca(t),f(e,t,n)}if(j(t)||k(t))return t=ci(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,ka(t),n);if(t.$$typeof===C)return f(e,Qi(e,t),n);ja(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case D:return n=Ca(n),p(e,t,n,r)}if(j(n)||k(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,ka(n),r);if(n.$$typeof===C)return p(e,t,Qi(e,n),r);ja(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case g:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case D:return r=Ca(r),m(e,t,n,r,i)}if(j(r)||k(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,ka(r),i);if(r.$$typeof===C)return m(e,t,n,Qi(t,r),i);ja(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),Ai&&Ci(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return Ai&&Ci(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),Ai&&Ci(i,h),l}function _(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),Ai&&Ci(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return Ai&&Ci(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),Ai&&Ci(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case g:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===D&&Ca(l)===r.type){n(e,r.sibling),c=a(r,o.props),Aa(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=ci(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=si(o.type,o.key,o.props,null,e.mode,c),Aa(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=di(o,e.mode,c),c.return=e,e=c}return s(e);case D:return o=Ca(o),b(e,r,o,c)}if(j(o))return h(e,r,o,c);if(k(o)){if(l=k(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),_(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,ka(o),c);if(o.$$typeof===C)return b(e,r,Qi(e,o),c);ja(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=li(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Oa=0;var i=b(e,t,n,r);return Da=null,i}catch(t){if(t===_a||t===ya)throw t;var a=ri(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Na=Ma(!0),Pa=Ma(!1),Fa=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function za(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ei(e),$r(e,null,n),t}return Xr(e,r,t,n),ei(e)}function Ba(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$e(e,n)}}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ha=!1;function Ua(){if(Ha){var e=G;if(e!==null)throw e}}function Wa(e,t,n,r){Ha=!1;var i=e.updateQueue;Fa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var p=s.lane&-536870913,m=p!==s.lane;if(m?(Rl&p)===p:(r&p)===p){p!==0&&p===ca&&(Ha=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;p=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,p);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,p=typeof h==`function`?h.call(_,d,p):h,p==null)break a;d=f({},d,p);break a;case 2:Fa=!0}}p=s.callback,p!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Kl|=o,e.lanes=o,e.memoizedState=d}}function Ga(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function K(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ga(n[e],t)}var Ka=ie(null),qa=ie(0);function Ja(e,t){e=Wl,R(qa,e),R(Ka,t),Wl=e|t.baseLanes}function Ya(){R(qa,Wl),R(Ka,Ka.current)}function Xa(){Wl=qa.current,ae(Ka),ae(qa)}var Za=ie(null),Qa=null;function $a(e){var t=e.alternate;R(io,io.current&1),R(Za,e),Qa===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(Qa=e)}function eo(e){R(io,io.current),R(Za,e),Qa===null&&(Qa=e)}function to(e){e.tag===22?(R(io,io.current),R(Za,e),Qa===null&&(Qa=e)):no(e)}function no(){R(io,io.current),R(Za,Za.current)}function ro(e){ae(Za),Qa===e&&(Qa=null),ae(io)}var io=ie(0);function ao(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||lf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=0,q=null,so=null,co=null,lo=!1,uo=!1,fo=!1,po=0,mo=0,ho=null,go=0;function _o(){throw Error(i(321))}function vo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,a){return oo=a,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Fs:Is,fo=!1,a=n(r,i),fo=!1,uo&&(a=xo(t,n,r,i)),bo(e),a}function bo(e){M.H=Ps;var t=so!==null&&so.next!==null;if(oo=0,co=so=q=null,lo=!1,mo=0,ho=null,t)throw Error(i(300));e===null||$s||(e=e.dependencies,e!==null&&Yi(e)&&($s=!0))}function xo(e,t,n,r){q=e;var a=0;do{if(uo&&(ho=null),mo=0,uo=!1,25<=a)throw Error(i(301));if(a+=1,co=so=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}M.H=Ls,o=t(n,r)}while(uo);return o}function So(){var e=M.H,t=e.useState()[0];return t=typeof t.then==`function`?ko(t):t,e=e.useState()[0],(so===null?null:so.memoizedState)!==e&&(q.flags|=1024),t}function Co(){var e=po!==0;return po=0,e}function wo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function To(e){if(lo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}lo=!1}oo=0,co=so=q=null,uo=!1,mo=po=0,ho=null}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return co===null?q.memoizedState=co=e:co=co.next=e,co}function Do(){if(so===null){var e=q.alternate;e=e===null?null:e.memoizedState}else e=so.next;var t=co===null?q.memoizedState:co.next;if(t!==null)co=t,so=e;else{if(e===null)throw q.alternate===null?Error(i(467)):Error(i(310));so=e,e={memoizedState:so.memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},co===null?q.memoizedState=co=e:co=co.next=e}return co}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var t=mo;return mo+=1,ho===null&&(ho=[]),e=Sa(ho,e,t),t=q,(co===null?t.memoizedState:co.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Fs:Is),e}function Ao(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return ko(e);if(e.$$typeof===C)return Zi(e)}throw Error(i(438,String(e)))}function jo(e){var t=null,n=q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=q.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Oo(),q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=O;return t.index++,n}function Mo(e,t){return typeof t==`function`?t(e):t}function No(e){return Po(Do(),so,e)}function Po(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(oo&f)===f:(Rl&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ca&&(d=!0);else if((oo&p)===p){u=u.next,p===ca&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,q.lanes|=p,Kl|=p;f=u.action,fo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,q.lanes|=f,Kl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!vr(o,e.memoizedState)&&($s=!0,d&&(n=G,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Fo(e){var t=Do(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);vr(o,t.memoizedState)||($s=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(e,t,n){var r=q,a=Do(),o=Ai;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!vr((so||a).memoizedState,n);if(s&&(a.memoizedState=n,$s=!0),a=a.queue,os(zo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||co!==null&&co.memoizedState.tag&1){if(r.flags|=2048,ts(9,{destroy:void 0},Ro.bind(null,r,a,n,t),null),Il===null)throw Error(i(349));o||oo&127||Lo(r,t,n)}return n}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t=Oo(),q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Bo(t)&&Vo(e)}function zo(e,t,n){return n(function(){Bo(t)&&Vo(e)})}function Bo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch{return!0}}function Vo(e){var t=Qr(e,2);t!==null&&hu(t,e,2)}function Ho(e){var t=Eo();if(typeof e==`function`){var n=e;if(e=n(),fo){Le(!0);try{n()}finally{Le(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t}function Uo(e,t,n,r){return e.baseState=n,Po(e,so,typeof r==`function`?r:Mo)}function Wo(e,t,n,r,a){if(js(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};M.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Go(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Go(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=M.T,o={};M.T=o;try{var s=n(i,r),c=M.S;c!==null&&c(o,s),Ko(e,t,s)}catch(n){Jo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),M.T=a}}else try{a=n(i,r),Ko(e,t,a)}catch(n){Jo(e,t,n)}}function Ko(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){qo(e,t,n)},function(n){return Jo(e,t,n)}):qo(e,t,n)}function qo(e,t,n){t.status=`fulfilled`,t.value=n,Yo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Go(e,n)))}function Jo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Yo(t),t=t.next;while(t!==r)}e.action=null}function Yo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Xo(e,t){return t}function Zo(e,t){if(Ai){var n=Il.formState;if(n!==null){a:{var r=q;if(Ai){if(ki){b:{for(var i=ki,a=Mi;i.nodeType!==8;){if(!a){i=null;break b}if(i=df(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){ki=df(i.nextSibling),r=i.data===`F!`;break a}}Pi(r)}r=!1}r&&(t=n[0])}}return n=Eo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t},n.queue=r,n=Os.bind(null,q,r),r.dispatch=n,r=Ho(!1),a=As.bind(null,q,!1,r.queue),r=Eo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Wo.bind(null,q,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Qo(e){return J(Do(),so,e)}function J(e,t,n){if(t=Po(e,t,Xo)[0],e=No(Mo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=ko(t)}catch(e){throw e===_a?ya:e}else r=t;t=Do();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(q.flags|=2048,ts(9,{destroy:void 0},$o.bind(null,i,n),null)),[r,a,e]}function $o(e,t){e.action=t}function es(e){var t=Do(),n=so;if(n!==null)return J(t,n,e);Do(),t=t.memoizedState,n=Do();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ts(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=q.updateQueue,t===null&&(t=Oo(),q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ns(){return Do().memoizedState}function rs(e,t,n,r){var i=Eo();q.flags|=e,i.memoizedState=ts(1|t,{destroy:void 0},n,r===void 0?null:r)}function is(e,t,n,r){var i=Do();r=r===void 0?null:r;var a=i.memoizedState.inst;so!==null&&r!==null&&vo(r,so.memoizedState.deps)?i.memoizedState=ts(t,a,n,r):(q.flags|=e,i.memoizedState=ts(1|t,a,n,r))}function as(e,t){rs(8390656,8,e,t)}function os(e,t){is(2048,8,e,t)}function ss(e){q.flags|=4;var t=q.updateQueue;if(t===null)t=Oo(),q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function cs(e){var t=Do().memoizedState;return ss({ref:t,nextImpl:e}),function(){if(Fl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ls(e,t){return is(4,2,e,t)}function us(e,t){return is(4,4,e,t)}function ds(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fs(e,t,n){n=n==null?null:n.concat([e]),is(4,4,ds.bind(null,t,e),n)}function ps(){}function ms(e,t){var n=Do();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&vo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hs(e,t){var n=Do();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&vo(t,r[1]))return r[0];if(r=e(),fo){Le(!0);try{e()}finally{Le(!1)}}return n.memoizedState=[r,t],r}function gs(e,t,n){return n===void 0||oo&1073741824&&!(Rl&261930)?e.memoizedState=t:(e.memoizedState=n,e=mu(),q.lanes|=e,Kl|=e,n)}function _s(e,t,n,r){return vr(n,t)?n:Ka.current===null?!(oo&42)||oo&1073741824&&!(Rl&261930)?($s=!0,e.memoizedState=n):(e=mu(),q.lanes|=e,Kl|=e,t):(e=gs(e,n,r),vr(e,t)||($s=!0),e)}function vs(e,t,n,r,i){var a=N.p;N.p=a!==0&&8>a?a:8;var o=M.T,s={};M.T=s,As(e,!1,t,n);try{var c=i(),l=M.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?ks(e,t,da(c,r),pu(e)):ks(e,t,r,pu(e))}catch(n){ks(e,t,{then:function(){},status:`rejected`,reason:n},pu())}finally{N.p=a,o!==null&&s.types!==null&&(o.types=s.types),M.T=o}}function ys(){}function bs(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=xs(e).queue;vs(e,a,t,P,n===null?ys:function(){return Ss(e),n(r)})}function xs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:P},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ss(e){var t=xs(e);t.next===null&&(t=e.alternate.memoizedState),ks(e,t.next.queue,{},pu())}function Cs(){return Zi(tp)}function ws(){return Do().memoizedState}function Ts(){return Do().memoizedState}function Es(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pu();e=Ra(n);var r=za(t,e,n);r!==null&&(hu(r,t,n),Ba(r,t,n)),t={cache:ia()},e.payload=t;return}t=t.return}}function Ds(e,t,n){var r=pu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},js(e)?Ms(t,n):(n=Zr(e,t,n,r),n!==null&&(hu(n,e,r),Ns(n,t,r)))}function Os(e,t,n){ks(e,t,n,pu())}function ks(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(js(e))Ms(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,vr(s,o))return Xr(e,t,i,0),Il===null&&Yr(),!1}catch{}if(n=Zr(e,t,i,r),n!==null)return hu(n,e,r),Ns(n,t,r),!0}return!1}function As(e,t,n,r){if(r={lane:2,revertLane:fd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},js(e)){if(t)throw Error(i(479))}else t=Zr(e,n,r,2),t!==null&&hu(t,e,2)}function js(e){var t=e.alternate;return e===q||t!==null&&t===q}function Ms(e,t){uo=lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ns(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$e(e,n)}}var Ps={readContext:Zi,use:Ao,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useLayoutEffect:_o,useInsertionEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useSyncExternalStore:_o,useId:_o,useHostTransitionStatus:_o,useFormState:_o,useActionState:_o,useOptimistic:_o,useMemoCache:_o,useCacheRefresh:_o};Ps.useEffectEvent=_o;var Fs={readContext:Zi,use:Ao,useCallback:function(e,t){return Eo().memoizedState=[e,t===void 0?null:t],e},useContext:Zi,useEffect:as,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),rs(4194308,4,ds.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rs(4194308,4,e,t)},useInsertionEffect:function(e,t){rs(4,2,e,t)},useMemo:function(e,t){var n=Eo();t=t===void 0?null:t;var r=e();if(fo){Le(!0);try{e()}finally{Le(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Eo();if(n!==void 0){var i=n(t);if(fo){Le(!0);try{n(t)}finally{Le(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ds.bind(null,q,e),[r.memoizedState,e]},useRef:function(e){var t=Eo();return e={current:e},t.memoizedState=e},useState:function(e){e=Ho(e);var t=e.queue,n=Os.bind(null,q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ps,useDeferredValue:function(e,t){return gs(Eo(),e,t)},useTransition:function(){var e=Ho(!1);return e=vs.bind(null,q,e.queue,!0,!1),Eo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=q,a=Eo();if(Ai){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Il===null)throw Error(i(349));Rl&127||Lo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,as(zo.bind(null,r,o,e),[e]),r.flags|=2048,ts(9,{destroy:void 0},Ro.bind(null,r,o,n,t),null),n},useId:function(){var e=Eo(),t=Il.identifierPrefix;if(Ai){var n=Si,r=xi;n=(r&~(1<<32-Re(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=po++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=go++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Cs,useFormState:Zo,useActionState:Zo,useOptimistic:function(e){var t=Eo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=As.bind(null,q,!0,n),n.dispatch=t,[e,t]},useMemoCache:jo,useCacheRefresh:function(){return Eo().memoizedState=Es.bind(null,q)},useEffectEvent:function(e){var t=Eo(),n={impl:e};return t.memoizedState=n,function(){if(Fl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Is={readContext:Zi,use:Ao,useCallback:ms,useContext:Zi,useEffect:os,useImperativeHandle:fs,useInsertionEffect:ls,useLayoutEffect:us,useMemo:hs,useReducer:No,useRef:ns,useState:function(){return No(Mo)},useDebugValue:ps,useDeferredValue:function(e,t){return _s(Do(),so.memoizedState,e,t)},useTransition:function(){var e=No(Mo)[0],t=Do().memoizedState;return[typeof e==`boolean`?e:ko(e),t]},useSyncExternalStore:Io,useId:ws,useHostTransitionStatus:Cs,useFormState:Qo,useActionState:Qo,useOptimistic:function(e,t){return Uo(Do(),so,e,t)},useMemoCache:jo,useCacheRefresh:Ts};Is.useEffectEvent=cs;var Ls={readContext:Zi,use:Ao,useCallback:ms,useContext:Zi,useEffect:os,useImperativeHandle:fs,useInsertionEffect:ls,useLayoutEffect:us,useMemo:hs,useReducer:Fo,useRef:ns,useState:function(){return Fo(Mo)},useDebugValue:ps,useDeferredValue:function(e,t){var n=Do();return so===null?gs(n,e,t):_s(n,so.memoizedState,e,t)},useTransition:function(){var e=Fo(Mo)[0],t=Do().memoizedState;return[typeof e==`boolean`?e:ko(e),t]},useSyncExternalStore:Io,useId:ws,useHostTransitionStatus:Cs,useFormState:es,useActionState:es,useOptimistic:function(e,t){var n=Do();return so===null?(n.baseState=e,[e,n.queue.dispatch]):Uo(n,so,e,t)},useMemoCache:jo,useCacheRefresh:Ts};Ls.useEffectEvent=cs;function Rs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pu(),i=Ra(r);i.payload=t,n!=null&&(i.callback=n),t=za(e,i,r),t!==null&&(hu(t,e,r),Ba(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pu(),i=Ra(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=za(e,i,r),t!==null&&(hu(t,e,r),Ba(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pu(),r=Ra(n);r.tag=2,t!=null&&(r.callback=t),t=za(e,r,n),t!==null&&(hu(t,e,n),Ba(t,e,n))}};function Bs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!yr(n,r)||!yr(i,a):!0}function Vs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Hs(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Us(e){Gr(e)}function Ws(e){console.error(e)}function Gs(e){Gr(e)}function Ks(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function qs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Js(e,t,n){return n=Ra(n),n.tag=3,n.payload={element:null},n.callback=function(){Ks(e,t)},n}function Ys(e){return e=Ra(e),e.tag=3,e}function Xs(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){qs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){qs(t,n,r),typeof i!=`function`&&(ru===null?ru=new Set([this]):ru.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function Zs(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Ji(t,n,a,!0),n=Za.current,n!==null){switch(n.tag){case 31:case 13:return Qa===null?Du():n.alternate===null&&Gl===0&&(Gl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ba?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Ku(e,r,a)),!1;case 22:return n.flags|=65536,r===ba?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Ku(e,r,a)),!1}throw Error(i(435,n.tag))}return Ku(e,r,a),Du(),!1}if(Ai)return t=Za.current,t===null?(r!==Ni&&(t=Error(i(423),{cause:r}),Bi(pi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=pi(r,n),a=Js(e.stateNode,r,a),Va(e,a),Gl!==4&&(Gl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Ni&&(e=Error(i(422),{cause:r}),Bi(pi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=pi(o,n),Zl===null?Zl=[o]:Zl.push(o),Gl!==4&&(Gl=2),t===null)return!0;r=pi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Js(n.stateNode,r,e),Va(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(ru===null||!ru.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Ys(a),Xs(a,e,n,r),Va(n,a),!1}n=n.return}while(n!==null);return!1}var Qs=Error(i(461)),$s=!1;function Y(e,t,n,r){t.child=e===null?Pa(t,null,n,r):Na(t,e.child,n,r)}function ec(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Xi(t),r=yo(e,t,n,o,a,i),s=Co(),e!==null&&!$s?(wo(e,t,i),Cc(e,t,i)):(Ai&&s&&Ti(t),t.flags|=1,Y(e,t,r,i),t.child)}function tc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ii(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,nc(e,t,a,r,i)):(e=si(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!wc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?yr:n,n(o,r)&&e.ref===t.ref)return Cc(e,t,i)}return t.flags|=1,e=ai(a,r),e.ref=t.ref,e.return=t,t.child=e}function nc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(yr(a,r)&&e.ref===t.ref)if($s=!1,t.pendingProps=r=a,wc(e,i))e.flags&131072&&($s=!0);else return t.lanes=e.lanes,Cc(e,t,i)}return uc(e,t,n,r,i)}function rc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return ac(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ha(t,a===null?null:a.cachePool),a===null?Ya():Ja(t,a),to(t);else return r=t.lanes=536870912,ac(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&ha(t,null),Ya(),no(t)):(ha(t,a.cachePool),Ja(t,a),no(t),t.memoizedState=null);return Y(e,t,i,n),t.child}function ic(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ac(e,t,n,r,i){var a=ma();return a=a===null?null:{parent:ra._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&ha(t,null),Ya(),to(t),e!==null&&Ji(e,t,r,!0),t.childLanes=i,null}function oc(e,t){return t=yc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function sc(e,t,n){return Na(t,e.child,null,n),e=oc(t,t.pendingProps),e.flags|=2,ro(t),t.memoizedState=null,e}function cc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(Ai){if(r.mode===`hidden`)return e=oc(t,r),t.lanes=536870912,ic(null,e);if(eo(t),(e=ki)?(e=sf(e,Mi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bi===null?null:{id:xi,overflow:Si},retryLane:536870912,hydrationErrors:null},n=ui(e),n.return=t,t.child=n,Oi=t,ki=null)):e=null,e===null)throw Pi(t);return t.lanes=536870912,null}return oc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(eo(t),a)if(t.flags&256)t.flags&=-257,t=sc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if($s||Ji(e,t,n,!1),a=(n&e.childLanes)!==0,$s||a){if(r=Il,r!==null&&(s=et(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,Qr(e,s),hu(r,e,s),Qs;Du(),t=sc(e,t,n)}else e=o.treeContext,ki=df(s.nextSibling),Oi=t,Ai=!0,ji=null,Mi=!1,e!==null&&Di(t,e),t=oc(t,r),t.flags|=4096;return t}return e=ai(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function lc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function uc(e,t,n,r,i){return Xi(t),n=yo(e,t,n,r,void 0,i),r=Co(),e!==null&&!$s?(wo(e,t,i),Cc(e,t,i)):(Ai&&r&&Ti(t),t.flags|=1,Y(e,t,n,i),t.child)}function dc(e,t,n,r,i,a){return Xi(t),t.updateQueue=null,n=xo(t,r,n,i),bo(e),r=Co(),e!==null&&!$s?(wo(e,t,a),Cc(e,t,a)):(Ai&&r&&Ti(t),t.flags|=1,Y(e,t,n,a),t.child)}function fc(e,t,n,r,i){if(Xi(t),t.stateNode===null){var a=ti,o=n.contextType;typeof o==`object`&&o&&(a=Zi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=zs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ia(t),o=n.contextType,a.context=typeof o==`object`&&o?Zi(o):ti,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Rs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&zs.enqueueReplaceState(a,a.state,null),Wa(t,r,a,i),Ua(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Hs(n,s);a.props=c;var l=a.context,u=n.contextType;o=ti,typeof u==`object`&&u&&(o=Zi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Vs(t,a,r,o),Fa=!1;var f=t.memoizedState;a.state=f,Wa(t,r,a,i),Ua(),l=t.memoizedState,s||f!==l||Fa?(typeof d==`function`&&(Rs(t,n,d,r),l=t.memoizedState),(c=Fa||Bs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,La(e,t),o=t.memoizedProps,u=Hs(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ti,typeof l==`object`&&l&&(c=Zi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Vs(t,a,r,c),Fa=!1,f=t.memoizedState,a.state=f,Wa(t,r,a,i),Ua();var p=t.memoizedState;o!==d||f!==p||Fa||e!==null&&e.dependencies!==null&&Yi(e.dependencies)?(typeof s==`function`&&(Rs(t,n,s,r),p=t.memoizedState),(u=Fa||Bs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Yi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,lc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Na(t,e.child,null,i),t.child=Na(t,null,n,i)):Y(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Cc(e,t,i),e}function pc(e,t,n,r){return Ri(),t.flags|=256,Y(e,t,n,r),t.child}var mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hc(e){return{baseLanes:e,cachePool:ga()}}function gc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Yl),e}function _c(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(io.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(Ai){if(a?$a(t):no(t),(e=ki)?(e=sf(e,Mi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bi===null?null:{id:xi,overflow:Si},retryLane:536870912,hydrationErrors:null},n=ui(e),n.return=t,t.child=n,Oi=t,ki=null)):e=null,e===null)throw Pi(t);return lf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(no(t),a=t.mode,c=yc({mode:`hidden`,children:c},a),r=ci(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=hc(n),r.childLanes=gc(e,s,n),t.memoizedState=mc,ic(null,r)):($a(t),vc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?($a(t),t.flags&=-257,t=bc(e,t,n)):t.memoizedState===null?(no(t),c=r.fallback,a=t.mode,r=yc({mode:`visible`,children:r.children},a),c=ci(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Na(t,e.child,null,n),r=t.child,r.memoizedState=hc(n),r.childLanes=gc(e,s,n),t.memoizedState=mc,t=ic(null,r)):(no(t),t.child=e.child,t.flags|=128,t=null);else if($a(t),lf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Bi({value:r,source:null,stack:null}),t=bc(e,t,n)}else if($s||Ji(e,t,n,!1),s=(n&e.childLanes)!==0,$s||s){if(s=Il,s!==null&&(r=et(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Qr(e,r),hu(s,e,r),Qs;cf(c)||Du(),t=bc(e,t,n)}else cf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ki=df(c.nextSibling),Oi=t,Ai=!0,ji=null,Mi=!1,e!==null&&Di(t,e),t=vc(t,r.children),t.flags|=4096);return t}return a?(no(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=ai(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=ci(c,a,n,null),c.flags|=2):c=ai(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,ic(null,r),r=t.child,c=e.child.memoizedState,c===null?c=hc(n):(a=c.cachePool,a===null?a=ga():(l=ra._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=gc(e,s,n),t.memoizedState=mc,ic(e.child,r)):($a(t),n=e.child,e=n.sibling,n=ai(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function vc(e,t){return t=yc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function yc(e,t){return e=ri(22,e,null,t),e.lanes=0,e}function bc(e,t,n){return Na(t,e.child,null,n),e=vc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ki(e.return,t,n)}function X(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Sc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=io.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,R(io,o),Y(e,t,r,n),r=Ai?_i:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xc(e,n,t);else if(e.tag===19)xc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ao(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),X(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ao(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}X(t,!0,n,null,a,r);break;case`together`:X(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Cc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ji(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Yi(e))):!0}function Tc(e,t,n){switch(t.tag){case 3:ue(t,t.stateNode.containerInfo),Wi(t,ra,e.memoizedState.cache),Ri();break;case 27:case 5:fe(t);break;case 4:ue(t,t.stateNode.containerInfo);break;case 10:Wi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,eo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?($a(t),e=Cc(e,t,n),e===null?null:e.sibling):_c(e,t,n):($a(t),t.flags|=128,null);$a(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Ji(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Sc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),R(io,io.current),r)break;return null;case 22:return t.lanes=0,rc(e,t,n,t.pendingProps);case 24:Wi(t,ra,e.memoizedState.cache)}return Cc(e,t,n)}function Ec(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$s=!0;else{if(!wc(e,n)&&!(t.flags&128))return $s=!1,Tc(e,t,n);$s=!!(e.flags&131072)}else $s=!1,Ai&&t.flags&1048576&&wi(t,_i,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ca(t.elementType),t.type=e,typeof e==`function`)ii(e)?(r=Hs(e,r),t.tag=1,t=fc(null,t,e,r,n)):(t.tag=0,t=uc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=ec(null,t,e,r,n);break a}else if(a===E){t.tag=14,t=tc(null,t,e,r,n);break a}}throw t=A(e)||e,Error(i(306,t,``))}}return t;case 0:return uc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Hs(r,t.pendingProps),fc(e,t,r,a,n);case 3:a:{if(ue(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,La(e,t),Wa(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Wi(t,ra,r),r!==o.cache&&qi(t,[ra],n,!0),Ua(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=pc(e,t,r,n);break a}else if(r!==a){a=pi(Error(i(424)),t),Bi(a),t=pc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(ki=df(e.firstChild),Oi=t,Ai=!0,ji=null,Mi=!0,n=Pa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ri(),r===a){t=Cc(e,t,n);break a}Y(e,t,r,n)}t=t.child}return t;case 26:return lc(e,t),e===null?(n=Mf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ai||(n=t.type,e=t.pendingProps,r=Ud(ce.current).createElement(n),r[ot]=t,r[st]=e,Ld(r,n,e),yt(r),t.stateNode=r):t.memoizedState=Mf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fe(t),e===null&&Ai&&(r=t.stateNode=hf(t.type,t.pendingProps,ce.current),Oi=t,Mi=!0,a=ki,ef(t.type)?(ff=a,ki=df(r.firstChild)):ki=a),Y(e,t,t.pendingProps.children,n),lc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ai&&((a=r=ki)&&(r=af(r,t.type,t.pendingProps,Mi),r===null?a=!1:(t.stateNode=r,Oi=t,ki=df(r.firstChild),Mi=!1,a=!0)),a||Pi(t)),fe(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Kd(a,o)?r=null:s!==null&&Kd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=yo(e,t,So,null,null,n),tp._currentValue=a),lc(e,t),Y(e,t,r,n),t.child;case 6:return e===null&&Ai&&((e=n=ki)&&(n=of(n,t.pendingProps,Mi),n===null?e=!1:(t.stateNode=n,Oi=t,ki=null,e=!0)),e||Pi(t)),null;case 13:return _c(e,t,n);case 4:return ue(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Na(t,null,r,n):Y(e,t,r,n),t.child;case 11:return ec(e,t,t.type,t.pendingProps,n);case 7:return Y(e,t,t.pendingProps,n),t.child;case 8:return Y(e,t,t.pendingProps.children,n),t.child;case 12:return Y(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Wi(t,t.type,r.value),Y(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Xi(t),a=Zi(a),r=r(a),t.flags|=1,Y(e,t,r,n),t.child;case 14:return tc(e,t,t.type,t.pendingProps,n);case 15:return nc(e,t,t.type,t.pendingProps,n);case 19:return Sc(e,t,n);case 31:return cc(e,t,n);case 22:return rc(e,t,n,t.pendingProps);case 24:return Xi(t),r=Zi(ra),e===null?(a=ma(),a===null&&(a=Il,o=ia(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ia(t),Wi(t,ra,a)):((e.lanes&n)!==0&&(La(e,t),Wa(t,null,null,n),Ua()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Wi(t,ra,r),r!==a.cache&&qi(t,[ra],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Wi(t,ra,r))),Y(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Dc(e){e.flags|=4}function Oc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(wu())e.flags|=8192;else throw wa=ba,va}else e.flags&=-16777217}function kc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!qf(t))if(wu())e.flags|=8192;else throw wa=ba,va}function Ac(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Ye(),e.lanes|=t,Xl|=t)}function jc(e,t){if(!Ai)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Nc(e,t,n){var r=t.pendingProps;switch(Ei(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mc(t),null;case 1:return Mc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Gi(ra),de(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Li(t)?Dc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zi())),Mc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Dc(t),o===null?(Mc(t),Oc(t,a,null,r,n)):(Mc(t),kc(t,o))):o?o===e.memoizedState?(Mc(t),t.flags&=-16777217):(Dc(t),Mc(t),kc(t,o)):(e=e.memoizedProps,e!==r&&Dc(t),Mc(t),Oc(t,a,e,r,n)),null;case 27:if(pe(t),n=ce.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Dc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Mc(t),null}e=oe.current,Li(t)?Fi(t,e):(e=hf(a,r,n),t.stateNode=e,Dc(t))}return Mc(t),null;case 5:if(pe(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Dc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Mc(t),null}if(o=oe.current,Li(t))Fi(t,o);else{var s=Ud(ce.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[ot]=t,o[st]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Ld(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Dc(t)}}return Mc(t),Oc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Dc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ce.current,Li(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Oi,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[ot]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Pd(e.nodeValue,n)),e||Pi(t,!0)}else e=Ud(e).createTextNode(r),e[ot]=t,t.stateNode=e}return Mc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Li(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[ot]=t}else Ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mc(t),e=!1}else n=zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ro(t),t):(ro(t),null);if(t.flags&128)throw Error(i(558))}return Mc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Li(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[ot]=t}else Ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mc(t),a=!1}else a=zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(ro(t),t):(ro(t),null)}return ro(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ac(t,t.updateQueue),Mc(t),null);case 4:return de(),e===null&&wd(t.stateNode.containerInfo),Mc(t),null;case 10:return Gi(t.type),Mc(t),null;case 19:if(ae(io),r=t.memoizedState,r===null)return Mc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)jc(r,!1);else{if(Gl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ao(e),o!==null){for(t.flags|=128,jc(r,!1),e=o.updateQueue,t.updateQueue=e,Ac(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)oi(n,e),n=n.sibling;return R(io,io.current&1|2),Ai&&Ci(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ee()>nu&&(t.flags|=128,a=!0,jc(r,!1),t.lanes=4194304)}else{if(!a)if(e=ao(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ac(t,e),jc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!Ai)return Mc(t),null}else 2*Ee()-r.renderingStartTime>nu&&n!==536870912&&(t.flags|=128,a=!0,jc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Mc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ee(),e.sibling=null,n=io.current,R(io,a?n&1|2:n&1),Ai&&Ci(t,r.treeForkCount),e);case 22:case 23:return ro(t),Xa(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Mc(t),t.subtreeFlags&6&&(t.flags|=8192)):Mc(t),n=t.updateQueue,n!==null&&Ac(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ae(pa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Gi(ra),Mc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Pc(e,t){switch(Ei(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gi(ra),de(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pe(t),null;case 31:if(t.memoizedState!==null){if(ro(t),t.alternate===null)throw Error(i(340));Ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ro(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(io),null;case 4:return de(),null;case 10:return Gi(t.type),null;case 22:case 23:return ro(t),Xa(),e!==null&&ae(pa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Gi(ra),null;case 25:return null;default:return null}}function Fc(e,t){switch(Ei(t),t.tag){case 3:Gi(ra),de();break;case 26:case 27:case 5:pe(t);break;case 4:de();break;case 31:t.memoizedState!==null&&ro(t);break;case 13:ro(t);break;case 19:ae(io);break;case 10:Gi(t.type);break;case 22:case 23:ro(t),Xa(),e!==null&&ae(pa);break;case 24:Gi(ra)}}function Ic(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Gu(t,t.return,e)}}function Lc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Gu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Gu(t,t.return,e)}}function Rc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{K(t,n)}catch(t){Gu(e,e.return,t)}}}function zc(e,t,n){n.props=Hs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Gu(e,t,n)}}function Bc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Gu(e,t,n)}}function Vc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Gu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Gu(e,t,n)}else n.current=null}function Hc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Gu(e,e.return,t)}}function Uc(e,t,n){try{var r=e.stateNode;Rd(r,e.type,n,t),r[st]=t}catch(t){Gu(e,e.return,t)}}function Wc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ef(e.type)||e.tag===4}function Gc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Wc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ef(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xt));else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}function qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qc(e,t,n),e=e.sibling;e!==null;)qc(e,t,n),e=e.sibling}function Jc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ld(t,r,n),t[ot]=e,t[st]=n}catch(t){Gu(e,e.return,t)}}var Yc=!1,Xc=!1,Zc=!1,Qc=typeof WeakSet==`function`?WeakSet:Set,$c=null;function el(e,t){if(e=e.containerInfo,Vd=up,e=Cr(e),wr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Hd={focusedElem:e,selectionRange:n},up=!1,$c=t;$c!==null;)if(t=$c,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,$c=e;else for(;$c!==null;){switch(t=$c,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Hs(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Gu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:rf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,$c=e;break}$c=t.return}}function tl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:gl(e,n),r&4&&Ic(5,n);break;case 1:if(gl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Gu(n,n.return,e)}else{var i=Hs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Gu(n,n.return,e)}}r&64&&Rc(n),r&512&&Bc(n,n.return);break;case 3:if(gl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{K(e,t)}catch(e){Gu(n,n.return,e)}}break;case 27:t===null&&r&4&&Jc(n);case 26:case 5:gl(e,n),t===null&&r&4&&Hc(n),r&512&&Bc(n,n.return);break;case 12:gl(e,n);break;case 31:gl(e,n),r&4&&sl(e,n);break;case 13:gl(e,n),r&4&&cl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Yu.bind(null,n),uf(e,n))));break;case 22:if(r=n.memoizedState!==null||Yc,!r){t=t!==null&&t.memoizedState!==null||Xc,i=Yc;var a=Xc;Yc=r,(Xc=t)&&!a?vl(e,n,(n.subtreeFlags&8772)!=0):gl(e,n),Yc=i,Xc=a}break;case 30:break;default:gl(e,n)}}function nl(e){var t=e.alternate;t!==null&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rl=null,il=!1;function al(e,t,n){for(n=n.child;n!==null;)ol(e,t,n),n=n.sibling}function ol(e,t,n){if(Ie&&typeof Ie.onCommitFiberUnmount==`function`)try{Ie.onCommitFiberUnmount(Fe,n)}catch{}switch(n.tag){case 26:Xc||Vc(n,t),al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xc||Vc(n,t);var r=rl,i=il;ef(n.type)&&(rl=n.stateNode,il=!1),al(e,t,n),gf(n.stateNode),rl=r,il=i;break;case 5:Xc||Vc(n,t);case 6:if(r=rl,i=il,rl=null,al(e,t,n),rl=r,il=i,rl!==null)if(il)try{(rl.nodeType===9?rl.body:rl.nodeName===`HTML`?rl.ownerDocument.body:rl).removeChild(n.stateNode)}catch(e){Gu(n,t,e)}else try{rl.removeChild(n.stateNode)}catch(e){Gu(n,t,e)}break;case 18:rl!==null&&(il?(e=rl,tf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Ip(e)):tf(rl,n.stateNode));break;case 4:r=rl,i=il,rl=n.stateNode.containerInfo,il=!0,al(e,t,n),rl=r,il=i;break;case 0:case 11:case 14:case 15:Lc(2,n,t),Xc||Lc(4,n,t),al(e,t,n);break;case 1:Xc||(Vc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&zc(n,t,r)),al(e,t,n);break;case 21:al(e,t,n);break;case 22:Xc=(r=Xc)||n.memoizedState!==null,al(e,t,n),Xc=r;break;default:al(e,t,n)}}function sl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ip(e)}catch(e){Gu(t,t.return,e)}}}function cl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ip(e)}catch(e){Gu(t,t.return,e)}}function ll(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qc),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qc),t;default:throw Error(i(435,e.tag))}}function ul(e,t){var n=ll(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Xu.bind(null,e,t);t.then(r,r)}})}function dl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(ef(c.type)){rl=c.stateNode,il=!1;break a}break;case 5:rl=c.stateNode,il=!1;break a;case 3:case 4:rl=c.stateNode.containerInfo,il=!0;break a}c=c.return}if(rl===null)throw Error(i(160));ol(o,s,a),rl=null,il=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dl(t,e),ml(e),r&4&&(Lc(3,e,e.return),Ic(3,e),Lc(5,e,e.return));break;case 1:dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),r&64&&Yc&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=fl;if(dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[pt]||o[ot]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Ld(o,r,n),o[ot]=e,yt(o),r=o;break a;case`link`:var s=Wf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Wf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[ot]=e,yt(o),r=o}e.stateNode=r}else Gf(a,e.type,e.stateNode);else e.stateNode=zf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Uc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Gf(a,e.type,e.stateNode):zf(a,r,e.memoizedProps))}break;case 27:dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),n!==null&&r&4&&Uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),e.flags&32){a=e.stateNode;try{Ut(a,``)}catch(t){Gu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Uc(e,a,n===null?a:n.memoizedProps)),r&1024&&(Zc=!0);break;case 6:if(dl(t,e),ml(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Gu(e,e.return,t)}}break;case 3:if(Uf=null,a=fl,fl=yf(t.containerInfo),dl(t,e),fl=a,ml(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ip(t.containerInfo)}catch(t){Gu(e,e.return,t)}Zc&&(Zc=!1,hl(e));break;case 4:r=fl,fl=yf(e.stateNode.containerInfo),dl(t,e),ml(e),fl=r;break;case 12:dl(t,e),ml(e);break;case 31:dl(t,e),ml(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ul(e,r)));break;case 13:dl(t,e),ml(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(eu=Ee()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ul(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Yc,d=Xc;if(Yc=u||a,Xc=d||l,dl(t,e),Xc=d,Yc=u,ml(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Yc||Xc||_l(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Gu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Gu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?nf(m,!0):nf(l.stateNode,!1)}catch(e){Gu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ul(e,n))));break;case 19:dl(t,e),ml(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ul(e,r)));break;case 30:break;case 21:break;default:dl(t,e),ml(e)}}function ml(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Wc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;qc(e,Gc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Ut(o,``),n.flags&=-33),qc(e,Gc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Kc(e,Gc(e),s);break;default:throw Error(i(161))}}catch(t){Gu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tl(e,t.alternate,t),t=t.sibling}function _l(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Lc(4,t,t.return),_l(t);break;case 1:Vc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&zc(t,t.return,n),_l(t);break;case 27:gf(t.stateNode);case 26:case 5:Vc(t,t.return),_l(t);break;case 22:t.memoizedState===null&&_l(t);break;case 30:_l(t);break;default:_l(t)}e=e.sibling}}function vl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:vl(i,a,n),Ic(4,a);break;case 1:if(vl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Gu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ga(c[i],s)}catch(e){Gu(r,r.return,e)}}n&&o&64&&Rc(a),Bc(a,a.return);break;case 27:Jc(a);case 26:case 5:vl(i,a,n),n&&r===null&&o&4&&Hc(a),Bc(a,a.return);break;case 12:vl(i,a,n);break;case 31:vl(i,a,n),n&&o&4&&sl(i,a);break;case 13:vl(i,a,n),n&&o&4&&cl(i,a);break;case 22:a.memoizedState===null&&vl(i,a,n),Bc(a,a.return);break;case 30:break;default:vl(i,a,n)}t=t.sibling}}function yl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&aa(n))}function bl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&aa(e))}function xl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sl(e,t,n,r),t=t.sibling}function Sl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:xl(e,t,n,r),i&2048&&Ic(9,t);break;case 1:xl(e,t,n,r);break;case 3:xl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&aa(e)));break;case 12:if(i&2048){xl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Gu(t,t.return,e)}}else xl(e,t,n,r);break;case 31:xl(e,t,n,r);break;case 13:xl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?xl(e,t,n,r):(a._visibility|=2,Cl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?xl(e,t,n,r):wl(e,t),i&2048&&yl(o,t);break;case 24:xl(e,t,n,r),i&2048&&bl(t.alternate,t);break;default:xl(e,t,n,r)}}function Cl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Cl(a,o,s,c,i),Ic(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Cl(a,o,s,c,i)):u._visibility&2?Cl(a,o,s,c,i):wl(a,o),i&&l&2048&&yl(o.alternate,o);break;case 24:Cl(a,o,s,c,i),i&&l&2048&&bl(o.alternate,o);break;default:Cl(a,o,s,c,i)}t=t.sibling}}function wl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:wl(n,r),i&2048&&yl(r.alternate,r);break;case 24:wl(n,r),i&2048&&bl(r.alternate,r);break;default:wl(n,r)}t=t.sibling}}var Tl=8192;function El(e,t,n){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)Dl(e,t,n),e=e.sibling}function Dl(e,t,n){switch(e.tag){case 26:El(e,t,n),e.flags&Tl&&e.memoizedState!==null&&Jf(n,fl,e.memoizedState,e.memoizedProps);break;case 5:El(e,t,n);break;case 3:case 4:var r=fl;fl=yf(e.stateNode.containerInfo),El(e,t,n),fl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,El(e,t,n),Tl=r):El(e,t,n));break;default:El(e,t,n)}}function Ol(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$c=r,Ml(r,e)}Ol(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&Lc(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,jl(e)):kl(e);break;default:kl(e)}}function jl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$c=r,Ml(r,e)}Ol(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Lc(8,t,t.return),jl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,jl(t));break;default:jl(t)}e=e.sibling}}function Ml(e,t){for(;$c!==null;){var n=$c;switch(n.tag){case 0:case 11:case 15:Lc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:aa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,$c=r;else a:for(n=e;$c!==null;){r=$c;var i=r.sibling,a=r.return;if(nl(r),r===n){$c=null;break a}if(i!==null){i.return=a,$c=i;break a}$c=a}}}var Nl={getCacheForType:function(e){var t=Zi(ra),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Zi(ra).controller.signal}},Pl=typeof WeakMap==`function`?WeakMap:Map,Fl=0,Il=null,Ll=null,Rl=0,zl=0,Bl=null,Vl=!1,Hl=!1,Ul=!1,Wl=0,Gl=0,Kl=0,ql=0,Jl=0,Yl=0,Xl=0,Zl=null,Ql=null,$l=!1,eu=0,tu=0,nu=1/0,Z=null,ru=null,iu=0,au=null,ou=null,su=0,cu=0,lu=null,uu=null,du=0,fu=null;function pu(){return Fl&2&&Rl!==0?Rl&-Rl:M.T===null?rt():fd()}function mu(){if(Yl===0)if(!(Rl&536870912)||Ai){var e=Ue;Ue<<=1,!(Ue&3932160)&&(Ue=262144),Yl=e}else Yl=536870912;return e=Za.current,e!==null&&(e.flags|=32),Yl}function hu(e,t,n){(e===Il&&(zl===2||zl===9)||e.cancelPendingCommit!==null)&&(Su(e,0),yu(e,Rl,Yl,!1)),z(e,n),(!(Fl&2)||e!==Il)&&(e===Il&&(!(Fl&2)&&(ql|=n),Gl===4&&yu(e,Rl,Yl,!1)),id(e))}function gu(e,t,n){if(Fl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||qe(e,t),a=r?Au(e,t):Ou(e,t,!0),o=r;do{if(a===0){Hl&&!r&&yu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!vu(n)){a=Ou(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Zl;var l=c.current.memoizedState.isDehydrated;if(l&&(Su(c,s).flags|=256),s=Ou(c,s,!1),s!==2){if(Ul&&!l){c.errorRecoveryDisabledLanes|=o,ql|=o,a=4;break a}o=Ql,Ql=a,o!==null&&(Ql===null?Ql=o:Ql.push.apply(Ql,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Su(e,0),yu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:yu(r,t,Yl,!Vl);break a;case 2:Ql=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=eu+300-Ee(),10<a)){if(yu(r,t,Yl,!Vl),Ke(r,0,!0)!==0)break a;su=t,r.timeoutHandle=Yd(_u.bind(null,r,n,Ql,Z,$l,t,Yl,ql,Xl,Vl,o,`Throttled`,-0,0),a);break a}_u(r,n,Ql,Z,$l,t,Yl,ql,Xl,Vl,o,null,-0,0)}}break}while(1);id(e)}function _u(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xt},Dl(t,a,d);var m=(a&62914560)===a?eu-Ee():(a&4194048)===a?tu-Ee():0;if(m=Xf(d,m),m!==null){su=a,e.cancelPendingCommit=m(Lu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),yu(e,a,o,!l);return}}Lu(e,t,a,n,r,i,o,s,c)}function vu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!vr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yu(e,t,n,r){t&=~Jl,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Re(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&Qe(e,n,t)}function bu(){return Fl&6?!0:(ad(0,!1),!1)}function xu(){if(Ll!==null){if(zl===0)var e=Ll.return;else e=Ll,Ui=Hi=null,To(e),Da=null,Oa=0,e=Ll;for(;e!==null;)Fc(e.alternate,e),e=e.return;Ll=null}}function Su(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),su=0,xu(),Il=e,Ll=n=ai(e.current,null),Rl=t,zl=0,Bl=null,Vl=!1,Hl=qe(e,t),Ul=!1,Xl=Yl=Jl=ql=Kl=Gl=0,Ql=Zl=null,$l=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Re(r),a=1<<i;t|=e[i],r&=~a}return Wl=t,Yr(),n}function Cu(e,t){q=null,M.H=Ps,t===_a||t===ya?(t=Ta(),zl=3):t===va?(t=Ta(),zl=4):zl=t===Qs?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Bl=t,Ll===null&&(Gl=1,Ks(e,pi(t,e.current)))}function wu(){var e=Za.current;return e===null?!0:(Rl&4194048)===Rl?Qa===null:(Rl&62914560)===Rl||Rl&536870912?e===Qa:!1}function Tu(){var e=M.H;return M.H=Ps,e===null?Ps:e}function Eu(){var e=M.A;return M.A=Nl,e}function Du(){Gl=4,Vl||(Rl&4194048)!==Rl&&Za.current!==null||(Hl=!0),!(Kl&134217727)&&!(ql&134217727)||Il===null||yu(Il,Rl,Yl,!1)}function Ou(e,t,n){var r=Fl;Fl|=2;var i=Tu(),a=Eu();(Il!==e||Rl!==t)&&(Z=null,Su(e,t)),t=!1;var o=Gl;a:do try{if(zl!==0&&Ll!==null){var s=Ll,c=Bl;switch(zl){case 8:xu(),o=6;break a;case 3:case 2:case 9:case 6:Za.current===null&&(t=!0);var l=zl;if(zl=0,Bl=null,Pu(e,s,c,l),n&&Hl){o=0;break a}break;default:l=zl,zl=0,Bl=null,Pu(e,s,c,l)}}ku(),o=Gl;break}catch(t){Cu(e,t)}while(1);return t&&e.shellSuspendCounter++,Ui=Hi=null,Fl=r,M.H=i,M.A=a,Ll===null&&(Il=null,Rl=0,Yr()),o}function ku(){for(;Ll!==null;)Mu(Ll)}function Au(e,t){var n=Fl;Fl|=2;var r=Tu(),a=Eu();Il!==e||Rl!==t?(Z=null,nu=Ee()+500,Su(e,t)):Hl=qe(e,t);a:do try{if(zl!==0&&Ll!==null){t=Ll;var o=Bl;b:switch(zl){case 1:zl=0,Bl=null,Pu(e,t,o,1);break;case 2:case 9:if(xa(o)){zl=0,Bl=null,Nu(t);break}t=function(){zl!==2&&zl!==9||Il!==e||(zl=7),id(e)},o.then(t,t);break a;case 3:zl=7;break a;case 4:zl=5;break a;case 7:xa(o)?(zl=0,Bl=null,Nu(t)):(zl=0,Bl=null,Pu(e,t,o,7));break;case 5:var s=null;switch(Ll.tag){case 26:s=Ll.memoizedState;case 5:case 27:var c=Ll;if(s?qf(s):c.stateNode.complete){zl=0,Bl=null;var l=c.sibling;if(l!==null)Ll=l;else{var u=c.return;u===null?Ll=null:(Ll=u,Fu(u))}break b}}zl=0,Bl=null,Pu(e,t,o,5);break;case 6:zl=0,Bl=null,Pu(e,t,o,6);break;case 8:xu(),Gl=6;break a;default:throw Error(i(462))}}ju();break}catch(t){Cu(e,t)}while(1);return Ui=Hi=null,M.H=r,M.A=a,Fl=n,Ll===null?(Il=null,Rl=0,Yr(),Gl):0}function ju(){for(;Ll!==null&&!we();)Mu(Ll)}function Mu(e){var t=Ec(e.alternate,e,Wl);e.memoizedProps=e.pendingProps,t===null?Fu(e):Ll=t}function Nu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=dc(n,t,t.pendingProps,t.type,void 0,Rl);break;case 11:t=dc(n,t,t.pendingProps,t.type.render,t.ref,Rl);break;case 5:To(t);default:Fc(n,t),t=Ll=oi(t,Wl),t=Ec(n,t,Wl)}e.memoizedProps=e.pendingProps,t===null?Fu(e):Ll=t}function Pu(e,t,n,r){Ui=Hi=null,To(t),Da=null,Oa=0;var i=t.return;try{if(Zs(e,i,t,n,Rl)){Gl=1,Ks(e,pi(n,e.current)),Ll=null;return}}catch(t){if(i!==null)throw Ll=i,t;Gl=1,Ks(e,pi(n,e.current)),Ll=null;return}t.flags&32768?(Ai||r===1?e=!0:Hl||Rl&536870912?e=!1:(Vl=e=!0,(r===2||r===9||r===3||r===6)&&(r=Za.current,r!==null&&r.tag===13&&(r.flags|=16384))),Iu(t,e)):Fu(t)}function Fu(e){var t=e;do{if(t.flags&32768){Iu(t,Vl);return}e=t.return;var n=Nc(t.alternate,t,Wl);if(n!==null){Ll=n;return}if(t=t.sibling,t!==null){Ll=t;return}Ll=t=e}while(t!==null);Gl===0&&(Gl=5)}function Iu(e,t){do{var n=Pc(e.alternate,e);if(n!==null){n.flags&=32767,Ll=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ll=e;return}Ll=e=n}while(e!==null);Gl=6,Ll=null}function Lu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Hu();while(iu!==0);if(Fl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=Jr,Ze(e,n,o,s,c,l),e===Il&&(Ll=Il=null,Rl=0),ou=t,au=e,su=n,cu=o,lu=a,uu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Zu(Ae,function(){return Uu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=M.T,M.T=null,a=N.p,N.p=2,s=Fl,Fl|=4;try{el(e,t,n)}finally{Fl=s,N.p=a,M.T=r}}iu=1,Ru(),zu(),Bu()}}function Ru(){if(iu===1){iu=0;var e=au,t=ou,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=M.T,M.T=null;var r=N.p;N.p=2;var i=Fl;Fl|=4;try{pl(t,e);var a=Hd,o=Cr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Sr(s.ownerDocument.documentElement,s)){if(c!==null&&wr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=xr(s,h),v=xr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}up=!!Vd,Hd=Vd=null}finally{Fl=i,N.p=r,M.T=n}}e.current=t,iu=2}}function zu(){if(iu===2){iu=0;var e=au,t=ou,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=M.T,M.T=null;var r=N.p;N.p=2;var i=Fl;Fl|=4;try{tl(e,t.alternate,t)}finally{Fl=i,N.p=r,M.T=n}}iu=3}}function Bu(){if(iu===4||iu===3){iu=0,Te();var e=au,t=ou,n=su,r=uu;t.subtreeFlags&10256||t.flags&10256?iu=5:(iu=0,ou=au=null,Vu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ru=null),nt(n),t=t.stateNode,Ie&&typeof Ie.onCommitFiberRoot==`function`)try{Ie.onCommitFiberRoot(Fe,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=M.T,i=N.p,N.p=2,M.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{M.T=t,N.p=i}}su&3&&Hu(),id(e),i=e.pendingLanes,n&261930&&i&42?e===fu?du++:(du=0,fu=e):du=0,ad(0,!1)}}function Vu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,aa(t)))}function Hu(){return Ru(),zu(),Bu(),Uu()}function Uu(){if(iu!==5)return!1;var e=au,t=cu;cu=0;var n=nt(su),r=M.T,a=N.p;try{N.p=32>n?32:n,M.T=null,n=lu,lu=null;var o=au,s=su;if(iu=0,ou=au=null,su=0,Fl&6)throw Error(i(331));var c=Fl;if(Fl|=4,Al(o.current),Sl(o,o.current,s,n),Fl=c,ad(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot==`function`)try{Ie.onPostCommitFiberRoot(Fe,o)}catch{}return!0}finally{N.p=a,M.T=r,Vu(e,t)}}function Wu(e,t,n){t=pi(n,t),t=Js(e.stateNode,t,2),e=za(e,t,2),e!==null&&(z(e,2),id(e))}function Gu(e,t,n){if(e.tag===3)Wu(e,e,n);else for(;t!==null;){if(t.tag===3){Wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(ru===null||!ru.has(r))){e=pi(n,e),n=Ys(2),r=za(t,n,2),r!==null&&(Xs(n,r,t,e),z(r,2),id(r));break}}t=t.return}}function Ku(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Ul=!0,i.add(n),e=qu.bind(null,e,t,n),t.then(e,e))}function qu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Il===e&&(Rl&n)===n&&(Gl===4||Gl===3&&(Rl&62914560)===Rl&&300>Ee()-eu?!(Fl&2)&&Su(e,0):Jl|=n,Xl===Rl&&(Xl=0)),id(e)}function Ju(e,t){t===0&&(t=Ye()),e=Qr(e,t),e!==null&&(z(e,t),id(e))}function Yu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ju(e,n)}function Xu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ju(e,n)}function Zu(e,t){return Se(e,t)}var Qu=null,$u=null,ed=!1,td=!1,nd=!1,rd=0;function id(e){e!==$u&&e.next===null&&($u===null?Qu=$u=e:$u=$u.next=e),td=!0,ed||(ed=!0,dd())}function ad(e,t){if(!nd&&td){nd=!0;do for(var n=!1,r=Qu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Re(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,ud(r,a))}else a=Rl,a=Ke(r,r===Il?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||qe(r,a)||(n=!0,ud(r,a));r=r.next}while(n);nd=!1}}function od(){sd()}function sd(){td=ed=!1;var e=0;rd!==0&&Jd()&&(e=rd);for(var t=Ee(),n=null,r=Qu;r!==null;){var i=r.next,a=cd(r,t);a===0?(r.next=null,n===null?Qu=i:n.next=i,i===null&&($u=n)):(n=r,(e!==0||a&3)&&(td=!0)),r=i}iu!==0&&iu!==5||ad(e,!1),rd!==0&&(rd=0)}function cd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Re(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Je(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Il,n=Rl,n=Ke(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(zl===2||zl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ce(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||qe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ce(r),nt(n)){case 2:case 8:n=ke;break;case 32:n=Ae;break;case 268435456:n=Me;break;default:n=Ae}return r=ld.bind(null,e),n=Se(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ce(r),e.callbackPriority=2,e.callbackNode=null,2}function ld(e,t){if(iu!==0&&iu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hu()&&e.callbackNode!==n)return null;var r=Rl;return r=Ke(e,e===Il?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(gu(e,r,t),cd(e,Ee()),e.callbackNode!=null&&e.callbackNode===n?ld.bind(null,e):null)}function ud(e,t){if(Hu())return null;gu(e,t,!0)}function dd(){Qd(function(){Fl&6?Se(Oe,od):sd()})}function fd(){if(rd===0){var e=ca;e===0&&(e=He,He<<=1,!(He&261888)&&(He=256)),rd=e}return rd}function pd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Yt(``+e)}function md(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function hd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=pd((i[st]||null).action),o=r.submitter;o&&(t=(t=o[st]||null)?pd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new vn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(rd!==0){var e=o?md(i,o):new FormData(i);bs(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?md(i,o):new FormData(i),bs(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var gd=0;gd<Ur.length;gd++){var _d=Ur[gd];Wr(_d.toLowerCase(),`on`+(_d[0].toUpperCase()+_d.slice(1)))}Wr(W,`onAnimationEnd`),Wr(Ir,`onAnimationIteration`),Wr(Lr,`onAnimationStart`),Wr(`dblclick`,`onDoubleClick`),Wr(`focusin`,`onFocus`),Wr(`focusout`,`onBlur`),Wr(Rr,`onTransitionRun`),Wr(zr,`onTransitionStart`),Wr(Br,`onTransitionCancel`),Wr(Vr,`onTransitionEnd`),St(`onMouseEnter`,[`mouseout`,`mouseover`]),St(`onMouseLeave`,[`mouseout`,`mouseover`]),St(`onPointerEnter`,[`pointerout`,`pointerover`]),St(`onPointerLeave`,[`pointerout`,`pointerover`]),B(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),B(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),B(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),B(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),B(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),B(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var vd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),yd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(vd));function bd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Gr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Gr(e)}i.currentTarget=null,a=c}}}}function xd(e,t){var n=t[lt];n===void 0&&(n=t[lt]=new Set);var r=e+`__bubble`;n.has(r)||(Td(t,e,2,!1),n.add(r))}function Sd(e,t,n){var r=0;t&&(r|=4),Td(n,e,r,t)}var Cd=`_reactListening`+Math.random().toString(36).slice(2);function wd(e){if(!e[Cd]){e[Cd]=!0,bt.forEach(function(t){t!==`selectionchange`&&(yd.has(t)||Sd(t,!1,e),Sd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cd]||(t[Cd]=!0,Sd(`selectionchange`,!1,t))}}function Td(e,t,n,r){switch(_p(t)){case 2:var i=dp;break;case 8:i=fp;break;default:i=pp}n=i.bind(null,t,n,e),i=void 0,!sn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Ed(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=ht(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}rn(function(){var r=a,i=Qt(n),s=[];a:{var c=Hr.get(e);if(c!==void 0){var l=vn,u=e;switch(e){case`keypress`:if(pn(n)===0)break a;case`keydown`:case`keyup`:l=In;break;case`focusin`:u=`focus`,l=Dn;break;case`focusout`:u=`blur`,l=Dn;break;case`beforeblur`:case`afterblur`:l=Dn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Tn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=En;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Rn;break;case W:case Ir:case Lr:l=On;break;case Vr:l=zn;break;case`scroll`:case`scrollend`:l=bn;break;case`wheel`:l=Bn;break;case`copy`:case`cut`:case`paste`:l=kn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Ln;break;case`toggle`:case`beforetoggle`:l=U}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=an(m,p),g!=null&&d.push(Dd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Zt&&(u=n.relatedTarget||n.fromElement)&&(ht(u)||u[ct]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?ht(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Tn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Ln,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:_t(l),h=u==null?c:_t(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,ht(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=kd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Ad(s,c,l,d,!1),u!==null&&f!==null&&Ad(s,f,u,d,!0)}}a:{if(c=r?_t(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=or;else if(er(c))if(sr)v=gr;else{v=mr;var y=pr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&qt(r.elementType)&&(v=or):v=hr;if(v&&=v(e,r)){tr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&zt(c,`number`,c.value)}switch(y=r?_t(r):window,e){case`focusin`:(er(y)||y.contentEditable===`true`)&&(Er=y,Dr=r,Or=null);break;case`focusout`:Or=Dr=Er=null;break;case`mousedown`:kr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:kr=!1,Ar(s,n,i);break;case`selectionchange`:if(Tr)break;case`keydown`:case`keyup`:Ar(s,n,i)}var b;if(Hn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Xn?Jn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Gn&&n.locale!==`ko`&&(Xn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Xn&&(b=fn()):(ln=i,un=`value`in ln?ln.value:ln.textContent,Xn=!0)),y=Od(r,x),0<y.length&&(x=new An(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=Yn(n),b!==null&&(x.data=b)))),(b=Wn?Zn(e,n):Qn(e,n))&&(x=Od(r,`onBeforeInput`),0<x.length&&(y=new An(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),hd(s,e,r,n,i)}bd(s,t)})}function Dd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Od(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=an(e,n),i!=null&&r.unshift(Dd(e,i,a)),i=an(e,t),i!=null&&r.push(Dd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function kd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ad(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=an(n,a),l!=null&&o.unshift(Dd(n,l,c))):i||(l=an(n,a),l!=null&&o.push(Dd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jd=/\r\n?/g,Md=/\u0000|\uFFFD/g;function Nd(e){return(typeof e==`string`?e:``+e).replace(jd,`
`).replace(Md,``)}function Pd(e,t){return t=Nd(t),Nd(e)===t}function Fd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Ut(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Ut(e,``+r);break;case`className`:Dt(e,`class`,r);break;case`tabIndex`:Dt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Dt(e,n,r);break;case`style`:Kt(e,r,o);break;case`data`:if(t!==`object`){Dt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Yt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Fd(e,t,`name`,a.name,a,null),Fd(e,t,`formEncType`,a.formEncType,a,null),Fd(e,t,`formMethod`,a.formMethod,a,null),Fd(e,t,`formTarget`,a.formTarget,a,null)):(Fd(e,t,`encType`,a.encType,a,null),Fd(e,t,`method`,a.method,a,null),Fd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Yt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Xt);break;case`onScroll`:r!=null&&xd(`scroll`,e);break;case`onScrollEnd`:r!=null&&xd(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Yt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:xd(`beforetoggle`,e),xd(`toggle`,e),V(e,`popover`,r);break;case`xlinkActuate`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Ot(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Ot(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Ot(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:V(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Jt.get(n)||n,V(e,n,r))}}function Id(e,t,n,r,a,o){switch(n){case`style`:Kt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Ut(e,r):(typeof r==`number`||typeof r==`bigint`)&&Ut(e,``+r);break;case`onScroll`:r!=null&&xd(`scroll`,e);break;case`onScrollEnd`:r!=null&&xd(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Xt);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!xt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[st]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):V(e,n,r)}}}function Ld(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:xd(`error`,e),xd(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Fd(e,t,o,s,n,null)}}a&&Fd(e,t,`srcSet`,n.srcSet,n,null),r&&Fd(e,t,`src`,n.src,n,null);return;case`input`:xd(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Fd(e,t,r,d,n,null)}}Rt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in xd(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Fd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Bt(e,!!r,n,!0):Bt(e,!!r,t,!1);return;case`textarea`:for(s in xd(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Fd(e,t,s,c,n,null)}Ht(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Fd(e,t,l,r,n,null)}return;case`dialog`:xd(`beforetoggle`,e),xd(`toggle`,e),xd(`cancel`,e),xd(`close`,e);break;case`iframe`:case`object`:xd(`load`,e);break;case`video`:case`audio`:for(r=0;r<vd.length;r++)xd(vd[r],e);break;case`image`:xd(`error`,e),xd(`load`,e);break;case`details`:xd(`toggle`,e);break;case`embed`:case`source`:case`link`:xd(`error`,e),xd(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Fd(e,t,u,r,n,null)}return;default:if(qt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Id(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Fd(e,t,c,r,n,null))}function Rd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Fd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Fd(e,t,p,m,r,f)}}Lt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Fd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Fd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Bt(e,!!n,n?[]:``,!1):Bt(e,!!n,t,!0)):Bt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Fd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Fd(e,t,s,a,r,o)}Vt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Fd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Fd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Fd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Fd(e,t,u,p,r,m)}return;default:if(qt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Id(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Id(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Fd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Fd(e,t,f,p,r,m)}function zd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Bd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&zd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&zd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Vd=null,Hd=null;function Ud(e){return e.nodeType===9?e:e.ownerDocument}function Wd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Gd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Kd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qd=null;function Jd(){var e=window.event;return e&&e.type===`popstate`?e===qd?!1:(qd=e,!0):(qd=null,!1)}var Yd=typeof setTimeout==`function`?setTimeout:void 0,Xd=typeof clearTimeout==`function`?clearTimeout:void 0,Zd=typeof Promise==`function`?Promise:void 0,Qd=typeof queueMicrotask==`function`?queueMicrotask:Zd===void 0?Yd:function(e){return Zd.resolve(null).then(e).catch($d)};function $d(e){setTimeout(function(){throw e})}function ef(e){return e===`head`}function tf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Ip(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)gf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,gf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[pt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&gf(e.ownerDocument.body);n=i}while(n);Ip(t)}function nf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function rf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:rf(n),mt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function af(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[pt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=df(e.nextSibling),e===null)break}return null}function of(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=df(e.nextSibling),e===null))return null;return e}function sf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=df(e.nextSibling),e===null))return null;return e}function cf(e){return e.data===`$?`||e.data===`$~`}function lf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function uf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function df(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var ff=null;function pf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return df(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function hf(e,t,n){switch(t=Ud(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function gf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mt(e)}var _f=new Map,vf=new Set;function yf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bf=N.d;N.d={f:xf,r:Sf,D:Tf,C:Ef,L:Df,m:Of,X:Af,S:kf,M:jf};function xf(){var e=bf.f(),t=bu();return e||t}function Sf(e){var t=gt(e);t!==null&&t.tag===5&&t.type===`form`?Ss(t):bf.r(e)}var Cf=typeof document>`u`?null:document;function wf(e,t,n){var r=Cf;if(r&&typeof t==`string`&&t){var i=It(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),vf.has(i)||(vf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Ld(t,`link`,e),yt(t),r.head.appendChild(t)))}}function Tf(e){bf.D(e),wf(`dns-prefetch`,e,null)}function Ef(e,t){bf.C(e,t),wf(`preconnect`,e,t)}function Df(e,t,n){bf.L(e,t,n);var r=Cf;if(r&&e&&t){var i=`link[rel="preload"][as="`+It(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+It(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+It(n.imageSizes)+`"]`)):i+=`[href="`+It(e)+`"]`;var a=i;switch(t){case`style`:a=Nf(e);break;case`script`:a=Lf(e)}_f.has(a)||(e=f({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),_f.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Pf(a))||t===`script`&&r.querySelector(Rf(a))||(t=r.createElement(`link`),Ld(t,`link`,e),yt(t),r.head.appendChild(t)))}}function Of(e,t){bf.m(e,t);var n=Cf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+It(r)+`"][href="`+It(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Lf(e)}if(!_f.has(a)&&(e=f({rel:`modulepreload`,href:e},t),_f.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Rf(a)))return}r=n.createElement(`link`),Ld(r,`link`,e),yt(r),n.head.appendChild(r)}}}function kf(e,t,n){bf.S(e,t,n);var r=Cf;if(r&&e){var i=vt(r).hoistableStyles,a=Nf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Pf(a)))s.loading=5;else{e=f({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=_f.get(a))&&Vf(e,n);var c=o=r.createElement(`link`);yt(c),Ld(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Bf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Af(e,t){bf.X(e,t);var n=Cf;if(n&&e){var r=vt(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=f({src:e,async:!0},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),yt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function jf(e,t){bf.M(e,t);var n=Cf;if(n&&e){var r=vt(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=f({src:e,async:!0,type:`module`},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),yt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Mf(e,t,n,r){var a=(a=ce.current)?yf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Nf(n.href),n=vt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Nf(n.href);var o=vt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Pf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),_f.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_f.set(e,n),o||If(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Lf(n),n=vt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Nf(e){return`href="`+It(e)+`"`}function Pf(e){return`link[rel="stylesheet"][`+e+`]`}function Ff(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function If(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Ld(t,`link`,n),yt(t),e.head.appendChild(t))}function Lf(e){return`[src="`+It(e)+`"]`}function Rf(e){return`script[async]`+e}function zf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+It(n.href)+`"]`);if(r)return t.instance=r,yt(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),yt(r),Ld(r,`style`,a),Bf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Nf(n.href);var o=e.querySelector(Pf(a));if(o)return t.state.loading|=4,t.instance=o,yt(o),o;r=Ff(n),(a=_f.get(a))&&Vf(r,a),o=(e.ownerDocument||e).createElement(`link`),yt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Ld(o,`link`,r),t.state.loading|=4,Bf(o,n.precedence,e),t.instance=o;case`script`:return o=Lf(n.src),(a=e.querySelector(Rf(o)))?(t.instance=a,yt(a),a):(r=n,(a=_f.get(o))&&(r=f({},n),Hf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),yt(a),Ld(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Bf(r,n.precedence,e));return t.instance}function Bf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Vf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Hf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Uf=null;function Wf(e,t,n){if(Uf===null){var r=new Map,i=Uf=new Map;i.set(n,r)}else i=Uf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[pt]||a[ot]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Gf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Kf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function qf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Jf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Nf(r.href),a=t.querySelector(Pf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Zf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,yt(a);return}a=t.ownerDocument||t,r=Ff(r),(i=_f.get(i))&&Vf(r,i),a=a.createElement(`link`),yt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Ld(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Zf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Yf=0;function Xf(e,t){return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Yf===0&&(Yf=62500*Bd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Yf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qf=null;function $f(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qf=new Map,t.forEach(ep,e),Qf=null,Zf.call(e))}function ep(e,t){if(!(t.state.loading&4)){var n=Qf.get(e);if(n)var r=n.get(null);else{n=new Map,Qf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Zf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var tp={$$typeof:C,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function np(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xe(0),this.hiddenUpdates=Xe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function rp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new np(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=ri(3,null,null,t),e.current=a,a.stateNode=e,t=ia(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ia(a),e}function ip(e){return e?(e=ti,e):ti}function ap(e,t,n,r,i,a){i=ip(i),r.context===null?r.context=i:r.pendingContext=i,r=Ra(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=za(e,r,t),n!==null&&(hu(n,e,t),Ba(n,e,t))}function op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sp(e,t){op(e,t),(e=e.alternate)&&op(e,t)}function cp(e){if(e.tag===13||e.tag===31){var t=Qr(e,67108864);t!==null&&hu(t,e,67108864),sp(e,67108864)}}function lp(e){if(e.tag===13||e.tag===31){var t=pu();t=tt(t);var n=Qr(e,t);n!==null&&hu(n,e,t),sp(e,t)}}var up=!0;function dp(e,t,n,r){var i=M.T;M.T=null;var a=N.p;try{N.p=2,pp(e,t,n,r)}finally{N.p=a,M.T=i}}function fp(e,t,n,r){var i=M.T;M.T=null;var a=N.p;try{N.p=8,pp(e,t,n,r)}finally{N.p=a,M.T=i}}function pp(e,t,n,r){if(up){var i=mp(r);if(i===null)Ed(e,t,r,hp,n),Ep(e,r);else if(Op(i,e,t,n,r))r.stopPropagation();else if(Ep(e,r),t&4&&-1<Tp.indexOf(e)){for(;i!==null;){var a=gt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ge(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Re(o);s.entanglements[1]|=c,o&=~c}id(a),!(Fl&6)&&(nu=Ee()+500,ad(0,!1))}}break;case 31:case 13:s=Qr(a,2),s!==null&&hu(s,a,2),bu(),sp(a,2)}if(a=mp(r),a===null&&Ed(e,t,r,hp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ed(e,t,r,null,n)}}function mp(e){return e=Qt(e),gp(e)}var hp=null;function gp(e){if(hp=null,e=ht(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hp=e,null}function _p(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(De()){case Oe:return 2;case ke:return 8;case Ae:case je:return 32;case Me:return 268435456;default:return 32}default:return 32}}var vp=!1,yp=null,bp=null,xp=null,Sp=new Map,Cp=new Map,wp=[],Tp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Ep(e,t){switch(e){case`focusin`:case`focusout`:yp=null;break;case`dragenter`:case`dragleave`:bp=null;break;case`mouseover`:case`mouseout`:xp=null;break;case`pointerover`:case`pointerout`:Sp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Cp.delete(t.pointerId)}}function Dp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=gt(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Op(e,t,n,r,i){switch(t){case`focusin`:return yp=Dp(yp,e,t,n,r,i),!0;case`dragenter`:return bp=Dp(bp,e,t,n,r,i),!0;case`mouseover`:return xp=Dp(xp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Sp.set(a,Dp(Sp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Cp.set(a,Dp(Cp.get(a)||null,e,t,n,r,i)),!0}return!1}function kp(e){var t=ht(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,it(e.priority,function(){lp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,it(e.priority,function(){lp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zt=r,n.target.dispatchEvent(r),Zt=null}else return t=gt(n),t!==null&&cp(t),e.blockedOn=n,!1;t.shift()}return!0}function jp(e,t,n){Ap(e)&&n.delete(t)}function Mp(){vp=!1,yp!==null&&Ap(yp)&&(yp=null),bp!==null&&Ap(bp)&&(bp=null),xp!==null&&Ap(xp)&&(xp=null),Sp.forEach(jp),Cp.forEach(jp)}function Np(e,n){e.blockedOn===n&&(e.blockedOn=null,vp||(vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mp)))}var Pp=null;function Fp(e){Pp!==e&&(Pp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pp===e&&(Pp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(gp(r||n)===null)continue;break}var a=gt(n);a!==null&&(e.splice(t,3),t-=3,bs(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ip(e){function t(t){return Np(t,e)}yp!==null&&Np(yp,e),bp!==null&&Np(bp,e),xp!==null&&Np(xp,e),Sp.forEach(t),Cp.forEach(t);for(var n=0;n<wp.length;n++){var r=wp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wp.length&&(n=wp[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&wp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[st]||null;if(typeof a==`function`)o||Fp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[st]||null)s=o.formAction;else if(gp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Fp(n)}}}function Lp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Rp(e){this._internalRoot=e}zp.prototype.render=Rp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;ap(n,pu(),e,t,null,null)},zp.prototype.unmount=Rp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),bu(),t[ct]=null}};function zp(e){this._internalRoot=e}zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=rt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wp.length&&t!==0&&t<wp[n].priority;n++);wp.splice(n,0,e),n===0&&kp(e)}};var Bp=n.version;if(Bp!==`19.2.4`)throw Error(i(527,Bp,`19.2.4`));N.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:d(e),e=e===null?null:e.stateNode,e};var Vp={bundleType:0,version:`19.2.4`,rendererPackageName:`react-dom`,currentDispatcherRef:M,reconcilerVersion:`19.2.4`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{Fe=Hp.inject(Vp),Ie=Hp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Us,s=Ws,c=Gs;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=rp(e,1,!1,null,null,n,r,null,o,s,c,Lp),e[ct]=t.current,wd(e),new Rp(t)}})),y=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=v()}))(),b=u(p(),1),x=`modulepreload`,S=function(e,t){return new URL(e,t).href},C={};const w=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=S(t,n),t in C)return;C[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:x,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var T=`popstate`;function ee(e={}){function t(e,t){let{pathname:n=`/`,search:r=``,hash:i=``}=re(e.location.hash.substring(1));return!n.startsWith(`/`)&&!n.startsWith(`.`)&&(n=`/`+n),ne(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){let n=e.document.querySelector(`base`),r=``;if(n&&n.getAttribute(`href`)){let t=e.location.href,n=t.indexOf(`#`);r=n===-1?t:t.slice(0,n)}return r+`#`+(typeof t==`string`?t:k(t))}function r(e,t){D(e.pathname.charAt(0)===`/`,`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}return A(t,n,r,e)}function E(e,t){if(e===!1||e==null)throw Error(t)}function D(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function te(){return Math.random().toString(36).substring(2,10)}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function ne(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?re(t):t,state:n,key:t&&t.key||r||te()}}function k({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function re(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=ne(h.location,e,t);n&&n(r,e),l=u()+1;let d=O(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=ne(h.location,e,t);n&&n(r,e),l=u();let i=O(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return j(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(T,d),c=e,()=>{i.removeEventListener(T,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function j(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),E(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:k(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function M(e,t,n=`/`){return N(e,t,n,!1)}function N(e,t,n,r){let i=_e((typeof t==`string`?re(t):t).pathname||`/`,n);if(i==null)return null;let a=F(e);ie(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=ge(i);o=pe(a[e],t,r)}return o}function P(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function F(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;E(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=Te([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(E(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),F(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:de(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of I(e.path))a(e,t,!0,n)}),t}function I(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=I(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function ie(e){e.sort((e,t)=>e.score===t.score?fe(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var ae=/^:[\w-]+$/,R=3,oe=2,se=1,ce=10,le=-2,ue=e=>e===`*`;function de(e,t){let n=e.split(`/`),r=n.length;return n.some(ue)&&(r+=le),t&&(r+=oe),n.filter(e=>!ue(e)).reduce((e,t)=>e+(ae.test(t)?R:t===``?se:ce),r)}function fe(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function pe(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=me({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=me({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Te([a,u.pathname]),pathnameBase:Ee(Te([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Te([a,u.pathnameBase]))}return o}function me(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=he(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function he(e,t=!1,n=!0){D(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function ge(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return D(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _e(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var ve=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function ye(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?re(e):e,a;return n?(n=n.replace(/\/\/+/g,`/`),a=n.startsWith(`/`)?be(n.substring(1),`/`):be(n,t)):a=t,{pathname:a,search:De(r),hash:Oe(i)}}function be(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function xe(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Se(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ce(e){let t=Se(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function we(e,t,n,r=!1){let i;typeof e==`string`?i=re(e):(i={...e},E(!i.pathname||!i.pathname.includes(`?`),xe(`?`,`pathname`,`search`,i)),E(!i.pathname||!i.pathname.includes(`#`),xe(`#`,`pathname`,`hash`,i)),E(!i.search||!i.search.includes(`#`),xe(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=ye(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Te=e=>e.join(`/`).replace(/\/\/+/g,`/`),Ee=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),De=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Oe=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,ke=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ae(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function je(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var Me=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function Ne(e,t){let n=e;if(typeof n!=`string`||!ve.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Me)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=_e(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{D(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Pe=b.createContext(null);Pe.displayName=`DataRouter`;var Fe=b.createContext(null);Fe.displayName=`DataRouterState`;var Ie=b.createContext(!1),Le=b.createContext({isTransitioning:!1});Le.displayName=`ViewTransition`;var Re=b.createContext(new Map);Re.displayName=`Fetchers`;var ze=b.createContext(null);ze.displayName=`Await`;var Be=b.createContext(null);Be.displayName=`Navigation`;var Ve=b.createContext(null);Ve.displayName=`Location`;var He=b.createContext({outlet:null,matches:[],isDataRoute:!1});He.displayName=`Route`;var Ue=b.createContext(null);Ue.displayName=`RouteError`;var We=`REACT_ROUTER_ERROR`,Ge=`REDIRECT`,Ke=`ROUTE_ERROR_RESPONSE`;function qe(e){if(e.startsWith(`${We}:${Ge}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function Je(e){if(e.startsWith(`${We}:${Ke}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new ke(t.status,t.statusText,t.data)}catch{}}function Ye(e,{relative:t}={}){E(Xe(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=b.useContext(Be),{hash:i,pathname:a,search:o}=rt(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:Te([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Xe(){return b.useContext(Ve)!=null}function z(){return E(Xe(),`useLocation() may be used only in the context of a <Router> component.`),b.useContext(Ve).location}var Ze=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function Qe(e){b.useContext(Be).static||b.useLayoutEffect(e)}function $e(){let{isDataRoute:e}=b.useContext(He);return e?B():et()}function et(){E(Xe(),`useNavigate() may be used only in the context of a <Router> component.`);let e=b.useContext(Pe),{basename:t,navigator:n}=b.useContext(Be),{matches:r}=b.useContext(He),{pathname:i}=z(),a=JSON.stringify(Ce(r)),o=b.useRef(!1);return Qe(()=>{o.current=!0}),b.useCallback((r,s={})=>{if(D(o.current,Ze),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=we(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Te([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var tt=b.createContext(null);function nt(e){let t=b.useContext(He).outlet;return b.useMemo(()=>t&&b.createElement(tt.Provider,{value:e},t),[t,e])}function rt(e,{relative:t}={}){let{matches:n}=b.useContext(He),{pathname:r}=z(),i=JSON.stringify(Ce(n));return b.useMemo(()=>we(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function it(e,t){return at(e,t)}function at(e,t,n,r,i){E(Xe(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=b.useContext(Be),{matches:o}=b.useContext(He),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;Ct(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=z(),p;if(t){let e=typeof t==`string`?re(t):t;E(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=M(e,{pathname:h});D(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),D(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=ft(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Te([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:Te([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&_?b.createElement(Ve.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},_):_}function ot(){let e=xt(),t=Ae(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=b.createElement(b.Fragment,null,b.createElement(`p`,null,` Hey developer `),b.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,b.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,b.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),b.createElement(b.Fragment,null,b.createElement(`h2`,null,`Unexpected Application Error!`),b.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?b.createElement(`pre`,{style:i},n):null,o)}var st=b.createElement(ot,null),ct=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=Je(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:b.createElement(He.Provider,{value:this.props.routeContext},b.createElement(Ue.Provider,{value:e,children:this.props.component}));return this.context?b.createElement(ut,{error:e},t):t}};ct.contextType=Ie;var lt=new WeakMap;function ut({children:e,error:t}){let{basename:n}=b.useContext(Be);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=qe(t.digest);if(e){let r=lt.get(t);if(r)throw r;let i=Ne(e.location,n);if(Me&&!lt.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw lt.set(t,n),n}return b.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function dt({routeContext:e,match:t,children:n}){let r=b.useContext(Pe);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(He.Provider,{value:e},n)}function ft(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);E(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:je(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||st,s&&(c<0&&i===0?(Ct(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?b.createElement(r.route.Component,null):r.route.element?r.route.element:e,b.createElement(dt,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?b.createElement(ct,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function pt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mt(e){let t=b.useContext(Pe);return E(t,pt(e)),t}function ht(e){let t=b.useContext(Fe);return E(t,pt(e)),t}function gt(e){let t=b.useContext(He);return E(t,pt(e)),t}function _t(e){let t=gt(e),n=t.matches[t.matches.length-1];return E(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function vt(){return _t(`useRouteId`)}function yt(){return ht(`useNavigation`).navigation}function bt(){let{matches:e,loaderData:t}=ht(`useMatches`);return b.useMemo(()=>e.map(e=>P(e,t)),[e,t])}function xt(){let e=b.useContext(Ue),t=ht(`useRouteError`),n=_t(`useRouteError`);return e===void 0?t.errors?.[n]:e}function B(){let{router:e}=mt(`useNavigate`),t=_t(`useNavigate`),n=b.useRef(!1);return Qe(()=>{n.current=!0}),b.useCallback(async(r,i={})=>{D(n.current,Ze),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var St={};function Ct(e,t,n){!t&&!St[e]&&(St[e]=!0,D(!1,n))}b.useOptimistic,b.memo(wt);function wt({routes:e,future:t,state:n,onError:r}){return at(e,void 0,n,r,t)}function Tt(e){return nt(e.context)}function Et(e){E(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function V({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){E(!Xe(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=b.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=re(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=b.useMemo(()=>{let e=_e(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return D(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(Be.Provider,{value:c},b.createElement(Ve.Provider,{children:t,value:m}))}function Dt({children:e,location:t}){return it(Ot(e),t)}function Ot(e,t=[]){let n=[];return b.Children.forEach(e,(e,r)=>{if(!b.isValidElement(e))return;let i=[...t,r];if(e.type===b.Fragment){n.push.apply(n,Ot(e.props.children,i));return}E(e.type===Et,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),E(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ot(e.props.children,i)),n.push(a)}),n}var kt=`get`,At=`application/x-www-form-urlencoded`;function jt(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function Mt(e){return jt(e)&&e.tagName.toLowerCase()===`button`}function Nt(e){return jt(e)&&e.tagName.toLowerCase()===`form`}function Pt(e){return jt(e)&&e.tagName.toLowerCase()===`input`}function Ft(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function It(e,t){return e.button===0&&(!t||t===`_self`)&&!Ft(e)}var Lt=null;function Rt(){if(Lt===null)try{new FormData(document.createElement(`form`),0),Lt=!1}catch{Lt=!0}return Lt}var zt=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function Bt(e){return e!=null&&!zt.has(e)?(D(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${At}"`),null):e}function Vt(e,t){let n,r,i,a,o;if(Nt(e)){let o=e.getAttribute(`action`);r=o?_e(o,t):null,n=e.getAttribute(`method`)||kt,i=Bt(e.getAttribute(`enctype`))||At,a=new FormData(e)}else if(Mt(e)||Pt(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?_e(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||kt,i=Bt(e.getAttribute(`formenctype`))||Bt(o.getAttribute(`enctype`))||At,a=new FormData(o,e),!Rt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(jt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=kt,r=null,i=At,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Ht={"&":`\\u0026`,">":`\\u003e`,"<":`\\u003c`,"\u2028":`\\u2028`,"\u2029":`\\u2029`},Ut=/[&><\u2028\u2029]/g;function Wt(e){return e.replace(Ut,e=>Ht[e])}function Gt(e,t){if(e===!1||e==null)throw Error(t)}function Kt(e,t,n,r){let i=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return n?i.pathname.endsWith(`/`)?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname===`/`?i.pathname=`_root.${r}`:t&&_e(i.pathname,t)===`/`?i.pathname=`${t.replace(/\/$/,``)}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,``)}.${r}`,i}async function qt(e,t){if(e.id in t)return t[e.id];try{let n=await w(()=>import(e.module),[],import.meta.url);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jt(e){return e!=null&&typeof e.page==`string`}function H(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function Yt(e,t,n){return en((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await qt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(H).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function Xt(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function Zt(e,t,{includeHydrateFallback:n}={}){return Qt(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Qt(e){return[...new Set(e)]}function $t(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function en(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Jt(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify($t(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function tn(){let e=b.useContext(Pe);return Gt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function nn(){let e=b.useContext(Fe);return Gt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var rn=b.createContext(void 0);rn.displayName=`FrameworkContext`;function an(){let e=b.useContext(rn);return Gt(e,`You must render this element inside a <HydratedRouter> element`),e}function on(e,t){let n=b.useContext(rn),[r,i]=b.useState(!1),[a,o]=b.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=b.useRef(null);b.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),b.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:sn(s,p),onBlur:sn(c,m),onMouseEnter:sn(l,p),onMouseLeave:sn(u,m),onTouchStart:sn(d,p)}]:[a,f,{}]:[!1,f,{}]}function sn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function cn({page:e,...t}){let{router:n}=tn(),r=b.useMemo(()=>M(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(un,{page:e,matches:r,...t}):null}function ln(e){let{manifest:t,routeModules:n}=an(),[r,i]=b.useState([]);return b.useEffect(()=>{let r=!1;return Yt(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function un({page:e,matches:t,...n}){let r=z(),{future:i,manifest:a,routeModules:o}=an(),{basename:s}=tn(),{loaderData:c,matches:l}=nn(),u=b.useMemo(()=>Xt(e,t,l,a,r,`data`),[e,t,l,a,r]),d=b.useMemo(()=>Xt(e,t,l,a,r,`assets`),[e,t,l,a,r]),f=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=a.routes[e.route.id];!t||!t.hasLoader||(!u.some(t=>t.route.id===e.route.id)&&e.route.id in c&&o[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),n.size===0)return[];let d=Kt(e,s,i.unstable_trailingSlashAwareDataRequests,`data`);return l&&n.size>0&&d.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[d.pathname+d.search]},[s,i.unstable_trailingSlashAwareDataRequests,c,r,a,u,t,e,o]),p=b.useMemo(()=>Zt(d,a),[d,a]),m=ln(d);return b.createElement(b.Fragment,null,f.map(e=>b.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),p.map(e=>b.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),m.map(({key:e,link:t})=>b.createElement(`link`,{key:e,nonce:n.nonce,...t,crossOrigin:t.crossOrigin??n.crossOrigin})))}function dn(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var fn=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{fn&&(window.__reactRouterVersion=`7.13.0`)}catch{}function pn({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=b.useRef();i.current??=ee({window:r,v5Compat:!0});let a=i.current,[o,s]=b.useState({action:a.action,location:a.location}),c=b.useCallback(e=>{n===!1?s(e):b.startTransition(()=>s(e))},[n]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.createElement(V,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function mn({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=b.useState({action:n.action,location:n.location}),o=b.useCallback(e=>{r===!1?a(e):b.startTransition(()=>a(e))},[r]);return b.useLayoutEffect(()=>n.listen(o),[n,o]),b.createElement(V,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}mn.displayName=`unstable_HistoryRouter`;var hn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=b.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=b.useContext(Be),g=typeof c==`string`&&hn.test(c),_=Ne(c,m);c=_.to;let v=Ye(c,{relative:r}),[y,x,S]=on(n,f),C=Cn(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function w(t){e&&e(t),t.defaultPrevented||C(t)}let T=b.createElement(`a`,{...f,...S,href:_.absoluteURL||v,onClick:_.isExternal||i?e:w,ref:dn(p,x),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return y&&!g?b.createElement(b.Fragment,null,T,b.createElement(cn,{page:v})):T});gn.displayName=`Link`;var _n=b.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=rt(a,{relative:c.relative}),d=z(),f=b.useContext(Fe),{navigator:p,basename:m}=b.useContext(Be),h=f!=null&&Nn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,_=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(_=_.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=_e(v,m)||v);let y=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=_===g||!r&&_.startsWith(g)&&_.charAt(y)===`/`,S=v!=null&&(v===g||!r&&v.startsWith(g)&&v.charAt(g.length)===`/`),C={isActive:x,isPending:S,isTransitioning:h},w=x?e:void 0,T;T=typeof n==`function`?n(C):[n,x?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let ee=typeof i==`function`?i(C):i;return b.createElement(gn,{...c,"aria-current":w,className:T,ref:l,style:ee,to:a,viewTransition:o},typeof s==`function`?s(C):s)});_n.displayName=`NavLink`;var vn=b.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=kt,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=b.useContext(Be),g=En(),_=Dn(s,{relative:l}),v=o.toLowerCase()===`get`?`get`:`post`,y=typeof s==`string`&&hn.test(s);return b.createElement(`form`,{ref:m,method:v,action:_,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?b.startTransition(()=>p()):p()},...p,"data-discover":!y&&e===`render`?`true`:void 0})});vn.displayName=`Form`;function yn({getKey:e,storageKey:t,...n}){let r=b.useContext(rn),{basename:i}=b.useContext(Be),a=z(),o=bt();jn({getKey:e,storageKey:t});let s=b.useMemo(()=>{if(!r||!e)return null;let t=An(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return b.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${Wt(JSON.stringify(t||On))}, ${Wt(JSON.stringify(s))})`}})}yn.displayName=`ScrollRestoration`;function bn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xn(e){let t=b.useContext(Pe);return E(t,bn(e)),t}function Sn(e){let t=b.useContext(Fe);return E(t,bn(e)),t}function Cn(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=$e(),u=z(),d=rt(e,{relative:a});return b.useCallback(f=>{if(It(f,t)){f.preventDefault();let t=n===void 0?k(u)===k(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?b.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}var wn=0,Tn=()=>`__${String(++wn)}__`;function En(){let{router:e}=xn(`useSubmit`),{basename:t}=b.useContext(Be),n=vt(),r=e.fetch,i=e.navigate;return b.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=Vt(e,t);a.navigate===!1?await r(a.fetcherKey||Tn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function Dn(e,{relative:t}={}){let{basename:n}=b.useContext(Be),r=b.useContext(He);E(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...rt(e||`.`,{relative:t})},o=z();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:Te([n,a.pathname])),k(a)}var On=`react-router-scroll-positions`,kn={};function An(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:_e(e.pathname,n)||e.pathname},t)),i??=e.key,i}function jn({getKey:e,storageKey:t}={}){let{router:n}=xn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=Sn(`useScrollRestoration`),{basename:a}=b.useContext(Be),o=z(),s=bt(),c=yt();b.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),Mn(b.useCallback(()=>{if(c.state===`idle`){let t=An(o,s,a,e);kn[t]=window.scrollY}try{sessionStorage.setItem(t||On,JSON.stringify(kn))}catch(e){D(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(b.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||On);e&&(kn=JSON.parse(e))}catch{}},[t]),b.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(kn,()=>window.scrollY,e?(t,n)=>An(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),b.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{D(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function Mn(e,t){let{capture:n}=t||{};b.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function Nn(e,{relative:t}={}){let n=b.useContext(Le);E(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xn(`useViewTransitionState`),i=rt(e,{relative:t});if(!n.isTransitioning)return!1;let a=_e(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=_e(n.nextLocation.pathname,r)||n.nextLocation.pathname;return me(i.pathname,o)!=null||me(i.pathname,a)!=null}var Pn=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),Fn=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),In=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Ln=e=>{let t=In(e);return t.charAt(0).toUpperCase()+t.slice(1)},Rn={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},zn=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0;return!1},Bn=(0,b.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,b.createElement)(`svg`,{ref:c,...Rn,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Pn(`lucide`,i),...!a&&!zn(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,b.createElement)(e,t)),...Array.isArray(a)?a:[a]])),U=(e,t)=>{let n=(0,b.forwardRef)(({className:n,...r},i)=>(0,b.createElement)(Bn,{ref:i,iconNode:t,className:Pn(`lucide-${Fn(Ln(e))}`,`lucide-${e}`,n),...r}));return n.displayName=Ln(e),n},Vn=U(`arrow-left`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]),Hn=U(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),Un=U(`award`,[[`path`,{d:`m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526`,key:`1yiouv`}],[`circle`,{cx:`12`,cy:`8`,r:`6`,key:`1vp47v`}]]),Wn=U(`book-open`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),Gn=U(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),Kn=U(`camera`,[[`path`,{d:`M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z`,key:`18u6gg`}],[`circle`,{cx:`12`,cy:`13`,r:`3`,key:`1vg3eu`}]]),qn=U(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),Jn=U(`chevron-right`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),Yn=U(`circle-stop`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`rect`,{x:`9`,y:`9`,width:`6`,height:`6`,rx:`1`,key:`1ssd4o`}]]),Xn=U(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Zn=U(`compass`,[[`path`,{d:`m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z`,key:`9ktpf1`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Qn=U(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),$n=U(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),er=U(`feather`,[[`path`,{d:`M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z`,key:`18jl4k`}],[`path`,{d:`M16 8 2 22`,key:`vp34q`}],[`path`,{d:`M17.5 15H9`,key:`1oz8nu`}]]),tr=U(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),nr=U(`grip-vertical`,[[`circle`,{cx:`9`,cy:`12`,r:`1`,key:`1vctgf`}],[`circle`,{cx:`9`,cy:`5`,r:`1`,key:`hp0tcf`}],[`circle`,{cx:`9`,cy:`19`,r:`1`,key:`fkjjf6`}],[`circle`,{cx:`15`,cy:`12`,r:`1`,key:`1tmaij`}],[`circle`,{cx:`15`,cy:`5`,r:`1`,key:`19l28e`}],[`circle`,{cx:`15`,cy:`19`,r:`1`,key:`f4zoj3`}]]),rr=U(`headphones`,[[`path`,{d:`M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3`,key:`1xhozi`}]]),ir=U(`heart`,[[`path`,{d:`M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5`,key:`mvr1a0`}]]),ar=U(`history`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M12 7v5l4 2`,key:`1fdv2h`}]]),or=U(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`r6nss1`}]]),sr=U(`keyboard`,[[`path`,{d:`M10 8h.01`,key:`1r9ogq`}],[`path`,{d:`M12 12h.01`,key:`1mp3jc`}],[`path`,{d:`M14 8h.01`,key:`1primd`}],[`path`,{d:`M16 12h.01`,key:`1l6xoz`}],[`path`,{d:`M18 8h.01`,key:`emo2bl`}],[`path`,{d:`M6 8h.01`,key:`x9i8wu`}],[`path`,{d:`M7 16h10`,key:`wp8him`}],[`path`,{d:`M8 12h.01`,key:`czm47f`}],[`rect`,{width:`20`,height:`16`,x:`2`,y:`4`,rx:`2`,key:`18n3k1`}]]),cr=U(`loader-circle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),lr=U(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),ur=U(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),dr=U(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),fr=U(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),pr=U(`map`,[[`path`,{d:`M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z`,key:`169xi5`}],[`path`,{d:`M15 5.764v15`,key:`1pn4in`}],[`path`,{d:`M9 3.236v15`,key:`1uimfh`}]]),mr=U(`message-circle`,[[`path`,{d:`M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719`,key:`1sd12s`}]]),hr=U(`message-square-plus`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}],[`path`,{d:`M12 8v6`,key:`1ib9pf`}],[`path`,{d:`M9 11h6`,key:`1fldmi`}]]),gr=U(`message-square`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}]]),_r=U(`mic`,[[`path`,{d:`M12 19v3`,key:`npa21l`}],[`path`,{d:`M19 10v2a7 7 0 0 1-14 0v-2`,key:`1vc78b`}],[`rect`,{x:`9`,y:`2`,width:`6`,height:`13`,rx:`3`,key:`s6n7sd`}]]),vr=U(`pen-line`,[[`path`,{d:`M13 21h8`,key:`1jsn5i`}],[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),yr=U(`pen-tool`,[[`path`,{d:`M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z`,key:`nt11vn`}],[`path`,{d:`m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18`,key:`15qc1e`}],[`path`,{d:`m2.3 2.3 7.286 7.286`,key:`1wuzzi`}],[`circle`,{cx:`11`,cy:`11`,r:`2`,key:`xmgehs`}]]),br=U(`pen`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),xr=U(`play`,[[`path`,{d:`M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z`,key:`10ikf1`}]]),Sr=U(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Cr=U(`quote`,[[`path`,{d:`M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z`,key:`rib7q0`}],[`path`,{d:`M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z`,key:`1ymkrd`}]]),wr=U(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),Tr=U(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),Er=U(`send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),Dr=U(`share-2`,[[`circle`,{cx:`18`,cy:`5`,r:`3`,key:`gq8acd`}],[`circle`,{cx:`6`,cy:`12`,r:`3`,key:`w7nqdw`}],[`circle`,{cx:`18`,cy:`19`,r:`3`,key:`1xt0gg`}],[`line`,{x1:`8.59`,x2:`15.42`,y1:`13.51`,y2:`17.49`,key:`47mynk`}],[`line`,{x1:`15.41`,x2:`8.59`,y1:`6.51`,y2:`10.49`,key:`1n3mei`}]]),Or=U(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),kr=U(`star`,[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]]),Ar=U(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),jr=U(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Mr=U(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Nr=U(`volume-2`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`path`,{d:`M16 9a5 5 0 0 1 0 6`,key:`1q6k2b`}],[`path`,{d:`M19.364 18.364a9 9 0 0 0 0-12.728`,key:`ijwkga`}]]),Pr=U(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),Fr=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),W=s(((e,t)=>{t.exports=Fr()}))(),Ir=()=>{let e=z().pathname===`/guide`;return(0,W.jsxs)(`nav`,{className:`fixed bottom-0 left-0 right-0 max-w-md mx-auto h-16 bg-white border-t border-stone-200 flex justify-around items-center px-2 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-[900] ${e?`hidden`:``}`,children:[[{path:`/`,icon:or,label:``},{path:`/plan`,icon:pr,label:``},{path:`/guide`,icon:Zn,label:``,highlight:!0},{path:`/community`,icon:Mr,label:``},{path:`/profile`,icon:jr,label:``}].filter(e=>!e.highlight).map(e=>(0,W.jsx)(_n,{to:e.path,className:({isActive:e})=>`
            flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors
            ${e?`text-stone-900`:`text-stone-400 hover:text-stone-600`}
          `,children:({isActive:t})=>(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(e.icon,{size:24,strokeWidth:t?2.5:2}),(0,W.jsx)(`span`,{className:`text-[10px] font-medium`,children:e.label})]})},e.path)),!e&&(0,W.jsx)(`div`,{className:`absolute -top-6 left-1/2 transform -translate-x-1/2`,children:(0,W.jsx)(_n,{to:`/guide`,className:`w-14 h-14 rounded-full bg-stone-900 text-white flex items-center justify-center shadow-lg border-4 border-stone-50 transition-transform active:scale-95`,children:(0,W.jsx)(Zn,{size:24})})})]})},Lr=()=>(0,W.jsxs)(`div`,{className:`flex flex-col h-screen w-full max-w-md mx-auto bg-stone-50 shadow-2xl overflow-hidden relative`,children:[(0,W.jsx)(`div`,{className:`flex-1 overflow-hidden relative`,children:(0,W.jsx)(Tt,{})}),(0,W.jsx)(Ir,{})]});function Rr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function zr(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}const Br=e=>e?(...t)=>e(...t):(...e)=>fetch(...e);var Vr=class extends Error{constructor(e,t=`FunctionsError`,n){super(e),this.name=t,this.context=n}},Hr=class extends Vr{constructor(e){super(`Failed to send a request to the Edge Function`,`FunctionsFetchError`,e)}},Ur=class extends Vr{constructor(e){super(`Relay Error invoking the Edge Function`,`FunctionsRelayError`,e)}},Wr=class extends Vr{constructor(e){super(`Edge Function returned a non-2xx status code`,`FunctionsHttpError`,e)}},Gr;(function(e){e.Any=`any`,e.ApNortheast1=`ap-northeast-1`,e.ApNortheast2=`ap-northeast-2`,e.ApSouth1=`ap-south-1`,e.ApSoutheast1=`ap-southeast-1`,e.ApSoutheast2=`ap-southeast-2`,e.CaCentral1=`ca-central-1`,e.EuCentral1=`eu-central-1`,e.EuWest1=`eu-west-1`,e.EuWest2=`eu-west-2`,e.EuWest3=`eu-west-3`,e.SaEast1=`sa-east-1`,e.UsEast1=`us-east-1`,e.UsWest1=`us-west-1`,e.UsWest2=`us-west-2`})(Gr||={});var Kr=class{constructor(e,{headers:t={},customFetch:n,region:r=Gr.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=Br(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return zr(this,arguments,void 0,function*(e,t={}){let n,r;try{let{headers:i,method:a,body:o,signal:s,timeout:c}=t,l={},{region:u}=t;u||=this.region;let d=new URL(`${this.url}/${e}`);u&&u!==`any`&&(l[`x-region`]=u,d.searchParams.set(`forceFunctionRegion`,u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,`Content-Type`)||!i)?typeof Blob<`u`&&o instanceof Blob||o instanceof ArrayBuffer?(l[`Content-Type`]=`application/octet-stream`,f=o):typeof o==`string`?(l[`Content-Type`]=`text/plain`,f=o):typeof FormData<`u`&&o instanceof FormData?f=o:(l[`Content-Type`]=`application/json`,f=JSON.stringify(o)):f=o&&typeof o!=`string`&&!(typeof Blob<`u`&&o instanceof Blob)&&!(o instanceof ArrayBuffer)&&!(typeof FormData<`u`&&o instanceof FormData)?JSON.stringify(o):o;let p=s;c&&(r=new AbortController,n=setTimeout(()=>r.abort(),c),s?(p=r.signal,s.addEventListener(`abort`,()=>r.abort())):p=r.signal);let m=yield this.fetch(d.toString(),{method:a||`POST`,headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:p}).catch(e=>{throw new Hr(e)}),h=m.headers.get(`x-relay-error`);if(h&&h===`true`)throw new Ur(m);if(!m.ok)throw new Wr(m);let g=(m.headers.get(`Content-Type`)??`text/plain`).split(`;`)[0].trim(),_;return _=g===`application/json`?yield m.json():g===`application/octet-stream`||g===`application/pdf`?yield m.blob():g===`text/event-stream`?m:g===`multipart/form-data`?yield m.formData():yield m.text(),{data:_,error:null,response:m}}catch(e){return{data:null,error:e,response:e instanceof Wr||e instanceof Ur?e.context:void 0}}finally{n&&clearTimeout(n)}})}},qr=class extends Error{constructor(e){super(e.message),this.name=`PostgrestError`,this.details=e.details,this.hint=e.hint,this.code=e.code}},Jr=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError??!1,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle??!1,this.urlLengthLimit=e.urlLengthLimit??8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||([`GET`,`HEAD`].includes(this.method)?this.headers.set(`Accept-Profile`,this.schema):this.headers.set(`Content-Profile`,this.schema)),this.method!==`GET`&&this.method!==`HEAD`&&this.headers.set(`Content-Type`,`application/json`);let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,i=null,a=e.status,o=e.statusText;if(e.ok){if(n.method!==`HEAD`){let t=await e.text();t===``||(r=n.headers.get(`Accept`)===`text/csv`||n.headers.get(`Accept`)&&n.headers.get(`Accept`)?.includes(`application/vnd.pgrst.plan+text`)?t:JSON.parse(t))}let s=n.headers.get(`Prefer`)?.match(/count=(exact|planned|estimated)/),c=e.headers.get(`content-range`)?.split(`/`);s&&c&&c.length>1&&(i=parseInt(c[1])),n.isMaybeSingle&&n.method===`GET`&&Array.isArray(r)&&(r.length>1?(t={code:`PGRST116`,details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:`JSON object requested, multiple (or no) rows returned`},r=null,i=null,a=406,o=`Not Acceptable`):r=r.length===1?r[0]:null)}else{var s;let i=await e.text();try{t=JSON.parse(i),Array.isArray(t)&&e.status===404&&(r=[],t=null,a=200,o=`OK`)}catch{e.status===404&&i===``?(a=204,o=`No Content`):t={message:i}}if(t&&n.isMaybeSingle&&!(t==null||(s=t.details)==null)&&s.includes(`0 rows`)&&(t=null,a=200,o=`OK`),t&&n.shouldThrowOnError)throw new qr(t)}return{error:t,data:r,count:i,status:a,statusText:o}});return this.shouldThrowOnError||(i=i.catch(e=>{let t=``,n=``,r=``,i=e?.cause;if(i){let n=i?.message??``,r=i?.code??``;t=`${e?.name??`FetchError`}: ${e?.message}`,t+=`\n\nCaused by: ${i?.name??`Error`}: ${n}`,r&&(t+=` (${r})`),i?.stack&&(t+=`\n${i.stack}`)}else t=e?.stack??``;let a=this.url.toString().length;return e?.name===`AbortError`||e?.code===`ABORT_ERR`?(r=``,n=`Request was aborted (timeout or manual cancellation)`,a>this.urlLengthLimit&&(n+=`. Note: Your request URL is ${a} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(i?.name===`HeadersOverflowError`||i?.code===`UND_ERR_HEADERS_OVERFLOW`)&&(r=``,n=`HTTP headers exceeded server limits (typically 16KB)`,a>this.urlLengthLimit&&(n+=`. Your request URL is ${a} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${e?.name??`FetchError`}: ${e?.message}`,details:t,hint:n,code:r},data:null,count:null,status:0,statusText:``}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Yr=class extends Jr{select(e){let t=!1,n=(e??`*`).split(``).map(e=>/\s/.test(e)&&!t?``:(e===`"`&&(t=!t),e)).join(``);return this.url.searchParams.set(`select`,n),this.headers.append(`Prefer`,`return=representation`),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let a=i?`${i}.order`:`order`,o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:``}${e}.${t?`asc`:`desc`}${n===void 0?``:n?`.nullsfirst`:`.nullslast`}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=n===void 0?`limit`:`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=r===void 0?`offset`:`${r}.offset`,a=r===void 0?`limit`:`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this}maybeSingle(){return this.method===`GET`?this.headers.set(`Accept`,`application/json`):this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this.isMaybeSingle=!0,this}csv(){return this.headers.set(`Accept`,`text/csv`),this}geojson(){return this.headers.set(`Accept`,`application/geo+json`),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a=`text`}={}){let o=[e?`analyze`:null,t?`verbose`:null,n?`settings`:null,r?`buffers`:null,i?`wal`:null].filter(Boolean).join(`|`),s=this.headers.get(`Accept`)??`application/json`;return this.headers.set(`Accept`,`application/vnd.pgrst.plan+${a}; for="${s}"; options=${o};`),this}rollback(){return this.headers.append(`Prefer`,`tx=rollback`),this}returns(){return this}maxAffected(e){return this.headers.append(`Prefer`,`handling=strict`),this.headers.append(`Prefer`,`max-affected=${e}`),this}},Xr=RegExp(`[,()]`),Zr=class extends Yr{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(`,`)}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(`,`)}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(`,`)}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(`,`)}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(e=>typeof e==`string`&&Xr.test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(e=>typeof e==`string`&&Xr.test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t==`string`?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(`,`)}}`),this}textSearch(e,t,{config:n,type:r}={}){let i=``;r===`plain`?i=`pl`:r===`phrase`?i=`ph`:r===`websearch`&&(i=`w`);let a=n===void 0?``:`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:`or`;return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Qr=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},i=n?`HEAD`:`GET`,a=!1,o=(e??`*`).split(``).map(e=>/\s/.test(e)&&!a?``:(e===`"`&&(a=!a),e)).join(``),{url:s,headers:c}=this.cloneRequestState();return s.searchParams.set(`select`,o),r&&c.append(`Prefer`,`count=${r}`),new Zr({method:i,url:s,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){let{url:r,headers:i}=this.cloneRequestState();if(t&&i.append(`Prefer`,`count=${t}`),n||i.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);r.searchParams.set(`columns`,e.join(`,`))}}return new Zr({method:`POST`,url:r,headers:i,schema:this.schema,body:e,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){let{url:a,headers:o}=this.cloneRequestState();if(o.append(`Prefer`,`resolution=${n?`ignore`:`merge`}-duplicates`),t!==void 0&&a.searchParams.set(`on_conflict`,t),r&&o.append(`Prefer`,`count=${r}`),i||o.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);a.searchParams.set(`columns`,e.join(`,`))}}return new Zr({method:`POST`,url:a,headers:o,schema:this.schema,body:e,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){let{url:n,headers:r}=this.cloneRequestState();return t&&r.append(`Prefer`,`count=${t}`),new Zr({method:`PATCH`,url:n,headers:r,schema:this.schema,body:e,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){let{url:t,headers:n}=this.cloneRequestState();return e&&n.append(`Prefer`,`count=${e}`),new Zr({method:`DELETE`,url:t,headers:n,schema:this.schema,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}};function $r(e){"@babel/helpers - typeof";return $r=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},$r(e)}function ei(e,t){if($r(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if($r(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function ti(e){var t=ei(e,`string`);return $r(t)==`symbol`?t:t+``}function ni(e,t,n){return(t=ti(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?ri(Object(n),!0).forEach(function(t){ni(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ai=class e{constructor(e,{headers:t={},schema:n,fetch:r,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.urlLengthLimit=a;let o=r??globalThis.fetch;i!==void 0&&i>0?this.fetch=(e,t)=>{let n=new AbortController,r=setTimeout(()=>n.abort(),i),a=t?.signal;if(a){if(a.aborted)return clearTimeout(r),o(e,t);let i=()=>{clearTimeout(r),n.abort()};return a.addEventListener(`abort`,i,{once:!0}),o(e,ii(ii({},t),{},{signal:n.signal})).finally(()=>{clearTimeout(r),a.removeEventListener(`abort`,i)})}return o(e,ii(ii({},t),{},{signal:n.signal})).finally(()=>clearTimeout(r))}:this.fetch=o}from(e){if(!e||typeof e!=`string`||e.trim()===``)throw Error(`Invalid relation name: relation must be a non-empty string.`);return new Qr(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:n=!1,get:r=!1,count:i}={}){let a,o=new URL(`${this.url}/rpc/${e}`),s,c=e=>typeof e==`object`&&!!e&&(!Array.isArray(e)||e.some(c)),l=n&&Object.values(t).some(c);l?(a=`POST`,s=t):n||r?(a=n?`HEAD`:`GET`,Object.entries(t).filter(([e,t])=>t!==void 0).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(`,`)}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(a=`POST`,s=t);let u=new Headers(this.headers);return l?u.set(`Prefer`,i?`count=${i},return=minimal`:`return=minimal`):i&&u.set(`Prefer`,`count=${i}`),new Zr({method:a,url:o,headers:u,schema:this.schemaName,body:s,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}},oi=class{constructor(){}static detectEnvironment(){if(typeof WebSocket<`u`)return{type:`native`,constructor:WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocket!==void 0)return{type:`native`,constructor:globalThis.WebSocket};if(typeof global<`u`&&global.WebSocket!==void 0)return{type:`native`,constructor:global.WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocketPair!==void 0&&globalThis.WebSocket===void 0)return{type:`cloudflare`,error:`Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.`,workaround:`Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.`};if(typeof globalThis<`u`&&globalThis.EdgeRuntime||typeof navigator<`u`&&navigator.userAgent?.includes(`Vercel-Edge`))return{type:`unsupported`,error:`Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.`,workaround:`Use serverless functions or a different deployment target for WebSocket functionality.`};let e=globalThis.process;if(e){let t=e.versions;if(t&&t.node){let e=t.node,n=parseInt(e.replace(/^v/,``).split(`.`)[0]);return n>=22?globalThis.WebSocket===void 0?{type:`unsupported`,error:`Node.js ${n} detected but native WebSocket not found.`,workaround:`Provide a WebSocket implementation via the transport option.`}:{type:`native`,constructor:globalThis.WebSocket}:{type:`unsupported`,error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:`unsupported`,error:`Unknown JavaScript runtime without WebSocket support.`,workaround:`Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.`}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||`WebSocket not supported in this environment.`;throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type===`native`||e.type===`ws`}catch{return!1}}};const si=`2.0.0`,ci=si,li=1e4;var ui;(function(e){e[e.connecting=0]=`connecting`,e[e.open=1]=`open`,e[e.closing=2]=`closing`,e[e.closed=3]=`closed`})(ui||={});var di;(function(e){e.closed=`closed`,e.errored=`errored`,e.joined=`joined`,e.joining=`joining`,e.leaving=`leaving`})(di||={});var fi;(function(e){e.close=`phx_close`,e.error=`phx_error`,e.join=`phx_join`,e.reply=`phx_reply`,e.leave=`phx_leave`,e.access_token=`access_token`})(fi||={});var pi;(function(e){e.websocket=`websocket`})(pi||={});var mi;(function(e){e.Connecting=`connecting`,e.Open=`open`,e.Closing=`closing`,e.Closed=`closed`})(mi||={});var hi=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT=`broadcast`,this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event==`string`)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){return this._isArrayBuffer(e.payload?.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){let t=e.payload?.payload??new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,t)}_encodeJsonUserBroadcastPush(e){let t=e.payload?.payload??{},n=new TextEncoder().encode(JSON.stringify(t)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,n)}_encodeUserBroadcastPush(e,t,n){let r=e.topic,i=e.ref??``,a=e.join_ref??``,o=e.payload.event,s=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},c=Object.keys(s).length===0?``:JSON.stringify(s);if(a.length>255)throw Error(`joinRef length ${a.length} exceeds maximum of 255`);if(i.length>255)throw Error(`ref length ${i.length} exceeds maximum of 255`);if(r.length>255)throw Error(`topic length ${r.length} exceeds maximum of 255`);if(o.length>255)throw Error(`userEvent length ${o.length} exceeds maximum of 255`);if(c.length>255)throw Error(`metadata length ${c.length} exceeds maximum of 255`);let l=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+r.length+o.length+c.length,u=new ArrayBuffer(this.HEADER_LENGTH+l),d=new DataView(u),f=0;d.setUint8(f++,this.KINDS.userBroadcastPush),d.setUint8(f++,a.length),d.setUint8(f++,i.length),d.setUint8(f++,r.length),d.setUint8(f++,o.length),d.setUint8(f++,c.length),d.setUint8(f++,t),Array.from(a,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(i,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(r,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(o,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(c,e=>d.setUint8(f++,e.charCodeAt(0)));var p=new Uint8Array(u.byteLength+n.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(n),u.byteLength),p.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if(typeof e==`string`){let[n,r,i,a,o]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:a,payload:o})}return t({})}_binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4),s=this.HEADER_LENGTH+4,c=n.decode(e.slice(s,s+r));s+=r;let l=n.decode(e.slice(s,s+i));s+=i;let u=n.decode(e.slice(s,s+a));s+=a;let d=e.slice(s,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,p={type:this.BROADCAST_EVENT,event:l,payload:f};return a>0&&(p.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){return e instanceof ArrayBuffer||e?.constructor?.name===`ArrayBuffer`}_pick(e,t){return!e||typeof e!=`object`?{}:Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e)))}},gi=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries+=1,this.callback()},this.timerCalc(this.tries+1))}},_i;(function(e){e.abstime=`abstime`,e.bool=`bool`,e.date=`date`,e.daterange=`daterange`,e.float4=`float4`,e.float8=`float8`,e.int2=`int2`,e.int4=`int4`,e.int4range=`int4range`,e.int8=`int8`,e.int8range=`int8range`,e.json=`json`,e.jsonb=`jsonb`,e.money=`money`,e.numeric=`numeric`,e.oid=`oid`,e.reltime=`reltime`,e.text=`text`,e.time=`time`,e.timestamp=`timestamp`,e.timestamptz=`timestamptz`,e.timetz=`timetz`,e.tsrange=`tsrange`,e.tstzrange=`tstzrange`})(_i||={});const vi=(e,t,n={})=>{let r=n.skipTypes??[];return t?Object.keys(t).reduce((n,i)=>(n[i]=yi(i,e,t,r),n),{}):{}},yi=(e,t,n,r)=>{let i=t.find(t=>t.name===e)?.type,a=n[e];return i&&!r.includes(i)?bi(i,a):xi(a)},bi=(e,t)=>{if(e.charAt(0)===`_`)return Ti(t,e.slice(1,e.length));switch(e){case _i.bool:return Si(t);case _i.float4:case _i.float8:case _i.int2:case _i.int4:case _i.int8:case _i.numeric:case _i.oid:return Ci(t);case _i.json:case _i.jsonb:return wi(t);case _i.timestamp:return Ei(t);case _i.abstime:case _i.date:case _i.daterange:case _i.int4range:case _i.int8range:case _i.money:case _i.reltime:case _i.text:case _i.time:case _i.timestamptz:case _i.timetz:case _i.tsrange:case _i.tstzrange:return xi(t);default:return xi(t)}};var xi=e=>e;const Si=e=>{switch(e){case`t`:return!0;case`f`:return!1;default:return e}},Ci=e=>{if(typeof e==`string`){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wi=e=>{if(typeof e==`string`)try{return JSON.parse(e)}catch{return e}return e},Ti=(e,t)=>{if(typeof e!=`string`)return e;let n=e.length-1,r=e[n];if(e[0]===`{`&&r===`}`){let r,i=e.slice(1,n);try{r=JSON.parse(`[`+i+`]`)}catch{r=i?i.split(`,`):[]}return r.map(e=>bi(t,e))}return e},Ei=e=>typeof e==`string`?e.replace(` `,`T`):e,Di=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,`http`),t.pathname=t.pathname.replace(/\/+$/,``).replace(/\/socket\/websocket$/i,``).replace(/\/socket$/i,``).replace(/\/websocket$/i,``),t.pathname===``||t.pathname===`/`?t.pathname=`/api/broadcast`:t.pathname+=`/api/broadcast`,t.href};var Oi=class{constructor(e,t,n={},r=li){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref=``,this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref=``,this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived(`timeout`)||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){return this._hasReceived(e)&&t(this.receivedResp?.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||=(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),setTimeout(()=>{this.trigger(`timeout`,{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}},ki;(function(e){e.SYNC=`sync`,e.JOIN=`join`,e.LEAVE=`leave`})(ki||={});var Ai=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:`presence_state`,diff:`presence_diff`};this.channel._on(r.state,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,t,n,r),this.pendingDiffs.forEach(t=>{this.state=e.syncDiff(this.state,t,n,r)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=e.syncDiff(this.state,t,n,r),i())}),this.onJoin((e,t,n)=>{this.channel._trigger(`presence`,{event:`join`,key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger(`presence`,{event:`leave`,key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger(`presence`,{event:`sync`})})}static syncState(e,t,n,r){let i=this.cloneDeep(e),a=this.transformState(t),o={},s={};return this.map(i,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{let n=i[e];if(n){let r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),c=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(o[e]=a),c.length>0&&(s[e]=c)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||=()=>{},r||=()=>{},this.map(i,(t,r)=>{let i=e[t]??[];if(e[t]=this.cloneDeep(r),i.length>0){let n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;let a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),i.length===0&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{let r=e[n];return`metas`in r?t[n]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}},ji;(function(e){e.ALL=`*`,e.INSERT=`INSERT`,e.UPDATE=`UPDATE`,e.DELETE=`DELETE`})(ji||={});var Mi;(function(e){e.BROADCAST=`broadcast`,e.PRESENCE=`presence`,e.POSTGRES_CHANGES=`postgres_changes`,e.SYSTEM=`system`})(Mi||={});var Ni;(function(e){e.SUBSCRIBED=`SUBSCRIBED`,e.TIMED_OUT=`TIMED_OUT`,e.CLOSED=`CLOSED`,e.CHANNEL_ERROR=`CHANNEL_ERROR`})(Ni||={});var Pi=class e{constructor(e,t={config:{}},n){if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=di.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,``),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:``,enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Oi(this,fi.join,this.params,this.timeout),this.rejoinTimer=new gi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive(`ok`,()=>{this.state=di.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log(`channel`,`close ${this.topic} ${this._joinRef()}`),this.state=di.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=di.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`timeout`,()=>{this._isJoining()&&(this.socket.log(`channel`,`timeout ${this.topic}`,this.joinPush.timeout),this.state=di.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`error`,e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=di.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fi.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Ai(this),this.broadcastEndpointURL=Di(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&this.params.config?.broadcast?.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){if(this.socket.isConnected()||this.socket.connect(),this.state==di.closed){let{config:{broadcast:r,presence:i,private:a}}=this.params,o=this.bindings.postgres_changes?.map(e=>e.filter)??[],s=!!this.bindings[Mi.PRESENCE]&&this.bindings[Mi.PRESENCE].length>0||this.params.config.presence?.enabled===!0,c={},l={broadcast:r,presence:Object.assign(Object.assign({},i),{enabled:s}),postgres_changes:o,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(e=>t?.(Ni.CHANNEL_ERROR,e)),this._onClose(()=>t?.(Ni.CLOSED)),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive(`ok`,async({postgres_changes:n})=>{if(this.socket._isManualToken()||this.socket.setAuth(),n===void 0){t?.(Ni.SUBSCRIBED);return}else{let r=this.bindings.postgres_changes,i=r?.length??0,a=[];for(let o=0;o<i;o++){let i=r[o],{filter:{event:s,schema:c,table:l,filter:u}}=i,d=n&&n[o];if(d&&d.event===s&&e.isFilterValueEqual(d.schema,c)&&e.isFilterValueEqual(d.table,l)&&e.isFilterValueEqual(d.filter,u))a.push(Object.assign(Object.assign({},i),{id:d.id}));else{this.unsubscribe(),this.state=di.errored,t?.(Ni.CHANNEL_ERROR,Error(`mismatch between server and client bindings for postgres changes`));return}}this.bindings.postgres_changes=a,t&&t(Ni.SUBSCRIBED);return}}).receive(`error`,e=>{this.state=di.errored,t?.(Ni.CHANNEL_ERROR,Error(JSON.stringify(Object.values(e).join(`, `)||`error`)))}).receive(`timeout`,()=>{t?.(Ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:`presence`,event:`track`,payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:`presence`,event:`untrack`},e)}on(e,t,n){return this.state===di.joined&&e===Mi.PRESENCE&&(this.socket.log(`channel`,`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){if(t==null)return Promise.reject(`Payload is required for httpSend()`);let r={apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);let i={method:`POST`,headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,n.timeout??this.timeout);if(a.status===202)return{success:!0};let o=a.statusText;try{let e=await a.json();o=e.error||e.message||o}catch{}return Promise.reject(Error(o))}async send(e,t={}){if(!this._canPush()&&e.type===`broadcast`){console.warn(`Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.`);let{event:n,payload:r}=e,i={apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let a={method:`POST`,headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,t.timeout??this.timeout);return await e.body?.cancel(),e.ok?`ok`:`error`}catch(e){return e.name===`AbortError`?`timed out`:`error`}}else return new Promise(n=>{let r=this._push(e.type,e,t.timeout||this.timeout);e.type===`broadcast`&&!this.params?.config?.broadcast?.ack&&n(`ok`),r.receive(`ok`,()=>n(`ok`)),r.receive(`error`,()=>n(`error`)),r.receive(`timeout`,()=>n(`timed out`))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=di.leaving;let t=()=>{this.socket.log(`channel`,`leave ${this.topic}`),this._trigger(fi.close,`leave`,this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Oi(this,fi.leave,{},e),n.receive(`ok`,()=>{t(),r(`ok`)}).receive(`timeout`,()=>{t(),r(`timed out`)}).receive(`error`,()=>{r(`error`)}),n.send(),this._canPush()||n.trigger(`ok`,{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=di.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){let r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Oi(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log(`channel`,`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;let a=e.toLocaleLowerCase(),{close:o,error:s,leave:c,join:l}=fi;if(n&&[o,s,c,l].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw`channel onMessage callbacks must return the payload, modified or unmodified`;[`insert`,`update`,`delete`].includes(a)?(r=this.bindings.postgres_changes)==null||r.filter(e=>e.filter?.event===`*`||(e.filter?.event)?.toLocaleLowerCase()===a).map(e=>e.callback(u,n)):(i=this.bindings[a])==null||i.filter(e=>{if([`broadcast`,`presence`,`postgres_changes`].includes(a))if(`id`in e){let n=e.id,r=e.filter?.event;return n&&t.ids?.includes(n)&&(r===`*`||r?.toLocaleLowerCase()===t.data?.type.toLocaleLowerCase())}else{let n=(e?.filter?.event)?.toLocaleLowerCase();return n===`*`||n===(t?.event)?.toLocaleLowerCase()}else return e.type.toLocaleLowerCase()===a}).map(e=>{if(typeof u==`object`&&`ids`in u){let e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,o={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===di.closed}_isJoined(){return this.state===di.joined}_isJoining(){return this.state===di.joining}_isLeaving(){return this.state===di.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(t=>!(t.type?.toLocaleLowerCase()===r&&e.isEqual(t.filter,n)))),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fi.close,{},e)}_onError(e){this._on(fi.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=di.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type===`INSERT`||e.type===`UPDATE`)&&(t.new=vi(e.columns,e.record)),(e.type===`UPDATE`||e.type===`DELETE`)&&(t.old=vi(e.columns,e.old_record)),t}},Fi=()=>{},Ii={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Li=[1e3,2e3,5e3,1e4],Ri=1e4,zi=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Bi=class{constructor(e,t){if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint=``,this.httpEndpoint=``,this.headers={},this.params={},this.timeout=li,this.transport=null,this.heartbeatIntervalMs=Ii.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fi,this.ref=0,this.reconnectTimer=null,this.vsn=ci,this.logger=Fi,this.conn=null,this.sendBuffer=[],this.serializer=new hi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState=`disconnected`,this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!t?.params?.apikey)throw Error(`API key is required to connect to Realtime`);this.apiKey=t.params.apikey,this.endPoint=`${e}/${pi.websocket}`,this.httpEndpoint=Di(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState(`connecting`),this.accessToken&&!this._authPromise&&this._setAuthSafely(`connect`),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=oi.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState(`disconnected`);let t=e.message;throw t.includes(`Node.js`)?Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState(`disconnecting`,!0),this.conn){let n=setTimeout(()=>{this._setConnectionState(`disconnected`)},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState(`disconnected`)},typeof this.conn.close==`function`&&(e?this.conn.close(e,t??``):this.conn.close()),this._teardownConnection()}else this._setConnectionState(`disconnected`)}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return t===`ok`&&this._remove(e),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return mi.Connecting;case ui.open:return mi.Open;case ui.closing:return mi.Closing;default:return mi.Closed}}isConnected(){return this.connectionState()===mi.Open}isConnecting(){return this._connectionState===`connecting`}isDisconnecting(){return this._connectionState===`disconnecting`}channel(e,t={config:{}}){let n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{let n=new Pi(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){let{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;(t=this.conn)==null||t.send(e)})};this.log(`push`,`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback(`disconnected`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log(`transport`,`heartbeat timeout. Attempting to re-establish connection`);try{this.heartbeatCallback(`timeout`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._wasManualDisconnect=!1,(e=this.conn)==null||e.close(1e3,`heartbeat timeout`),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)==null||e.scheduleTimeout()},Ii.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:`phoenix`,event:`heartbeat`,payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback(`sent`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._setAuthSafely(`heartbeat`)}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log(`transport`,`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if(e.topic===`phoenix`&&e.event===`phx_reply`&&e.ref&&e.ref===this.pendingHeartbeatRef){let t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(e.payload.status===`ok`?`ok`:`error`,t)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:t,event:n,payload:r,ref:i}=e,a=i?`(${i})`:``,o=r.status||``;this.log(`receive`,`${o} ${t} ${n} ${a}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks(`message`,e)})}_clearTimer(e){var t;e===`heartbeat`&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e===`reconnect`&&((t=this.reconnectTimer)==null||t.reset())}_clearAllTimers(){this._clearTimer(`heartbeat`),this._clearTimer(`reconnect`)}_setupConnectionHandlers(){this.conn&&(`binaryType`in this.conn&&(this.conn.binaryType=`arraybuffer`),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ui.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ui.open||this.conn.readyState===ui.connecting)try{this.conn.close()}catch(e){this.log(`error`,`Error closing connection`,e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState(`connected`),this.log(`transport`,`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log(`error`,`error waiting for auth on connect`,e),this.flushSendBuffer()}),this._clearTimer(`reconnect`),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks(`open`)}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log(`worker`,`starting worker for from ${this.workerUrl}`):this.log(`worker`,`starting default worker`);let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log(`worker`,`worker error`,e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{e.data.event===`keepAlive`&&this.sendHeartbeat()},this.workerRef.postMessage({event:`start`,interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&=(this.log(`worker`,`terminating worker`),this.workerRef.terminate(),void 0)}_onConnClose(e){var t;this._setConnectionState(`disconnected`),this.log(`transport`,`close`,e),this._triggerChanError(),this._clearTimer(`heartbeat`),this._wasManualDisconnect||(t=this.reconnectTimer)==null||t.scheduleTimeout(),this._triggerStateCallbacks(`close`,e)}_onConnError(e){this._setConnectionState(`disconnected`),this.log(`transport`,`${e}`),this._triggerChanError(),this._triggerStateCallbacks(`error`,e);try{this.heartbeatCallback(`error`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(fi.error))}_appendParams(e,t){return Object.keys(t).length===0?e:`${e}${e.match(/\?/)?`&`:`?`}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([zi],{type:`application/javascript`});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e===`connecting`?this._wasManualDisconnect=!1:e===`disconnecting`&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(e){this.log(`error`,`Error fetching access token from callback`,e),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let n={access_token:t,version:`realtime-js/2.95.3`};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(fi.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e=`general`){this._isManualToken()||this.setAuth().catch(t=>{this.log(`error`,`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(t){this.log(`error`,`error in ${e} callback`,t)}})}catch(t){this.log(`error`,`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new gi(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ii.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){switch(this.transport=e?.transport??null,this.timeout=e?.timeout??li,this.heartbeatIntervalMs=e?.heartbeatIntervalMs??Ii.HEARTBEAT_INTERVAL,this.worker=e?.worker??!1,this.accessToken=e?.accessToken??null,this.heartbeatCallback=e?.heartbeatCallback??Fi,this.vsn=e?.vsn??ci,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=e?.reconnectAfterMs??(e=>Li[e-1]||Ri),this.vsn){case`1.0.0`:this.encode=e?.encode??((e,t)=>t(JSON.stringify(e))),this.decode=e?.decode??((e,t)=>t(JSON.parse(e)));break;case si:this.encode=e?.encode??this.serializer.encode.bind(this.serializer),this.decode=e?.decode??this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<`u`&&!window.Worker)throw Error(`Web Worker is not supported`);this.workerUrl=e?.workerUrl}}},Vi=class extends Error{constructor(e,t){super(e),this.name=`IcebergError`,this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType===`CommitStateUnknownException`||[500,502,504].includes(t.status)&&t.icebergType?.includes(`CommitState`)===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Hi(e,t,n){let r=new URL(t,e);if(n)for(let[e,t]of Object.entries(n))t!==void 0&&r.searchParams.set(e,t);return r.toString()}async function Ui(e){return!e||e.type===`none`?{}:e.type===`bearer`?{Authorization:`Bearer ${e.token}`}:e.type===`header`?{[e.name]:e.value}:e.type===`custom`?await e.getHeaders():{}}function Wi(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){let s=Hi(e.baseUrl,r,i),c=await Ui(e.auth),l=await t(s,{method:n,headers:{...a?{"Content-Type":`application/json`}:{},...c,...o},body:a?JSON.stringify(a):void 0}),u=await l.text(),d=(l.headers.get(`content-type`)||``).includes(`application/json`),f=d&&u?JSON.parse(u):u;if(!l.ok){let e=d?f:void 0,t=e?.error;throw new Vi(t?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:l.status,headers:l.headers,data:f}}}}function Gi(e){return e.join(``)}var Ki=class{constructor(e,t=``){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:Gi(e.namespace)}:void 0;return(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:`POST`,path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:`DELETE`,path:`${this.prefix}/namespaces/${Gi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${Gi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:`HEAD`,path:`${this.prefix}/namespaces/${Gi(e.namespace)}`}),!0}catch(e){if(e instanceof Vi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(e){if(e instanceof Vi&&e.status===409)return;throw e}}};function qi(e){return e.join(``)}var Ji=class{constructor(e,t=``,n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n[`X-Iceberg-Access-Delegation`]=this.accessDelegation),(await this.client.request({method:`POST`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:`POST`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data[`metadata-location`],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:`DELETE`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t[`X-Iceberg-Access-Delegation`]=this.accessDelegation),(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t[`X-Iceberg-Access-Delegation`]=this.accessDelegation);try{return await this.client.request({method:`HEAD`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(e){if(e instanceof Vi&&e.status===404)return!1;throw e}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Vi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Yi=class{constructor(e){let t=`v1`;e.catalogName&&(t+=`/${e.catalogName}`),this.client=Wi({baseUrl:e.baseUrl.endsWith(`/`)?e.baseUrl:`${e.baseUrl}/`,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(`,`),this.namespaceOps=new Ki(this.client,t),this.tableOps=new Ji(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xi=class extends Error{constructor(e,t=`storage`,n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t===`vectors`?`StorageVectorsError`:`StorageError`,this.status=n,this.statusCode=r}};function Zi(e){return typeof e==`object`&&!!e&&`__isStorageError`in e}var Qi=class extends Xi{constructor(e,t,n,r=`storage`){super(e,r,t,n),this.name=r===`vectors`?`StorageVectorsApiError`:`StorageApiError`,this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$i=class extends Xi{constructor(e,t,n=`storage`){super(e,n),this.name=n===`vectors`?`StorageVectorsUnknownError`:`StorageUnknownError`,this.originalError=t}},ea=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),ta=e=>{if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},na=e=>{if(Array.isArray(e))return e.map(e=>na(e));if(typeof e==`function`||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,n])=>{let r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,``));t[r]=na(n)}),t},ra=e=>!e||typeof e!=`string`||e.length===0||e.length>100||e.trim()!==e||e.includes(`/`)||e.includes(`\\`)?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},ia(e)}function aa(e,t){if(ia(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(ia(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function oa(e){var t=aa(e,`string`);return ia(t)==`symbol`?t:t+``}function sa(e,t,n){return(t=oa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?ca(Object(n),!0).forEach(function(t){sa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var la=e=>e.msg||e.message||e.error_description||(typeof e.error==`string`?e.error:e.error?.message)||JSON.stringify(e),ua=async(e,t,n,r)=>{if(e&&typeof e==`object`&&`status`in e&&`ok`in e&&typeof e.status==`number`&&!n?.noResolveJson){let n=e,i=n.status||500;if(typeof n.json==`function`)n.json().then(e=>{let n=e?.statusCode||e?.code||i+``;t(new Qi(la(e),i,n,r))}).catch(()=>{if(r===`vectors`){let e=i+``;t(new Qi(n.statusText||`HTTP ${i} error`,i,e,r))}else{let e=i+``;t(new Qi(n.statusText||`HTTP ${i} error`,i,e,r))}});else{let e=i+``;t(new Qi(n.statusText||`HTTP ${i} error`,i,e,r))}}else t(new $i(la(e),e,r))},da=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`||e===`HEAD`||!r?G(G({},i),n):(ta(r)?(i.headers=G({"Content-Type":`application/json`},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),G(G({},i),n))};async function fa(e,t,n,r,i,a,o){return new Promise((s,c)=>{e(n,da(t,r,i,a)).then(e=>{if(!e.ok)throw e;if(r?.noResolveJson)return e;if(o===`vectors`){let t=e.headers.get(`content-type`);if(e.headers.get(`content-length`)===`0`||e.status===204||!t||!t.includes(`application/json`))return{}}return e.json()}).then(e=>s(e)).catch(e=>ua(e,c,r,o))})}function pa(e=`storage`){return{get:async(t,n,r,i)=>fa(t,`GET`,n,r,i,void 0,e),post:async(t,n,r,i,a)=>fa(t,`POST`,n,i,a,r,e),put:async(t,n,r,i,a)=>fa(t,`PUT`,n,i,a,r,e),head:async(t,n,r,i)=>fa(t,`HEAD`,n,G(G({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,a)=>fa(t,`DELETE`,n,i,a,r,e)}}var{get:ma,post:ha,put:ga,head:_a,remove:va}=pa(`storage`),ya=pa(`vectors`),ba=class{constructor(e,t={},n,r=`storage`){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=ea(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Zi(e))return{data:null,error:e};throw e}}},xa=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zi(t))return{data:null,error:t};throw t}}},Sa=Symbol.toStringTag,Ca=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Sa]=`BlobDownloadBuilder`,this.promise=null}asStream(){return new xa(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||=this.execute(),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zi(t))return{data:null,error:t};throw t}}},wa={limit:100,offset:0,sortBy:{column:`name`,order:`asc`}},Ta={cacheControl:`3600`,contentType:`text/plain;charset=UTF-8`,upsert:!1},Ea=class extends ba{constructor(e,t={},n,r){super(e,t,r,`storage`),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let a,o=G(G({},Ta),r),s=G(G({},i.headers),e===`POST`&&{"x-upsert":String(o.upsert)}),c=o.metadata;typeof Blob<`u`&&n instanceof Blob?(a=new FormData,a.append(`cacheControl`,o.cacheControl),c&&a.append(`metadata`,i.encodeMetadata(c)),a.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(a=n,a.has(`cacheControl`)||a.append(`cacheControl`,o.cacheControl),c&&!a.has(`metadata`)&&a.append(`metadata`,i.encodeMetadata(c))):(a=n,s[`cache-control`]=`max-age=${o.cacheControl}`,s[`content-type`]=o.contentType,c&&(s[`x-metadata`]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<`u`&&a instanceof ReadableStream||a&&typeof a==`object`&&`pipe`in a&&typeof a.pipe==`function`)&&!o.duplex&&(o.duplex=`half`)),r?.headers&&(s=G(G({},s),r.headers));let l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=await(e==`PUT`?ga:ha)(i.fetch,`${i.url}/object/${u}`,a,G({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate(`POST`,e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;let a=i._removeEmptyFolders(e),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);return s.searchParams.set(`token`,t),i.handleOperation(async()=>{let e,t=G({upsert:Ta.upsert},r),o=G(G({},i.headers),{"x-upsert":String(t.upsert)});return typeof Blob<`u`&&n instanceof Blob?(e=new FormData,e.append(`cacheControl`,t.cacheControl),e.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(e=n,e.append(`cacheControl`,t.cacheControl)):(e=n,o[`cache-control`]=`max-age=${t.cacheControl}`,o[`content-type`]=t.contentType),{path:a,fullPath:(await ga(i.fetch,s.toString(),e,{headers:o})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e),i=G({},n.headers);t?.upsert&&(i[`x-upsert`]=`true`);let a=await ha(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),s=o.searchParams.get(`token`);if(!s)throw new Xi(`No token returned by API`);return{signedUrl:o.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate(`PUT`,e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await ha(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await ha(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),a=await ha(r.fetch,`${r.url}/object/sign/${i}`,G({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),o=n?.download?`&download=${n.download===!0?``:n.download}`:``;return{signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{let i=await ha(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?``:n.download}`:``;return i.map(e=>G(G({},e),{},{signedUrl:e.signedURL?encodeURI(`${r.url}${e.signedURL}${a}`):null}))})}download(e,t,n){let r=t?.transform===void 0?`object`:`render/image/authenticated`,i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:``,o=this._getFinalPath(e);return new Ca(()=>ma(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0},n),this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);return t.handleOperation(async()=>na(await ma(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await _a(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Zi(e)&&e instanceof $i){let t=e.originalError;if([400,404].includes(t?.status))return{data:!1,error:e}}throw e}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?``:t.download}`:``;i!==``&&r.push(i);let a=t?.transform===void 0?`object`:`render/image`,o=this.transformOptsToQueryString(t?.transform||{});o!==``&&r.push(o);let s=r.join(`&`);return s!==``&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await va(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{let i=G(G(G({},wa),t),{},{prefix:e||``});return await ha(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{let r=G({},e);return await ha(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<`u`?Buffer.from(e).toString(`base64`):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,``)}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,``).replace(/\/+/g,`/`)}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join(`&`)}},Da=`2.95.3`,Oa={"X-Client-Info":`storage-js/${Da}`},ka=class extends ba{constructor(e,t={},n,r){let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes(`storage.supabase.`)&&(i.hostname=i.hostname.replace(`supabase.`,`storage.supabase.`));let a=i.href.replace(/\/$/,``),o=G(G({},Oa),t);super(a,o,n,`storage`)}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=t.listBucketOptionsToQueryString(e);return await ma(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ma(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await ha(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await ga(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ha(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await va(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&(`limit`in e&&(t.limit=String(e.limit)),`offset`in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?`?`+new URLSearchParams(t).toString():``}},Aa=class extends ba{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=G(G({},Oa),t);super(r,i,n,`storage`)}async createBucket(e){var t=this;return t.handleOperation(async()=>await ha(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=new URLSearchParams;e?.limit!==void 0&&n.set(`limit`,e.limit.toString()),e?.offset!==void 0&&n.set(`offset`,e.offset.toString()),e?.sortColumn&&n.set(`sortColumn`,e.sortColumn),e?.sortOrder&&n.set(`sortOrder`,e.sortOrder),e?.search&&n.set(`search`,e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await ma(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await va(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!ra(e))throw new Xi(`Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.`);let n=new Yi({baseUrl:this.url,catalogName:e,auth:{type:`custom`,getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){let n=e[t];return typeof n==`function`?async(...t)=>{try{return{data:await n.apply(e,t),error:null}}catch(e){if(r)throw e;return{data:null,error:e}}}:n}})}},ja=class extends ba{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=G(G({},Oa),{},{"Content-Type":`application/json`},t);super(r,i,n,`vectors`)}async createIndex(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ya.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ya.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Ma=class extends ba{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=G(G({},Oa),{},{"Content-Type":`application/json`},t);super(r,i,n,`vectors`)}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw Error(`Vector batch size must be between 1 and 500 items`);return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw Error(`segmentCount must be between 1 and 16`);if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw Error(`Keys batch size must be between 1 and 500 items`);return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Na=class extends ba{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=G(G({},Oa),{},{"Content-Type":`application/json`},t);super(r,i,n,`vectors`)}async createBucket(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Pa=class extends Na{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Fa(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Fa=class extends ja{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Ia(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ia=class extends Ma{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},La=class extends ka{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Ea(this.url,this.headers,e,this.fetch)}get vectors(){return new Pa(this.url+`/vector`,{headers:this.headers,fetch:this.fetch})}get analytics(){return new Aa(this.url+`/iceberg`,this.headers,this.fetch)}};const Ra=`2.95.3`,za=30*1e3,Ba=3*za,Va={"X-Client-Info":`gotrue-js/${Ra}`},Ha=`X-Supabase-Api-Version`,Ua={"2024-01-01":{timestamp:Date.parse(`2024-01-01T00:00:00.0Z`),name:`2024-01-01`}},Wa=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;var Ga=class extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name=`AuthError`,this.status=t,this.code=n}};function K(e){return typeof e==`object`&&!!e&&`__isAuthError`in e}var Ka=class extends Ga{constructor(e,t,n){super(e,t,n),this.name=`AuthApiError`,this.status=t,this.code=n}};function qa(e){return K(e)&&e.name===`AuthApiError`}var Ja=class extends Ga{constructor(e,t){super(e),this.name=`AuthUnknownError`,this.originalError=t}},Ya=class extends Ga{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}},Xa=class extends Ya{constructor(){super(`Auth session missing!`,`AuthSessionMissingError`,400,void 0)}};function Za(e){return K(e)&&e.name===`AuthSessionMissingError`}var Qa=class extends Ya{constructor(){super(`Auth session or user missing`,`AuthInvalidTokenResponseError`,500,void 0)}},$a=class extends Ya{constructor(e){super(e,`AuthInvalidCredentialsError`,400,void 0)}},eo=class extends Ya{constructor(e,t=null){super(e,`AuthImplicitGrantRedirectError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function to(e){return K(e)&&e.name===`AuthImplicitGrantRedirectError`}var no=class extends Ya{constructor(e,t=null){super(e,`AuthPKCEGrantCodeExchangeError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ro=class extends Ya{constructor(){super(`PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.`,`AuthPKCECodeVerifierMissingError`,400,`pkce_code_verifier_not_found`)}},io=class extends Ya{constructor(e,t){super(e,`AuthRetryableFetchError`,t,void 0)}};function ao(e){return K(e)&&e.name===`AuthRetryableFetchError`}var oo=class extends Ya{constructor(e,t,n){super(e,`AuthWeakPasswordError`,t,`weak_password`),this.reasons=n}},q=class extends Ya{constructor(e){super(e,`AuthInvalidJwtError`,400,`invalid_jwt`)}},so=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_`.split(``),co=` 	
\r=`.split(``),lo=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<co.length;t+=1)e[co[t].charCodeAt(0)]=-2;for(let t=0;t<so.length;t+=1)e[so[t].charCodeAt(0)]=t;return e})();function uo(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)n(so[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue<<=6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)n(so[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function fo(e,t,n){let r=lo[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(r===-2)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function po(e){let t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{go(e,r,n)};for(let t=0;t<e.length;t+=1)fo(e.charCodeAt(t),i,a);return t.join(``)}function mo(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ho(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let t=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|t)+65536,n+=1}mo(r,t)}}function go(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw Error(`Invalid UTF-8 sequence`);--t.utf8seq}else if(t.utf8seq>0){if(e<=127)throw Error(`Invalid UTF-8 sequence`);t.codepoint=t.codepoint<<6|e&63,--t.utf8seq,t.utf8seq===0&&n(t.codepoint)}}function _o(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)fo(e.charCodeAt(t),n,r);return new Uint8Array(t)}function vo(e){let t=[];return ho(e,e=>t.push(e)),new Uint8Array(t)}function yo(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>uo(e,n,r)),uo(null,n,r),t.join(``)}function bo(e){return Math.round(Date.now()/1e3)+e}function xo(){return Symbol(`auth-callback`)}const So=()=>typeof window<`u`&&typeof document<`u`;var Co={tested:!1,writable:!1};const wo=()=>{if(!So())return!1;try{if(typeof globalThis.localStorage!=`object`)return!1}catch{return!1}if(Co.tested)return Co.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Co.tested=!0,Co.writable=!0}catch{Co.tested=!0,Co.writable=!1}return Co.writable};function To(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]===`#`)try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch{}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}const Eo=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Do=e=>typeof e==`object`&&!!e&&`status`in e&&`ok`in e&&`json`in e&&typeof e.json==`function`,Oo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ko=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ao=async(e,t)=>{await e.removeItem(t)};var jo=class e{constructor(){this.promise=new e.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};jo.promiseConstructor=Promise;function Mo(e){let t=e.split(`.`);if(t.length!==3)throw new q(`Invalid JWT structure`);for(let e=0;e<t.length;e++)if(!Wa.test(t[e]))throw new q(`JWT not in base64url format`);return{header:JSON.parse(po(t[0])),payload:JSON.parse(po(t[1])),signature:_o(t[2]),raw:{header:t[0],payload:t[1]}}}async function No(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Po(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{let r=await e(i);if(!t(i,null,r)){n(r);return}}catch(e){if(!t(i,e)){r(e);return}}})()})}function Fo(e){return(`0`+e.toString(16)).substr(-2)}function Io(){let e=new Uint32Array(56);if(typeof crypto>`u`){let e=``;for(let t=0;t<56;t++)e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~`.charAt(Math.floor(Math.random()*66));return e}return crypto.getRandomValues(e),Array.from(e,Fo).join(``)}async function Lo(e){let t=new TextEncoder().encode(e),n=await crypto.subtle.digest(`SHA-256`,t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join(``)}async function Ro(e){if(!(typeof crypto<`u`&&crypto.subtle!==void 0&&typeof TextEncoder<`u`))return console.warn(`WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.`),e;let t=await Lo(e);return btoa(t).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=+$/,``)}async function zo(e,t,n=!1){let r=Io(),i=r;n&&(i+=`/PASSWORD_RECOVERY`),await Oo(e,`${t}-code-verifier`,i);let a=await Ro(r);return[a,r===a?`plain`:`s256`]}var Bo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vo(e){let t=e.headers.get(Ha);if(!t||!t.match(Bo))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ho(e){if(!e)throw Error(`Missing exp claim`);if(e<=Math.floor(Date.now()/1e3))throw Error(`JWT has expired`)}function Uo(e){switch(e){case`RS256`:return{name:`RSASSA-PKCS1-v1_5`,hash:{name:`SHA-256`}};case`ES256`:return{name:`ECDSA`,namedCurve:`P-256`,hash:{name:`SHA-256`}};default:throw Error(`Invalid alg claim`)}}var Wo=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Go(e){if(!Wo.test(e))throw Error(`@supabase/auth-js: Expected parameter to be UUID but is not`)}function Ko(){return new Proxy({},{get:(e,t)=>{if(t===`__isUserNotAvailableProxy`)return!0;if(typeof t==`symbol`){let e=t.toString();if(e===`Symbol(Symbol.toPrimitive)`||e===`Symbol(Symbol.toStringTag)`||e===`Symbol(util.inspect.custom)`)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qo(e,t){return new Proxy(e,{get:(e,n,r)=>{if(n===`__isInsecureUserWarningProxy`)return!0;if(typeof n==`symbol`){let t=n.toString();if(t===`Symbol(Symbol.toPrimitive)`||t===`Symbol(Symbol.toStringTag)`||t===`Symbol(util.inspect.custom)`||t===`Symbol(nodejs.util.inspect.custom)`)return Reflect.get(e,n,r)}return!t.value&&typeof n==`string`&&(console.warn(`Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server.`),t.value=!0),Reflect.get(e,n,r)}})}function Jo(e){return JSON.parse(JSON.stringify(e))}var Yo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xo=[502,503,504];async function Zo(e){if(!Do(e))throw new io(Yo(e),0);if(Xo.includes(e.status))throw new io(Yo(e),e.status);let t;try{t=await e.json()}catch(e){throw new Ja(Yo(e),e)}let n,r=Vo(e);if(r&&r.getTime()>=Ua[`2024-01-01`].timestamp&&typeof t==`object`&&t&&typeof t.code==`string`?n=t.code:typeof t==`object`&&t&&typeof t.error_code==`string`&&(n=t.error_code),n){if(n===`weak_password`)throw new oo(Yo(t),e.status,t.weak_password?.reasons||[]);if(n===`session_not_found`)throw new Xa}else if(typeof t==`object`&&t&&typeof t.weak_password==`object`&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0))throw new oo(Yo(t),e.status,t.weak_password.reasons);throw new Ka(Yo(t),e.status||500,n)}var Qo=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`?i:(i.headers=Object.assign({"Content-Type":`application/json;charset=UTF-8`},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function J(e,t,n,r){let i=Object.assign({},r?.headers);i[`X-Supabase-Api-Version`]||(i[Ha]=Ua[`2024-01-01`].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=r?.query??{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let o=await $o(e,t,n+(Object.keys(a).length?`?`+new URLSearchParams(a).toString():``),{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(o):{data:Object.assign({},o),error:null}}async function $o(e,t,n,r,i,a){let o=Qo(t,r,i,a),s;try{s=await e(n,Object.assign({},o))}catch(e){throw console.error(e),new io(Yo(e),0)}if(s.ok||await Zo(s),r?.noResolveJson)return s;try{return await s.json()}catch(e){await Zo(e)}}function es(e){let t=null;os(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=bo(e.expires_in)));let n=e.user??e;return{data:{session:t,user:n},error:null}}function ts(e){let t=es(e);return!t.error&&e.weak_password&&typeof e.weak_password==`object`&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message==`string`&&e.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0)&&(t.data.weak_password=e.weak_password),t}function ns(e){return{data:{user:e.user??e},error:null}}function rs(e){return{data:e,error:null}}function is(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Rr(e,[`action_link`,`email_otp`,`hashed_token`,`redirect_to`,`verification_type`]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},o)},error:null}}function as(e){return e}function os(e){return e.access_token&&e.refresh_token&&e.expires_in}const ss=[`global`,`local`,`others`];var cs=class{constructor({url:e=``,headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Eo(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=ss[0]){if(ss.indexOf(t)<0)throw Error(`@supabase/auth-js: Parameter scope must be one of ${ss.join(`, `)}`);try{return await J(this.fetch,`POST`,`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await J(this.fetch,`POST`,`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ns})}catch(e){if(K(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,n=Rr(e,[`options`]),r=Object.assign(Object.assign({},n),t);return`newEmail`in n&&(r.new_email=n?.newEmail,delete r.newEmail),await J(this.fetch,`POST`,`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:is,redirectTo:t?.redirectTo})}catch(e){if(K(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await J(this.fetch,`POST`,`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ns})}catch(e){if(K(e))return{data:{user:null},error:e};throw e}}async listUsers(e){try{let t={nextPage:null,lastPage:0,total:0},n=await J(this.fetch,`GET`,`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:as});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(K(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){Go(e);try{return await J(this.fetch,`GET`,`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ns})}catch(e){if(K(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){Go(e);try{return await J(this.fetch,`PUT`,`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ns})}catch(e){if(K(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){Go(e);try{return await J(this.fetch,`DELETE`,`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ns})}catch(e){if(K(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){Go(e.userId);try{let{data:t,error:n}=await J(this.fetch,`GET`,`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(K(e))return{data:null,error:e};throw e}}async _deleteFactor(e){Go(e.userId),Go(e.id);try{return{data:await J(this.fetch,`DELETE`,`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){try{let t={nextPage:null,lastPage:0,total:0},n=await J(this.fetch,`GET`,`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:as});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(K(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await J(this.fetch,`POST`,`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(K(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await J(this.fetch,`GET`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(K(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await J(this.fetch,`PUT`,`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(K(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await J(this.fetch,`DELETE`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await J(this.fetch,`POST`,`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(K(e))return{data:null,error:e};throw e}}};function ls(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const us={debug:!!(globalThis&&wo()&&globalThis.localStorage&&globalThis.localStorage.getItem(`supabase.gotrue-js.locks.debug`)===`true`)};var ds=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},fs=class extends ds{};async function ps(e,t,n){us.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquire lock`,e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),us.debug&&console.log(`@supabase/gotrue-js: navigatorLock acquire timed out`,e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:`exclusive`,ifAvailable:!0}:{mode:`exclusive`,signal:r.signal},async r=>{if(r){us.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquired`,e,r.name);try{return await n()}finally{us.debug&&console.log(`@supabase/gotrue-js: navigatorLock: released`,e,r.name)}}else if(t===0)throw us.debug&&console.log(`@supabase/gotrue-js: navigatorLock: not immediately available`,e),new fs(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);else{if(us.debug)try{let e=await globalThis.navigator.locks.query();console.log(`@supabase/gotrue-js: Navigator LockManager state`,JSON.stringify(e,null,`  `))}catch(e){console.warn(`@supabase/gotrue-js: Error when querying Navigator LockManager state`,e)}return console.warn(`@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request`),await n()}}))}function ms(){if(typeof globalThis!=`object`)try{Object.defineProperty(Object.prototype,`__magic__`,{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<`u`&&(self.globalThis=self)}}function hs(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function gs(e){return parseInt(e,16)}function _s(e){let t=new TextEncoder().encode(e);return`0x`+Array.from(t,e=>e.toString(16).padStart(2,`0`)).join(``)}function vs(e){let{chainId:t,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:s,resources:c,scheme:l,uri:u,version:d}=e;if(!Number.isInteger(t))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw Error(`@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.`);if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw Error(`@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.`);if(d!==`1`)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(e.statement?.includes(`
`))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=hs(e.address),p=`${l?`${l}://${n}`:n} wants you to sign in with your Ethereum account:\n${f}\n\n${e.statement?`${e.statement}\n`:``}`,m=`URI: ${u}\nVersion: ${d}\nChain ID: ${t}${a?`\nNonce: ${a}`:``}\nIssued At: ${i.toISOString()}`;if(r&&(m+=`\nExpiration Time: ${r.toISOString()}`),o&&(m+=`\nNot Before: ${o.toISOString()}`),s&&(m+=`\nRequest ID: ${s}`),c){let e=`
Resources:`;for(let t of c){if(!t||typeof t!=`string`)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}m+=e}return`${p}\n${m}`}var ys=class extends Error{constructor({message:e,code:t,cause:n,name:r}){super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=r??(n instanceof Error?n.name:void 0)??`Unknown Error`,this.code=t}},bs=class extends ys{constructor(e,t){super({code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:t,message:e}),this.name=`WebAuthnUnknownError`,this.originalError=t}};function xs({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new ys({message:`Registration ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`ConstraintError`){if(n.authenticatorSelection?.requireResidentKey===!0)return new ys({message:`Discoverable credentials were required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT`,cause:e});if(t.mediation===`conditional`&&n.authenticatorSelection?.userVerification===`required`)return new ys({message:`User verification was required during automatic registration but it could not be performed`,code:`ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE`,cause:e});if(n.authenticatorSelection?.userVerification===`required`)return new ys({message:`User verification was required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT`,cause:e})}else if(e.name===`InvalidStateError`)return new ys({message:`The authenticator was previously registered`,code:`ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED`,cause:e});else if(e.name===`NotAllowedError`)return new ys({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`NotSupportedError`)return n.pubKeyCredParams.filter(e=>e.type===`public-key`).length===0?new ys({message:`No entry in pubKeyCredParams was of type "public-key"`,code:`ERROR_MALFORMED_PUBKEYCREDPARAMS`,cause:e}):new ys({message:`No available authenticator supported any of the specified pubKeyCredParams algorithms`,code:`ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(Os(t)){if(n.rp.id!==t)return new ys({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new ys({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`TypeError`){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new ys({message:`User ID was not between 1 and 64 characters`,code:`ERROR_INVALID_USER_ID_LENGTH`,cause:e})}else if(e.name===`UnknownError`)return new ys({message:`The authenticator was unable to process the specified options, or could not create a new credential`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new ys({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}function Ss({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new ys({message:`Authentication ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`NotAllowedError`)return new ys({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(Os(t)){if(n.rpId!==t)return new ys({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new ys({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`UnknownError`)return new ys({message:`The authenticator was unable to process the specified options, or could not create a new assertion signature`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new ys({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}const Cs=new class{createNewAbortSignal(){if(this.controller){let e=Error(`Cancelling existing WebAuthn API call for new one`);e.name=`AbortError`,this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error(`Manually cancelling existing WebAuthn API call`);e.name=`AbortError`,this.controller.abort(e),this.controller=void 0}}};function ws(e){if(!e)throw Error(`Credential creation options are required`);if(typeof PublicKeyCredential<`u`&&`parseCreationOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON==`function`)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=Rr(e,[`challenge`,`user`,`excludeCredentials`]),a=_o(t).buffer,o=Object.assign(Object.assign({},n),{id:_o(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];s.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:_o(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return s}function Ts(e){if(!e)throw Error(`Credential request options are required`);if(typeof PublicKeyCredential<`u`&&`parseRequestOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON==`function`)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=Rr(e,[`challenge`,`allowCredentials`]),i=_o(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=Array(n.length);for(let e=0;e<n.length;e++){let t=n[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:_o(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return a}function Es(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:yo(new Uint8Array(e.response.attestationObject)),clientDataJSON:yo(new Uint8Array(e.response.clientDataJSON))},type:`public-key`,clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:t.authenticatorAttachment??void 0}}function Ds(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e,n=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:yo(new Uint8Array(r.authenticatorData)),clientDataJSON:yo(new Uint8Array(r.clientDataJSON)),signature:yo(new Uint8Array(r.signature)),userHandle:r.userHandle?yo(new Uint8Array(r.userHandle)):void 0},type:`public-key`,clientExtensionResults:n,authenticatorAttachment:t.authenticatorAttachment??void 0}}function Os(e){return e===`localhost`||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ks(){return!!(So()&&`PublicKeyCredential`in window&&window.PublicKeyCredential&&`credentials`in navigator&&typeof(navigator==null?void 0:navigator.credentials)?.create==`function`&&typeof(navigator==null?void 0:navigator.credentials)?.get==`function`)}async function As(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bs(`Browser returned unexpected credential type`,t)}:{data:null,error:new bs(`Empty credential response`,t)}}catch(t){return{data:null,error:xs({error:t,options:e})}}}async function js(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bs(`Browser returned unexpected credential type`,t)}:{data:null,error:new bs(`Empty credential response`,t)}}catch(t){return{data:null,error:Ss({error:t,options:e})}}}const Ms={hints:[`security-key`],authenticatorSelection:{authenticatorAttachment:`cross-platform`,requireResidentKey:!1,userVerification:`preferred`,residentKey:`discouraged`},attestation:`direct`},Ns={userVerification:`preferred`,hints:[`security-key`],attestation:`direct`};function Ps(...e){let t=e=>typeof e==`object`&&!!e&&!Array.isArray(e),n=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(let i of e)if(i)for(let e in i){let a=i[e];if(a!==void 0)if(Array.isArray(a))r[e]=a;else if(n(a))r[e]=a;else if(t(a)){let n=r[e];t(n)?r[e]=Ps(n,a):r[e]=Ps(a)}else r[e]=a}return r}function Fs(e,t){return Ps(Ms,e,t||{})}function Is(e,t){return Ps(Ns,e,t||{})}var Ls=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:`webauthn`}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:r},i){try{let{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:o};let s=r??Cs.createNewAbortSignal();if(a.webauthn.type===`create`){let{user:e}=a.webauthn.credential_options.publicKey;if(!e.name){let t=n;if(t)e.name=`${e.id}:${t}`;else{let t=(await this.client.getUser()).data.user,n=t?.user_metadata?.name||t?.email||t?.id||`User`;e.name=`${e.id}:${n}`}}e.displayName||=e.name}switch(a.webauthn.type){case`create`:{let{data:t,error:n}=await As({publicKey:Fs(a.webauthn.credential_options.publicKey,i?.create),signal:s});return t?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:t}},error:null}:{data:null,error:n}}case`request`:{let t=Is(a.webauthn.credential_options.publicKey,i?.request),{data:n,error:r}=await js(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:t,signal:s}));return n?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}}}catch(e){return K(e)?{data:null,error:e}:{data:null,error:new Ja(`Unexpected error in challenge`,e)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new Ga(`rpId is required for WebAuthn authentication`)};try{if(!ks())return{data:null,error:new Ja(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:r},{request:i});if(!a)return{data:null,error:o};let{webauthn:s}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:s.type,rpId:t,rpOrigins:n,credential_response:s.credential_response}})}catch(e){return K(e)?{data:null,error:e}:{data:null,error:new Ja(`Unexpected error in authenticate`,e)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new Ga(`rpId is required for WebAuthn registration`)};try{if(!ks())return{data:null,error:new Ja(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>t.data?.all.find(t=>t.factor_type===`webauthn`&&t.friendly_name===e&&t.status!==`unverified`)).then(e=>e?this.client.mfa.unenroll({factorId:e?.id}):void 0),{data:null,error:o};let{data:s,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:r},{create:i});return s?this._verify({factorId:a.id,challengeId:s.challengeId,webauthn:{rpId:t,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:c}}catch(e){return K(e)?{data:null,error:e}:{data:null,error:new Ja(`Unexpected error in register`,e)}}}};ms();var Rs={url:`http://localhost:9999`,storageKey:`supabase.auth.token`,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Va,flowType:`implicit`,debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function zs(e,t,n){return await n()}var Bs={},Vs=class e{get jwks(){return Bs[this.storageKey]?.jwks??{keys:[]}}set jwks(e){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{jwks:e})}get jwks_cached_at(){return Bs[this.storageKey]?.cachedAt??-(2**53-1)}set jwks_cached_at(e){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{cachedAt:e})}constructor(t){var n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let r=Object.assign(Object.assign({},Rs),t);if(this.storageKey=r.storageKey,this.instanceID=e.nextInstanceID[this.storageKey]??0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug==`function`&&(this.logger=r.debug),this.instanceID>0&&So()){let e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new cs({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Eo(r.fetch),this.lock=r.lock||zs,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,this.lockAcquireTimeout=r.lockAcquireTimeout,r.lock?this.lock=r.lock:this.persistSession&&So()&&(globalThis==null?void 0:globalThis.navigator)?.locks?this.lock=ps:this.lock=zs,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=-(2**53-1)),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ls(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:wo()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ls(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ls(this.memoryStorage)),So()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error(`Failed to create a new BroadcastChannel, multi-tab state changes will not be available`,e)}(n=this.broadcastChannel)==null||n.addEventListener(`message`,async e=>{this._debug(`received broadcast notification from other tab or client`,e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(e){this._debug(`#broadcastChannel`,`error`,e)}})}this.initialize().catch(e=>{this._debug(`#initialize()`,`error`,e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ra}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise}async _initialize(){try{let e={},t=`none`;if(So()&&(e=To(window.location.href),this._isImplicitGrantCallback(e)?t=`implicit`:await this._isPKCECallback(e)&&(t=`pkce`)),So()&&this.detectSessionInUrl&&t!==`none`){let{data:n,error:r}=await this._getSessionFromURL(e,t);if(r){if(this._debug(`#_initialize()`,`error detecting session from URL`,r),to(r)){let e=r.details?.code;if(e===`identity_already_exists`||e===`identity_not_found`||e===`single_identity_not_deletable`)return{error:r}}return{error:r}}let{session:i,redirectType:a}=n;return this._debug(`#_initialize()`,`detected session in URL`,i,`redirect type`,a),await this._saveSession(i),setTimeout(async()=>{a===`recovery`?await this._notifyAllSubscribers(`PASSWORD_RECOVERY`,i):await this._notifyAllSubscribers(`SIGNED_IN`,i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return K(e)?this._returnResult({error:e}):this._returnResult({error:new Ja(`Unexpected error during initialization`,e)})}finally{await this._handleVisibilityChange(),this._debug(`#_initialize()`,`end`)}}async signInAnonymously(e){try{let{data:t,error:n}=await J(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{data:e?.options?.data??{},gotrue_meta_security:{captcha_token:e?.options?.captchaToken}},xform:es});if(n||!t)return this._returnResult({data:{user:null,session:null},error:n});let r=t.session,i=t.user;return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers(`SIGNED_IN`,r)),this._returnResult({data:{user:i,session:r},error:null})}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e,a=null,o=null;this.flowType===`pkce`&&([a,o]=await zo(this.storage,this.storageKey)),t=await J(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:{email:n,password:r,data:i?.data??{},gotrue_meta_security:{captcha_token:i?.captchaToken},code_challenge:a,code_challenge_method:o},xform:es})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await J(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{phone:n,password:r,data:i?.data??{},channel:i?.channel??`sms`,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:es})}else throw new $a(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r||!n)return await Ao(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:r});let i=n.session,a=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,i)),this._returnResult({data:{user:a,session:i},error:null})}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e;t=await J(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ts})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await J(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ts})}else throw new $a(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){let e=new Qa;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){return await this._handleProviderSignIn(e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:e.options?.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case`ethereum`:return await this.signInWithEthereum(e);case`solana`:return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(So())if(typeof i==`object`)s=i;else{let e=window;if(`ethereum`in e&&typeof e.ethereum==`object`&&`request`in e.ethereum&&typeof e.ethereum.request==`function`)s=e.ethereum;else throw Error(`@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href),l=await s.request({method:`eth_requestAccounts`}).then(e=>e).catch(()=>{throw Error(`@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid`)});if(!l||l.length===0)throw Error(`@supabase/auth-js: No accounts available. Please ensure the wallet is connected.`);let u=hs(l[0]),d=o?.signInWithEthereum?.chainId;d||=gs(await s.request({method:`eth_chainId`})),t=vs({domain:c.host,address:u,statement:a,uri:c.href,version:`1`,chainId:d,nonce:o?.signInWithEthereum?.nonce,issuedAt:o?.signInWithEthereum?.issuedAt??new Date,expirationTime:o?.signInWithEthereum?.expirationTime,notBefore:o?.signInWithEthereum?.notBefore,requestId:o?.signInWithEthereum?.requestId,resources:o?.signInWithEthereum?.resources}),n=await s.request({method:`personal_sign`,params:[_s(t),u]})}try{let{data:r,error:i}=await J(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`ethereum`,message:t,signature:n},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:es});if(i)throw i;if(!r||!r.session||!r.user){let e=new Qa;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(So())if(typeof i==`object`)s=i;else{let e=window;if(`solana`in e&&typeof e.solana==`object`&&(`signIn`in e.solana&&typeof e.solana.signIn==`function`||`signMessage`in e.solana&&typeof e.solana.signMessage==`function`))s=e.solana;else throw Error(`@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href);if(`signIn`in s&&s.signIn){let e=await s.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},o?.signInWithSolana),{version:`1`,domain:c.host,uri:c.href}),a?{statement:a}:null)),r;if(Array.isArray(e)&&e[0]&&typeof e[0]==`object`)r=e[0];else if(e&&typeof e==`object`&&`signedMessage`in e&&`signature`in e)r=e;else throw Error(`@supabase/auth-js: Wallet method signIn() returned unrecognized value`);if(`signedMessage`in r&&`signature`in r&&(typeof r.signedMessage==`string`||r.signedMessage instanceof Uint8Array)&&r.signature instanceof Uint8Array)t=typeof r.signedMessage==`string`?r.signedMessage:new TextDecoder().decode(r.signedMessage),n=r.signature;else throw Error(`@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields`)}else{if(!(`signMessage`in s)||typeof s.signMessage!=`function`||!(`publicKey`in s)||typeof s!=`object`||!s.publicKey||!(`toBase58`in s.publicKey)||typeof s.publicKey.toBase58!=`function`)throw Error(`@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API`);t=[`${c.host} wants you to sign in with your Solana account:`,s.publicKey.toBase58(),...a?[``,a,``]:[``],`Version: 1`,`URI: ${c.href}`,`Issued At: ${o?.signInWithSolana?.issuedAt??new Date().toISOString()}`,...o?.signInWithSolana?.notBefore?[`Not Before: ${o.signInWithSolana.notBefore}`]:[],...o?.signInWithSolana?.expirationTime?[`Expiration Time: ${o.signInWithSolana.expirationTime}`]:[],...o?.signInWithSolana?.chainId?[`Chain ID: ${o.signInWithSolana.chainId}`]:[],...o?.signInWithSolana?.nonce?[`Nonce: ${o.signInWithSolana.nonce}`]:[],...o?.signInWithSolana?.requestId?[`Request ID: ${o.signInWithSolana.requestId}`]:[],...o?.signInWithSolana?.resources?.length?[`Resources`,...o.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join(`
`);let e=await s.signMessage(new TextEncoder().encode(t),`utf8`);if(!e||!(e instanceof Uint8Array))throw Error(`@supabase/auth-js: Wallet signMessage() API returned an recognized value`);n=e}}try{let{data:r,error:i}=await J(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`solana`,message:t,signature:yo(n)},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:es});if(i)throw i;if(!r||!r.session||!r.user){let e=new Qa;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let[t,n]=(await ko(this.storage,`${this.storageKey}-code-verifier`)??``).split(`/`);try{if(!t&&this.flowType===`pkce`)throw new ro;let{data:r,error:i}=await J(this.fetch,`POST`,`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:es});if(await Ao(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!r||!r.session||!r.user){let e=new Qa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:i})}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),K(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:n,token:r,access_token:i,nonce:a}=e,{data:o,error:s}=await J(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:es});if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!o||!o.session||!o.user){let e=new Qa;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers(`SIGNED_IN`,o.session)),this._returnResult({data:o,error:s})}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){try{if(`email`in e){let{email:t,options:n}=e,r=null,i=null;this.flowType===`pkce`&&([r,i]=await zo(this.storage,this.storageKey));let{error:a}=await J(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{email:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},code_challenge:r,code_challenge_method:i},redirectTo:n?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if(`phone`in e){let{phone:t,options:n}=e,{data:r,error:i}=await J(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},channel:n?.channel??`sms`}});return this._returnResult({data:{user:null,session:null,messageId:r?.message_id},error:i})}throw new $a(`You must provide either an email or phone number.`)}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){try{let t,n;`options`in e&&(t=e.options?.redirectTo,n=e.options?.captchaToken);let{data:r,error:i}=await J(this.fetch,`POST`,`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:t,xform:es});if(i)throw i;if(!r)throw Error(`An error occurred on token verification.`);let a=r.session,o=r.user;return a?.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type==`recovery`?`PASSWORD_RECOVERY`:`SIGNED_IN`,a)),this._returnResult({data:{user:o,session:a},error:null})}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){try{let t=null,n=null;this.flowType===`pkce`&&([t,n]=await zo(this.storage,this.storageKey));let r=await J(this.fetch,`POST`,`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},`providerId`in e?{provider_id:e.providerId}:null),`domain`in e?{domain:e.domain}:null),{redirect_to:e.options?.redirectTo??void 0}),e?.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:t,code_challenge_method:n}),headers:this.headers,xform:rs});return r.data?.url&&So()&&!e.options?.skipBrowserRedirect&&window.location.assign(r.data.url),this._returnResult(r)}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),K(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Xa;let{error:r}=await J(this.fetch,`GET`,`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if(`email`in e){let{email:n,type:r,options:i}=e,{error:a}=await J(this.fetch,`POST`,t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if(`phone`in e){let{phone:n,type:r,options:i}=e,{data:a,error:o}=await J(this.fetch,`POST`,t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new $a(`You must provide either an email or phone number and a type`)}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug(`#_acquireLock`,`begin`,e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug(`#_acquireLock`,`lock acquired for storage key`,this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch{}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug(`#_acquireLock`,`lock released for storage key`,this.storageKey),this.lockAcquired=!1}})}finally{this._debug(`#_acquireLock`,`end`)}}async _useSession(e){this._debug(`#_useSession`,`begin`);try{return await e(await this.__loadSession())}finally{this._debug(`#_useSession`,`end`)}}async __loadSession(){this._debug(`#__loadSession()`,`begin`),this.lockAcquired||this._debug(`#__loadSession()`,`used outside of an acquired lock!`,Error().stack);try{let e=null,t=await ko(this.storage,this.storageKey);if(this._debug(`#getSession()`,`session from storage`,t),t!==null&&(this._isValidSession(t)?e=t:(this._debug(`#getSession()`,`session from storage is not valid`),await this._removeSession())),!e)return{data:{session:null},error:null};let n=e.expires_at?e.expires_at*1e3-Date.now()<Ba:!1;if(this._debug(`#__loadSession()`,`session has${n?``:` not`} expired`,`expires_at`,e.expires_at),!n){if(this.userStorage){let t=await ko(this.userStorage,this.storageKey+`-user`);t?.user?e.user=t.user:e.user=Ko()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let t={value:this.suppressGetSessionWarning};e.user=qo(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug(`#__loadSession()`,`end`)}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await J(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:e,xform:ns}):await this._useSession(async e=>{let{data:t,error:n}=e;if(n)throw n;return!t.session?.access_token&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xa}:await J(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:t.session?.access_token??void 0,xform:ns})})}catch(e){if(K(e))return Za(e)&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{let{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Xa;let a=r.session,o=null,s=null;this.flowType===`pkce`&&e.email!=null&&([o,s]=await zo(this.storage,this.storageKey));let{data:c,error:l}=await J(this.fetch,`PUT`,`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:a.access_token,xform:ns});if(l)throw l;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers(`USER_UPDATED`,a),this._returnResult({data:{user:a.user},error:null})})}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),K(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xa;let t=Date.now()/1e3,n=t,r=!0,i=null,{payload:a}=Mo(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){let{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:r,error:a}=await this._getUser(e.access_token);if(a)return this._returnResult({data:{user:null,session:null},error:a});i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:`bearer`,expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers(`SIGNED_IN`,i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(e){if(K(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{if(!e){let{data:n,error:r}=t;if(r)throw r;e=n.session??void 0}if(!e?.refresh_token)throw new Xa;let{data:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!So())throw new eo(`No browser detected.`);if(e.error||e.error_description||e.error_code)throw new eo(e.error_description||`Error in URL with unspecified error_description`,{error:e.error||`unspecified_error`,code:e.error_code||`unspecified_code`});switch(t){case`implicit`:if(this.flowType===`pkce`)throw new no(`Not a valid PKCE flow url.`);break;case`pkce`:if(this.flowType===`implicit`)throw new eo(`Not a valid implicit grant flow url.`);break;default:}if(t===`pkce`){if(this._debug(`#_initialize()`,`begin`,`is PKCE flow`,!0),!e.code)throw new no(`No code detected.`);let{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;let r=new URL(window.location.href);return r.searchParams.delete(`code`),window.history.replaceState(window.history.state,``,r.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:o,expires_at:s,token_type:c}=e;if(!i||!o||!a||!c)throw new eo(`No session defined in URL`);let l=Math.round(Date.now()/1e3),u=parseInt(o),d=l+u;s&&(d=parseInt(s));let f=d-l;f*1e3<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);let p=d-u;l-p>=120?console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale`,p,d,l):l-p<0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew`,p,d,l);let{data:m,error:h}=await this._getUser(i);if(h)throw h;let g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:a,token_type:c,user:m.user};return window.location.hash=``,this._debug(`#_getSessionFromURL()`,`clearing window.location.hash`),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(e){if(K(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl==`function`?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await ko(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:`global`}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:`global`}){return await this._useSession(async t=>{let{data:n,error:r}=t;if(r&&!Za(r))return this._returnResult({error:r});let i=n.session?.access_token;if(i){let{error:t}=await this.admin.signOut(i,e);if(t&&!(qa(t)&&(t.status===404||t.status===401||t.status===403)||Za(t)))return this._returnResult({error:t})}return e!==`others`&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=xo(),n={id:t,callback:e,unsubscribe:()=>{this._debug(`#unsubscribe()`,`state change callback with id removed`,t),this.stateChangeEmitters.delete(t)}};return this._debug(`#onAuthStateChange()`,`registered callback with id`,t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{try{let{data:{session:n},error:r}=t;if(r)throw r;await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,n),this._debug(`INITIAL_SESSION`,`callback id`,e,`session`,n)}catch(t){await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,null),this._debug(`INITIAL_SESSION`,`callback id`,e,`error`,t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;this.flowType===`pkce`&&([n,r]=await zo(this.storage,this.storageKey,!0));try{return await J(this.fetch,`POST`,`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),K(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){try{let{data:e,error:t}=await this.getUser();if(t)throw t;return this._returnResult({data:{identities:e.user.identities??[]},error:null})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return`token`in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){try{let{data:t,error:n}=await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;let i=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,`GET`,i,{headers:this.headers,jwt:n.session?.access_token??void 0})});if(n)throw n;return So()&&!e.options?.skipBrowserRedirect&&window.location.assign(t?.url),this._returnResult({data:{provider:e.provider,url:t?.url},error:null})}catch(t){if(K(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{try{let{error:n,data:{session:r}}=t;if(n)throw n;let{options:i,provider:a,token:o,access_token:s,nonce:c}=e,{data:l,error:u}=await J(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:r?.access_token??void 0,body:{provider:a,id_token:o,access_token:s,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:es});return u?this._returnResult({data:{user:null,session:null},error:u}):!l||!l.session||!l.user?this._returnResult({data:{user:null,session:null},error:new Qa}):(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers(`USER_UPDATED`,l.session)),this._returnResult({data:l,error:u}))}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;return await J(this.fetch,`DELETE`,`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:n.session?.access_token??void 0})})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,`begin`);try{let n=Date.now();return await Po(async n=>(n>0&&await No(200*2**(n-1)),this._debug(t,`refreshing attempt`,n),await J(this.fetch,`POST`,`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:es})),(e,t)=>{let r=200*2**e;return t&&ao(t)&&Date.now()+r-n<3e4})}catch(e){if(this._debug(t,`error`,e),K(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,`end`)}}_isValidSession(e){return typeof e==`object`&&!!e&&`access_token`in e&&`refresh_token`in e&&`expires_at`in e}async _handleProviderSignIn(e,t){let n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug(`#_handleProviderSignIn()`,`provider`,e,`options`,t,`url`,n),So()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){let e=`#_recoverAndRefresh()`;this._debug(e,`begin`);try{let t=await ko(this.storage,this.storageKey);if(t&&this.userStorage){let e=await ko(this.userStorage,this.storageKey+`-user`);!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!e&&(e={user:t.user},await Oo(this.userStorage,this.storageKey+`-user`,e)),t.user=e?.user??Ko()}else if(t&&!t.user&&!t.user){let e=await ko(this.storage,this.storageKey+`-user`);e&&e?.user?(t.user=e.user,await Ao(this.storage,this.storageKey+`-user`),await Oo(this.storage,this.storageKey,t)):t.user=Ko()}if(this._debug(e,`session from storage`,t),!this._isValidSession(t)){this._debug(e,`session is not valid`),t!==null&&await this._removeSession();return}let n=(t.expires_at??1/0)*1e3-Date.now()<Ba;if(this._debug(e,`session has${n?``:` not`} expired with margin of ${Ba}s`),n){if(this.autoRefreshToken&&t.refresh_token){let{error:n}=await this._callRefreshToken(t.refresh_token);n&&(console.error(n),ao(n)||(this._debug(e,`refresh failed with a non-retryable error, removing the session`,n),await this._removeSession()))}}else if(t.user&&t.user.__isUserNotAvailableProxy===!0)try{let{data:n,error:r}=await this._getUser(t.access_token);!r&&n?.user?(t.user=n.user,await this._saveSession(t),await this._notifyAllSubscribers(`SIGNED_IN`,t)):this._debug(e,`could not get user data, skipping SIGNED_IN notification`)}catch(t){console.error(`Error getting user data:`,t),this._debug(e,`error getting user data, skipping SIGNED_IN notification`,t)}else await this._notifyAllSubscribers(`SIGNED_IN`,t)}catch(t){this._debug(e,`error`,t),console.error(t);return}finally{this._debug(e,`end`)}}async _callRefreshToken(e){var t,n;if(!e)throw new Xa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,`begin`);try{this.refreshingDeferred=new jo;let{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Xa;await this._saveSession(t.session),await this._notifyAllSubscribers(`TOKEN_REFRESHED`,t.session);let r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,`error`,e),K(e)){let n={data:null,error:e};return ao(e)||await this._removeSession(),(t=this.refreshingDeferred)==null||t.resolve(n),n}throw(n=this.refreshingDeferred)==null||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,`end`)}}async _notifyAllSubscribers(e,t,n=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,`begin`,t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,`end`)}}async _saveSession(e){this._debug(`#_saveSession()`,e),this.suppressGetSessionWarning=!0,await Ao(this.storage,`${this.storageKey}-code-verifier`);let t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Oo(this.userStorage,this.storageKey+`-user`,{user:t.user});let e=Object.assign({},t);delete e.user;let r=Jo(e);await Oo(this.storage,this.storageKey,r)}else{let e=Jo(t);await Oo(this.storage,this.storageKey,e)}}async _removeSession(){this._debug(`#_removeSession()`),this.suppressGetSessionWarning=!1,await Ao(this.storage,this.storageKey),await Ao(this.storage,this.storageKey+`-code-verifier`),await Ao(this.storage,this.storageKey+`-user`),this.userStorage&&await Ao(this.userStorage,this.storageKey+`-user`),await this._notifyAllSubscribers(`SIGNED_OUT`,null)}_removeVisibilityChangedCallback(){this._debug(`#_removeVisibilityChangedCallback()`);let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&So()&&window!=null&&window.removeEventListener&&window.removeEventListener(`visibilitychange`,e)}catch(e){console.error(`removing visibilitychange callback failed`,e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug(`#_startAutoRefresh()`);let e=setInterval(()=>this._autoRefreshTokenTick(),za);this.autoRefreshTicker=e,e&&typeof e==`object`&&typeof e.unref==`function`?e.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(e);let t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t==`object`&&typeof t.unref==`function`?t.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug(`#_stopAutoRefresh()`);let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);let t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug(`#_autoRefreshTokenTick()`,`begin`);try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug(`#_autoRefreshTokenTick()`,`no session`);return}let r=Math.floor((n.expires_at*1e3-e)/za);this._debug(`#_autoRefreshTokenTick()`,`access token expires in ${r} ticks, a tick lasts ${za}ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error(`Auto refresh tick failed with error. This is likely a transient error.`,e)}}finally{this._debug(`#_autoRefreshTokenTick()`,`end`)}})}catch(e){if(e.isAcquireTimeout||e instanceof ds)this._debug(`auto refresh token tick lock not available`);else throw e}}async _handleVisibilityChange(){if(this._debug(`#_handleVisibilityChange()`),!So()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug(`#visibilityChangedCallback`,`error`,e)}},window==null||window.addEventListener(`visibilitychange`,this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error(`_handleVisibilityChange`,e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,`visibilityState`,document.visibilityState),document.visibilityState===`visible`?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!==`visible`){this._debug(t,`acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting`);return}await this._recoverAndRefresh()}))):document.visibilityState===`hidden`&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){let r=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType===`pkce`){let[e,t]=await zo(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(n?.queryParams){let e=new URLSearchParams(n.queryParams);r.push(e.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join(`&`)}`}async _unenroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;return r?this._returnResult({data:null,error:r}):await J(this.fetch,`DELETE`,`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:n?.session?.access_token})})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType===`phone`?{phone:e.phone}:e.factorType===`totp`?{issuer:e.issuer}:{}),{data:a,error:o}=await J(this.fetch,`POST`,`${this.url}/factors`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(e.factorType===`totp`&&a.type===`totp`&&a?.totp?.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),this._returnResult({data:a,error:null}))})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({challenge_id:e.challengeId},`webauthn`in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type===`create`?Es(e.webauthn.credential_response):Ds(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:o}=await J(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers(`MFA_CHALLENGE_VERIFIED`,a),this._returnResult({data:a,error:o}))})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=await J(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:n?.session?.access_token});if(i.error)return i;let{data:a}=i;if(a.type!==`webauthn`)return{data:a,error:null};switch(a.webauthn.type){case`create`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ws(a.webauthn.credential_options.publicKey)})})}),error:null};case`request`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ts(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let n={all:[],phone:[],totp:[],webauthn:[]};for(let t of e?.factors??[])n.all.push(t),t.status===`verified`&&n[t.factor_type].push(t);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(e){if(e)try{let{payload:t}=Mo(e),n=null;t.aal&&(n=t.aal);let r=n,{data:{user:i},error:a}=await this.getUser(e);if(a)return this._returnResult({data:null,error:a});((i?.factors)?.filter(e=>e.status===`verified`)??[]).length>0&&(r=`aal2`);let o=t.amr||[];return{data:{currentLevel:n,nextLevel:r,currentAuthenticationMethods:o},error:null}}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}let{data:{session:t},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!t)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:r}=Mo(t.access_token),i=null;r.aal&&(i=r.aal);let a=i;(t.user.factors?.filter(e=>e.status===`verified`)??[]).length>0&&(a=`aal2`);let o=r.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:o},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await J(this.fetch,`GET`,`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Xa})})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Xa});let a=await J(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`approve`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&So()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Xa});let a=await J(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`deny`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&So()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await J(this.fetch,`GET`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Xa})})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await J(this.fetch,`DELETE`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xa})})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;let r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>r)return n;let{data:i,error:a}=await J(this.fetch,`GET`,`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(t=>t.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}let{header:r,payload:i,signature:a,raw:{header:o,payload:s}}=Mo(n);t?.allowExpired||Ho(i.exp);let c=!r.alg||r.alg.startsWith(`HS`)||!r.kid||!(`crypto`in globalThis&&`subtle`in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!c){let{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}let l=Uo(r.alg),u=await crypto.subtle.importKey(`jwk`,c,l,!0,[`verify`]);if(!await crypto.subtle.verify(l,u,a,vo(`${o}.${s}`)))throw new q(`Invalid JWT signature`);return{data:{claims:i,header:r,signature:a},error:null}}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}};Vs.nextInstanceID={};var Hs=Vs,Us=`2.95.3`,Ws=``;Ws=typeof Deno<`u`?`deno`:typeof document<`u`?`web`:typeof navigator<`u`&&navigator.product===`ReactNative`?`react-native`:`node`;var Gs={headers:{"X-Client-Info":`supabase-js-${Ws}/${Us}`}},Ks={schema:`public`},qs={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:`implicit`},Js={};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},Ys(e)}function Xs(e,t){if(Ys(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(Ys(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function Zs(e){var t=Xs(e,`string`);return Ys(t)==`symbol`?t:t+``}function Qs(e,t,n){return(t=Zs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?$s(Object(n),!0).forEach(function(t){Qs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ec=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),tc=()=>Headers,nc=(e,t,n)=>{let r=ec(n),i=tc();return async(n,a)=>{let o=await t()??e,s=new i(a?.headers);return s.has(`apikey`)||s.set(`apikey`,e),s.has(`Authorization`)||s.set(`Authorization`,`Bearer ${o}`),r(n,Y(Y({},a),{},{headers:s}))}};function rc(e){return e.endsWith(`/`)?e:e+`/`}function ic(e,t){let{db:n,auth:r,realtime:i,global:a}=e,{db:o,auth:s,realtime:c,global:l}=t,u={db:Y(Y({},o),n),auth:Y(Y({},s),r),realtime:Y(Y({},c),i),storage:{},global:Y(Y(Y({},l),a),{},{headers:Y(Y({},l?.headers??{}),a?.headers??{})}),accessToken:async()=>``};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}function ac(e){let t=e?.trim();if(!t)throw Error(`supabaseUrl is required.`);if(!t.match(/^https?:\/\//i))throw Error(`Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.`);try{return new URL(rc(t))}catch{throw Error(`Invalid supabaseUrl: Provided URL is malformed.`)}}var oc=class extends Hs{constructor(e){super(e)}},sc=class{constructor(e,t,n){this.supabaseUrl=e,this.supabaseKey=t;let r=ac(e);if(!t)throw Error(`supabaseKey is required.`);this.realtimeUrl=new URL(`realtime/v1`,r),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace(`http`,`ws`),this.authUrl=new URL(`auth/v1`,r),this.storageUrl=new URL(`storage/v1`,r),this.functionsUrl=new URL(`functions/v1`,r);let i=`sb-${r.hostname.split(`.`)[0]}-auth-token`,a={db:Ks,realtime:Js,auth:Y(Y({},qs),{},{storageKey:i}),global:Gs},o=ic(n??{},a);this.storageKey=o.auth.storageKey??``,this.headers=o.global.headers??{},o.accessToken?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(o.auth??{},this.headers,o.global.fetch),this.fetch=nc(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Y({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn(`Failed to set initial Realtime auth token:`,e)),this.rest=new ai(new URL(`rest/v1`,r).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new La(this.storageUrl.href,this.headers,this.fetch,n?.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new Kr(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this;if(e.accessToken)return await e.accessToken();let{data:t}=await e.auth.getSession();return t.session?.access_token??e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:s,debug:c,throwOnError:l},u,d){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oc({url:this.authUrl.href,headers:Y(Y({},f),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:s,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>e.toLowerCase()===`authorization`)})}_initRealtimeClient(e){return new Bi(this.realtimeUrl.href,Y(Y({},e),{},{params:Y(Y({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,`CLIENT`,t?.access_token)})}_handleTokenChanged(e,t,n){(e===`TOKEN_REFRESHED`||e===`SIGNED_IN`)&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e===`SIGNED_OUT`&&(this.realtime.setAuth(),t==`STORAGE`&&this.auth.signOut(),this.changedAccessToken=void 0)}},cc=(e,t,n)=>new sc(e,t,n);function lc(){if(typeof window<`u`)return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}lc()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`);const uc=cc(`https://nuxszmwnagecghzusapq.supabase.co`,`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51eHN6bXduYWdlY2doenVzYXBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5NzgwMTksImV4cCI6MjA4NjU1NDAxOX0.zgozaJn2G9d9yCOghx5eHZ-GYbXP2zXi-OZ9aSoPgCw`);var dc=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`);const fc={getUserPlans:async e=>{if(!dc)return[];try{let{data:t,error:n}=await uc.from(`plans`).select(`*`).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n)throw n;return t?t.map(e=>({id:e.id,uid:e.user_id,title:e.title,destination:e.destination,days:e.days,startDate:e.start_date,image:e.image,status:e.status,createdAt:new Date(e.created_at).getTime()})):[]}catch(e){return console.error(`Failed to load user plans:`,e),[]}},savePlan:async(e,t)=>{if(dc)try{let{error:n}=await uc.from(`plans`).upsert({id:e.id,user_id:t,title:e.title,destination:e.destination,days:e.days,start_date:e.startDate,image:e.image,status:e.status,updated_at:new Date().toISOString(),created_at:e.createdAt?new Date(e.createdAt).toISOString():new Date().toISOString()},{onConflict:`id`});if(n)throw n}catch(e){console.error(`Error saving plan:`,e)}},deletePlan:async e=>{if(dc)try{let{error:t}=await uc.from(`plans`).delete().eq(`id`,e);if(t)throw t}catch(e){console.error(`Error deleting plan:`,e)}}};var pc=()=>{let[e,t]=(0,b.useState)([]),[n,r]=(0,b.useState)(``);(0,b.useEffect)(()=>{let e=()=>{let e=new Date().getHours();r(e>=6&&e<11?``:e>=11&&e<13?``:e>=13&&e<18?``:e>=18&&e<23?``:``)};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[]),(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`),n=null;if(e)try{let t=JSON.parse(e);n=t.id||t.uid}catch(e){console.error(`Failed to parse user`,e)}(async()=>{if(n){let e=await fc.getUserPlans(n);if(e.length>0)t(e);else{let e=localStorage.getItem(`my_plans`);e&&t(JSON.parse(e).filter(e=>e.uid===n))}}else t([])})()},[]);let i=e=>{if(!e)return``;let t=new Date(e);return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}`};return(0,W.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800 relative overflow-hidden`,children:[(0,W.jsxs)(`div`,{className:`absolute top-0 left-0 w-full h-[600px] pointer-events-none z-0`,children:[(0,W.jsx)(`div`,{className:`absolute top-[-10%] left-[-20%] w-[70%] h-[70%] bg-[#E6C79C] rounded-full mix-blend-multiply filter blur-[80px] opacity-40`}),(0,W.jsx)(`div`,{className:`absolute top-[-10%] right-[-20%] w-[70%] h-[70%] bg-[#C2D6B5] rounded-full mix-blend-multiply filter blur-[80px] opacity-40`}),(0,W.jsx)(`div`,{className:`absolute top-[10%] left-[20%] w-[60%] h-[60%] bg-[#E8B4B8] rounded-full mix-blend-multiply filter blur-[80px] opacity-30`}),(0,W.jsx)(`div`,{className:`absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-b from-transparent to-stone-50`})]}),(0,W.jsx)(`header`,{className:`px-6 py-4 flex justify-between items-start bg-transparent sticky top-0 z-10 pt-8 relative`,children:(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`p`,{className:`text-xs text-stone-500 font-medium mb-1`,children:[n,``]}),(0,W.jsxs)(`h1`,{className:`text-3xl font-bold font-serif tracking-tight text-stone-900 leading-tight`,children:[``,(0,W.jsx)(`br`,{}),``]})]})}),(0,W.jsxs)(`main`,{className:`flex-1 overflow-y-auto p-4 space-y-6 pb-24 relative z-10`,children:[(0,W.jsxs)(`section`,{className:`grid grid-cols-2 gap-4`,children:[(0,W.jsxs)(gn,{to:`/guide`,className:`bg-[#1C1C1E] p-5 rounded-[2rem] shadow-lg flex flex-col justify-between h-44 active:scale-[0.98] transition-transform relative overflow-hidden group`,children:[(0,W.jsx)(`div`,{className:`absolute top-0 right-0 w-32 h-32 bg-[#2C2C2E] rounded-full blur-2xl opacity-40 -translate-y-1/2 translate-x-1/4 pointer-events-none`}),(0,W.jsx)(`div`,{className:`absolute -bottom-8 -right-8 w-48 h-48 bg-[#2C2C2E] rounded-full blur-2xl opacity-60 pointer-events-none`}),(0,W.jsx)(`div`,{className:`absolute bottom-4 right-4 w-24 h-24 bg-[#3A3A3C] rounded-full blur-xl opacity-30 pointer-events-none`}),(0,W.jsx)(`div`,{className:`w-12 h-12 bg-[#3A3A3C] rounded-full flex items-center justify-center text-[#D4B996] mb-2 relative z-10 shadow-sm`,children:(0,W.jsx)(rr,{size:24,className:`opacity-90`})}),(0,W.jsxs)(`div`,{className:`relative z-10`,children:[(0,W.jsx)(`h3`,{className:`font-bold text-white text-xl tracking-wide`,children:``}),(0,W.jsx)(`p`,{className:`text-xs text-[#8E8E93] mt-1.5 font-medium`,children:``})]})]}),(0,W.jsxs)(gn,{to:`/plan`,className:`bg-white p-5 rounded-[2rem] shadow-sm border border-stone-100 flex flex-col justify-between h-44 active:scale-[0.98] transition-transform relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`w-12 h-12 bg-[#F2F2F7] rounded-full flex items-center justify-center text-[#1C1C1E] mb-2`,children:(0,W.jsx)(fr,{size:24})}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h3`,{className:`font-bold text-[#1C1C1E] text-xl tracking-wide`,children:``}),(0,W.jsx)(`p`,{className:`text-xs text-[#8E8E93] mt-1.5 font-medium`,children:`AI `})]})]})]}),(0,W.jsxs)(`section`,{children:[(0,W.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,W.jsx)(`h3`,{className:`text-lg font-bold font-serif text-stone-900`,children:``}),(0,W.jsxs)(gn,{to:`/plan`,className:`text-sm text-stone-500 flex items-center hover:text-stone-800 transition-colors`,children:[``,(0,W.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:`ml-0.5`,children:(0,W.jsx)(`path`,{d:`m9 18 6-6-6-6`})})]})]}),e.length>0?(0,W.jsx)(`div`,{className:`space-y-4`,children:e.slice(0,2).map(e=>(0,W.jsxs)(`div`,{className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4 active:scale-[0.99] transition-transform`,children:[(0,W.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,W.jsx)(`img`,{alt:e.destination,className:`w-full h-full object-cover`,src:e.image,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,W.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:[e.days,``]})]}),(0,W.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-900 text-lg leading-tight mb-1 line-clamp-1`,children:e.title}),(0,W.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,W.jsx)(fr,{size:12,className:`mr-1`}),(0,W.jsx)(`span`,{children:e.destination})]})]}),(0,W.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,W.jsxs)(`span`,{className:`text-xs text-stone-400 font-medium flex items-center`,children:[(0,W.jsx)(Gn,{size:12,className:`mr-1`}),i(e.startDate)]}),(0,W.jsx)(`span`,{className:`bg-blue-50 text-blue-600 text-xs px-2 py-1 rounded-full font-medium`,children:e.status===`upcoming`?``:``})]})]})]},e.id))}):(0,W.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 text-center flex flex-col items-center justify-center`,children:[(0,W.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center mb-3 text-stone-400`,children:(0,W.jsx)(pr,{size:24})}),(0,W.jsx)(`p`,{className:`text-stone-600 font-medium text-sm mb-1`,children:``}),(0,W.jsx)(`p`,{className:`text-stone-400 text-xs mb-4`,children:` AI `}),(0,W.jsxs)(gn,{to:`/plan`,className:`px-4 py-2 bg-stone-900 text-white rounded-full text-xs font-medium flex items-center hover:bg-stone-800 transition-colors`,children:[(0,W.jsx)(Sr,{size:14,className:`mr-1.5`}),``]})]})]}),(0,W.jsxs)(`section`,{children:[(0,W.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,W.jsx)(`h3`,{className:`text-lg font-bold font-serif text-stone-900`,children:``}),(0,W.jsxs)(gn,{to:`/community`,className:`text-sm text-stone-500 flex items-center hover:text-stone-800 transition-colors`,children:[``,(0,W.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:`ml-0.5`,children:(0,W.jsx)(`path`,{d:`m9 18 6-6-6-6`})})]})]}),(0,W.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,W.jsxs)(`div`,{className:`space-y-3`,children:[(0,W.jsxs)(gn,{to:`/travelogue/1`,className:`bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-100 block active:scale-[0.98] transition-transform`,children:[(0,W.jsxs)(`div`,{className:`h-32 bg-stone-200 relative`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-br from-orange-400 to-red-500 opacity-90`}),(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&q=80&w=600`,alt:`Kyoto`,className:`w-full h-full object-cover relative z-10 mix-blend-overlay opacity-80`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,W.jsx)(`div`,{className:`absolute bottom-2 left-2 text-white font-serif font-bold z-20 text-lg`,children:`Kyoto`})]}),(0,W.jsxs)(`div`,{className:`p-3`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-900 text-sm mb-2`,children:``}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-1.5`,children:[(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&q=80&w=100`,className:`w-4 h-4 rounded-full`,alt:`Avatar`}),(0,W.jsx)(`span`,{className:`text-[10px] text-stone-500`,children:``})]}),(0,W.jsxs)(`div`,{className:`flex items-center text-stone-400 space-x-1`,children:[(0,W.jsx)(ir,{size:10}),(0,W.jsx)(`span`,{className:`text-[10px]`,children:`128`})]})]})]})]}),(0,W.jsxs)(`div`,{className:`bg-stone-800 rounded-2xl p-4 text-white relative overflow-hidden`,children:[(0,W.jsx)(Cr,{size:24,className:`text-stone-600 mb-2`}),(0,W.jsx)(`p`,{className:`text-sm font-serif leading-relaxed mb-4 relative z-10`,children:`""`}),(0,W.jsx)(`div`,{className:`flex justify-end`,children:(0,W.jsx)(er,{size:20,className:`text-stone-600`})}),(0,W.jsx)(`div`,{className:`absolute -bottom-4 -right-4 w-20 h-20 bg-stone-700 rounded-full opacity-20`})]})]}),(0,W.jsx)(`div`,{className:`space-y-3`,children:(0,W.jsxs)(`div`,{className:`bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-100 h-full flex flex-col`,children:[(0,W.jsx)(`div`,{className:`flex-1 bg-stone-200 min-h-[160px] relative`,children:(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1569407228235-9a744831a150?auto=format&fit=crop&q=80&w=600`,alt:`British Museum`,className:`w-full h-full object-cover relative z-10`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #60a5fa 0%, #2563eb 100%)`}})}),(0,W.jsxs)(`div`,{className:`p-3`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-900 text-sm mb-2`,children:``}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-1.5`,children:[(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&q=80&w=100`,className:`w-4 h-4 rounded-full`,alt:`Avatar`}),(0,W.jsx)(`span`,{className:`text-[10px] text-stone-500`,children:`Mark.Z`})]}),(0,W.jsxs)(`div`,{className:`flex items-center text-stone-400 space-x-1`,children:[(0,W.jsx)(ir,{size:10}),(0,W.jsx)(`span`,{className:`text-[10px]`,children:`89`})]})]})]})]})})]})]})]})]})};function mc(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=mc(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function hc(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=mc(e))&&(r&&(r+=` `),r+=t);return r}const gc=6048e5,_c=6e4,vc=36e5,yc=3600*24;yc*7,yc*365.2425;const bc=Symbol.for(`constructDateFrom`);function xc(e,t){return typeof e==`function`?e(t):e&&typeof e==`object`&&bc in e?e[bc](t):e instanceof Date?new e.constructor(t):new Date(t)}function X(e,t){return xc(t||e,e)}function Sc(e,t,n){let r=X(e,n?.in);return isNaN(t)?xc(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Cc(e,t,n){let r=X(e,n?.in);if(isNaN(t))return xc(n?.in||e,NaN);if(!t)return r;let i=r.getDate(),a=xc(n?.in||e,r.getTime());return a.setMonth(r.getMonth()+t+1,0),i>=a.getDate()?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function wc(e,t,n){return xc(n?.in||e,+X(e)+t)}function Tc(e,t,n){return wc(e,t*vc,n)}var Ec={};function Dc(){return Ec}function Oc(e,t){let n=Dc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=X(e,t?.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function kc(e,t){return Oc(e,{...t,weekStartsOn:1})}function Ac(e,t){let n=X(e,t?.in),r=n.getFullYear(),i=xc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let a=kc(i),o=xc(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let s=kc(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function jc(e){let t=X(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-+n}function Mc(e,...t){let n=xc.bind(null,e||t.find(e=>typeof e==`object`));return t.map(n)}function Nc(e,t){let n=X(e,t?.in);return n.setHours(0,0,0,0),n}function Pc(e,t,n){let[r,i]=Mc(n?.in,e,t),a=Nc(r),o=Nc(i),s=+a-jc(a),c=+o-jc(o);return Math.round((s-c)/864e5)}function Fc(e,t){let n=Ac(e,t),r=xc(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),kc(r)}function Ic(e,t,n){let r=X(e,n?.in);return r.setTime(r.getTime()+t*_c),r}function Lc(e,t,n){return Cc(e,t*3,n)}function Rc(e,t,n){return wc(e,t*1e3,n)}function zc(e,t,n){return Sc(e,t*7,n)}function Bc(e,t,n){return Cc(e,t*12,n)}function Vc(e,t){let n,r=t?.in;return e.forEach(e=>{!r&&typeof e==`object`&&(r=xc.bind(null,e));let t=X(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),xc(r,n||NaN)}function Hc(e,t){let n,r=t?.in;return e.forEach(e=>{!r&&typeof e==`object`&&(r=xc.bind(null,e));let t=X(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),xc(r,n||NaN)}function Uc(e,t,n){let[r,i]=Mc(n?.in,e,t);return+Nc(r)==+Nc(i)}function Wc(e){return e instanceof Date||typeof e==`object`&&Object.prototype.toString.call(e)===`[object Date]`}function Gc(e){return!(!Wc(e)&&typeof e!=`number`||isNaN(+X(e)))}function Kc(e,t,n){let[r,i]=Mc(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return a*12+o}function qc(e,t){let n=X(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function Jc(e,t,n){let[r,i]=Mc(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),o=qc(r)-qc(i);return a*4+o}function Yc(e,t,n){let[r,i]=Mc(n?.in,e,t);return r.getFullYear()-i.getFullYear()}function Xc(e,t,n){let[r,i]=Mc(n?.in,e,t),a=Zc(r,i),o=Math.abs(Pc(r,i));r.setDate(r.getDate()-a*o);let s=a*(o-Number(Zc(r,i)===-a));return s===0?0:s}function Zc(e,t){let n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Qc(e,t){let n=X(e,t?.in);return n.setHours(23,59,59,999),n}function $c(e,t){let n=X(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function el(e,t){let n=X(e,t?.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function tl(e,t){let n=X(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function nl(e,t){let n=X(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function rl(e,t){let n=X(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function il(e,t){let n=Dc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=X(e,t?.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}var al={lessThanXSeconds:{one:`less than a second`,other:`less than {{count}} seconds`},xSeconds:{one:`1 second`,other:`{{count}} seconds`},halfAMinute:`half a minute`,lessThanXMinutes:{one:`less than a minute`,other:`less than {{count}} minutes`},xMinutes:{one:`1 minute`,other:`{{count}} minutes`},aboutXHours:{one:`about 1 hour`,other:`about {{count}} hours`},xHours:{one:`1 hour`,other:`{{count}} hours`},xDays:{one:`1 day`,other:`{{count}} days`},aboutXWeeks:{one:`about 1 week`,other:`about {{count}} weeks`},xWeeks:{one:`1 week`,other:`{{count}} weeks`},aboutXMonths:{one:`about 1 month`,other:`about {{count}} months`},xMonths:{one:`1 month`,other:`{{count}} months`},aboutXYears:{one:`about 1 year`,other:`about {{count}} years`},xYears:{one:`1 year`,other:`{{count}} years`},overXYears:{one:`over 1 year`,other:`over {{count}} years`},almostXYears:{one:`almost 1 year`,other:`almost {{count}} years`}};const ol=(e,t,n)=>{let r,i=al[e];return r=typeof i==`string`?i:t===1?i.one:i.other.replace(`{{count}}`,t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?`in `+r:r+` ago`:r};function sl(e){return(t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const cl={date:sl({formats:{full:`EEEE, MMMM do, y`,long:`MMMM do, y`,medium:`MMM d, y`,short:`MM/dd/yyyy`},defaultWidth:`full`}),time:sl({formats:{full:`h:mm:ss a zzzz`,long:`h:mm:ss a z`,medium:`h:mm:ss a`,short:`h:mm a`},defaultWidth:`full`}),dateTime:sl({formats:{full:`{{date}} 'at' {{time}}`,long:`{{date}} 'at' {{time}}`,medium:`{{date}}, {{time}}`,short:`{{date}}, {{time}}`},defaultWidth:`full`})};var ll={lastWeek:`'last' eeee 'at' p`,yesterday:`'yesterday at' p`,today:`'today at' p`,tomorrow:`'tomorrow at' p`,nextWeek:`eeee 'at' p`,other:`P`};const ul=(e,t,n,r)=>ll[e];function dl(e){return(t,n)=>{let r=n?.context?String(n.context):`standalone`,i;if(r===`formatting`&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}let a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const fl={ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+`st`;case 2:return n+`nd`;case 3:return n+`rd`}return n+`th`},era:dl({values:{narrow:[`B`,`A`],abbreviated:[`BC`,`AD`],wide:[`Before Christ`,`Anno Domini`]},defaultWidth:`wide`}),quarter:dl({values:{narrow:[`1`,`2`,`3`,`4`],abbreviated:[`Q1`,`Q2`,`Q3`,`Q4`],wide:[`1st quarter`,`2nd quarter`,`3rd quarter`,`4th quarter`]},defaultWidth:`wide`,argumentCallback:e=>e-1}),month:dl({values:{narrow:[`J`,`F`,`M`,`A`,`M`,`J`,`J`,`A`,`S`,`O`,`N`,`D`],abbreviated:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],wide:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`]},defaultWidth:`wide`}),day:dl({values:{narrow:[`S`,`M`,`T`,`W`,`T`,`F`,`S`],short:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],abbreviated:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],wide:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`]},defaultWidth:`wide`}),dayPeriod:dl({values:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`}},defaultWidth:`wide`,formattingValues:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`}},defaultFormattingWidth:`wide`})};function pl(e){return(t,n={})=>{let r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;let o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?hl(s,e=>e.test(o)):ml(s,e=>e.test(o)),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;let u=t.slice(o.length);return{value:l,rest:u}}}function ml(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function hl(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function gl(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;let s=t.slice(i.length);return{value:o,rest:s}}}const _l={code:`en-US`,formatDistance:ol,formatLong:cl,formatRelative:ul,localize:fl,match:{ordinalNumber:gl({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:pl({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:`any`}),quarter:pl({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:`any`,valueCallback:e=>e+1}),month:pl({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:`any`}),day:pl({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:`any`}),dayPeriod:pl({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:`any`,parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:`any`})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function vl(e,t){let n=X(e,t?.in);return Pc(n,rl(n))+1}function yl(e,t){let n=X(e,t?.in),r=kc(n)-+Fc(n);return Math.round(r/gc)+1}function bl(e,t){let n=X(e,t?.in),r=n.getFullYear(),i=Dc(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=xc(t?.in||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);let s=Oc(o,t),c=xc(t?.in||e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);let l=Oc(c,t);return+n>=+s?r+1:+n>=+l?r:r-1}function xl(e,t){let n=Dc(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=bl(e,t),a=xc(t?.in||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Oc(a,t)}function Sl(e,t){let n=X(e,t?.in),r=Oc(n,t)-+xl(n,t);return Math.round(r/gc)+1}function Cl(e,t){return(e<0?`-`:``)+Math.abs(e).toString().padStart(t,`0`)}const wl={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return Cl(t===`yy`?r%100:r,t.length)},M(e,t){let n=e.getMonth();return t===`M`?String(n+1):Cl(n+1,2)},d(e,t){return Cl(e.getDate(),t.length)},a(e,t){let n=e.getHours()/12>=1?`pm`:`am`;switch(t){case`a`:case`aa`:return n.toUpperCase();case`aaa`:return n;case`aaaaa`:return n[0];case`aaaa`:default:return n===`am`?`a.m.`:`p.m.`}},h(e,t){return Cl(e.getHours()%12||12,t.length)},H(e,t){return Cl(e.getHours(),t.length)},m(e,t){return Cl(e.getMinutes(),t.length)},s(e,t){return Cl(e.getSeconds(),t.length)},S(e,t){let n=t.length,r=e.getMilliseconds();return Cl(Math.trunc(r*10**(n-3)),t.length)}};var Tl={am:`am`,pm:`pm`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`};const El={G:function(e,t,n){let r=e.getFullYear()>0?1:0;switch(t){case`G`:case`GG`:case`GGG`:return n.era(r,{width:`abbreviated`});case`GGGGG`:return n.era(r,{width:`narrow`});case`GGGG`:default:return n.era(r,{width:`wide`})}},y:function(e,t,n){if(t===`yo`){let t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:`year`})}return wl.y(e,t)},Y:function(e,t,n,r){let i=bl(e,r),a=i>0?i:1-i;return t===`YY`?Cl(a%100,2):t===`Yo`?n.ordinalNumber(a,{unit:`year`}):Cl(a,t.length)},R:function(e,t){return Cl(Ac(e),t.length)},u:function(e,t){return Cl(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case`Q`:return String(r);case`QQ`:return Cl(r,2);case`Qo`:return n.ordinalNumber(r,{unit:`quarter`});case`QQQ`:return n.quarter(r,{width:`abbreviated`,context:`formatting`});case`QQQQQ`:return n.quarter(r,{width:`narrow`,context:`formatting`});case`QQQQ`:default:return n.quarter(r,{width:`wide`,context:`formatting`})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case`q`:return String(r);case`qq`:return Cl(r,2);case`qo`:return n.ordinalNumber(r,{unit:`quarter`});case`qqq`:return n.quarter(r,{width:`abbreviated`,context:`standalone`});case`qqqqq`:return n.quarter(r,{width:`narrow`,context:`standalone`});case`qqqq`:default:return n.quarter(r,{width:`wide`,context:`standalone`})}},M:function(e,t,n){let r=e.getMonth();switch(t){case`M`:case`MM`:return wl.M(e,t);case`Mo`:return n.ordinalNumber(r+1,{unit:`month`});case`MMM`:return n.month(r,{width:`abbreviated`,context:`formatting`});case`MMMMM`:return n.month(r,{width:`narrow`,context:`formatting`});case`MMMM`:default:return n.month(r,{width:`wide`,context:`formatting`})}},L:function(e,t,n){let r=e.getMonth();switch(t){case`L`:return String(r+1);case`LL`:return Cl(r+1,2);case`Lo`:return n.ordinalNumber(r+1,{unit:`month`});case`LLL`:return n.month(r,{width:`abbreviated`,context:`standalone`});case`LLLLL`:return n.month(r,{width:`narrow`,context:`standalone`});case`LLLL`:default:return n.month(r,{width:`wide`,context:`standalone`})}},w:function(e,t,n,r){let i=Sl(e,r);return t===`wo`?n.ordinalNumber(i,{unit:`week`}):Cl(i,t.length)},I:function(e,t,n){let r=yl(e);return t===`Io`?n.ordinalNumber(r,{unit:`week`}):Cl(r,t.length)},d:function(e,t,n){return t===`do`?n.ordinalNumber(e.getDate(),{unit:`date`}):wl.d(e,t)},D:function(e,t,n){let r=vl(e);return t===`Do`?n.ordinalNumber(r,{unit:`dayOfYear`}):Cl(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case`E`:case`EE`:case`EEE`:return n.day(r,{width:`abbreviated`,context:`formatting`});case`EEEEE`:return n.day(r,{width:`narrow`,context:`formatting`});case`EEEEEE`:return n.day(r,{width:`short`,context:`formatting`});case`EEEE`:default:return n.day(r,{width:`wide`,context:`formatting`})}},e:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case`e`:return String(a);case`ee`:return Cl(a,2);case`eo`:return n.ordinalNumber(a,{unit:`day`});case`eee`:return n.day(i,{width:`abbreviated`,context:`formatting`});case`eeeee`:return n.day(i,{width:`narrow`,context:`formatting`});case`eeeeee`:return n.day(i,{width:`short`,context:`formatting`});case`eeee`:default:return n.day(i,{width:`wide`,context:`formatting`})}},c:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case`c`:return String(a);case`cc`:return Cl(a,t.length);case`co`:return n.ordinalNumber(a,{unit:`day`});case`ccc`:return n.day(i,{width:`abbreviated`,context:`standalone`});case`ccccc`:return n.day(i,{width:`narrow`,context:`standalone`});case`cccccc`:return n.day(i,{width:`short`,context:`standalone`});case`cccc`:default:return n.day(i,{width:`wide`,context:`standalone`})}},i:function(e,t,n){let r=e.getDay(),i=r===0?7:r;switch(t){case`i`:return String(i);case`ii`:return Cl(i,t.length);case`io`:return n.ordinalNumber(i,{unit:`day`});case`iii`:return n.day(r,{width:`abbreviated`,context:`formatting`});case`iiiii`:return n.day(r,{width:`narrow`,context:`formatting`});case`iiiiii`:return n.day(r,{width:`short`,context:`formatting`});case`iiii`:default:return n.day(r,{width:`wide`,context:`formatting`})}},a:function(e,t,n){let r=e.getHours()/12>=1?`pm`:`am`;switch(t){case`a`:case`aa`:return n.dayPeriod(r,{width:`abbreviated`,context:`formatting`});case`aaa`:return n.dayPeriod(r,{width:`abbreviated`,context:`formatting`}).toLowerCase();case`aaaaa`:return n.dayPeriod(r,{width:`narrow`,context:`formatting`});case`aaaa`:default:return n.dayPeriod(r,{width:`wide`,context:`formatting`})}},b:function(e,t,n){let r=e.getHours(),i;switch(i=r===12?Tl.noon:r===0?Tl.midnight:r/12>=1?`pm`:`am`,t){case`b`:case`bb`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`});case`bbb`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`}).toLowerCase();case`bbbbb`:return n.dayPeriod(i,{width:`narrow`,context:`formatting`});case`bbbb`:default:return n.dayPeriod(i,{width:`wide`,context:`formatting`})}},B:function(e,t,n){let r=e.getHours(),i;switch(i=r>=17?Tl.evening:r>=12?Tl.afternoon:r>=4?Tl.morning:Tl.night,t){case`B`:case`BB`:case`BBB`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`});case`BBBBB`:return n.dayPeriod(i,{width:`narrow`,context:`formatting`});case`BBBB`:default:return n.dayPeriod(i,{width:`wide`,context:`formatting`})}},h:function(e,t,n){if(t===`ho`){let t=e.getHours()%12;return t===0&&(t=12),n.ordinalNumber(t,{unit:`hour`})}return wl.h(e,t)},H:function(e,t,n){return t===`Ho`?n.ordinalNumber(e.getHours(),{unit:`hour`}):wl.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return t===`Ko`?n.ordinalNumber(r,{unit:`hour`}):Cl(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t===`ko`?n.ordinalNumber(r,{unit:`hour`}):Cl(r,t.length)},m:function(e,t,n){return t===`mo`?n.ordinalNumber(e.getMinutes(),{unit:`minute`}):wl.m(e,t)},s:function(e,t,n){return t===`so`?n.ordinalNumber(e.getSeconds(),{unit:`second`}):wl.s(e,t)},S:function(e,t){return wl.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(r===0)return`Z`;switch(t){case`X`:return Ol(r);case`XXXX`:case`XX`:return kl(r);case`XXXXX`:case`XXX`:default:return kl(r,`:`)}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`x`:return Ol(r);case`xxxx`:case`xx`:return kl(r);case`xxxxx`:case`xxx`:default:return kl(r,`:`)}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`O`:case`OO`:case`OOO`:return`GMT`+Dl(r,`:`);case`OOOO`:default:return`GMT`+kl(r,`:`)}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`z`:case`zz`:case`zzz`:return`GMT`+Dl(r,`:`);case`zzzz`:default:return`GMT`+kl(r,`:`)}},t:function(e,t,n){return Cl(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return Cl(+e,t.length)}};function Dl(e,t=``){let n=e>0?`-`:`+`,r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Cl(a,2)}function Ol(e,t){return e%60==0?(e>0?`-`:`+`)+Cl(Math.abs(e)/60,2):kl(e,t)}function kl(e,t=``){let n=e>0?`-`:`+`,r=Math.abs(e),i=Cl(Math.trunc(r/60),2),a=Cl(r%60,2);return n+i+t+a}var Al=(e,t)=>{switch(e){case`P`:return t.date({width:`short`});case`PP`:return t.date({width:`medium`});case`PPP`:return t.date({width:`long`});case`PPPP`:default:return t.date({width:`full`})}},jl=(e,t)=>{switch(e){case`p`:return t.time({width:`short`});case`pp`:return t.time({width:`medium`});case`ppp`:return t.time({width:`long`});case`pppp`:default:return t.time({width:`full`})}};const Ml={p:jl,P:(e,t)=>{let n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Al(e,t);let a;switch(r){case`P`:a=t.dateTime({width:`short`});break;case`PP`:a=t.dateTime({width:`medium`});break;case`PPP`:a=t.dateTime({width:`long`});break;case`PPPP`:default:a=t.dateTime({width:`full`});break}return a.replace(`{{date}}`,Al(r,t)).replace(`{{time}}`,jl(i,t))}};var Nl=/^D+$/,Pl=/^Y+$/,Fl=[`D`,`DD`,`YY`,`YYYY`];function Il(e){return Nl.test(e)}function Ll(e){return Pl.test(e)}function Rl(e,t,n){let r=zl(e,t,n);if(console.warn(r),Fl.includes(e))throw RangeError(r)}function zl(e,t,n){let r=e[0]===`Y`?`years`:`days of the month`;return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Bl=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vl=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hl=/^'([^]*?)'?$/,Ul=/''/g,Wl=/[a-zA-Z]/;function Gl(e,t,n){let r=Dc(),i=n?.locale??r.locale??_l,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=X(e,n?.in);if(!Gc(s))throw RangeError(`Invalid time value`);let c=t.match(Vl).map(e=>{let t=e[0];if(t===`p`||t===`P`){let n=Ml[t];return n(e,i.formatLong)}return e}).join(``).match(Bl).map(e=>{if(e===`''`)return{isToken:!1,value:`'`};let t=e[0];if(t===`'`)return{isToken:!1,value:Kl(e)};if(El[t])return{isToken:!0,value:e};if(t.match(Wl))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));let l={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(r=>{if(!r.isToken)return r.value;let a=r.value;(!n?.useAdditionalWeekYearTokens&&Ll(a)||!n?.useAdditionalDayOfYearTokens&&Il(a))&&Rl(a,t,String(e));let o=El[a[0]];return o(s,a,i.localize,l)}).join(``)}function Kl(e){let t=e.match(Hl);return t?t[1].replace(Ul,`'`):e}function ql(e,t){return X(e,t?.in).getDate()}function Jl(e,t){return X(e,t?.in).getDay()}function Yl(e,t){let n=X(e,t?.in),r=n.getFullYear(),i=n.getMonth(),a=xc(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function Xl(){return Object.assign({},Dc())}function Zl(e,t){return X(e,t?.in).getHours()}function Ql(e,t){let n=X(e,t?.in).getDay();return n===0?7:n}function $l(e,t){return X(e,t?.in).getMinutes()}function eu(e,t){return X(e,t?.in).getMonth()}function tu(e){return X(e).getSeconds()}function nu(e){return+X(e)}function Z(e,t){return X(e,t?.in).getFullYear()}function ru(e,t){return+X(e)>+X(t)}function iu(e,t){return+X(e)<+X(t)}function au(e,t){return+X(e)==+X(t)}function ou(e,t){let n=su(t)?new t(0):xc(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function su(e){return typeof e==`function`&&e.prototype?.constructor===e}var cu=10,lu=class{subPriority=0;validate(e,t){return!0}},uu=class extends lu{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}},du=class extends lu{priority=cu;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>xc(t,e))}set(e,t){return t.timestampIsSet?e:xc(e,ou(e,this.context))}},fu=class{run(e,t,n,r){let i=this.parse(e,t,n,r);return i?{setter:new uu(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}},pu=class extends fu{priority=140;parse(e,t,n){switch(t){case`G`:case`GG`:case`GGG`:return n.era(e,{width:`abbreviated`})||n.era(e,{width:`narrow`});case`GGGGG`:return n.era(e,{width:`narrow`});case`GGGG`:default:return n.era(e,{width:`wide`})||n.era(e,{width:`abbreviated`})||n.era(e,{width:`narrow`})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`R`,`u`,`t`,`T`]};const mu={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function gu(e,t){return e&&{value:t(e.value),rest:e.rest}}function _u(e,t){let n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function vu(e,t){let n=t.match(e);if(!n)return null;if(n[0]===`Z`)return{value:0,rest:t.slice(1)};let r=n[1]===`+`?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*vc+a*_c+o*1e3),rest:t.slice(n[0].length)}}function yu(e){return _u(mu.anyDigitsSigned,e)}function bu(e,t){switch(e){case 1:return _u(mu.singleDigit,t);case 2:return _u(mu.twoDigits,t);case 3:return _u(mu.threeDigits,t);case 4:return _u(mu.fourDigits,t);default:return _u(RegExp(`^\\d{1,`+e+`}`),t)}}function xu(e,t){switch(e){case 1:return _u(mu.singleDigitSigned,t);case 2:return _u(mu.twoDigitsSigned,t);case 3:return _u(mu.threeDigitsSigned,t);case 4:return _u(mu.fourDigitsSigned,t);default:return _u(RegExp(`^-?\\d{1,`+e+`}`),t)}}function Su(e){switch(e){case`morning`:return 4;case`evening`:return 17;case`pm`:case`noon`:case`afternoon`:return 12;case`am`:case`midnight`:case`night`:default:return 0}}function Cu(e,t){let n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{let t=r+50,n=Math.trunc(t/100)*100,a=e>=t%100;i=e+n-(a?100:0)}return n?i:1-i}function wu(e){return e%400==0||e%4==0&&e%100!=0}var Tu=class extends fu{priority=130;incompatibleTokens=[`Y`,`R`,`u`,`w`,`I`,`i`,`e`,`c`,`t`,`T`];parse(e,t,n){let r=e=>({year:e,isTwoDigitYear:t===`yy`});switch(t){case`y`:return gu(bu(4,e),r);case`yo`:return gu(n.ordinalNumber(e,{unit:`year`}),r);default:return gu(bu(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){let r=e.getFullYear();if(n.isTwoDigitYear){let t=Cu(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}let i=!(`era`in t)||t.era===1?n.year:1-n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}},Eu=class extends fu{priority=130;parse(e,t,n){let r=e=>({year:e,isTwoDigitYear:t===`YY`});switch(t){case`Y`:return gu(bu(4,e),r);case`Yo`:return gu(n.ordinalNumber(e,{unit:`year`}),r);default:return gu(bu(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){let i=bl(e,r);if(n.isTwoDigitYear){let t=Cu(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Oc(e,r)}let a=!(`era`in t)||t.era===1?n.year:1-n.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Oc(e,r)}incompatibleTokens=[`y`,`R`,`u`,`Q`,`q`,`M`,`L`,`I`,`d`,`D`,`i`,`t`,`T`]},Du=class extends fu{priority=130;parse(e,t){return xu(t===`R`?4:t.length,e)}set(e,t,n){let r=xc(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),kc(r)}incompatibleTokens=[`G`,`y`,`Y`,`u`,`Q`,`q`,`M`,`L`,`w`,`d`,`D`,`e`,`c`,`t`,`T`]},Ou=class extends fu{priority=130;parse(e,t){return xu(t===`u`?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`G`,`y`,`Y`,`R`,`w`,`I`,`i`,`e`,`c`,`t`,`T`]},ku=class extends fu{priority=120;parse(e,t,n){switch(t){case`Q`:case`QQ`:return bu(t.length,e);case`Qo`:return n.ordinalNumber(e,{unit:`quarter`});case`QQQ`:return n.quarter(e,{width:`abbreviated`,context:`formatting`})||n.quarter(e,{width:`narrow`,context:`formatting`});case`QQQQQ`:return n.quarter(e,{width:`narrow`,context:`formatting`});case`QQQQ`:default:return n.quarter(e,{width:`wide`,context:`formatting`})||n.quarter(e,{width:`abbreviated`,context:`formatting`})||n.quarter(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`M`,`L`,`w`,`I`,`d`,`D`,`i`,`e`,`c`,`t`,`T`]},Au=class extends fu{priority=120;parse(e,t,n){switch(t){case`q`:case`qq`:return bu(t.length,e);case`qo`:return n.ordinalNumber(e,{unit:`quarter`});case`qqq`:return n.quarter(e,{width:`abbreviated`,context:`standalone`})||n.quarter(e,{width:`narrow`,context:`standalone`});case`qqqqq`:return n.quarter(e,{width:`narrow`,context:`standalone`});case`qqqq`:default:return n.quarter(e,{width:`wide`,context:`standalone`})||n.quarter(e,{width:`abbreviated`,context:`standalone`})||n.quarter(e,{width:`narrow`,context:`standalone`})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`Q`,`M`,`L`,`w`,`I`,`d`,`D`,`i`,`e`,`c`,`t`,`T`]},ju=class extends fu{incompatibleTokens=[`Y`,`R`,`q`,`Q`,`L`,`w`,`I`,`D`,`i`,`e`,`c`,`t`,`T`];priority=110;parse(e,t,n){let r=e=>e-1;switch(t){case`M`:return gu(_u(mu.month,e),r);case`MM`:return gu(bu(2,e),r);case`Mo`:return gu(n.ordinalNumber(e,{unit:`month`}),r);case`MMM`:return n.month(e,{width:`abbreviated`,context:`formatting`})||n.month(e,{width:`narrow`,context:`formatting`});case`MMMMM`:return n.month(e,{width:`narrow`,context:`formatting`});case`MMMM`:default:return n.month(e,{width:`wide`,context:`formatting`})||n.month(e,{width:`abbreviated`,context:`formatting`})||n.month(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},Mu=class extends fu{priority=110;parse(e,t,n){let r=e=>e-1;switch(t){case`L`:return gu(_u(mu.month,e),r);case`LL`:return gu(bu(2,e),r);case`Lo`:return gu(n.ordinalNumber(e,{unit:`month`}),r);case`LLL`:return n.month(e,{width:`abbreviated`,context:`standalone`})||n.month(e,{width:`narrow`,context:`standalone`});case`LLLLL`:return n.month(e,{width:`narrow`,context:`standalone`});case`LLLL`:default:return n.month(e,{width:`wide`,context:`standalone`})||n.month(e,{width:`abbreviated`,context:`standalone`})||n.month(e,{width:`narrow`,context:`standalone`})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`Q`,`M`,`w`,`I`,`D`,`i`,`e`,`c`,`t`,`T`]};function Nu(e,t,n){let r=X(e,n?.in),i=Sl(r,n)-t;return r.setDate(r.getDate()-i*7),X(r,n?.in)}var Pu=class extends fu{priority=100;parse(e,t,n){switch(t){case`w`:return _u(mu.week,e);case`wo`:return n.ordinalNumber(e,{unit:`week`});default:return bu(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return Oc(Nu(e,n,r),r)}incompatibleTokens=[`y`,`R`,`u`,`q`,`Q`,`M`,`L`,`I`,`d`,`D`,`i`,`t`,`T`]};function Fu(e,t,n){let r=X(e,n?.in),i=yl(r,n)-t;return r.setDate(r.getDate()-i*7),r}var Iu=class extends fu{priority=100;parse(e,t,n){switch(t){case`I`:return _u(mu.week,e);case`Io`:return n.ordinalNumber(e,{unit:`week`});default:return bu(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return kc(Fu(e,n))}incompatibleTokens=[`y`,`Y`,`u`,`q`,`Q`,`M`,`L`,`w`,`d`,`D`,`e`,`c`,`t`,`T`]},Lu=[31,28,31,30,31,30,31,31,30,31,30,31],Ru=[31,29,31,30,31,30,31,31,30,31,30,31],zu=class extends fu{priority=90;subPriority=1;parse(e,t,n){switch(t){case`d`:return _u(mu.date,e);case`do`:return n.ordinalNumber(e,{unit:`date`});default:return bu(t.length,e)}}validate(e,t){let n=wu(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=Ru[r]:t>=1&&t<=Lu[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`Q`,`w`,`I`,`D`,`i`,`e`,`c`,`t`,`T`]},Bu=class extends fu{priority=90;subpriority=1;parse(e,t,n){switch(t){case`D`:case`DD`:return _u(mu.dayOfYear,e);case`Do`:return n.ordinalNumber(e,{unit:`date`});default:return bu(t.length,e)}}validate(e,t){return wu(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`Q`,`M`,`L`,`w`,`I`,`d`,`E`,`i`,`e`,`c`,`t`,`T`]};function Vu(e,t,n){let r=Dc(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=X(e,n?.in),o=a.getDay(),s=(t%7+7)%7,c=7-i;return Sc(a,t<0||t>6?t-(o+c)%7:(s+c)%7-(o+c)%7,n)}var Hu=class extends fu{priority=90;parse(e,t,n){switch(t){case`E`:case`EE`:case`EEE`:return n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`EEEEE`:return n.day(e,{width:`narrow`,context:`formatting`});case`EEEEEE`:return n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`EEEE`:default:return n.day(e,{width:`wide`,context:`formatting`})||n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=Vu(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=[`D`,`i`,`e`,`c`,`t`,`T`]},Uu=class extends fu{priority=90;parse(e,t,n,r){let i=e=>{let t=Math.floor((e-1)/7)*7;return(e+r.weekStartsOn+6)%7+t};switch(t){case`e`:case`ee`:return gu(bu(t.length,e),i);case`eo`:return gu(n.ordinalNumber(e,{unit:`day`}),i);case`eee`:return n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`eeeee`:return n.day(e,{width:`narrow`,context:`formatting`});case`eeeeee`:return n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`eeee`:default:return n.day(e,{width:`wide`,context:`formatting`})||n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=Vu(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=[`y`,`R`,`u`,`q`,`Q`,`M`,`L`,`I`,`d`,`D`,`E`,`i`,`c`,`t`,`T`]},Wu=class extends fu{priority=90;parse(e,t,n,r){let i=e=>{let t=Math.floor((e-1)/7)*7;return(e+r.weekStartsOn+6)%7+t};switch(t){case`c`:case`cc`:return gu(bu(t.length,e),i);case`co`:return gu(n.ordinalNumber(e,{unit:`day`}),i);case`ccc`:return n.day(e,{width:`abbreviated`,context:`standalone`})||n.day(e,{width:`short`,context:`standalone`})||n.day(e,{width:`narrow`,context:`standalone`});case`ccccc`:return n.day(e,{width:`narrow`,context:`standalone`});case`cccccc`:return n.day(e,{width:`short`,context:`standalone`})||n.day(e,{width:`narrow`,context:`standalone`});case`cccc`:default:return n.day(e,{width:`wide`,context:`standalone`})||n.day(e,{width:`abbreviated`,context:`standalone`})||n.day(e,{width:`short`,context:`standalone`})||n.day(e,{width:`narrow`,context:`standalone`})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=Vu(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=[`y`,`R`,`u`,`q`,`Q`,`M`,`L`,`I`,`d`,`D`,`E`,`i`,`e`,`t`,`T`]};function Gu(e,t,n){let r=X(e,n?.in);return Sc(r,t-Ql(r,n),n)}var Ku=class extends fu{priority=90;parse(e,t,n){let r=e=>e===0?7:e;switch(t){case`i`:case`ii`:return bu(t.length,e);case`io`:return n.ordinalNumber(e,{unit:`day`});case`iii`:return gu(n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`}),r);case`iiiii`:return gu(n.day(e,{width:`narrow`,context:`formatting`}),r);case`iiiiii`:return gu(n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`}),r);case`iiii`:default:return gu(n.day(e,{width:`wide`,context:`formatting`})||n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=Gu(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=[`y`,`Y`,`u`,`q`,`Q`,`M`,`L`,`w`,`d`,`D`,`E`,`e`,`c`,`t`,`T`]},qu=class extends fu{priority=80;parse(e,t,n){switch(t){case`a`:case`aa`:case`aaa`:return n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`aaaaa`:return n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`aaaa`:default:return n.dayPeriod(e,{width:`wide`,context:`formatting`})||n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`})}}set(e,t,n){return e.setHours(Su(n),0,0,0),e}incompatibleTokens=[`b`,`B`,`H`,`k`,`t`,`T`]},Ju=class extends fu{priority=80;parse(e,t,n){switch(t){case`b`:case`bb`:case`bbb`:return n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`bbbbb`:return n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`bbbb`:default:return n.dayPeriod(e,{width:`wide`,context:`formatting`})||n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`})}}set(e,t,n){return e.setHours(Su(n),0,0,0),e}incompatibleTokens=[`a`,`B`,`H`,`k`,`t`,`T`]},Yu=class extends fu{priority=80;parse(e,t,n){switch(t){case`B`:case`BB`:case`BBB`:return n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`BBBBB`:return n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`BBBB`:default:return n.dayPeriod(e,{width:`wide`,context:`formatting`})||n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`})}}set(e,t,n){return e.setHours(Su(n),0,0,0),e}incompatibleTokens=[`a`,`b`,`t`,`T`]},Xu=class extends fu{priority=70;parse(e,t,n){switch(t){case`h`:return _u(mu.hour12h,e);case`ho`:return n.ordinalNumber(e,{unit:`hour`});default:return bu(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){let r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):!r&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=[`H`,`K`,`k`,`t`,`T`]},Zu=class extends fu{priority=70;parse(e,t,n){switch(t){case`H`:return _u(mu.hour23h,e);case`Ho`:return n.ordinalNumber(e,{unit:`hour`});default:return bu(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=[`a`,`b`,`h`,`K`,`k`,`t`,`T`]},Qu=class extends fu{priority=70;parse(e,t,n){switch(t){case`K`:return _u(mu.hour11h,e);case`Ko`:return n.ordinalNumber(e,{unit:`hour`});default:return bu(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=[`h`,`H`,`k`,`t`,`T`]},$u=class extends fu{priority=70;parse(e,t,n){switch(t){case`k`:return _u(mu.hour24h,e);case`ko`:return n.ordinalNumber(e,{unit:`hour`});default:return bu(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){let r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=[`a`,`b`,`h`,`H`,`K`,`t`,`T`]},ed=class extends fu{priority=60;parse(e,t,n){switch(t){case`m`:return _u(mu.minute,e);case`mo`:return n.ordinalNumber(e,{unit:`minute`});default:return bu(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=[`t`,`T`]},td=class extends fu{priority=50;parse(e,t,n){switch(t){case`s`:return _u(mu.second,e);case`so`:return n.ordinalNumber(e,{unit:`second`});default:return bu(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=[`t`,`T`]},nd=class extends fu{priority=30;parse(e,t){return gu(bu(t.length,e),e=>Math.trunc(e*10**(-t.length+3)))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=[`t`,`T`]},rd=class extends fu{priority=10;parse(e,t){switch(t){case`X`:return vu(hu.basicOptionalMinutes,e);case`XX`:return vu(hu.basic,e);case`XXXX`:return vu(hu.basicOptionalSeconds,e);case`XXXXX`:return vu(hu.extendedOptionalSeconds,e);case`XXX`:default:return vu(hu.extended,e)}}set(e,t,n){return t.timestampIsSet?e:xc(e,e.getTime()-jc(e)-n)}incompatibleTokens=[`t`,`T`,`x`]},id=class extends fu{priority=10;parse(e,t){switch(t){case`x`:return vu(hu.basicOptionalMinutes,e);case`xx`:return vu(hu.basic,e);case`xxxx`:return vu(hu.basicOptionalSeconds,e);case`xxxxx`:return vu(hu.extendedOptionalSeconds,e);case`xxx`:default:return vu(hu.extended,e)}}set(e,t,n){return t.timestampIsSet?e:xc(e,e.getTime()-jc(e)-n)}incompatibleTokens=[`t`,`T`,`X`]},ad=class extends fu{priority=40;parse(e){return yu(e)}set(e,t,n){return[xc(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens=`*`},od=class extends fu{priority=20;parse(e){return yu(e)}set(e,t,n){return[xc(e,n),{timestampIsSet:!0}]}incompatibleTokens=`*`};const sd={G:new pu,y:new Tu,Y:new Eu,R:new Du,u:new Ou,Q:new ku,q:new Au,M:new ju,L:new Mu,w:new Pu,I:new Iu,d:new zu,D:new Bu,E:new Hu,e:new Uu,c:new Wu,i:new Ku,a:new qu,b:new Ju,B:new Yu,h:new Xu,H:new Zu,K:new Qu,k:new $u,m:new ed,s:new td,S:new nd,X:new rd,x:new id,t:new ad,T:new od};var cd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ld=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ud=/^'([^]*?)'?$/,dd=/''/g,fd=/\S/,pd=/[a-zA-Z]/;function md(e,t,n,r){let i=()=>xc(r?.in||n,NaN),a=Xl(),o=r?.locale??a.locale??_l,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!t)return e?i():X(n,r?.in);let l={firstWeekContainsDate:s,weekStartsOn:c,locale:o},u=[new du(r?.in,n)],d=t.match(ld).map(e=>{let t=e[0];if(t in Ml){let n=Ml[t];return n(e,o.formatLong)}return e}).join(``).match(cd),f=[];for(let n of d){!r?.useAdditionalWeekYearTokens&&Ll(n)&&Rl(n,t,e),!r?.useAdditionalDayOfYearTokens&&Il(n)&&Rl(n,t,e);let a=n[0],s=sd[a];if(s){let{incompatibleTokens:t}=s;if(Array.isArray(t)){let e=f.find(e=>t.includes(e.token)||e.token===a);if(e)throw RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${n}\` at the same time`)}else if(s.incompatibleTokens===`*`&&f.length>0)throw RangeError(`The format string mustn't contain \`${n}\` and any other token at the same time`);f.push({token:a,fullToken:n});let r=s.run(e,n,o.match,l);if(!r)return i();u.push(r.setter),e=r.rest}else{if(a.match(pd))throw RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");if(n===`''`?n=`'`:a===`'`&&(n=hd(n)),e.indexOf(n)===0)e=e.slice(n.length);else return i()}}if(e.length>0&&fd.test(e))return i();let p=u.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>u.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]),m=X(n,r?.in);if(isNaN(+m))return i();let h={};for(let e of p){if(!e.validate(m,l))return i();let t=e.set(m,h,l);Array.isArray(t)?(m=t[0],Object.assign(h,t[1])):m=t}return m}function hd(e){return e.match(ud)[1].replace(dd,`'`)}function gd(e,t,n){let[r,i]=Mc(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function _d(e,t,n){let[r,i]=Mc(n?.in,e,t);return+el(r)==+el(i)}function vd(e,t,n){let[r,i]=Mc(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function yd(e,t,n){let r=+X(e,n?.in),[i,a]=[+X(t.start,n?.in),+X(t.end,n?.in)].sort((e,t)=>e-t);return r>=i&&r<=a}function bd(e,t,n){return Sc(e,-t,n)}function xd(e,t){let n=()=>xc(t?.in,NaN),r=t?.additionalDigits??2,i=Ed(e),a;if(i.date){let e=Dd(i.date,r);a=Od(e.restDateString,e.year)}if(!a||isNaN(+a))return n();let o=+a,s=0,c;if(i.time&&(s=Ad(i.time),isNaN(s)))return n();if(i.timezone){if(c=Md(i.timezone),isNaN(c))return n()}else{let e=new Date(o+s),n=X(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return X(o+s+c,t?.in)}var Sd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Cd=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wd=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Td=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ed(e){let t={},n=e.split(Sd.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Sd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Sd.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){let e=Sd.timezone.exec(r);e?(t.time=r.replace(e[1],``),t.timezone=e[1]):t.time=r}return t}function Dd(e,t){let n=RegExp(`^(?:(\\d{4}|[+-]\\d{`+(4+t)+`})|(\\d{2}|[+-]\\d{`+(2+t)+`})$)`),r=e.match(n);if(!r)return{year:NaN,restDateString:``};let i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function Od(e,t){if(t===null)return new Date(NaN);let n=e.match(Cd);if(!n)return new Date(NaN);let r=!!n[4],i=kd(n[1]),a=kd(n[2])-1,o=kd(n[3]),s=kd(n[4]),c=kd(n[5])-1;if(r)return Rd(t,s,c)?Nd(t,s,c):new Date(NaN);{let e=new Date(0);return!Id(t,a,o)||!Ld(t,i)?new Date(NaN):(e.setUTCFullYear(t,a,Math.max(i,o)),e)}}function kd(e){return e?parseInt(e):1}function Ad(e){let t=e.match(wd);if(!t)return NaN;let n=jd(t[1]),r=jd(t[2]),i=jd(t[3]);return zd(n,r,i)?n*vc+r*_c+i*1e3:NaN}function jd(e){return e&&parseFloat(e.replace(`,`,`.`))||0}function Md(e){if(e===`Z`)return 0;let t=e.match(Td);if(!t)return 0;let n=t[1]===`+`?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Bd(r,i)?n*(r*vc+i*_c):NaN}function Nd(e,t,n){let r=new Date(0);r.setUTCFullYear(e,0,4);let i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var Pd=[31,null,31,30,31,30,31,31,30,31,30,31];function Fd(e){return e%400==0||e%4==0&&e%100!=0}function Id(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Pd[t]||(Fd(e)?29:28))}function Ld(e,t){return t>=1&&t<=(Fd(e)?366:365)}function Rd(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function zd(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Bd(e,t){return t>=0&&t<=59}function Vd(e,t,n){let r=X(e,n?.in),i=r.getFullYear(),a=r.getDate(),o=xc(n?.in||e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);let s=Yl(o);return r.setMonth(t,Math.min(a,s)),r}function Hd(e,t,n){let r=X(e,n?.in);return r.setHours(t),r}function Ud(e,t,n){let r=X(e,n?.in);return r.setMinutes(t),r}function Wd(e,t,n){let r=X(e,n?.in),i=t-(Math.trunc(r.getMonth()/3)+1);return Vd(r,r.getMonth()+i*3)}function Gd(e,t,n){let r=X(e,n?.in);return r.setSeconds(t),r}function Kd(e,t,n){let r=X(e,n?.in);return isNaN(+r)?xc(n?.in||e,NaN):(r.setFullYear(t),r)}function qd(e,t,n){return Cc(e,-t,n)}function Jd(e,t,n){return Lc(e,-t,n)}function Yd(e,t,n){return zc(e,-t,n)}function Xd(e,t,n){return Bc(e,-t,n)}function Zd(){return typeof window<`u`}function Qd(e){return tf(e)?(e.nodeName||``).toLowerCase():`#document`}function $d(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ef(e){return((tf(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function tf(e){return Zd()?e instanceof Node||e instanceof $d(e).Node:!1}function nf(e){return Zd()?e instanceof Element||e instanceof $d(e).Element:!1}function rf(e){return Zd()?e instanceof HTMLElement||e instanceof $d(e).HTMLElement:!1}function af(e){return!Zd()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof $d(e).ShadowRoot}var of=new Set([`inline`,`contents`]);function sf(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=bf(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!of.has(i)}var cf=new Set([`table`,`td`,`th`]);function lf(e){return cf.has(Qd(e))}var uf=[`:popover-open`,`:modal`];function df(e){return uf.some(t=>{try{return e.matches(t)}catch{return!1}})}var ff=[`transform`,`translate`,`scale`,`rotate`,`perspective`],pf=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],mf=[`paint`,`layout`,`strict`,`content`];function hf(e){let t=_f(),n=nf(e)?bf(e):e;return ff.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||pf.some(e=>(n.willChange||``).includes(e))||mf.some(e=>(n.contain||``).includes(e))}function gf(e){let t=Sf(e);for(;rf(t)&&!yf(t);){if(hf(t))return t;if(df(t))return null;t=Sf(t)}return null}function _f(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var vf=new Set([`html`,`body`,`#document`]);function yf(e){return vf.has(Qd(e))}function bf(e){return $d(e).getComputedStyle(e)}function xf(e){return nf(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sf(e){if(Qd(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||af(e)&&e.host||ef(e);return af(t)?t.host:t}function Cf(e){let t=Sf(e);return yf(t)?e.ownerDocument?e.ownerDocument.body:e.body:rf(t)&&sf(t)?t:Cf(t)}function wf(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=Cf(e),i=r===e.ownerDocument?.body,a=$d(r);if(i){let e=Tf(a);return t.concat(a,a.visualViewport||[],sf(r)?r:[],e&&n?wf(e):[])}return t.concat(r,wf(r,[],n))}function Tf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var Ef=Math.min,Df=Math.max,Of=Math.round,kf=Math.floor,Af=e=>({x:e,y:e}),jf={left:`right`,right:`left`,bottom:`top`,top:`bottom`},Mf={start:`end`,end:`start`};function Nf(e,t,n){return Df(e,Ef(t,n))}function Pf(e,t){return typeof e==`function`?e(t):e}function Ff(e){return e.split(`-`)[0]}function If(e){return e.split(`-`)[1]}function Lf(e){return e===`x`?`y`:`x`}function Rf(e){return e===`y`?`height`:`width`}var zf=new Set([`top`,`bottom`]);function Bf(e){return zf.has(Ff(e))?`y`:`x`}function Vf(e){return Lf(Bf(e))}function Hf(e,t,n){n===void 0&&(n=!1);let r=If(e),i=Vf(e),a=Rf(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=Zf(o)),[o,Zf(o)]}function Uf(e){let t=Zf(e);return[Wf(e),t,Wf(t)]}function Wf(e){return e.replace(/start|end/g,e=>Mf[e])}var Gf=[`left`,`right`],Kf=[`right`,`left`],qf=[`top`,`bottom`],Jf=[`bottom`,`top`];function Yf(e,t,n){switch(e){case`top`:case`bottom`:return n?t?Kf:Gf:t?Gf:Kf;case`left`:case`right`:return t?qf:Jf;default:return[]}}function Xf(e,t,n,r){let i=If(e),a=Yf(Ff(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(Wf)))),a}function Zf(e){return e.replace(/left|right|bottom|top/g,e=>jf[e])}function Qf(e){return{top:0,right:0,bottom:0,left:0,...e}}function $f(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:Qf(e)}function ep(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var tp=typeof document<`u`?b.useLayoutEffect:function(){},np={...b}.useInsertionEffect||(e=>e());function rp(e){let t=b.useRef(()=>{});return np(()=>{t.current=e}),b.useCallback(function(){var e=[...arguments];return t.current==null?void 0:t.current(...e)},[])}var ip=u(_(),1);function ap(e,t,n){let{reference:r,floating:i}=e,a=Bf(t),o=Vf(t),s=Rf(o),c=Ff(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(If(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}async function op(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=Pf(t,e),p=$f(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=ep(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=ep(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var sp=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=ap(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:{...o,detectOverflow:o.detectOverflow??op},elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=ap(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}},cp=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=Pf(e,t)||{};if(l==null)return{};let d=$f(u),f={x:n,y:r},p=Vf(i),m=Rf(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,ee=Ef(d[_],T),E=Ef(d[v],T),D=ee,te=C-h[m]-E,O=C/2-h[m]/2+w,ne=Nf(D,O,te),k=!c.arrow&&If(i)!=null&&O!==ne&&a.reference[m]/2-(O<D?ee:E)-h[m]/2<0,re=k?O<D?O-D:O-te:0;return{[p]:f[p]+re,data:{[p]:ne,centerOffset:O-ne-re,...k&&{alignmentOffset:re}},reset:k}}}),lp=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=Pf(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=Ff(r),_=Bf(o),v=Ff(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[Zf(o)]:Uf(o)),x=p!==`none`;!d&&x&&b.push(...Xf(o,m,p,y));let S=[o,...b],C=await s.detectOverflow(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=Hf(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==Bf(t))||T.every(e=>Bf(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=Bf(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}},up=new Set([`left`,`top`]);async function dp(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ff(n),s=If(n),c=Bf(n)===`y`,l=up.has(o)?-1:1,u=a&&c?-1:1,d=Pf(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var fp=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await dp(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}};function pp(e){let t=bf(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=rf(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Of(n)!==a||Of(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function mp(e){return nf(e)?e:e.contextElement}function hp(e){let t=mp(e);if(!rf(t))return Af(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=pp(t),o=(a?Of(n.width):n.width)/r,s=(a?Of(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var gp=Af(0);function _p(e){let t=$d(e);return!_f()||!t.visualViewport?gp:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vp(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$d(e)?!1:t}function yp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=mp(e),o=Af(1);t&&(r?nf(r)&&(o=hp(r)):o=hp(e));let s=vp(a,n,r)?_p(a):Af(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=$d(a),t=r&&nf(r)?$d(r):r,n=e,i=Tf(n);for(;i&&r&&t!==n;){let e=hp(i),t=i.getBoundingClientRect(),r=bf(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=$d(i),i=Tf(n)}}return ep({width:u,height:d,x:c,y:l})}function bp(e,t){let n=xf(e).scrollLeft;return t?t.left+n:yp(ef(e)).left+n}function xp(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-bp(e,n),y:n.top+t.scrollTop}}function Sp(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=ef(r),s=t?df(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=Af(1),u=Af(0),d=rf(r);if((d||!d&&!a)&&((Qd(r)!==`body`||sf(o))&&(c=xf(r)),rf(r))){let e=yp(r);l=hp(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?xp(o,c):Af(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function Cp(e){return Array.from(e.getClientRects())}function wp(e){let t=ef(e),n=xf(e),r=e.ownerDocument.body,i=Df(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Df(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+bp(e),s=-n.scrollTop;return bf(r).direction===`rtl`&&(o+=Df(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var Tp=25;function Ep(e,t){let n=$d(e),r=ef(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=_f();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=bp(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=Tp&&(a-=o)}else l<=Tp&&(a+=l);return{width:a,height:o,x:s,y:c}}var Dp=new Set([`absolute`,`fixed`]);function Op(e,t){let n=yp(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=rf(e)?hp(e):Af(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function kp(e,t,n){let r;if(t===`viewport`)r=Ep(e,n);else if(t===`document`)r=wp(ef(e));else if(nf(t))r=Op(t,n);else{let n=_p(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return ep(r)}function Ap(e,t){let n=Sf(e);return n===t||!nf(n)||yf(n)?!1:bf(n).position===`fixed`||Ap(n,t)}function jp(e,t){let n=t.get(e);if(n)return n;let r=wf(e,[],!1).filter(e=>nf(e)&&Qd(e)!==`body`),i=null,a=bf(e).position===`fixed`,o=a?Sf(e):e;for(;nf(o)&&!yf(o);){let t=bf(o),n=hf(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&Dp.has(i.position)||sf(o)&&!n&&Ap(e,o))?r=r.filter(e=>e!==o):i=t,o=Sf(o)}return t.set(e,r),r}function Mp(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?df(t)?[]:jp(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=kp(t,n,i);return e.top=Df(r.top,e.top),e.right=Ef(r.right,e.right),e.bottom=Ef(r.bottom,e.bottom),e.left=Df(r.left,e.left),e},kp(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Np(e){let{width:t,height:n}=pp(e);return{width:t,height:n}}function Pp(e,t,n){let r=rf(t),i=ef(t),a=n===`fixed`,o=yp(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=Af(0);function l(){c.x=bp(i)}if(r||!r&&!a)if((Qd(t)!==`body`||sf(i))&&(s=xf(t)),r){let e=yp(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?xp(i,s):Af(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function Fp(e){return bf(e).position===`static`}function Ip(e,t){if(!rf(e)||bf(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return ef(e)===n&&(n=n.ownerDocument.body),n}function Lp(e,t){let n=$d(e);if(df(e))return n;if(!rf(e)){let t=Sf(e);for(;t&&!yf(t);){if(nf(t)&&!Fp(t))return t;t=Sf(t)}return n}let r=Ip(e,t);for(;r&&lf(r)&&Fp(r);)r=Ip(r,t);return r&&yf(r)&&Fp(r)&&!hf(r)?n:r||gf(e)||n}var Rp=async function(e){let t=this.getOffsetParent||Lp,n=this.getDimensions,r=await n(e.floating);return{reference:Pp(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zp(e){return bf(e).direction===`rtl`}var Bp={convertOffsetParentRelativeRectToViewportRelativeRect:Sp,getDocumentElement:ef,getClippingRect:Mp,getOffsetParent:Lp,getElementRects:Rp,getClientRects:Cp,getDimensions:Np,getScale:hp,isElement:nf,isRTL:zp};function Vp(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Hp(e,t){let n=null,r,i=ef(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=kf(d),h=kf(i.clientWidth-(u+f)),g=kf(i.clientHeight-(d+p)),_=kf(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:Df(0,Ef(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!Vp(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function Up(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=mp(e),u=i||a?[...l?wf(l):[],...wf(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?Hp(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?yp(e):null;c&&g();function g(){let t=yp(e);h&&!Vp(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var Wp=fp,Gp=lp,Kp=cp,qp=(e,t,n)=>{let r=new Map,i={platform:Bp,...n},a={...i.platform,_c:r};return sp(e,t,{...i,platform:a})},Jp=typeof document<`u`?b.useLayoutEffect:function(){};function Yp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e==`function`&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e==`object`){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Yp(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let n=i[r];if(!(n===`_owner`&&e.$$typeof)&&!Yp(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Xp(e){return typeof window>`u`?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zp(e,t){let n=Xp(e);return Math.round(t*n)/n}function Qp(e){let t=b.useRef(e);return Jp(()=>{t.current=e}),t}function $p(e){e===void 0&&(e={});let{placement:t=`bottom`,strategy:n=`absolute`,middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=e,[u,d]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=b.useState(r);Yp(f,r)||p(r);let[m,h]=b.useState(null),[g,_]=b.useState(null),v=b.useCallback(e=>{e!==C.current&&(C.current=e,h(e))},[]),y=b.useCallback(e=>{e!==w.current&&(w.current=e,_(e))},[]),x=a||m,S=o||g,C=b.useRef(null),w=b.useRef(null),T=b.useRef(u),ee=c!=null,E=Qp(c),D=Qp(i),te=Qp(l),O=b.useCallback(()=>{if(!C.current||!w.current)return;let e={placement:t,strategy:n,middleware:f};D.current&&(e.platform=D.current),qp(C.current,w.current,e).then(e=>{let t={...e,isPositioned:te.current!==!1};ne.current&&!Yp(T.current,t)&&(T.current=t,ip.flushSync(()=>{d(t)}))})},[f,t,n,D,te]);Jp(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[l]);let ne=b.useRef(!1);Jp(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Jp(()=>{if(x&&(C.current=x),S&&(w.current=S),x&&S){if(E.current)return E.current(x,S,O);O()}},[x,S,O,E,ee]);let k=b.useMemo(()=>({reference:C,floating:w,setReference:v,setFloating:y}),[v,y]),re=b.useMemo(()=>({reference:x,floating:S}),[x,S]),A=b.useMemo(()=>{let e={position:n,left:0,top:0};if(!re.floating)return e;let t=Zp(re.floating,u.x),r=Zp(re.floating,u.y);return s?{...e,transform:`translate(`+t+`px, `+r+`px)`,...Xp(re.floating)>=1.5&&{willChange:`transform`}}:{position:n,left:t,top:r}},[n,s,re.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:O,refs:k,elements:re,floatingStyles:A}),[u,O,k,re,A])}var em=e=>{function t(e){return{}.hasOwnProperty.call(e,`current`)}return{name:`arrow`,options:e,fn(n){let{element:r,padding:i}=typeof e==`function`?e(n):e;return r&&t(r)?r.current==null?{}:Kp({element:r.current,padding:i}).fn(n):r?Kp({element:r,padding:i}).fn(n):{}}}},tm=(e,t)=>({...Wp(e),options:[e,t]}),nm=(e,t)=>({...Gp(e),options:[e,t]}),rm=(e,t)=>({...em(e),options:[e,t]});_();var im=`ArrowLeft`,am=`ArrowRight`,om=`ArrowUp`,sm=`ArrowDown`,cm=[im,am],lm=[om,sm];[...cm,...lm];var um={...b},dm=!1,fm=0,pm=()=>`floating-ui-`+Math.random().toString(36).slice(2,6)+ fm++;function mm(){let[e,t]=b.useState(()=>dm?pm():void 0);return tp(()=>{e??t(pm())},[]),b.useEffect(()=>{dm=!0},[]),e}var hm=um.useId||mm,gm=b.forwardRef(function(e,t){let{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i,shift:a}},width:o=14,height:s=7,tipRadius:c=0,strokeWidth:l=0,staticOffset:u,stroke:d,d:f,style:{transform:p,...m}={},...h}=e,g=hm(),[_,v]=b.useState(!1);if(tp(()=>{r&&bf(r).direction===`rtl`&&v(!0)},[r]),!r)return null;let[y,x]=n.split(`-`),S=y===`top`||y===`bottom`,C=u;(S&&a!=null&&a.x||!S&&a!=null&&a.y)&&(C=null);let w=l*2,T=w/2,ee=o/2*(c/-8+1),E=s/2*c/4,D=!!f,te=C&&x===`end`?`bottom`:`top`,O=C&&x===`end`?`right`:`left`;C&&_&&(O=x===`end`?`left`:`right`);let ne=i?.x==null?``:C||i.x,k=i?.y==null?``:C||i.y,re=f||`M0,0`+(` H`+o)+(` L`+(o-ee)+`,`+(s-E))+(` Q`+o/2+`,`+s+` `+ee+`,`+(s-E))+` Z`,A={top:D?`rotate(180deg)`:``,left:D?`rotate(90deg)`:`rotate(-90deg)`,bottom:D?``:`rotate(180deg)`,right:D?`rotate(-90deg)`:`rotate(90deg)`}[y];return(0,W.jsxs)(`svg`,{...h,"aria-hidden":!0,ref:t,width:D?o:o+w,height:o,viewBox:`0 0 `+o+` `+(s>o?s:o),style:{position:`absolute`,pointerEvents:`none`,[O]:ne,[te]:k,[y]:S||D?`100%`:`calc(100% - `+w/2+`px)`,transform:[A,p].filter(e=>!!e).join(` `),...m},children:[w>0&&(0,W.jsx)(`path`,{clipPath:`url(#`+g+`)`,fill:`none`,stroke:d,strokeWidth:w+(f?0:1),d:re}),(0,W.jsx)(`path`,{stroke:w&&!f?h.fill:`none`,d:re}),(0,W.jsx)(`clipPath`,{id:g,children:(0,W.jsx)(`rect`,{x:-T,y:T*(D?-1:1),width:o+w,height:o})})]})});function _m(){let e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}var vm=b.createContext(null),ym=b.createContext(null),bm=()=>b.useContext(vm)?.id||null,xm=()=>b.useContext(ym);function Sm(e){let{open:t=!1,onOpenChange:n,elements:r}=e,i=hm(),a=b.useRef({}),[o]=b.useState(()=>_m()),s=bm()!=null,[c,l]=b.useState(r.reference),u=rp((e,t,r)=>{a.current.openEvent=e?t:void 0,o.emit(`openchange`,{open:e,event:t,reason:r,nested:s}),n?.(e,t,r)}),d=b.useMemo(()=>({setPositionReference:l}),[]),f=b.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return b.useMemo(()=>({dataRef:a,open:t,onOpenChange:u,elements:f,events:o,floatingId:i,refs:d}),[t,u,f,o,i,d])}function Cm(e){e===void 0&&(e={});let{nodeId:t}=e,n=Sm({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,o]=b.useState(null),[s,c]=b.useState(null),l=i?.domReference||a,u=b.useRef(null),d=xm();tp(()=>{l&&(u.current=l)},[l]);let f=$p({...e,elements:{...i,...s&&{reference:s}}}),p=b.useCallback(e=>{let t=nf(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),f.refs.setReference(t)},[f.refs]),m=b.useCallback(e=>{(nf(e)||e===null)&&(u.current=e,o(e)),(nf(f.refs.reference.current)||f.refs.reference.current===null||e!==null&&!nf(e))&&f.refs.setReference(e)},[f.refs]),h=b.useMemo(()=>({...f.refs,setReference:m,setPositionReference:p,domReference:u}),[f.refs,m,p]),g=b.useMemo(()=>({...f.elements,domReference:l}),[f.elements,l]),_=b.useMemo(()=>({...f,...r,refs:h,elements:g,nodeId:t}),[f,h,g,t,r]);return tp(()=>{r.dataRef.current.floatingContext=_;let e=d?.nodesRef.current.find(e=>e.id===t);e&&(e.context=_)}),b.useMemo(()=>({...f,context:_,refs:h,elements:g}),[f,h,g,_])}var wm=c({default:()=>Tm}),Tm,Em=o((()=>{throw Tm={},Error(`Could not resolve "date-fns-tz" imported by "react-datepicker". Is it installed?`)})),Dm=u(_()),Om=function(e,t){return Om=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Om(e,t)};function km(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);Om(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Am=function(){return Am=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Am.apply(this,arguments)};function jm(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Mm=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,a=e.className,o=e.children,s=e.inline,c=n?`Choose Time`:`Choose Date${i?` and Time`:``}`;return b.createElement(`div`,{className:a,"aria-label":c,role:s?void 0:`dialog`,"aria-modal":s?void 0:`true`,translate:`no`},o)},Nm=function(e,t){var n=(0,b.useRef)(null),r=(0,b.useRef)(e);(0,b.useEffect)(function(){r.current=e},[e]);var i=(0,b.useCallback)(function(e){var i,a=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(a)&&(t&&a instanceof HTMLElement&&a.classList.contains(t)||(i=r.current)==null||i.call(r,e))},[t]);return(0,b.useEffect)(function(){return document.addEventListener(`mousedown`,i),function(){document.removeEventListener(`mousedown`,i)}},[i]),n},Pm=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,o=e.ignoreClass,s=Nm(n,o);return b.createElement(`div`,{className:r,style:a,ref:function(e){s.current=e,i&&(i.current=e)}},t)},Fm=null,Im=!1;function Lm(){if(Im)return Fm;Im=!0;try{Fm=(Em(),d(wm))}catch{Fm=null}return Fm}function Rm(e,t){if(!t)return e;var n=Lm();return n?n.toZonedTime(e,t):e}function zm(e,t){if(!t)return e;var n=Lm();return n?n.fromZonedTime(e,t):e}var Q;(function(e){e.ArrowUp=`ArrowUp`,e.ArrowDown=`ArrowDown`,e.ArrowLeft=`ArrowLeft`,e.ArrowRight=`ArrowRight`,e.PageUp=`PageUp`,e.PageDown=`PageDown`,e.Home=`Home`,e.End=`End`,e.Enter=`Enter`,e.Space=` `,e.Tab=`Tab`,e.Escape=`Escape`,e.Backspace=`Backspace`,e.X=`x`})(Q||={});function Bm(){return typeof window<`u`?window:globalThis}var Vm=12;function Hm(e){if(e==null)return new Date;var t=typeof e==`string`?xd(e):X(e);return Gm(t)?t:new Date}function Um(e,t,n,r,i){i===void 0&&(i=Hm());for(var a=_h(n)||_h(gh()),o=Array.isArray(t)?t:[t],s=0,c=o;s<c.length;s++){var l=c[s],u=md(e,l,i,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Gm(u)&&(!r||e===qm(u,l,n)))return u}if(!r&&e&&e.length>=8){var d=new Date(e);if(Gc(d))return d}return null}function Wm(e,t){if(t===void 0&&(t=Hm()),!e)return null;var n=e.match(/\b(1\d{3}|2\d{3})\b/);if(!n||!n[1])return null;var r=parseInt(n[1],10),i=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),a=i&&i[1]?parseInt(i[1],10)-1:t.getMonth();return new Date(r,a,1)}function Gm(e){return Gc(e)}function Km(e){return e==null?null:Wc(e)&&Gc(e)?e:null}function qm(e,t,n){if(n===`en`)return Gl(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?_h(n):void 0;return n&&!r&&console.warn(`A locale object was not found for the provided string ["${n}"].`),r||=_h(gh()),Gl(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Jm(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&qm(e,i,r)||``}var Ym=` - `;function Xm(e,t,n){if(!e&&!t)return``;var r=e?Jm(e,n):``,i=t?Jm(t,n):``;return`${r}${n.rangeSeparator||Ym}${i}`}function Zm(e,t){if(!e?.length)return``;var n=e[0]?Jm(e[0],t):``;return e.length===1?n:e.length===2&&e[1]?`${n}, ${Jm(e[1],t)}`:`${n} (+${e.length-1})`}function Qm(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,a=i===void 0?0:i,o=t.second;return Hd(Ud(Gd(e,o===void 0?0:o),a),r)}function $m(e){return yl(e)}function eh(e,t){return qm(e,`ddd`,t)}function th(e){return Nc(e)}function nh(e,t,n){return Oc(e,{locale:_h(t||gh()),weekStartsOn:n})}function rh(e){return tl(e)}function ih(e){return rl(e)}function ah(e){return el(e)}function oh(){return Nc(Hm())}function sh(e){return Qc(e)}function ch(e){return il(e)}function lh(e){return $c(e)}function uh(e,t){return e&&t?vd(e,t):!e&&!t}function dh(e,t){return e&&t?gd(e,t):!e&&!t}function fh(e,t){return e&&t?_d(e,t):!e&&!t}function ph(e,t){return e&&t?Uc(e,t):!e&&!t}function mh(e,t){return e&&t?au(e,t):!e&&!t}function hh(e,t,n){var r,i=Nc(t),a=Qc(n);try{r=yd(e,{start:i,end:a})}catch{r=!1}return r}function gh(){return Bm().__localeId__}function _h(e){if(typeof e==`string`){var t=Bm();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function vh(e,t,n){return t(qm(e,`EEEE`,n))}function yh(e,t){return qm(e,`EEEEEE`,t)}function bh(e,t){return qm(e,`EEE`,t)}function xh(e,t){return qm(Vd(Hm(),e),`LLLL`,t)}function Sh(e,t){return qm(Vd(Hm(),e),`LLL`,t)}function Ch(e,t){return qm(Wd(Hm(),e),`QQQ`,t)}function wh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.excludeDateIntervals,s=n.includeDates,c=n.includeDateIntervals,l=n.filterDate;return n.disabled?!0:Nh(e,{minDate:r,maxDate:i})||a&&a.some(function(t){return t instanceof Date?ph(e,t):ph(e,t.date)})||o&&o.some(function(t){var n=t.start,r=t.end;return yd(e,{start:n,end:r})})||s&&!s.some(function(t){return ph(e,t)})||c&&!c.some(function(t){var n=t.start,r=t.end;return yd(e,{start:n,end:r})})||l&&!l(Hm(e))||!1}function Th(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(t){var n=t.start,r=t.end;return yd(e,{start:n,end:r})}):r&&r.some(function(t){return t instanceof Date?ph(e,t):ph(e,t.date??new Date)})||!1}function Eh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;return Nh(e,{minDate:r?tl(r):void 0,maxDate:i?$c(i):void 0})||a?.some(function(t){return dh(e,t instanceof Date?t:t.date)})||o&&!o.some(function(t){return dh(e,t)})||s&&!s(Hm(e))||!1}function Dh(e,t,n,r){var i=Z(e),a=eu(e),o=Z(t),s=eu(t),c=Z(r);return i===o&&i===c?a<=n&&n<=s:i<o?c===i&&a<=n||c===o&&s>=n||c<o&&c>i:!1}function Oh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates;return Nh(e,{minDate:r,maxDate:i})||a&&a.some(function(t){return dh(t instanceof Date?t:t.date,e)})||o&&!o.some(function(t){return dh(t,e)})||!1}function kh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;return n.disabled?!0:Nh(e,{minDate:r,maxDate:i})||a?.some(function(t){return fh(e,t instanceof Date?t:t.date)})||o&&!o.some(function(t){return fh(e,t)})||s&&!s(Hm(e))||!1}function Ah(e,t,n){if(!t||!n||!Gc(t)||!Gc(n))return!1;var r=Z(t),i=Z(n);return r<=e&&i>=e}function jh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;if(n.disabled)return!0;var c=new Date(e,0,1);return Nh(c,{minDate:r?rl(r):void 0,maxDate:i?nl(i):void 0})||a?.some(function(e){return uh(c,e instanceof Date?e:e.date)})||o&&!o.some(function(e){return uh(c,e)})||s&&!s(Hm(c))||!1}function Mh(e,t,n,r){var i=Z(e),a=qc(e),o=Z(t),s=qc(t),c=Z(r);return i===o&&i===c?a<=n&&n<=s:i<o?c===i&&a<=n||c===o&&s>=n||c<o&&c>i:!1}function Nh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate;return(r&&Pc(e,r)<0||i&&Pc(e,i)>0)??!1}function Ph(e,t){return t.some(function(t){return Zl(t)===Zl(e)&&$l(t)===$l(e)&&tu(t)===tu(e)})}function Fh(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&Ph(e,r)||i&&!Ph(e,i)||a&&!a(e)||!1}function Ih(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw Error(`Both minTime and maxTime props required`);var i=Hm();i=Hd(i,Zl(e)),i=Ud(i,$l(e)),i=Gd(i,tu(e));var a=Hm();a=Hd(a,Zl(n)),a=Ud(a,$l(n)),a=Gd(a,tu(n));var o=Hm();o=Hd(o,Zl(r)),o=Ud(o,$l(r)),o=Gd(o,tu(r));var s;try{s=!yd(i,{start:a,end:o})}catch{s=!1}return s}function Lh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=qd(e,1);return r&&Kc(r,a)>0||i&&i.every(function(e){return Kc(e,a)>0})||!1}function Rh(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=Cc(e,1);return r&&Kc(a,r)>0||i&&i.every(function(e){return Kc(a,e)>0})||!1}function zh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=Jd(rl(e),1);return r&&Jc(r,a)>0||i&&i.every(function(e){return Jc(e,a)>0})||!1}function Bh(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=Lc(nl(e),1);return r&&Jc(a,r)>0||i&&i.every(function(e){return Jc(a,e)>0})||!1}function Vh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=Xd(e,1);return r&&Yc(r,a)>0||i&&i.every(function(e){return Yc(e,a)>0})||!1}function Hh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,a=i===void 0?Vm:i,o=Qh(ih(Xd(e,a)),a).endPeriod,s=r&&Z(r);return s&&s>o||!1}function Uh(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=Bc(e,1);return r&&Yc(a,r)>0||i&&i.every(function(e){return Yc(a,e)>0})||!1}function Wh(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,a=i===void 0?Vm:i,o=Qh(Bc(e,a),a).startPeriod,s=r&&Z(r);return s&&s<o||!1}function Gh(e){var t=e.minDate,n=e.includeDates;return n&&t?Hc(n.filter(function(e){return Pc(e,t)>=0})):n?Hc(n):t}function Kh(e){var t=e.maxDate,n=e.includeDates;return n&&t?Vc(n.filter(function(e){return Pc(e,t)<=0})):n?Vc(n):t}function qh(e,t){e===void 0&&(e=[]),t===void 0&&(t=`react-datepicker__day--highlighted`);for(var n=new Map,r=0,i=e.length;r<i;r++){var a=e[r];if(Wc(a)){var o=qm(a,`MM.dd.yyyy`),s=n.get(o)||[];s.includes(t)||(s.push(t),n.set(o,s))}else if(typeof a==`object`){var c=Object.keys(a)[0]??``,l=a[c];if(typeof c==`string`&&Array.isArray(l))for(var u=0,d=l.length;u<d;u++){var f=l[u];if(f){var o=qm(f,`MM.dd.yyyy`),s=n.get(o)||[];s.includes(c)||(s.push(c),n.set(o,s))}}}}return n}function Jh(e,t){return e.length===t.length?e.every(function(e,n){return e===t[n]}):!1}function Yh(e,t){e===void 0&&(e=[]),t===void 0&&(t=`react-datepicker__day--holidays`);var n=new Map;return e.forEach(function(e){var r=e.date,i=e.holidayName;if(Wc(r)){var a=qm(r,`MM.dd.yyyy`),o=n.get(a)||{className:``,holidayNames:[]};if(!(`className`in o&&o.className===t&&Jh(o.holidayNames,[i]))){o.className=t;var s=o.holidayNames;o.holidayNames=s?jm(jm([],s,!0),[i],!1):[i],n.set(a,o)}}}),n}function Xh(e,t,n,r,i){for(var a=i.length,o=[],s=0;s<a;s++){var c=e,l=i[s];l&&(c=Tc(c,Zl(l)),c=Ic(c,$l(l)),c=Rc(c,tu(l)));var u=Ic(e,(n+1)*r);ru(c,t)&&iu(c,u)&&l!=null&&o.push(l)}return o}function Zh(e){return e<10?`0${e}`:`${e}`}function Qh(e,t){t===void 0&&(t=Vm);var n=Math.ceil(Z(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function $h(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((n-+t)/36e5)}function eg(e){var t=e.getSeconds(),n=e.getMilliseconds();return X(e.getTime()-t*1e3-n)}function tg(e,t){return eg(e).getTime()===eg(t).getTime()}function ng(e){if(!Wc(e))throw Error(`Invalid date`);var t=new Date(e);return t.setHours(0,0,0,0),t}function rg(e,t){if(!Wc(e)||!Wc(t))throw Error(`Invalid date received`);return iu(ng(e),ng(t))}function ig(e){return e.key===Q.Space}var ag=function(e){km(t,e);function t(t){var n=e.call(this,t)||this;return n.inputRef=b.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var i=n.props.date,a=i instanceof Date&&!isNaN(+i)?i:new Date;if(e?.includes(`:`)){var o=e.split(`:`),s=o[0],c=o[1];a.setHours(Number(s)),a.setMinutes(Number(c))}(r=(t=n.props).onChange)==null||r.call(t,a)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,i=t.timeString,a=t.customTimeInput;return a?(0,b.cloneElement)(a,{date:r,value:e,onChange:n.onTimeChange}):b.createElement(`input`,{type:`time`,className:`react-datepicker-time__input`,placeholder:`Time`,name:`time-input`,ref:n.inputRef,onClick:function(){var e;(e=n.inputRef.current)==null||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||i)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(e,t){return e.timeString===t.time?null:{time:e.timeString}},t.prototype.render=function(){return b.createElement(`div`,{className:`react-datepicker__input-time-container`},b.createElement(`div`,{className:`react-datepicker-time__caption`},this.props.timeInputLabel),b.createElement(`div`,{className:`react-datepicker-time__input-container`},b.createElement(`div`,{className:`react-datepicker-time__input`},this.renderTimeInput())))},t}(b.Component),og=function(e){km(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=(0,b.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===Q.Space&&(e.preventDefault(),e.key=Q.Enter),(r=(n=t.props).handleOnKeyDown)==null||r.call(n,e)},t.isSameDay=function(e){return ph(t.props.day,e)},t.isKeyboardSelected=function(){if(t.props.disabledKeyboardNavigation)return!1;var e=t.props.selectsMultiple?t.props.selectedDates?.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected),n=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!e&&t.isSameDayOrWeek(t.props.preSelection)&&!n},t.isDisabled=function(e){return e===void 0&&(e=t.props.day),wh(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Th(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ph(t.props.day,nh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&ph(e,nh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var i=qm(n,`MM.dd.yyyy`);return r.get(i)},t.getHolidaysClass=function(){var e=t.props,n=e.day,r=e.holidays;if(!r)return[void 0];var i=qm(n,`MM.dd.yyyy`);return r.has(i)?[r.get(i)?.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!r||!i?!1:hh(n,r,i)},t.isInSelectingRange=function(){var e=t.props,n=e.day,r=e.selectsStart,i=e.selectsEnd,a=e.selectsRange,o=e.selectsDisabledDaysInRange,s=e.startDate,c=e.swapRange,l=e.endDate,u=t.props.selectingDate??t.props.preSelection;if(t.isAfterMonth()||t.isBeforeMonth()||!(r||i||a)||!u||!o&&t.isDisabled())return!1;if(r&&l&&(iu(u,l)||mh(u,l)))return hh(n,u,l);if(i&&s&&(ru(u,s)||mh(u,s)))return hh(n,s,u);if(a&&s&&!l){if(mh(u,s)||ru(u,s))return hh(n,s,u);if(c&&iu(u,s))return hh(n,u,s)}return!1},t.isSelectingRangeStart=function(){if(!t.isInSelectingRange())return!1;var e=t.props,n=e.day,r=e.startDate,i=e.selectsStart,a=e.swapRange,o=e.selectsRange,s=t.props.selectingDate??t.props.preSelection;return i?ph(n,s):o&&a&&r&&s?ph(n,iu(s,r)?s:r):ph(n,r)},t.isSelectingRangeEnd=function(){if(!t.isInSelectingRange())return!1;var e=t.props,n=e.day,r=e.endDate,i=e.selectsEnd,a=e.selectsRange,o=e.swapRange,s=e.startDate,c=t.props.selectingDate??t.props.preSelection;return i?ph(n,c):a&&o&&s&&c?ph(n,iu(c,s)?s:c):a?ph(n,c):ph(n,r)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!r||!i?!1:ph(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!r||!i?!1:ph(i,n)},t.isWeekend=function(){var e=Jl(t.props.day);return e===0||e===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===eu(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(eu(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Hm())},t.isSelected=function(){return t.props.selectsMultiple?t.props.selectedDates?.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){return hc(`react-datepicker__day`,t.props.dayClassName?t.props.dayClassName(e):void 0,`react-datepicker__day--`+eh(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,i=r===void 0?`Choose`:r,a=e.ariaLabelPrefixWhenDisabled,o=a===void 0?`Not available`:a;return`${t.isDisabled()||t.isExcluded()?o:i} ${qm(n,`PPPP`,t.props.locale)}`},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,i=r===void 0?new Map:r,a=e.excludeDates,o=qm(n,`MM.dd.yyyy`),s=[];return i.has(o)&&s.push.apply(s,i.get(o).holidayNames),t.isExcluded()&&s.push(a?.filter(function(e){return e instanceof Date?ph(e,n):ph(e?.date,n)}).map(function(e){if(!(e instanceof Date))return e?.message})),s.join(`, `)},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(e)&&ph(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&((e=t.dayEl.current)==null||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(ql(t.props.day),t.props.day):ql(t.props.day)},t.render=function(){return b.createElement(`div`,{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:`gridcell`,title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?`date`:void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==``&&b.createElement(`span`,{className:`overlay`},t.getTitle()))},t}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){return(this.props.containerRef?.current)?.contains(document.activeElement)&&document.activeElement?.classList.contains(`react-datepicker__day`)},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(b.Component),sg=function(e){km(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,b.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===Q.Space&&(e.preventDefault(),e.key=Q.Enter),(r=(n=t.props).handleOnKeyDown)==null||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ph(t.props.date,t.props.selected)&&ph(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ph(t.props.date,t.props.selected)&&ph(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;t.getTabIndex()===0&&!e?.isInputFocused&&ph(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains(`react-datepicker__week-number`)&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(t,`defaultProps`,{get:function(){return{ariaLabelPrefix:`week `}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,i=e.ariaLabelPrefix,a=i===void 0?t.defaultProps.ariaLabelPrefix:i,o=e.onClick,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!r,"react-datepicker__week-number--selected":!!o&&ph(this.props.date,this.props.selected)};return b.createElement(`div`,{ref:this.weekNumberEl,className:hc(s),"aria-label":`${a} ${this.props.weekNumber}`,onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:`gridcell`},n)},t}(b.Component),cg=function(e){km(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return wh(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,i){for(var a,o,s=new Date(e),c=0;c<7;c++){var l=new Date(e);if(l.setDate(l.getDate()+c),!n.isDisabled(l)){s=l;break}}typeof n.props.onWeekSelect==`function`&&n.props.onWeekSelect(s,r,i),n.props.showWeekPicker&&n.handleDayClick(s,i),(n.props.shouldCloseOnSelect??t.defaultProps.shouldCloseOnSelect)&&((o=(a=n.props).setOpen)==null||o.call(a,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):$m(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Sc(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Sc(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],i=n.formatWeekNumber(e);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,i):void 0;r.push(b.createElement(sg,Am({key:`W`},t.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:a})))}return r.concat([0,1,2,3,4,5,6].map(function(r){var i=Sc(e,r);return b.createElement(og,Am({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:i.valueOf(),day:i,onClick:n.handleDayClick.bind(n,i),onMouseEnter:n.handleDayMouseEnter.bind(n,i)}))}))},n.startOfWeek=function(){return nh(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ph(n.startOfWeek(),n.props.selected)&&ph(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,`defaultProps`,{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":ph(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return b.createElement(`div`,{className:hc(e,t),role:`row`},this.renderDays())},t}(b.Component),lg,ug=6,dg={TWO_COLUMNS:`two_columns`,THREE_COLUMNS:`three_columns`,FOUR_COLUMNS:`four_columns`},fg=(lg={},lg[dg.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},lg[dg.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},lg[dg.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},lg),pg=1;function mg(e,t){return e?dg.FOUR_COLUMNS:t?dg.TWO_COLUMNS:dg.THREE_COLUMNS}var hg=function(e){km(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=jm([],Array(12),!0).map(function(){return(0,b.createRef)()}),t.QUARTER_REFS=jm([],[,,,,],!0).map(function(){return(0,b.createRef)()}),t.isDisabled=function(e){return wh(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(e){return Th(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,i;(i=(r=t.props).onDayClick)==null||i.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;(r=(n=t.props).onDayMouseEnter)==null||r.call(n,e)},t.handleMouseLeave=function(){var e,n;(n=(e=t.props).onMouseLeave)==null||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:dh(Vd(r,e),i)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:fh(Wd(r,e),i)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:dh(Vd(r,e),a)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:fh(Wd(r,e),a)},t.isInSelectingRangeMonth=function(e){var n=t.props,r=n.day,i=n.selectsStart,a=n.selectsEnd,o=n.selectsRange,s=n.startDate,c=n.endDate,l=t.props.selectingDate??t.props.preSelection;return!(i||a||o)||!l?!1:i&&c?Dh(l,c,e,r):a&&s||o&&s&&!c?Dh(s,l,e,r):!1},t.isSelectingMonthRangeStart=function(e){if(!t.isInSelectingRangeMonth(e))return!1;var n=t.props,r=n.day,i=n.startDate,a=n.selectsStart,o=Vd(r,e),s=t.props.selectingDate??t.props.preSelection;return a?dh(o,s):dh(o,i)},t.isSelectingMonthRangeEnd=function(e){if(!t.isInSelectingRangeMonth(e))return!1;var n=t.props,r=n.day,i=n.endDate,a=n.selectsEnd,o=n.selectsRange,s=Vd(r,e),c=t.props.selectingDate??t.props.preSelection;return a||o?dh(s,c):dh(s,i)},t.isInSelectingRangeQuarter=function(e){var n=t.props,r=n.day,i=n.selectsStart,a=n.selectsEnd,o=n.selectsRange,s=n.startDate,c=n.endDate,l=t.props.selectingDate??t.props.preSelection;return!(i||a||o)||!l?!1:i&&c?Mh(l,c,e,r):a&&s||o&&s&&!c?Mh(s,l,e,r):!1},t.isWeekInMonth=function(e){var n=t.props.day,r=Sc(e,6);return dh(e,n)||dh(r,n)},t.isCurrentMonth=function(e,t){return Z(e)===Z(Hm())&&t===eu(Hm())},t.isCurrentQuarter=function(e,t){return Z(e)===Z(Hm())&&t===qc(Hm())},t.isSelectedMonth=function(e,t,n){return eu(n)===t&&Z(e)===Z(n)},t.isSelectMonthInList=function(e,n,r){return r.some(function(r){return t.isSelectedMonth(e,n,r)})},t.isSelectedQuarter=function(e,t,n){return qc(n)===t&&Z(e)===Z(n)},t.isSelectQuarterInList=function(e,n,r){return r.some(function(r){return t.isSelectedQuarter(e,n,r)})},t.isMonthSelected=function(){var e=t.props,n=e.day,r=e.selected,i=e.selectedDates,a=e.selectsMultiple,o=eu(n);return a?i?.some(function(e){return t.isSelectedMonth(n,o,e)}):!!r&&t.isSelectedMonth(n,o,r)},t.isQuarterSelected=function(){var e=t.props,n=e.day,r=e.selected,i=e.selectedDates,a=e.selectsMultiple,o=qc(n);return a?i?.some(function(e){return t.isSelectedQuarter(n,o,e)}):!!r&&t.isSelectedQuarter(n,o,r)},t.renderWeeks=function(){if(!Gm(t.props.day))return[];for(var e=[],n=t.props.fixedHeight,r=0,i=!1,a=nh(rh(t.props.day),t.props.locale,t.props.calendarStartDay),o=function(e){return t.props.showWeekPicker?nh(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection},s=t.props.selected?function(e){return t.props.showWeekPicker?nh(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,c=t.props.preSelection?o(t.props.preSelection):void 0;e.push(b.createElement(cg,Am({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:a,month:eu(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:s,preSelection:c,showWeekNumber:t.props.showWeekNumbers}))),!i;){r++,a=zc(a,1);var l=n&&r>=ug,u=!n&&!t.isWeekInMonth(a);if(l||u)if(t.props.peekNextMonth)i=!0;else break}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),i=r.isDisabled,a=r.labelDate;i||t.handleDayClick(rh(a),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,i=n.labelDate;r||t.handleDayMouseEnter(rh(i))},t.handleMonthNavigation=function(e,n){var r,i,a;(i=(r=t.props).setPreSelection)==null||i.call(r,n),(a=t.MONTH_REFS[e]?.current)==null||a.focus()},t.handleKeyboardNavigation=function(e,n,r){var i=t.props,a=i.selected,o=i.preSelection,s=i.setPreSelection,c=i.minDate,l=i.maxDate,u=i.showFourColumnMonthYearPicker,d=i.showTwoColumnMonthYearPicker;if(o){var f=mg(u,d),p=t.getVerticalOffset(f),m=fg[f]?.grid,h=function(e,t,n){var r=t,i=n;switch(e){case Q.ArrowRight:r=Cc(t,pg),i=n===11?0:n+pg;break;case Q.ArrowLeft:r=qd(t,pg),i=n===0?11:n-pg;break;case Q.ArrowUp:r=qd(t,p),i=(m?.[0])?.includes(n)?n+12-p:n-p;break;case Q.ArrowDown:r=Cc(t,p),i=(m?.[m.length-1])?.includes(n)?n-12+p:n+p;break}return{newCalculatedDate:r,newCalculatedMonth:i}},g=function(e,n,r){for(var i=40,a=e,o=!1,s=0,u=h(a,n,r),d=u.newCalculatedDate,f=u.newCalculatedMonth;!o;){if(s>=i){d=n,f=r;break}if(c&&d<c){a=Q.ArrowRight;var p=h(a,d,f);d=p.newCalculatedDate,f=p.newCalculatedMonth}if(l&&d>l){a=Q.ArrowLeft;var p=h(a,d,f);d=p.newCalculatedDate,f=p.newCalculatedMonth}if(Oh(d,t.props)){var p=h(a,d,f);d=p.newCalculatedDate,f=p.newCalculatedMonth}else o=!0;s++}return{newCalculatedDate:d,newCalculatedMonth:f}};if(n===Q.Enter){t.isMonthDisabled(r)||(t.onMonthClick(e,r),s?.(a));return}var _=g(n,o,r),v=_.newCalculatedDate,y=_.newCalculatedMonth;switch(n){case Q.ArrowRight:case Q.ArrowLeft:case Q.ArrowUp:case Q.ArrowDown:t.handleMonthNavigation(y,v);break}}},t.getVerticalOffset=function(e){return fg[e]?.verticalNavigationOffset??0},t.onMonthKeyDown=function(e,n){var r=t.props,i=r.disabledKeyboardNavigation,a=r.handleOnMonthKeyDown,o=e.key;o!==Q.Tab&&e.preventDefault(),i||t.handleKeyboardNavigation(e,o,n),a&&a(e)},t.onQuarterClick=function(e,n){var r=Wd(t.props.day,n);kh(r,t.props)||t.handleDayClick(ah(r),e)},t.onQuarterMouseEnter=function(e){var n=Wd(t.props.day,e);kh(n,t.props)||t.handleDayMouseEnter(ah(n))},t.handleQuarterNavigation=function(e,n){var r,i,a;t.isDisabled(n)||t.isExcluded(n)||((i=(r=t.props).setPreSelection)==null||i.call(r,n),(a=t.QUARTER_REFS[e-1]?.current)==null||a.focus())},t.onQuarterKeyDown=function(e,n){var r,i,a=e.key;if(!t.props.disabledKeyboardNavigation)switch(a){case Q.Enter:t.onQuarterClick(e,n),(i=(r=t.props).setPreSelection)==null||i.call(r,t.props.selected);break;case Q.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(n===4?1:n+1,Lc(t.props.preSelection,1));break;case Q.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(n===1?4:n-1,Jd(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(e){var n=t.props,r=n.day,i=n.disabled,a=n.minDate,o=n.maxDate,s=n.excludeDates,c=n.includeDates,l=Vd(r,e);return i?{isDisabled:!0,labelDate:Vd(r,e)}:{isDisabled:((a||o||s||c)&&Eh(l,t.props))??!1,labelDate:l}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,o=n.preSelection,s=n.monthClassName,c=s?s(Vd(r,e)):void 0,l=t.getSelection();return hc(`react-datepicker__month-text`,`react-datepicker__month-${e}`,c,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":l?t.isSelectMonthInList(r,e,l):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&o&&t.isSelectedMonth(r,e,o)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":i&&a?Dh(i,a,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(t.props.preSelection==null)return`-1`;var n=eu(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e===n&&!(r||t.props.disabledKeyboardNavigation)?`0`:`-1`},t.getQuarterTabIndex=function(e){if(t.props.preSelection==null)return`-1`;var n=qc(t.props.preSelection),r=kh(t.props.day,t.props);return e===n&&!(r||t.props.disabledKeyboardNavigation)?`0`:`-1`},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,i=r===void 0?`Choose`:r,a=n.disabledDayAriaLabelPrefix,o=a===void 0?`Not available`:a,s=n.day,c=n.locale,l=Vd(s,e);return`${t.isDisabled(l)||t.isExcluded(l)?o:i} ${qm(l,`MMMM yyyy`,c)}`},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,o=n.minDate,s=n.maxDate,c=n.excludeDates,l=n.includeDates,u=n.filterDate,d=n.preSelection,f=n.disabledKeyboardNavigation,p=n.disabled,m=(o||s||c||l||u||p)&&kh(Wd(r,e),t.props),h=t.getSelection();return hc(`react-datepicker__quarter-text`,`react-datepicker__quarter-${e}`,{"react-datepicker__quarter-text--disabled":m,"react-datepicker__quarter-text--selected":h?t.isSelectQuarterInList(r,e,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!f&&d&&t.isSelectedQuarter(r,e,d)&&!t.isQuarterSelected()&&!m,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":i&&a?Mh(i,a,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,i=n.renderMonthContent,a=n.locale,o=n.day,s=Sh(e,a),c=xh(e,a);return i?i(e,s,c,o):r?c:s},t.getQuarterContent=function(e){var n=t.props,r=n.renderQuarterContent,i=n.locale,a=Ch(e,i);return r?.(e,a)??a},t.renderMonths=function(){var e=t.props,n=e.showTwoColumnMonthYearPicker,r=e.showFourColumnMonthYearPicker,i=e.day,a=e.selected;return(fg[mg(r,n)]?.grid)?.map(function(e,n){return b.createElement(`div`,{className:`react-datepicker__month-wrapper`,key:n},e.map(function(e,n){return b.createElement(`div`,{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){ig(n)&&(n.preventDefault(),n.key=Q.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:`option`,"aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(i,e)?`date`:void 0,"aria-selected":a?t.isSelectedMonth(i,e,a):void 0},t.getMonthContent(e))}))})},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return b.createElement(`div`,{className:`react-datepicker__quarter-wrapper`},[1,2,3,4].map(function(e,i){return b.createElement(`div`,{key:i,ref:t.QUARTER_REFS[i],role:`option`,onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?`date`:void 0},t.getQuarterContent(e))}))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,i=e.selectsEnd,a=e.showMonthYearPicker,o=e.showQuarterYearPicker,s=e.showWeekPicker;return hc(`react-datepicker__month`,{"react-datepicker__month--selecting-range":n&&(r||i)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":o},{"react-datepicker__weekPicker":s})},t}return t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;if(e.selectsMultiple)return n;if(t)return[t]},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,i=e.ariaLabelPrefix,a=i===void 0?`Month `:i,o=a?a.trim()+` `:``,s=Gm(r)?`${o}${qm(r,`MMMM, yyyy`,this.props.locale)}`:``;return t||n?b.createElement(`div`,{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":s,role:`listbox`},t?this.renderMonths():this.renderQuarters()):b.createElement(`div`,{role:`table`},this.props.dayNamesHeader&&b.createElement(`div`,{role:`rowgroup`},this.props.dayNamesHeader),this.props.monthHeader&&b.createElement(`div`,{role:`rowgroup`},this.props.monthHeader),b.createElement(`div`,{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":s,role:`rowgroup`},this.renderWeeks()),this.props.monthFooter&&b.createElement(`div`,{role:`rowgroup`},this.props.monthFooter))},t}(b.Component),gg=function(e){km(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(e){return t.props.month===e},t.handleOptionKeyDown=function(e,n){var r;switch(n.key){case`Enter`:n.preventDefault(),t.onChange(e);break;case`Escape`:n.preventDefault(),t.props.onCancel();break;case`ArrowUp`:case`ArrowDown`:n.preventDefault();var i=(e+(n.key===`ArrowUp`?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(r=t.monthOptionButtonsRef[i])==null||r.focus();break}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(e,n){return b.createElement(`div`,{ref:function(e){t.monthOptionButtonsRef[n]=e,t.isSelectedMonth(n)&&e?.focus()},role:`button`,tabIndex:0,className:t.isSelectedMonth(n)?`react-datepicker__month-option react-datepicker__month-option--selected_month`:`react-datepicker__month-option`,key:e,onClick:t.onChange.bind(t,n),onKeyDown:t.handleOptionKeyDown.bind(t,n),"aria-selected":t.isSelectedMonth(n)?`true`:void 0},t.isSelectedMonth(n)?b.createElement(`span`,{className:`react-datepicker__month-option--selected`},``):``,e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return t.prototype.render=function(){return b.createElement(Pm,{className:`react-datepicker__month-dropdown`,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),_g=function(e){km(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(e,t){return b.createElement(`option`,{key:e,value:t},e)})},t.renderSelectMode=function(e){return b.createElement(`select`,{value:t.props.month,className:`react-datepicker__month-select`,onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return b.createElement(`button`,{key:`read`,type:`button`,style:{visibility:e?`visible`:`hidden`},className:`react-datepicker__month-read-view`,onClick:t.toggleDropdown},b.createElement(`span`,{className:`react-datepicker__month-read-view--down-arrow`}),b.createElement(`span`,{className:`react-datepicker__month-read-view--selected-month`},n[t.props.month]))},t.renderDropdown=function(e){return b.createElement(gg,Am({key:`dropdown`},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return t.prototype.render=function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(t){return Sh(t,e.props.locale)}:function(t){return xh(t,e.props.locale)}),n;switch(this.props.dropdownMode){case`scroll`:n=this.renderScrollMode(t);break;case`select`:n=this.renderSelectMode(t);break}return b.createElement(`div`,{className:`react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--${this.props.dropdownMode}`},n)},t}(b.Component),vg=5;function yg(e,t,n){for(var r=[],i=e??Xd(n,vg),a=t??Bc(n,vg),o=rh(i),s=rh(a);!ru(o,s);)r.push(Hm(o)),o=Cc(o,1);return r}var bg=function(e){km(t,e);function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var t=nu(e),r=uh(n.props.date,e)&&dh(n.props.date,e);return b.createElement(`div`,{className:r?`react-datepicker__month-year-option--selected_month-year`:`react-datepicker__month-year-option`,key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?`true`:void 0},r?b.createElement(`span`,{className:`react-datepicker__month-year-option--selected`},``):``,qm(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:yg(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var e=hc({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return b.createElement(Pm,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),xg=5,Sg=function(e){km(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate??Xd(t.props.date,xg),n=t.props.maxDate??Bc(t.props.date,xg),r=rh(e),i=rh(n),a=[];!ru(r,i);){var o=nu(r);a.push(b.createElement(`option`,{key:o,value:o},qm(r,t.props.dateFormat,t.props.locale))),r=Cc(r,1)}return a},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement(`select`,{value:nu(rh(t.props.date)),className:`react-datepicker__month-year-select`,onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=qm(t.props.date,t.props.dateFormat,t.props.locale);return b.createElement(`div`,{key:`read`,style:{visibility:e?`visible`:`hidden`},className:`react-datepicker__month-year-read-view`,onClick:t.toggleDropdown},b.createElement(`span`,{className:`react-datepicker__month-year-read-view--down-arrow`}),b.createElement(`span`,{className:`react-datepicker__month-year-read-view--selected-month-year`},n))},t.renderDropdown=function(){return b.createElement(bg,Am({key:`dropdown`},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=Hm(e);uh(t.props.date,n)&&dh(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return t.prototype.render=function(){var e;switch(this.props.dropdownMode){case`scroll`:e=this.renderScrollMode();break;case`select`:e=this.renderSelectMode();break}return b.createElement(`div`,{className:`react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--${this.props.dropdownMode}`},e)},t}(b.Component),Cg=function(e){km(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=(n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(n.header?.clientHeight??0):n.list.clientHeight,n.centerLi))??0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&Ih(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Fh(e,n.props)||(r=(t=n.props).onChange)==null||r.call(t,e)},n.isSelectedTime=function(e){var t=Km(n.props.selected);return t&&tg(t,e)},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&Ih(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Fh(e,n.props)},n.liClasses=function(e){var r=[`react-datepicker__time-list-item`,n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&r.push(`react-datepicker__time-list-item--selected`),n.isDisabledTime(e)&&r.push(`react-datepicker__time-list-item--disabled`),n.props.injectTimes&&(Zl(e)*3600+$l(e)*60+tu(e))%((n.props.intervals??t.defaultProps.intervals)*60)!=0&&r.push(`react-datepicker__time-list-item--injected`),r.join(` `)},n.handleOnKeyDown=function(e,t){var r,i;e.key===Q.Space&&(e.preventDefault(),e.key=Q.Enter),(e.key===Q.ArrowUp||e.key===Q.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===Q.ArrowDown||e.key===Q.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===Q.Enter&&n.handleClick(t),(i=(r=n.props).handleOnKeyDown)==null||i.call(r,e)},n.renderTimes=function(){for(var e=[],r=typeof n.props.format==`string`?n.props.format:`p`,i=n.props.intervals??t.defaultProps.intervals,a=Km(n.props.selected)||Km(n.props.openToDate)||Hm(),o=th(a),s=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),c=60*$h(a)/i,l=0;l<c;l++){var u=Ic(o,l*i);if(e.push(u),s){var d=Xh(o,u,l,i,s);e=e.concat(d)}}var f=e.reduce(function(e,t){return t.getTime()<=a.getTime()?t:e},e[0]);return e.map(function(e){return b.createElement(`li`,{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===f&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===f?0:-1,role:`option`,"aria-selected":n.isSelectedTime(e)?`true`:void 0,"aria-disabled":n.isDisabledTime(e)?`true`:void 0},qm(e,r,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?b.createElement(b.Fragment,null):b.createElement(`div`,{className:`react-datepicker__header react-datepicker__header--time ${n.props.showTimeSelectOnly?`react-datepicker__header--time--only`:``}`,ref:function(e){n.header=e}},b.createElement(`div`,{className:`react-datepicker-time__header`},n.props.timeCaption))},n}return Object.defineProperty(t,`defaultProps`,{get:function(){return{intervals:30,todayButton:null,timeCaption:`Time`,showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;(e=this.resizeObserver)==null||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var e=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==e&&this.setState({height:e})}},t.prototype.render=function(){var e=this,n=this.state.height;return b.createElement(`div`,{className:`react-datepicker__time-container ${this.props.todayButton??t.defaultProps.todayButton?`react-datepicker__time-container--with-today-button`:``}`},this.renderTimeCaption(),b.createElement(`div`,{className:`react-datepicker__time`},b.createElement(`div`,{className:`react-datepicker__time-box`},b.createElement(`ul`,{className:`react-datepicker__time-list`,ref:function(t){e.list=t},style:n?{height:n}:{},role:`listbox`,"aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(b.Component),wg=3,Tg=function(e){km(t,e);function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=jm([],Array(n.props.yearItemNumber),!0).map(function(){return(0,b.createRef)()}),n.isDisabled=function(e){return wh(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return Th(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){return n.props.selectingDate??n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t;(t=n.YEAR_REFS[e]?.current)==null||t.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,i,a,o=n.props,s=o.date,c=o.yearItemNumber;if(!(s===void 0||c===void 0)){var l=Qh(s,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||((i=(r=n.props).setPreSelection)==null||i.call(r,t),e-l<0?n.updateFocusOnPaginate(c-(l-e)):e-l>=c?n.updateFocusOnPaginate(Math.abs(c-(e-l))):(a=n.YEAR_REFS[e-l]?.current)==null||a.focus())}},n.isSameDay=function(e,t){return ph(e,t)},n.isCurrentYear=function(e){return e===Z(Hm())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&uh(Kd(Hm(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&uh(Kd(Hm(),e),n.props.endDate)},n.isInRange=function(e){return Ah(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,i=t.selectsEnd,a=t.selectsRange,o=t.startDate,s=t.endDate;return!(r||i||a)||!n.selectingDate()?!1:r&&s?Ah(e,n.selectingDate(),s):i&&o||a&&o&&!s?Ah(e,o,n.selectingDate()):!1},n.isSelectingRangeStart=function(e){if(!n.isInSelectingRange(e))return!1;var t=n.props,r=t.startDate,i=t.selectsStart,a=Kd(Hm(),e);return i?uh(a,n.selectingDate()??null):uh(a,r??null)},n.isSelectingRangeEnd=function(e){if(!n.isInSelectingRange(e))return!1;var t=n.props,r=t.endDate,i=t.selectsEnd,a=t.selectsRange,o=Kd(Hm(),e);return i||a?uh(o,n.selectingDate()??null):uh(o,r??null)},n.isKeyboardSelected=function(e){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var t=n.props,r=t.minDate,i=t.maxDate,a=t.excludeDates,o=t.includeDates,s=t.filterDate,c=t.selected,l=ih(Kd(n.props.date,e)),u=(r||i||a||o||s)&&jh(e,n.props),d=!!c&&ph(l,ih(c)),f=ph(l,ih(n.props.preSelection));return!n.props.inline&&!d&&f&&!u}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,i=t.selected,a=t.selectedDates;return r?a?.some(function(t){return e===Z(t)}):!!i&&e===Z(i)},n.onYearClick=function(e,t){var r=n.props.date;r!==void 0&&n.handleYearClick(ih(Kd(r,t)),e)},n.onYearKeyDown=function(e,t){var r,i,a=e.key,o=n.props,s=o.date,c=o.yearItemNumber,l=o.handleOnKeyDown;if(a!==Q.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(a){case Q.Enter:if(n.props.selected==null)break;n.onYearClick(e,t),(i=(r=n.props).setPreSelection)==null||i.call(r,n.props.selected);break;case Q.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(t+1,Bc(n.props.preSelection,1));break;case Q.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(t-1,Xd(n.props.preSelection,1));break;case Q.ArrowUp:if(s===void 0||c===void 0||n.props.preSelection==null)break;var u=Qh(s,c).startPeriod,d=wg,f=t-d;if(f<u){var p=c%d;t>=u&&t<u+p?d=p:d+=p,f=t-d}n.handleYearNavigation(f,Xd(n.props.preSelection,d));break;case Q.ArrowDown:if(s===void 0||c===void 0||n.props.preSelection==null)break;var m=Qh(s,c).endPeriod,d=wg,f=t+d;if(f>m){var p=c%d;t<=m&&t>m-p?d=p:d+=p,f=t+d}n.handleYearNavigation(f,Bc(n.props.preSelection,d));break}l&&l(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,i=t.disabled,a=t.minDate,o=t.maxDate,s=t.excludeDates,c=t.includeDates,l=t.filterDate,u=t.yearClassName;return hc(`react-datepicker__year-text`,`react-datepicker__year-${e}`,r?u?.(Kd(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(a||o||s||c||l||i)&&jh(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return`-1`;var t=Z(n.props.preSelection),r=jh(e,n.props);return e===t&&!r?`0`:`-1`},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,i=n.yearItemNumber,a=n.onYearMouseEnter,o=n.onYearMouseLeave;if(r===void 0)return null;for(var s=Qh(r,i),c=s.startPeriod,l=s.endPeriod,u=function(n){t.push(b.createElement(`div`,{ref:d.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){ig(t)&&(t.preventDefault(),t.key=Q.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(d.getYearTabIndex(n)),className:d.getYearClassNames(n),onMouseEnter:d.props.usePointerEvent?void 0:function(e){return a(e,n)},onPointerEnter:d.props.usePointerEvent?function(e){return a(e,n)}:void 0,onMouseLeave:d.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerLeave:d.props.usePointerEvent?function(e){return o(e,n)}:void 0,key:n,"aria-current":d.isCurrentYear(n)?`date`:void 0},d.getYearContent(n)))},d=this,f=c;f<=l;f++)u(f);return b.createElement(`div`,{className:`react-datepicker__year`},b.createElement(`div`,{className:`react-datepicker__year-wrapper`,onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(b.Component);function Eg(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var o=e+t-a,s=!0;n&&(s=Z(n)<=o),r&&s&&(s=Z(r)>=o),s&&i.push(o)}return i}var Dg=function(e){km(t,e);function t(t){var n=e.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(e,t){var r;switch(t.key){case`Enter`:t.preventDefault(),n.onChange(e);break;case`Escape`:t.preventDefault(),n.props.onCancel();break;case`ArrowUp`:case`ArrowDown`:t.preventDefault();var i=e+(t.key===`ArrowUp`?1:-1);n.yearOptionButtonsRef[i]&&((r=n.yearOptionButtonsRef[i])==null||r.focus());break}},n.renderOptions=function(){n.yearOptionButtonsRef={};var e=n.props.year,t=n.state.yearsList.map(function(t){return b.createElement(`div`,{ref:function(r){n.yearOptionButtonsRef[t]=r,t===e&&r?.focus()},role:`button`,tabIndex:0,className:e===t?`react-datepicker__year-option react-datepicker__year-option--selected_year`:`react-datepicker__year-option`,key:t,onClick:n.onChange.bind(n,t),onKeyDown:n.handleOptionKeyDown.bind(n,t),"aria-selected":e===t?`true`:void 0},e===t?b.createElement(`span`,{className:`react-datepicker__year-option--selected`},``):``,t)}),r=n.props.minDate?Z(n.props.minDate):null,i=n.props.maxDate?Z(n.props.maxDate):null;return(!i||!n.state.yearsList.find(function(e){return e===i}))&&t.unshift(b.createElement(`div`,{className:`react-datepicker__year-option`,key:`upcoming`,onClick:n.incrementYears},b.createElement(`a`,{className:`react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming`}))),(!r||!n.state.yearsList.find(function(e){return e===r}))&&t.push(b.createElement(`div`,{className:`react-datepicker__year-option`,key:`previous`,onClick:n.decrementYears},b.createElement(`a`,{className:`react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous`}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,a=r||(i?10:5);return n.state={yearsList:Eg(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,b.createRef)(),n}return t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=hc({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return b.createElement(Pm,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),Og=function(e){km(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?Z(t.props.minDate):1900,n=t.props.maxDate?Z(t.props.maxDate):2100,r=[],i=e;i<=n;i++)r.push(b.createElement(`option`,{key:i,value:i},i));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement(`select`,{value:t.props.year,className:`react-datepicker__year-select`,onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return b.createElement(`button`,{key:`read`,type:`button`,style:{visibility:e?`visible`:`hidden`},className:`react-datepicker__year-read-view`,onClick:t.toggleDropdown},b.createElement(`span`,{className:`react-datepicker__year-read-view--down-arrow`}),b.createElement(`span`,{className:`react-datepicker__year-read-view--selected-year`},t.props.year))},t.renderDropdown=function(){return b.createElement(Dg,Am({key:`dropdown`},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,n){var r;(r=t.onSelect)==null||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,i;(i=(r=t.props).onSelect)==null||i.call(r,e,n)},t.setOpen=function(){var e,n;(n=(e=t.props).setOpen)==null||n.call(e,!0)},t}return t.prototype.render=function(){var e;switch(this.props.dropdownMode){case`scroll`:e=this.renderScrollMode();break;case`select`:e=this.renderSelectMode();break}return b.createElement(`div`,{className:`react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--${this.props.dropdownMode}`},e)},t}(b.Component),kg=[`react-datepicker__year-select`,`react-datepicker__month-select`,`react-datepicker__month-year-select`],Ag=`react-datepicker-ignore-onclickoutside`,jg=function(e){var t=(e.className||``).split(/\s+/);return kg.some(function(e){return t.indexOf(e)>=0})},Mg=function(e){km(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;jg(e.target)&&((n=(t=r.props).onDropdownFocus)==null||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,i=e.openToDate,a=Gh(r.props),o=Kh(r.props),s=Hm();return i||n||t||(a&&iu(s,a)?a:o&&ru(s,o)?o:s)},r.increaseMonth=function(){r.setState(function(e){var t=e.date;return{date:Cc(t,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(e){var t=e.date;return{date:qd(t,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:Kd(Hm(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,i,a;(n=(t=r.props).onYearChange)==null||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),(a=(i=r.props).setOpen)==null||a.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!wh(e,r.props))return e;for(var t=rh(e),n=Xc(lh(e),t),i=null,a=0;a<=n;a++){var o=Sc(t,a);if(!wh(o,r.props)){i=o;break}}return i},r.handleMonthChange=function(e){var t,n,i=r.getEnabledPreSelectionDateForMonth(e)??e;r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect(i),(n=(t=r.props).setOpen)==null||n.call(t,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(e){var t,n;(n=(t=r.props).onMonthChange)==null||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState(function(t){var n=t.date;return{date:Kd(n,Number(e))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(e){r.setState(function(t){var n=t.date;return{date:Vd(n,Number(e))}},function(){var e,t;r.handleMonthChange(r.state.date),(t=(e=r.props).onMonthSelectedInChange)==null||t.call(e,0)})},r.changeMonthYear=function(e){r.setState(function(t){var n=t.date;return{date:Kd(Vd(n,eu(e)),Z(e))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(e,t){if(e===void 0&&(e=r.state.date),t===void 0&&(t=0),!Gm(e))return[];var n=r.props.disabled,i=nh(e,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(b.createElement(`div`,{key:`W`,className:`react-datepicker__day-name ${n?`react-datepicker__day-name--disabled`:``}`,role:`columnheader`},b.createElement(`span`,{className:`react-datepicker__sr-only`},`Week number`),b.createElement(`span`,{"aria-hidden":`true`},r.props.weekLabel||`#`))),a.concat([0,1,2,3,4,5,6].map(function(e){var a=Sc(i,e),o=r.formatWeekday(a,r.props.locale),s=qm(a,`EEEE`,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(a):void 0;if(r.props.renderCustomDayName){var l=r.props.renderCustomDayName({day:a,shortName:o,fullName:s,locale:r.props.locale,customDayNameCount:t});return b.createElement(`div`,{key:e,role:`columnheader`,className:hc(`react-datepicker__day-name`,c,n?`react-datepicker__day-name--disabled`:``)},l)}return b.createElement(`div`,{key:e,role:`columnheader`,className:hc(`react-datepicker__day-name`,c,n?`react-datepicker__day-name--disabled`:``)},b.createElement(`span`,{className:`react-datepicker__sr-only`},s),b.createElement(`span`,{"aria-hidden":`true`},o))}))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?vh(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?bh(e,t):yh(e,t)},r.decreaseYear=function(){r.setState(function(e){var n=e.date;return{date:Xd(n,r.props.showYearPicker?r.props.yearItemNumber??t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){if(!r.props.renderCustomHeader){var e=r.props.monthsShown??t.defaultProps.monthsShown,n=r.props.showPreviousMonths?e-1:0,i=r.props.monthSelectedIn??n,a=qd(r.state.date,i),o;switch(!0){case r.props.disabled:o=!0;break;case r.props.showMonthYearPicker:o=Vh(r.state.date,r.props);break;case r.props.showYearPicker:o=Hh(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=zh(r.state.date,r.props);break;default:o=Lh(a,r.props);break}if(!(!(r.props.forceShowMonthNavigation??t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=[`react-datepicker__navigation-icon`,`react-datepicker__navigation-icon--previous`],c=[`react-datepicker__navigation`,`react-datepicker__navigation--previous`],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(c.push(`react-datepicker__navigation--previous--disabled`),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.previousMonthButtonLabel,p=f===void 0?t.defaultProps.previousMonthButtonLabel:f,m=d.previousYearButtonLabel,h=m===void 0?t.defaultProps.previousYearButtonLabel:m,g=r.props,_=g.previousMonthAriaLabel,v=_===void 0?typeof p==`string`?p:`Previous Month`:_,y=g.previousYearAriaLabel,x=y===void 0?typeof h==`string`?h:`Previous Year`:y;return b.createElement(`button`,{type:`button`,className:c.join(` `),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?x:v},b.createElement(`span`,{className:s.join(` `)},u?h:p))}}},r.increaseYear=function(){r.setState(function(e){var n=e.date;return{date:Bc(n,r.props.showYearPicker?r.props.yearItemNumber??t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.disabled:e=!0;break;case r.props.showMonthYearPicker:e=Uh(r.state.date,r.props);break;case r.props.showYearPicker:e=Wh(r.state.date,r.props);break;case r.props.showQuarterYearPicker:e=Bh(r.state.date,r.props);break;default:e=Rh(r.state.date,r.props);break}if(!(!(r.props.forceShowMonthNavigation??t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&e||r.props.showTimeSelectOnly)){var n=[`react-datepicker__navigation`,`react-datepicker__navigation--next`],i=[`react-datepicker__navigation-icon`,`react-datepicker__navigation-icon--next`];r.props.showTimeSelect&&n.push(`react-datepicker__navigation--next--with-time`),r.props.todayButton&&n.push(`react-datepicker__navigation--next--with-today-button`);var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(n.push(`react-datepicker__navigation--next--disabled`),a=void 0);var o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,s=r.props,c=s.nextMonthButtonLabel,l=c===void 0?t.defaultProps.nextMonthButtonLabel:c,u=s.nextYearButtonLabel,d=u===void 0?t.defaultProps.nextYearButtonLabel:u,f=r.props,p=f.nextMonthAriaLabel,m=p===void 0?typeof l==`string`?l:`Next Month`:p,h=f.nextYearAriaLabel,g=h===void 0?typeof d==`string`?d:`Next Year`:h;return b.createElement(`button`,{type:`button`,className:n.join(` `),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":o?g:m},b.createElement(`span`,{className:i.join(` `)},o?d:l))}}},r.renderCurrentMonth=function(e){e===void 0&&(e=r.state.date);var t=[`react-datepicker__current-month`];return r.props.showYearDropdown&&t.push(`react-datepicker__current-month--hasYearDropdown`),r.props.showMonthDropdown&&t.push(`react-datepicker__current-month--hasMonthDropdown`),r.props.showMonthYearDropdown&&t.push(`react-datepicker__current-month--hasMonthYearDropdown`),b.createElement(`h2`,{className:t.join(` `)},Gm(e)?qm(e,r.props.dateFormat,r.props.locale):``)},r.renderYearDropdown=function(e){if(e===void 0&&(e=!1),!(!r.props.showYearDropdown||e))return b.createElement(Og,Am({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Z(r.state.date)}))},r.renderMonthDropdown=function(e){if(e===void 0&&(e=!1),!(!r.props.showMonthDropdown||e))return b.createElement(_g,Am({},t.defaultProps,r.props,{month:eu(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(e===void 0&&(e=!1),!(!r.props.showMonthYearDropdown||e))return b.createElement(Sg,Am({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(oh(),e),r.props.setPreSelection&&r.props.setPreSelection(oh())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return b.createElement(`div`,{className:`react-datepicker__today-button`,onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(e,t){return t===void 0&&(t=0),b.createElement(`div`,{className:`react-datepicker__day-names`,role:`row`},r.header(e,t))},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i,i=b.createElement(`div`,{className:hc(`react-datepicker__header`,{"react-datepicker__header--has-time-select":r.props.showTimeSelect,"react-datepicker__header--middle":r.props.monthHeaderPosition===`middle`,"react-datepicker__header--bottom":r.props.monthHeaderPosition===`bottom`})},r.renderCurrentMonth(t),b.createElement(`div`,{className:`react-datepicker__header__dropdown react-datepicker__header__dropdown--${r.props.dropdownMode}`,onFocus:r.handleDropdownFocus},r.renderMonthDropdown(n!==0),r.renderMonthYearDropdown(n!==0),r.renderYearDropdown(n!==0)));return r.props.monthHeaderPosition===`top`?i:b.createElement(`div`,{className:`react-datepicker__header-wrapper`},r.renderPreviousButton()||null,r.renderNextButton()||null,i)},r.renderCustomHeader=function(e){var t,n=e.monthDate,i=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=r.props,o=a.showYearPicker,s=a.yearItemNumber,c;if(o){var l=Qh(n,s);c={startYear:l.startPeriod,endYear:l.endPeriod}}var u=Lh(r.state.date,r.props),d=Rh(r.state.date,r.props),f=Vh(r.state.date,r.props),p=Uh(r.state.date,r.props);return b.createElement(`div`,{className:`react-datepicker__header react-datepicker__header--custom`,onFocus:r.props.onDropdownFocus},(t=r.props).renderCustomHeader?.call(t,Am(Am(Am({},r.state),o&&{visibleYearsRange:c}),{customHeaderCount:i,monthDate:n,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:p})))},r.renderYearHeader=function(e){var n=e.monthDate,i=r.props,a=i.showYearPicker,o=i.yearItemNumber,s=Qh(n,o===void 0?t.defaultProps.yearItemNumber:o),c=s.startPeriod,l=s.endPeriod;return b.createElement(`div`,{className:`react-datepicker__header react-datepicker-year-header`},a?`${c} - ${l}`:Z(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,i={monthDate:t,i:n===void 0?0:n};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(i);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}},r.renderMonths=function(){if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var e=[],n=r.props.monthsShown??t.defaultProps.monthsShown,i=r.props.showPreviousMonths?n-1:0,a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Bc(r.state.date,i):qd(r.state.date,i),o=r.props.monthSelectedIn??i,s=0;s<n;++s){var c=s-o+i,l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Bc(a,c):Cc(a,c),u=`month-${s}`,d=s<n-1,f=s>0;e.push(b.createElement(`div`,{key:u,ref:function(e){r.monthContainer=e??void 0},className:`react-datepicker__month-container`},r.props.monthHeaderPosition===`top`&&r.renderHeader({monthDate:l,i:s}),b.createElement(hg,Am({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:l,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:s,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:d,monthShowsDuplicateDaysStart:f,dayNamesHeader:r.renderDayNamesHeader(l,s),monthHeader:r.props.monthHeaderPosition===`middle`?r.renderHeader({monthDate:l,i:s}):void 0,monthFooter:r.props.monthHeaderPosition===`bottom`?r.renderHeader({monthDate:l,i:s}):void 0}))))}return e}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return b.createElement(`div`,{className:`react-datepicker__year--container`},r.renderHeader({monthDate:r.state.date}),b.createElement(Tg,Am({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return b.createElement(Cg,Am({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){if(r.props.showTimeInput){if(r.props.selectsRange){var e=r.props,n=e.startDate,i=e.endDate,a=n?new Date(n):void 0,o=a&&Gm(a)&&n?`${Zh(a.getHours())}:${Zh(a.getMinutes())}`:``,s=i?new Date(i):void 0,c=s&&Gm(s)&&i?`${Zh(s.getHours())}:${Zh(s.getMinutes())}`:``;return b.createElement(b.Fragment,null,b.createElement(ag,Am({},t.defaultProps,r.props,{date:a,timeString:o,onChange:function(e){var t,n;(n=(t=r.props).onTimeChange)==null||n.call(t,e,`start`)},timeInputLabel:(r.props.timeInputLabel??`Time`)+` (Start)`})),b.createElement(ag,Am({},t.defaultProps,r.props,{date:s,timeString:c,onChange:function(e){var t,n;(n=(t=r.props).onTimeChange)==null||n.call(t,e,`end`)},timeInputLabel:(r.props.timeInputLabel??`Time`)+` (End)`})))}var l=r.props.selected?new Date(r.props.selected):void 0,u=l&&Gm(l)&&r.props.selected?`${Zh(l.getHours())}:${Zh(l.getMinutes())}`:``;return b.createElement(ag,Am({},t.defaultProps,r.props,{date:l,timeString:u,onChange:function(e){var t,n;(n=(t=r.props).onTimeChange)==null||n.call(t,e)}}))}},r.renderAriaLiveRegion=function(){if(!Gm(r.state.date))return b.createElement(`span`,{role:`alert`,"aria-live":`polite`,className:`react-datepicker__aria-live`});var e=Qh(r.state.date,r.props.yearItemNumber??t.defaultProps.yearItemNumber),n=e.startPeriod,i=e.endPeriod,a=r.props.showYearPicker?`${n} - ${i}`:r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Z(r.state.date):`${xh(eu(r.state.date),r.props.locale)} ${Z(r.state.date)}`;return b.createElement(`span`,{role:`alert`,"aria-live":`polite`,className:`react-datepicker__aria-live`},r.state.isRenderAriaLiveMessage&&a)},r.renderChildren=function(){if(r.props.children)return b.createElement(`div`,{className:`react-datepicker__children-container`},r.props.children)},r.containerRef=(0,b.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,`defaultProps`,{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:Ag,timeCaption:`Time`,previousYearButtonLabel:`Previous Year`,nextYearButtonLabel:`Next Year`,previousMonthButtonLabel:`Previous Month`,nextMonthButtonLabel:`Next Month`,yearItemNumber:Vm,monthHeaderPosition:`top`}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){e.setState({monthContainer:e.monthContainer})})())},t.prototype.componentDidUpdate=function(e){var t=this;if(this.props.preSelection&&Gm(this.props.preSelection)&&(!ph(this.props.preSelection,e.preSelection)||this.props.monthSelectedIn!==e.monthSelectedIn)){var n=!dh(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!ph(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var e=this.props.container||Mm;return b.createElement(Pm,{onClickOutside:this.handleClickOutside,style:{display:`contents`},ignoreClass:this.props.outsideClickIgnoreClass},b.createElement(`div`,{style:{display:`contents`},ref:this.containerRef},b.createElement(e,{className:hc(`react-datepicker`,this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition===`top`&&this.renderPreviousButton(),this.props.monthHeaderPosition===`top`&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(b.Component),Ng=function(e){var t=e.icon,n=e.className,r=n===void 0?``:n,i=e.onClick,a=`react-datepicker__calendar-icon`;if(typeof t==`string`)return b.createElement(`i`,{className:`${a} ${t} ${r}`,"aria-hidden":`true`,onClick:i});if(b.isValidElement(t)){var o=t;return b.cloneElement(o,{className:`${o.props.className||``} ${a} ${r}`,onClick:function(e){typeof o.props.onClick==`function`&&o.props.onClick(e),typeof i==`function`&&i(e)}})}return b.createElement(`svg`,{className:`${a} ${r}`,xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 448 512`,onClick:i},b.createElement(`path`,{d:`M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z`}))},Pg=function(e){km(t,e);function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement(`div`),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement(`div`),this.portalRoot.setAttribute(`id`,this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Dm.createPortal(this.props.children,this.el)},t}(b.Component),Fg=`[tabindex], a, button, input, select, textarea`,Ig=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},Lg=function(e){km(t,e);function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){return Array.prototype.slice.call(n.tabLoopRef.current?.querySelectorAll(Fg),1,-1).filter(Ig)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,b.createRef)(),n}return t.prototype.render=function(){return this.props.enableTabLoop??t.defaultProps.enableTabLoop?b.createElement(`div`,{className:`react-datepicker__tab-loop`,ref:this.tabLoopRef},b.createElement(`div`,{className:`react-datepicker__tab-loop__start`,tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,b.createElement(`div`,{className:`react-datepicker__tab-loop__end`,tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(b.Component);function Rg(e){function t(t){var n=typeof t.hidePopper==`boolean`?t.hidePopper:!0,r=(0,b.useRef)(null),i=Cm(Am({open:!n,whileElementsMounted:Up,placement:t.popperPlacement,middleware:jm([nm({padding:15}),tm(10),rm({element:r})],t.popperModifiers??[],!0)},t.popperProps)),a=Am(Am({},t),{hidePopper:n,popperProps:Am(Am({},i),{arrowRef:r})});return b.createElement(e,Am({},a))}return t.displayName=`withFloating(${e.displayName||e.name||`Component`})`,t}var zg=Rg(function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,i=r===void 0?!0:r,a=e.popperComponent,o=e.targetComponent,s=e.enableTabLoop,c=e.popperOnKeyDown,l=e.portalId,u=e.portalHost,d=e.popperProps,f=e.showArrow,p=e.popperTargetRef,m=e.monthHeaderPosition;(0,b.useEffect)(function(){p?.current&&d.refs.setPositionReference(p.current)},[p,d.refs]);var h=void 0;if(!i){var g=hc(`react-datepicker-popper`,!f&&`react-datepicker-popper-offset`,m===`middle`&&`react-datepicker-popper--header-middle`,m===`bottom`&&`react-datepicker-popper--header-bottom`,t);h=b.createElement(Lg,{enableTabLoop:s},b.createElement(`div`,{ref:d.refs.setFloating,style:d.floatingStyles,className:g,"data-placement":d.placement,onKeyDown:c},a,f&&b.createElement(gm,{ref:d.arrowRef,context:d.context,fill:`currentColor`,strokeWidth:1,height:8,width:16,style:{transform:`translateY(-1px)`},className:`react-datepicker__triangle`})))}e.popperContainer&&(h=(0,b.createElement)(e.popperContainer,{},h)),l&&!i&&(h=b.createElement(Pg,{portalId:l,portalHost:u},h));var _=hc(`react-datepicker-wrapper`,n);return b.createElement(b.Fragment,null,b.createElement(`div`,{ref:d.refs.setReference,className:_},o),h)});function Bg(e,t){return e&&t?eu(e)!==eu(t)||Z(e)!==Z(t):e!==t}var Vg=`Date input not valid.`,Hg=function(e){km(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){var e=r.props.timeZone,t=r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Hm();return e?Rm(t,e):t},r.modifyHolidays=function(){return r.props.holidays?.reduce(function(e,t){var n=Um(t.date,`yyyy-MM-dd`,void 0,!1);return n?jm(jm([],e,!0),[Am(Am({},t),{date:n})],!1):e},[])},r.calcInitialState=function(){var e=r.props.timeZone,t=r.getPreSelection(),n=Gh(r.props),i=Kh(r.props),a=n&&iu(t,th(n))?n:i&&ru(t,sh(i))?i:t,o=r.props.selectsRange?r.props.startDate:r.props.selected;return o&&e&&(o=Rm(o,e)),{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:o??a,highlightDates:qh(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var e=r.props,n=e.locale,i=e.startDate,a=e.endDate,o=e.rangeSeparator,s=e.selected,c=e.selectedDates,l=e.selectsMultiple,u=e.selectsRange,d=e.formatMultipleDates,f=e.value,p=r.props.dateFormat??t.defaultProps.dateFormat,m=r.state.inputValue;return typeof f==`string`?f:typeof m==`string`?m:u?Xm(i,a,{dateFormat:p,locale:n,rangeSeparator:o}):l?d?d(c??[],function(e){return Jm(e,{dateFormat:p,locale:n})}):Zm(c??[],{dateFormat:p,locale:n}):Jm(s,{dateFormat:p,locale:n})},r.resetHiddenStatus=function(){r.setState(Am(Am({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Am(Am({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState===`hidden`&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;(t=(e=r.input)?.focus)==null||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;(t=(e=r.input)?.blur)==null||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(e,t){t===void 0&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Wg},function(){e||r.setState(function(e){return{focused:t?e.focused:!1}},function(){!t&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Wc(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,i=r.state.wasHidden,a=i?r.state.open:!0;i&&r.resetHiddenStatus(),r.state.preventFocus||((n=(t=r.props).onFocus)==null||n.call(t,e),a&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(Am(Am({},r.state),{inputValue:null}))},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((n=(t=r.props).onBlur)==null||n.call(t,e));var i=r.state.inputValue;typeof i==`string`&&i.length>0&&!/[a-zA-Z0-9]/.test(i)&&r.props.selected&&r.setSelected(null,void 0,!0),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;(n=(t=r.props).onClickOutside)==null||n.call(t,e),!r.props.inline&&!e.defaultPrevented&&r.setOpen(!1),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),!o||typeof o.isDefaultPrevented!=`function`||o.isDefaultPrevented()))){r.setState({inputValue:o?.target instanceof HTMLInputElement?o.target.value:null,lastPreSelectChange:Ug});var s=r.props,c=s.selectsRange,l=s.startDate,u=s.endDate,d=r.props.dateFormat??t.defaultProps.dateFormat,f=r.props.strictParsing??t.defaultProps.strictParsing,p=o?.target instanceof HTMLInputElement?o.target.value:``;if(c){var m=r.props.rangeSeparator,h=m.trim(),g=p.split(d.includes(h)?m:h,2).map(function(e){return e.trim()}),_=g[0],v=g[1],y=Um(_??``,d,r.props.locale,f),b=y?Um(v??``,d,r.props.locale,f):null,x=Km(l)?.getTime()!==y?.getTime(),S=Km(u)?.getTime()!==b?.getTime();if(!x&&!S||y&&wh(y,r.props)||b&&wh(b,r.props))return;y&&r.setState({preSelection:y}),(n=(e=r.props).onChange)==null||n.call(e,[y,b],o)}else{var C=Um(p,d,r.props.locale,f,r.props.selected??void 0);if(C||!p)r.setSelected(C,o,!0);else if(!r.props.inline){var w=Wm(p,r.state.preSelection??void 0);w&&(!r.props.minDate||!iu(w,r.props.minDate))&&(!r.props.maxDate||!ru(w,r.props.maxDate))&&r.setState({preSelection:w})}}}},r.handleSelect=function(e,n,i){if(!r.props.readOnly){var a=r.props,o=a.selectsRange,s=a.startDate,c=a.endDate,l=a.locale,u=a.swapRange,d=r.props.dateFormat??t.defaultProps.dateFormat,f=!o||s&&!c&&(u||!rg(e,s));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&f&&r.sendFocusBackToInput(),r.props.onChangeRaw){var p=Jm(e,{dateFormat:d,locale:l});r.props.onChangeRaw(n,{date:e,formattedDate:p})}r.setSelected(e,n,!1,i),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(e):f&&r.setOpen(!1)}},r.setSelected=function(e,t,n,i){var a,o,s=r.props.timeZone,c=e;if(c&&s&&(c=zm(c,s)),r.props.showYearPicker){if(c!==null&&jh(Z(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&Eh(c,r.props))return}else if(c!==null&&wh(c,r.props))return;var l=r.props,u=l.onChange,d=l.selectsRange,f=l.startDate,p=l.endDate,m=l.selectsMultiple,h=l.selectedDates,g=l.minTime,_=l.swapRange;if(!mh(r.props.selected,c)||r.props.allowSameDay||d||m)if(c!==null&&(r.props.selected&&(!n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Qm(c,{hour:Zl(r.props.selected),minute:$l(r.props.selected),second:tu(r.props.selected)})),!n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&g&&(c=Qm(c,{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:i})),d){var v=u,y=!f&&!p,b=f&&!p,x=!f&&!!p,S=f&&p;y?v?.([c,null],t):b?c===null?v?.([null,null],t):rg(c,f)?_?v?.([c,f],t):v?.([c,null],t):v?.([f,c],t):x&&(c&&rg(c,p)?v?.([c,p],t):v?.([c,null],t)),S&&v?.([c,null],t)}else if(m){var C=u;if(c!==null)if(!h?.length)C?.([c],t);else if(h.some(function(e){return ph(e,c)})){var w=h.filter(function(e){return!ph(e,c)});C?.(w,t)}else C?.(jm(jm([],h,!0),[c],!1),t)}else u?.(c,t);n||((o=(a=r.props).onSelect)==null||o.call(a,c,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){if(!r.props.readOnly){var t=Wc(r.props.minDate),n=Wc(r.props.maxDate),i=!0;if(e){var a=th(e);if(t&&n)i=hh(e,r.props.minDate,r.props.maxDate);else if(t){var o=th(r.props.minDate);i=ru(e,o)||mh(a,o)}else if(n){var s=sh(r.props.maxDate);i=iu(e,s)||mh(a,s)}}i&&r.setState({preSelection:e})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e,t){var n,i;if(!r.props.selectsMultiple){var a=r.props,o=a.selectsRange,s=a.startDate,c=a.endDate,l=a.onChange,u=a.timeZone;if(o){var d=l;if(t===`start`){if(s){var f=Qm(s,{hour:Zl(e),minute:$l(e)});r.setState({preSelection:f}),u&&(f=zm(f,u)),d?.([f,c?u?zm(c,u):c:null],void 0)}}else if(t===`end`){if(c){var p=Qm(c,{hour:Zl(e),minute:$l(e)});r.setState({preSelection:p}),u&&(p=zm(p,u)),d?.([s?u?zm(s,u):s:null,p],void 0)}}else if(s&&!c){var f=Qm(s,{hour:Zl(e),minute:$l(e)});r.setState({preSelection:f}),u&&(f=zm(f,u)),d?.([f,null],void 0)}else if(s&&c){var p=Qm(c,{hour:Zl(e),minute:$l(e)});r.setState({preSelection:p}),u&&(p=zm(p,u)),d?.([u?zm(s,u):s,p],void 0)}else{var m=Qm(r.getPreSelection(),{hour:Zl(e),minute:$l(e)});r.setState({preSelection:m})}}else{var h=r.props.selected?r.props.selected:r.getPreSelection(),m=r.props.selected?e:Qm(h,{hour:Zl(e),minute:$l(e)});r.setState({preSelection:m}),m&&u&&(m=zm(m,u)),(i=(n=r.props).onChange)==null||i.call(n,m)}r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(t=(e=r.props).onInputClick)==null||t.call(e)},r.handleTimeOnlyArrowKey=function(e){var n,i,a=Km(r.props.selected)||r.state.preSelection||Hm(),o=r.props.timeIntervals??30,s=r.props.dateFormat??t.defaultProps.dateFormat,c=Array.isArray(s)?s[0]:s,l=th(a),u=Zl(a)*60+$l(a),d=1440-o,f;if(e===Q.ArrowUp){var p=Math.max(0,u-o);f=Ic(l,p)}else{var p=Math.min(d,u+o);f=Ic(l,p)}var m=qm(f,c||t.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:f,inputValue:m}),!(r.props.selectsRange||r.props.selectsMultiple)){var h=r.props.selected?r.props.selected:r.getPreSelection(),g=r.props.selected?f:Qm(h,{hour:Zl(f),minute:$l(f)});(i=(n=r.props).onChange)==null||i.call(n,g),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(f)})}},r.handleTimeOnlyEnterKey=function(e){var n=e.target.value,i=r.props.dateFormat??t.defaultProps.dateFormat,a=r.props.timeFormat||`p`,o=r.state.preSelection||Km(r.props.selected)||Hm(),s=Um(n,i,r.props.locale,r.props.strictParsing??!1,o),c=o;if(s&&Gm(s))c=s;else{var l=r.calendar?.containerRef.current instanceof Element&&r.calendar.containerRef.current.querySelector(`.react-datepicker__time-list-item[tabindex='0']`);if(l instanceof HTMLElement){var u=l.textContent?.trim();if(u){var d=Um(u,a,r.props.locale,!1,o);d&&Gm(d)&&(c=d)}}}r.handleTimeChange(c),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(e){if(r.calendar?.containerRef.current){for(var t=r.calendar.containerRef.current,n=Array.from(t.querySelectorAll(`.react-datepicker__time-list-item`)),i=null,a=1/0,o=r.props.timeFormat||`p`,s=0,c=n;s<c.length;s++){var l=c[s],u=l.textContent?.trim();if(u){var d=Um(u,o,r.props.locale,!1,e);if(d&&Gm(d)){if(tg(d,e)){i=l;break}var f=Math.abs(d.getTime()-e.getTime());f<a&&(a=f,i=l)}}}i&&(n.forEach(function(e){e.setAttribute(`tabindex`,`-1`)}),i.setAttribute(`tabindex`,`0`),i.scrollIntoView({behavior:`smooth`,block:`center`}))}},r.onInputKeyDown=function(e){var t,n,i,a,o;(n=(t=r.props).onKeyDown)==null||n.call(t,e);var s=e.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(s===Q.ArrowDown||s===Q.ArrowUp||s===Q.Enter)&&((i=r.onInputClick)==null||i.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(s===Q.ArrowDown||s===Q.ArrowUp){e.preventDefault(),r.handleTimeOnlyArrowKey(s);return}if(s===Q.Enter){e.preventDefault(),r.handleTimeOnlyEnterKey(e);return}}if(r.state.open){if(s===Q.ArrowDown||s===Q.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?`.react-datepicker__time-list-item[tabindex='0']`:r.props.showWeekPicker&&r.props.showWeekNumbers?`.react-datepicker__week-number[tabindex="0"]`:r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?`.react-datepicker__month-text[tabindex="0"]`:`.react-datepicker__day[tabindex="0"]`,l=r.calendar?.containerRef.current instanceof Element&&r.calendar.containerRef.current.querySelector(c);l instanceof HTMLElement&&l.focus({preventScroll:!0});return}var u=Hm(r.state.preSelection);s===Q.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Wg?(r.handleSelect(u,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(u)):r.setOpen(!1)):s===Q.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):s===Q.Tab&&r.setOpen(!1),r.inputOk()||(o=(a=r.props).onInputError)==null||o.call(a,{code:1,msg:Vg})}},r.onPortalKeyDown=function(e){e.key===Q.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(e){var t,n,i,a,o,s,c=r.props,l=c.minDate,u=c.maxDate,d=c.disabledKeyboardNavigation,f=c.showWeekPicker,p=c.shouldCloseOnSelect,m=c.locale,h=c.calendarStartDay,g=c.adjustDateOnChange,_=c.inline;if((n=(t=r.props).onKeyDown)==null||n.call(t,e),!d){var v=e.key,y=e.shiftKey,b=Hm(r.state.preSelection),x=function(e,t){var n=t;switch(e){case Q.ArrowRight:n=f?zc(t,1):Sc(t,1);break;case Q.ArrowLeft:n=f?Yd(t,1):bd(t,1);break;case Q.ArrowUp:n=Yd(t,1);break;case Q.ArrowDown:n=zc(t,1);break;case Q.PageUp:n=y?Xd(t,1):qd(t,1);break;case Q.PageDown:n=y?Bc(t,1):Cc(t,1);break;case Q.Home:n=nh(t,m,h);break;case Q.End:n=ch(t);break}return n},S=function(e,t){for(var n=40,i=e,a=!1,o=0,s=x(e,t);!a;){if(o>=n){s=t;break}l&&s<l&&(i=Q.ArrowRight,s=wh(l,r.props)?x(i,s):l),u&&s>u&&(i=Q.ArrowLeft,s=wh(u,r.props)?x(i,s):u),wh(s,r.props)?((i===Q.PageUp||i===Q.Home)&&(i=Q.ArrowRight),(i===Q.PageDown||i===Q.End)&&(i=Q.ArrowLeft),s=x(i,s)):a=!0,o++}return s};if(v===Q.Enter){e.preventDefault(),r.handleSelect(b,e),!p&&r.setPreSelection(b);return}else if(v===Q.Escape){e.preventDefault(),r.setOpen(!1),r.inputOk()||(a=(i=r.props).onInputError)==null||a.call(i,{code:1,msg:Vg});return}var C=null;switch(v){case Q.ArrowLeft:case Q.ArrowRight:case Q.ArrowUp:case Q.ArrowDown:case Q.PageUp:case Q.PageDown:case Q.Home:case Q.End:C=S(v,b);break}if(!C){(s=(o=r.props).onInputError)==null||s.call(o,{code:1,msg:Vg});return}e.preventDefault(),r.setState({lastPreSelectChange:Wg}),g&&r.setSelected(C),r.setPreSelection(C),_&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(e){e.key===Q.Escape&&(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,i=t.onChange;n?i?.([null,null],e):i?.(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){typeof r.props.closeOnScroll==`boolean`&&r.props.closeOnScroll?(e.target===document||e.target===document.documentElement||e.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll==`function`&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.handleMonthSelectedInChange=function(e){r.setState({monthSelectedIn:e})},r.renderCalendar=function(){return!r.props.inline&&!r.isCalendarOpen()?null:b.createElement(Mg,Am({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:r.props.dateFormatCalendar??t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Yh(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:r.props.dropdownMode??t.defaultProps.dropdownMode,onMonthSelectedInChange:r.handleMonthSelectedInChange}),r.props.children)},r.renderAriaLiveRegion=function(){var e=r.props.locale,n=r.props.dateFormat??t.defaultProps.dateFormat,i=r.props.showTimeInput||r.props.showTimeSelect?`PPPPp`:`PPPP`,a=r.props.selectsRange?`Selected start date: ${Jm(r.props.startDate,{dateFormat:i,locale:e})}. ${r.props.endDate?`End date: `+Jm(r.props.endDate,{dateFormat:i,locale:e}):``}`:r.props.showTimeSelectOnly?`Selected time: ${Jm(r.props.selected,{dateFormat:n,locale:e})}`:r.props.showYearPicker?`Selected year: ${Jm(r.props.selected,{dateFormat:`yyyy`,locale:e})}`:r.props.showMonthYearPicker?`Selected month: ${Jm(r.props.selected,{dateFormat:`MMMM yyyy`,locale:e})}`:r.props.showQuarterYearPicker?`Selected quarter: ${Jm(r.props.selected,{dateFormat:`yyyy, QQQ`,locale:e})}`:`Selected date: ${Jm(r.props.selected,{dateFormat:i,locale:e})}`;return b.createElement(`span`,{role:`alert`,"aria-live":`polite`,className:`react-datepicker__aria-live`},a)},r.renderDateInput=function(){var e,n,i=hc(r.props.className,(e={},e[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,e)),a=r.props.customInput||b.createElement(`input`,{type:`text`}),o=r.props.customInputRef||`ref`,s={},c=r.props[`aria-describedby`]??r.props.ariaDescribedBy,l=r.props[`aria-invalid`]??r.props.ariaInvalid,u=r.props[`aria-label`]??r.props.ariaLabel,d=r.props[`aria-labelledby`]??r.props.ariaLabelledBy,f=r.props[`aria-required`]??r.props.ariaRequired;return c!=null&&(s[`aria-describedby`]=c),l!=null&&(s[`aria-invalid`]=l),u!=null&&(s[`aria-label`]=u),d!=null&&(s[`aria-labelledby`]=d),f!=null&&(s[`aria-required`]=f),(0,b.cloneElement)(a,Am((n={},n[o]=function(e){r.input=e},n.value=r.getInputValue(),n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=hc(a.props.className,i),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n),s))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,i=e.selected,a=e.startDate,o=e.endDate,s=e.clearButtonTitle,c=e.clearButtonClassName,l=c===void 0?``:c,u=e.ariaLabelClose,d=u===void 0?`Close`:u,f=e.selectedDates,p=e.readOnly;return t&&!p&&(i!=null||a!=null||o!=null||f?.length)?b.createElement(`button`,{type:`button`,className:hc(`react-datepicker__close-icon`,l,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":d,onClick:r.onClearClick,title:s,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,`defaultProps`,{get:function(){return{allowSameDay:!1,dateFormat:`MM/dd/yyyy`,dateFormatCalendar:`LLLL yyyy`,disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:`scroll`,preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:Ag,readOnly:!1,rangeSeparator:Ym,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:`Time`,previousMonthAriaLabel:`Previous Month`,previousMonthButtonLabel:`Previous Month`,nextMonthAriaLabel:`Next Month`,nextMonthButtonLabel:`Next Month`,previousYearAriaLabel:`Previous Year`,previousYearButtonLabel:`Previous Year`,nextYearAriaLabel:`Next Year`,nextYearButtonLabel:`Next Year`,timeInputLabel:`Time`,enableTabLoop:!0,yearItemNumber:Vm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener(`scroll`,this.onScroll,!0),document.addEventListener(`visibilitychange`,this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,i,a;this.props.selectsRange&&Bg(e.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):Bg(e.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&t.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:qh(this.props.highlightDates)}),!t.focused&&!mh(e.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((r=(n=this.props).onCalendarOpen)==null||r.call(n)),t.open===!0&&this.state.open===!1&&((a=(i=this.props).onCalendarClose)==null||a.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener(`scroll`,this.onScroll,!0),document.removeEventListener(`visibilitychange`,this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,i=e.calendarIconClassName,a=e.toggleCalendarOnIconClick,o=this.state.open;return r&&console.warn(`calendarIconClassname props is deprecated. should use calendarIconClassName props.`),b.createElement(`div`,{className:`react-datepicker__input-container${t?` react-datepicker__view-calendar-icon`:``}`},t&&b.createElement(Ng,Am({icon:n,className:hc(i,!i&&r,o&&`react-datepicker-ignore-onclickoutside`)},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?b.createElement(Lg,{enableTabLoop:this.props.enableTabLoop},b.createElement(`div`,{className:`react-datepicker__portal`,tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=b.createElement(Pg,Am({portalId:this.props.portalId},this.props),t)),b.createElement(b.Fragment,null,this.renderInputContainer(),t)}return b.createElement(zg,Am({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t}(b.Component),Ug=`input`,Wg=`navigate`;const Gg=`https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?auto=format&fit=crop&q=80&w=200`;var Kg=[`https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1566127444979-b3d2b654e3d7?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1549289524-1e85c7b6c299?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1555992336-fb9d29493b13?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1533105079780-92b9be482077?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1604580864964-c8d03b3068e2?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1548013146-72479768bada?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1599707367072-cd6ad663325d?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1576504677634-06b2130bd1f3?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1525641855721-6f4963066356?auto=format&fit=crop&q=80&w=200`],qg=()=>Kg[Math.floor(Math.random()*Kg.length)];const Jg=async(e,t)=>{if(`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))try{let{data:n,error:r}=await uc.auth.signInWithPassword({email:e,password:t});if(r)return{success:!1,message:r.message};if(n.user)return{success:!0,data:{id:n.user.id,name:n.user.user_metadata.name||e.split(`@`)[0],email:n.user.email||``,avatar:n.user.user_metadata.avatar_url||qg(),token:n.session?.access_token}}}catch(e){return console.error(`Supabase Login Error:`,e),{success:!1,message:``}}return new Promise(n=>{setTimeout(()=>{if(t.length<6){n({success:!1,message:`6`});return}n({success:!0,data:{id:`user-`+Date.now(),name:e.split(`@`)[0],email:e,avatar:qg(),token:`mock-jwt-token-`+Date.now()}})},1500)})},Yg=async(e,t,n)=>{if(`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))try{let{data:r,error:i}=await uc.auth.signUp({email:e,password:t,options:{data:{name:n,avatar_url:qg()}}});if(i)return{success:!1,message:i.message};if(r.user)return r.session?{success:!0,data:{id:r.user.id,name:n,email:e,avatar:r.user.user_metadata.avatar_url||qg(),token:r.session?.access_token}}:{success:!1,message:``}}catch(e){return console.error(`Supabase Register Error:`,e),{success:!1,message:``}}return new Promise(r=>{setTimeout(()=>{if(t.length<6){r({success:!1,message:`6`});return}r({success:!0,data:{id:`user-`+Date.now(),name:n||``,email:e,avatar:qg(),token:`mock-jwt-token-`+Date.now()}})},1500)})};var Xg=()=>{let e=$e(),[t,n]=(0,b.useState)(null),[r,i]=(0,b.useState)([]),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)([null,null]),[l,u]=s,[d,f]=(0,b.useState)(0),[p,m]=(0,b.useState)([]);b.useEffect(()=>{let e=localStorage.getItem(`museum_user`),t=null;if(e)try{let r=JSON.parse(e);t=r.id||r.uid,n(r)}catch(e){console.error(`Failed to parse user`,e)}(async()=>{if(t){let e=await fc.getUserPlans(t);if(e.length>0)i(e);else{let e=localStorage.getItem(`my_plans`);e&&i(JSON.parse(e).filter(e=>e.uid===t))}}else i([])})()},[]);let h=e=>{if(!e)return``;let t=new Date(e);return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}`};b.useEffect(()=>{if(l&&u){let e=Math.abs(u.getTime()-l.getTime()),t=Math.ceil(e/(1e3*60*60*24))+1;f(t>0?t:0)}else f(0)},[l,u]);let g=()=>{if(!t){e(`/auth`);return}if(!a.trim()){alert(``);return}if(!l||!u){alert(``);return}if(p.length===0){alert(``);return}e(`/plan/edit`,{state:{destination:a,days:d,preferences:p,startDate:l?l.toISOString():null}})},_=[{id:`history`,label:``,icon:``},{id:`art`,label:``,icon:``},{id:`nature`,label:``,icon:``},{id:`family`,label:``,icon:``}],v=e=>{p.includes(e)?m(p.filter(t=>t!==e)):m([...p,e])};return(0,W.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800`,children:[(0,W.jsx)(`header`,{className:`px-6 pt-8 pb-4 bg-white sticky top-0 z-10`,children:(0,W.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{className:`text-2xl font-bold font-serif tracking-wide text-stone-900`,children:``}),(0,W.jsx)(`p`,{className:`text-xs text-stone-500 mt-1`,children:``})]}),(0,W.jsx)(gn,{to:`/profile`,className:`w-10 h-10 rounded-full bg-stone-200 overflow-hidden border-2 border-white shadow-sm active:scale-95 transition-transform block`,children:(0,W.jsx)(`img`,{src:t?.avatar||`https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?auto=format&fit=crop&q=80&w=200`,alt:`Avatar`,className:`w-full h-full object-cover`,onError:e=>{e.target.src=Gg}})})]})}),(0,W.jsxs)(`main`,{className:`flex-1 px-4 py-2 overflow-y-auto pb-20`,children:[(0,W.jsxs)(`section`,{className:`bg-white rounded-3xl p-5 shadow-sm border border-stone-100 mb-6`,children:[(0,W.jsxs)(`h2`,{className:`text-lg font-bold text-stone-900 mb-4 flex items-center`,children:[(0,W.jsx)(Zn,{className:`w-5 h-5 mr-2 text-amber-500`}),``]}),(0,W.jsxs)(`div`,{className:`mb-4`,children:[(0,W.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-1.5 uppercase tracking-wider`,children:``}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(fr,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 w-5 h-5`}),(0,W.jsx)(`input`,{type:`text`,value:a,onChange:e=>o(e.target.value),placeholder:`()`,className:`w-full pl-10 pr-4 py-3 bg-stone-50 border-none rounded-xl focus:ring-2 focus:ring-amber-200 text-stone-800 placeholder-stone-400 font-medium`})]})]}),(0,W.jsxs)(`div`,{className:`mb-6`,children:[(0,W.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider`,children:``}),(0,W.jsxs)(`div`,{className:`bg-stone-50 rounded-2xl p-3 border border-stone-100`,children:[(0,W.jsxs)(`div`,{className:`relative w-full`,children:[(0,W.jsx)(`div`,{className:`absolute left-3 top-1/2 -translate-y-1/2 z-10 pointer-events-none text-stone-400`,children:(0,W.jsx)(Gn,{size:18})}),(0,W.jsx)(Hg,{selectsRange:!0,startDate:l,endDate:u,onChange:e=>{c(e)},placeholderText:``,className:`w-full bg-white rounded-xl border border-stone-200 pl-10 pr-4 py-3 text-sm text-stone-700 focus:ring-2 focus:ring-amber-200 focus:outline-none shadow-sm font-medium`,wrapperClassName:`w-full`,dateFormat:`yyyy/MM/dd`,minDate:new Date,isClearable:!0})]}),d>0&&(0,W.jsxs)(`div`,{className:`mt-3 bg-white rounded-xl p-2 flex items-center justify-center space-x-2 border border-stone-100 shadow-sm animate-in fade-in slide-in-from-top-1`,children:[(0,W.jsx)(`span`,{className:`text-xs text-stone-500`,children:``}),(0,W.jsx)(`span`,{className:`text-xl font-bold text-stone-900`,children:d}),(0,W.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]})]})]}),(0,W.jsxs)(`div`,{className:`mb-6`,children:[(0,W.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-1.5 uppercase tracking-wider`,children:` ()`}),(0,W.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:_.map(e=>(0,W.jsxs)(`button`,{onClick:()=>v(e.label),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center border ${p.includes(e.label)?`bg-amber-100 text-amber-800 border-amber-200`:`bg-stone-50 text-stone-600 border-transparent hover:bg-stone-100`}`,children:[(0,W.jsx)(`span`,{className:`mr-1.5`,children:e.icon}),e.label]},e.id))})]}),(0,W.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,W.jsxs)(`button`,{onClick:g,className:`relative group overflow-hidden rounded-2xl h-16 flex items-center justify-center bg-stone-900 text-white shadow-lg active:scale-[0.98] transition-transform`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-r from-violet-600 to-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity`}),(0,W.jsxs)(`div`,{className:`relative flex flex-col items-center`,children:[(0,W.jsxs)(`div`,{className:`flex items-center font-bold`,children:[(0,W.jsx)(Or,{size:16,className:`mr-1.5 text-amber-300`}),`AI `]}),(0,W.jsx)(`span`,{className:`text-[10px] text-stone-300 mt-0.5`,children:``})]})]}),(0,W.jsxs)(`button`,{className:`rounded-2xl h-16 flex flex-col items-center justify-center bg-amber-50 text-amber-900 border border-amber-100 active:scale-[0.98] transition-transform`,children:[(0,W.jsxs)(`div`,{className:`flex items-center font-bold`,children:[(0,W.jsx)(yr,{size:16,className:`mr-1.5`}),``]}),(0,W.jsx)(`span`,{className:`text-[10px] text-amber-700/60 mt-0.5`,children:``})]})]})]}),(0,W.jsxs)(`section`,{children:[(0,W.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,W.jsx)(`h3`,{className:`text-lg font-bold font-serif text-stone-900`,children:``}),(0,W.jsxs)(`div`,{className:`flex space-x-4 text-sm`,children:[(0,W.jsx)(`button`,{className:`font-bold text-stone-900`,children:``}),(0,W.jsx)(`button`,{className:`text-stone-400`,children:``})]})]}),(0,W.jsx)(`div`,{className:`space-y-4`,children:r.length>0?r.map(e=>(0,W.jsxs)(`div`,{className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4`,children:[(0,W.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,W.jsx)(`img`,{src:e.image,alt:e.destination,className:`w-full h-full object-cover ${e.status===`completed`?`grayscale`:``}`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,W.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:[e.days,``]})]}),(0,W.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-900 text-lg leading-tight mb-1`,children:e.title}),(0,W.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,W.jsx)(fr,{size:12,className:`mr-1`}),(0,W.jsx)(`span`,{children:e.destination})]})]}),(0,W.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,W.jsx)(`span`,{className:`text-xs text-stone-400 font-medium`,children:h(e.startDate)}),(0,W.jsx)(`span`,{className:`text-xs px-2 py-1 rounded-full font-medium ${e.status===`upcoming`?`bg-blue-50 text-blue-600`:e.status===`completed`?`bg-stone-100 text-stone-500`:`bg-amber-50 text-amber-600`}`,children:e.status===`upcoming`?``:e.status===`completed`?``:``})]})]})]},e.id)):(0,W.jsxs)(`div`,{className:`bg-white rounded-2xl p-8 shadow-sm border border-stone-100 text-center flex flex-col items-center justify-center animate-in fade-in zoom-in duration-500`,children:[(0,W.jsx)(`div`,{className:`w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mb-4 text-stone-400`,children:(0,W.jsx)(pr,{size:32,strokeWidth:1.5})}),(0,W.jsx)(`h3`,{className:`text-lg font-bold text-stone-800 mb-2`,children:t?``:``}),(0,W.jsx)(`p`,{className:`text-stone-500 text-xs mb-6 leading-relaxed max-w-xs`,children:t?`
 AI `:`
`}),t?(0,W.jsxs)(`button`,{onClick:()=>document.querySelector(`input`)?.focus(),className:`px-6 py-2.5 bg-stone-900 text-white rounded-xl font-medium shadow-lg shadow-stone-900/10 hover:bg-stone-800 active:scale-95 transition-all flex items-center text-sm`,children:[(0,W.jsx)(Sr,{size:16,className:`mr-1.5`}),``]}):(0,W.jsx)(gn,{to:`/auth`,className:`px-6 py-2.5 bg-amber-600 text-white rounded-xl font-medium shadow-lg shadow-amber-900/10 hover:bg-amber-500 active:scale-95 transition-all flex items-center text-sm`,children:``})]})})]})]})]})};function Zg(){var e=[...arguments];return(0,b.useMemo)(()=>t=>{e.forEach(e=>e(t))},e)}var Qg=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function $g(e){let t=Object.prototype.toString.call(e);return t===`[object Window]`||t===`[object global]`}function e_(e){return`nodeType`in e}function t_(e){return e?$g(e)?e:e_(e)?e.ownerDocument?.defaultView??window:window:window}function n_(e){let{Document:t}=t_(e);return e instanceof t}function r_(e){return $g(e)?!1:e instanceof t_(e).HTMLElement}function i_(e){return e instanceof t_(e).SVGElement}function a_(e){return e?$g(e)?e.document:e_(e)?n_(e)?e:r_(e)||i_(e)?e.ownerDocument:document:document:document}var o_=Qg?b.useLayoutEffect:b.useEffect;function s_(e){let t=(0,b.useRef)(e);return o_(()=>{t.current=e}),(0,b.useCallback)(function(){var e=[...arguments];return t.current==null?void 0:t.current(...e)},[])}function c_(){let e=(0,b.useRef)(null);return[(0,b.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,b.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[])]}function l_(e,t){t===void 0&&(t=[e]);let n=(0,b.useRef)(e);return o_(()=>{n.current!==e&&(n.current=e)},t),n}function u_(e,t){let n=(0,b.useRef)();return(0,b.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function d_(e){let t=s_(e),n=(0,b.useRef)(null);return[n,(0,b.useCallback)(e=>{e!==n.current&&t?.(e,n.current),n.current=e},[])]}function f_(e){let t=(0,b.useRef)();return(0,b.useEffect)(()=>{t.current=e},[e]),t.current}var p_={};function m_(e,t){return(0,b.useMemo)(()=>{if(t)return t;let n=p_[e]==null?0:p_[e]+1;return p_[e]=n,e+`-`+n},[e,t])}function h_(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>{let r=Object.entries(n);for(let[n,i]of r){let r=t[n];r!=null&&(t[n]=r+e*i)}return t},{...t})}}var g_=h_(1),__=h_(-1);function v_(e){return`clientX`in e&&`clientY`in e}function y_(e){if(!e)return!1;let{KeyboardEvent:t}=t_(e.target);return t&&e instanceof t}function b_(e){if(!e)return!1;let{TouchEvent:t}=t_(e.target);return t&&e instanceof t}function x_(e){if(b_(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return v_(e)?{x:e.clientX,y:e.clientY}:null}var S_=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return`translate3d(`+(t?Math.round(t):0)+`px, `+(n?Math.round(n):0)+`px, 0)`}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return`scaleX(`+t+`) scaleY(`+n+`)`}},Transform:{toString(e){if(e)return[S_.Translate.toString(e),S_.Scale.toString(e)].join(` `)}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+` `+n+`ms `+r}}}),C_=`a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]`;function w_(e){return e.matches(C_)?e:e.querySelector(C_)}var T_={display:`none`};function E_(e){let{id:t,value:n}=e;return b.createElement(`div`,{id:t,style:T_},n)}function D_(e){let{id:t,announcement:n,ariaLiveType:r=`assertive`}=e;return b.createElement(`div`,{id:t,style:{position:`fixed`,top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:`hidden`,clip:`rect(0 0 0 0)`,clipPath:`inset(100%)`,whiteSpace:`nowrap`},role:`status`,"aria-live":r,"aria-atomic":!0},n)}function O_(){let[e,t]=(0,b.useState)(``);return{announce:(0,b.useCallback)(e=>{e!=null&&t(e)},[]),announcement:e}}var k_=_(),A_=(0,b.createContext)(null);function j_(e){let t=(0,b.useContext)(A_);(0,b.useEffect)(()=>{if(!t)throw Error(`useDndMonitor must be used within a children of <DndContext>`);return t(e)},[e,t])}function M_(){let[e]=(0,b.useState)(()=>new Set),t=(0,b.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,b.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>e[n]?.call(e,r))},[e]),t]}var N_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},P_={onDragStart(e){let{active:t}=e;return`Picked up draggable item `+t.id+`.`},onDragOver(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was moved over droppable area `+n.id+`.`:`Draggable item `+t.id+` is no longer over a droppable area.`},onDragEnd(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was dropped over droppable area `+n.id:`Draggable item `+t.id+` was dropped.`},onDragCancel(e){let{active:t}=e;return`Dragging was cancelled. Draggable item `+t.id+` was dropped.`}};function F_(e){let{announcements:t=P_,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=N_}=e,{announce:a,announcement:o}=O_(),s=m_(`DndLiveRegion`),[c,l]=(0,b.useState)(!1);if((0,b.useEffect)(()=>{l(!0)},[]),j_((0,b.useMemo)(()=>({onDragStart(e){let{active:n}=e;a(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&a(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;a(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;a(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;a(t.onDragCancel({active:n,over:r}))}}),[a,t])),!c)return null;let u=b.createElement(b.Fragment,null,b.createElement(E_,{id:r,value:i.draggable}),b.createElement(D_,{id:s,announcement:o}));return n?(0,k_.createPortal)(u,n):u}var I_;(function(e){e.DragStart=`dragStart`,e.DragMove=`dragMove`,e.DragEnd=`dragEnd`,e.DragCancel=`dragCancel`,e.DragOver=`dragOver`,e.RegisterDroppable=`registerDroppable`,e.SetDroppableDisabled=`setDroppableDisabled`,e.UnregisterDroppable=`unregisterDroppable`})(I_||={});function L_(){}function R_(e,t){return(0,b.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function z_(){var e=[...arguments];return(0,b.useMemo)(()=>[...e].filter(e=>e!=null),[...e])}var B_=Object.freeze({x:0,y:0});function V_(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function H_(e,t){let n=x_(e);if(!n)return`0 0`;let r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+`% `+r.y+`%`}function U_(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function W_(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function G_(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function K_(e,t){if(!e||e.length===0)return null;let[n]=e;return t?n[t]:n}var q_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=G_(t),a=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=G_(r),o=i.reduce((e,t,r)=>e+V_(n[r],t),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(U_)};function J_(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){let n=t.width*t.height,r=e.width*e.height,i=o*s,a=i/(n+r-i);return Number(a.toFixed(4))}return 0}var Y_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=[];for(let e of r){let{id:r}=e,a=n.get(r);if(a){let n=J_(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(W_)};function X_(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Z_(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:B_}function Q_(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}var $_=Q_(1);function ev(e){if(e.startsWith(`matrix3d(`)){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(`matrix(`)){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function tv(e,t,n){let r=ev(t);if(!r)return e;let{scaleX:i,scaleY:a,x:o,y:s}=r,c=e.left-o-(1-i)*parseFloat(n),l=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(` `)+1)),u=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c}}var nv={ignoreTransform:!1};function rv(e,t){t===void 0&&(t=nv);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=t_(e).getComputedStyle(e);t&&(n=tv(n,t,r))}let{top:r,left:i,width:a,height:o,bottom:s,right:c}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:c}}function iv(e){return rv(e,{ignoreTransform:!0})}function av(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function ov(e,t){return t===void 0&&(t=t_(e).getComputedStyle(e)),t.position===`fixed`}function sv(e,t){t===void 0&&(t=t_(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return[`overflow`,`overflowX`,`overflowY`].some(e=>{let r=t[e];return typeof r==`string`?n.test(r):!1})}function cv(e,t){let n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(n_(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!r_(i)||i_(i)||n.includes(i))return n;let a=t_(e).getComputedStyle(i);return i!==e&&sv(i,a)&&n.push(i),ov(i,a)?n:r(i.parentNode)}return e?r(e):n}function lv(e){let[t]=cv(e,1);return t??null}function uv(e){return!Qg||!e?null:$g(e)?e:e_(e)?n_(e)||e===a_(e).scrollingElement?window:r_(e)?e:null:null}function dv(e){return $g(e)?e.scrollX:e.scrollLeft}function fv(e){return $g(e)?e.scrollY:e.scrollTop}function pv(e){return{x:dv(e),y:fv(e)}}var mv;(function(e){e[e.Forward=1]=`Forward`,e[e.Backward=-1]=`Backward`})(mv||={});function hv(e){return!Qg||!e?!1:e===document.scrollingElement}function gv(e){let t={x:0,y:0},n=hv(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}var _v={x:.2,y:.2};function vv(e,t,n,r,i){let{top:a,left:o,right:s,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=_v);let{isTop:l,isBottom:u,isLeft:d,isRight:f}=gv(e),p={x:0,y:0},m={x:0,y:0},h={height:t.height*i.y,width:t.width*i.x};return!l&&a<=t.top+h.height?(p.y=mv.Backward,m.y=r*Math.abs((t.top+h.height-a)/h.height)):!u&&c>=t.bottom-h.height&&(p.y=mv.Forward,m.y=r*Math.abs((t.bottom-h.height-c)/h.height)),!f&&s>=t.right-h.width?(p.x=mv.Forward,m.x=r*Math.abs((t.right-h.width-s)/h.width)):!d&&o<=t.left+h.width&&(p.x=mv.Backward,m.x=r*Math.abs((t.left+h.width-o)/h.width)),{direction:p,speed:m}}function yv(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function bv(e){return e.reduce((e,t)=>g_(e,pv(t)),B_)}function xv(e){return e.reduce((e,t)=>e+dv(t),0)}function Sv(e){return e.reduce((e,t)=>e+fv(t),0)}function Cv(e,t){if(t===void 0&&(t=rv),!e)return;let{top:n,left:r,bottom:i,right:a}=t(e);lv(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:`center`,inline:`center`})}var wv=[[`x`,[`left`,`right`],xv],[`y`,[`top`,`bottom`],Sv]],Tv=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=cv(t),r=bv(n);this.rect={...e},this.width=e.width,this.height=e.height;for(let[e,t,i]of wv)for(let a of t)Object.defineProperty(this,a,{get:()=>{let t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,`rect`,{enumerable:!1})}},Ev=class{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>this.target?.removeEventListener(...e))},this.target=e}add(e,t,n){var r;(r=this.target)==null||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}};function Dv(e){let{EventTarget:t}=t_(e);return e instanceof t?e:a_(e)}function Ov(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return typeof t==`number`?Math.sqrt(n**2+r**2)>t:`x`in t&&`y`in t?n>t.x&&r>t.y:`x`in t?n>t.x:`y`in t?r>t.y:!1}var kv;(function(e){e.Click=`click`,e.DragStart=`dragstart`,e.Keydown=`keydown`,e.ContextMenu=`contextmenu`,e.Resize=`resize`,e.SelectionChange=`selectionchange`,e.VisibilityChange=`visibilitychange`})(kv||={});function Av(e){e.preventDefault()}function jv(e){e.stopPropagation()}var Mv;(function(e){e.Space=`Space`,e.Down=`ArrowDown`,e.Right=`ArrowRight`,e.Left=`ArrowLeft`,e.Up=`ArrowUp`,e.Esc=`Escape`,e.Enter=`Enter`,e.Tab=`Tab`})(Mv||={});var Nv={start:[Mv.Space,Mv.Enter],cancel:[Mv.Esc],end:[Mv.Space,Mv.Enter,Mv.Tab]},Pv=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Mv.Right:return{...n,x:n.x+25};case Mv.Left:return{...n,x:n.x-25};case Mv.Down:return{...n,y:n.y+25};case Mv.Up:return{...n,y:n.y-25}}},Fv=class{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new Ev(a_(t)),this.windowListeners=new Ev(t_(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(kv.Resize,this.handleCancel),this.windowListeners.add(kv.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(kv.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&Cv(n),t(B_)}handleKeyDown(e){if(y_(e)){let{active:t,context:n,options:r}=this.props,{keyboardCodes:i=Nv,coordinateGetter:a=Pv,scrollBehavior:o=`smooth`}=r,{code:s}=e;if(i.end.includes(s)){this.handleEnd(e);return}if(i.cancel.includes(s)){this.handleCancel(e);return}let{collisionRect:c}=n.current,l=c?{x:c.left,y:c.top}:B_;this.referenceCoordinates||=l;let u=a(e,{active:t,context:n.current,currentCoordinates:l});if(u){let t=__(u,l),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(let n of i){let i=e.code,{isTop:a,isRight:s,isLeft:c,isBottom:l,maxScroll:d,minScroll:f}=gv(n),p=yv(n),m={x:Math.min(i===Mv.Right?p.right-p.width/2:p.right,Math.max(i===Mv.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(i===Mv.Down?p.bottom-p.height/2:p.bottom,Math.max(i===Mv.Down?p.top:p.top+p.height/2,u.y))},h=i===Mv.Right&&!s||i===Mv.Left&&!c,g=i===Mv.Down&&!l||i===Mv.Up&&!a;if(h&&m.x!==u.x){let e=n.scrollLeft+t.x,a=i===Mv.Right&&e<=d.x||i===Mv.Left&&e>=f.x;if(a&&!t.y){n.scrollTo({left:e,behavior:o});return}a?r.x=n.scrollLeft-e:r.x=i===Mv.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}else if(g&&m.y!==u.y){let e=n.scrollTop+t.y,a=i===Mv.Down&&e<=d.y||i===Mv.Up&&e>=f.y;if(a&&!t.x){n.scrollTo({top:e,behavior:o});return}a?r.y=n.scrollTop-e:r.y=i===Mv.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,g_(__(u,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Fv.activators=[{eventName:`onKeyDown`,handler:(e,t,n)=>{let{keyboardCodes:r=Nv,onActivation:i}=t,{active:a}=n,{code:o}=e.nativeEvent;if(r.start.includes(o)){let t=a.activatorNode.current;return t&&e.target!==t?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Iv(e){return!!(e&&`distance`in e)}function Lv(e){return!!(e&&`delay`in e)}var Rv=class{constructor(e,t,n){n===void 0&&(n=Dv(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:r}=e,{target:i}=r;this.props=e,this.events=t,this.document=a_(i),this.documentListeners=new Ev(this.document),this.listeners=new Ev(n),this.windowListeners=new Ev(t_(i)),this.initialCoordinates=x_(r)??B_,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(kv.Resize,this.handleCancel),this.windowListeners.add(kv.DragStart,Av),this.windowListeners.add(kv.VisibilityChange,this.handleCancel),this.windowListeners.add(kv.ContextMenu,Av),this.documentListeners.add(kv.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Lv(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Iv(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(kv.Click,jv,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(kv.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){let{activated:t,initialCoordinates:n,props:r}=this,{onMove:i,options:{activationConstraint:a}}=r;if(!n)return;let o=x_(e)??B_,s=__(n,o);if(!t&&a){if(Iv(a)){if(a.tolerance!=null&&Ov(s,a.tolerance))return this.handleCancel();if(Ov(s,a.distance))return this.handleStart()}if(Lv(a)&&Ov(s,a.tolerance))return this.handleCancel();this.handlePending(a,s);return}e.cancelable&&e.preventDefault(),i(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Mv.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}},zv={cancel:{name:`pointercancel`},move:{name:`pointermove`},end:{name:`pointerup`}},Bv=class extends Rv{constructor(e){let{event:t}=e,n=a_(t.target);super(e,zv,n)}};Bv.activators=[{eventName:`onPointerDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];var Vv={move:{name:`mousemove`},end:{name:`mouseup`}},Hv;(function(e){e[e.RightClick=2]=`RightClick`})(Hv||={});var Uv=class extends Rv{constructor(e){super(e,Vv,a_(e.event.target))}};Uv.activators=[{eventName:`onMouseDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Hv.RightClick?!1:(r?.({event:n}),!0)}}];var Wv={cancel:{name:`touchcancel`},move:{name:`touchmove`},end:{name:`touchend`}},Gv=class extends Rv{constructor(e){super(e,Wv)}static setup(){return window.addEventListener(Wv.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Wv.move.name,e)};function e(){}}};Gv.activators=[{eventName:`onTouchStart`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t,{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Kv;(function(e){e[e.Pointer=0]=`Pointer`,e[e.DraggableRect=1]=`DraggableRect`})(Kv||={});var qv;(function(e){e[e.TreeOrder=0]=`TreeOrder`,e[e.ReversedTreeOrder=1]=`ReversedTreeOrder`})(qv||={});function Jv(e){let{acceleration:t,activator:n=Kv.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=qv.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:u,delta:d,threshold:f}=e,p=Xv({delta:d,disabled:!a}),[m,h]=c_(),g=(0,b.useRef)({x:0,y:0}),_=(0,b.useRef)({x:0,y:0}),v=(0,b.useMemo)(()=>{switch(n){case Kv.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Kv.DraggableRect:return i}},[n,i,c]),y=(0,b.useRef)(null),x=(0,b.useCallback)(()=>{let e=y.current;if(!e)return;let t=g.current.x*_.current.x,n=g.current.y*_.current.y;e.scrollBy(t,n)},[]),S=(0,b.useMemo)(()=>s===qv.TreeOrder?[...l].reverse():l,[s,l]);(0,b.useEffect)(()=>{if(!a||!l.length||!v){h();return}for(let e of S){if(r?.(e)===!1)continue;let n=u[l.indexOf(e)];if(!n)continue;let{direction:i,speed:a}=vv(e,n,v,t,f);for(let e of[`x`,`y`])p[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0){h(),y.current=e,m(x,o),g.current=a,_.current=i;return}}g.current={x:0,y:0},_.current={x:0,y:0},h()},[t,x,r,h,a,o,JSON.stringify(v),JSON.stringify(p),m,l,S,u,JSON.stringify(f)])}var Yv={x:{[mv.Backward]:!1,[mv.Forward]:!1},y:{[mv.Backward]:!1,[mv.Forward]:!1}};function Xv(e){let{delta:t,disabled:n}=e,r=f_(t);return u_(e=>{if(n||!r||!e)return Yv;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[mv.Backward]:e.x[mv.Backward]||i.x===-1,[mv.Forward]:e.x[mv.Forward]||i.x===1},y:{[mv.Backward]:e.y[mv.Backward]||i.y===-1,[mv.Forward]:e.y[mv.Forward]||i.y===1}}},[n,t,r])}function Zv(e,t){let n=t==null?void 0:e.get(t),r=n?n.node.current:null;return u_(e=>t==null?null:r??e??null,[r,t])}function Qv(e,t){return(0,b.useMemo)(()=>e.reduce((e,n)=>{let{sensor:r}=n,i=r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}));return[...e,...i]},[]),[e,t])}var $v;(function(e){e[e.Always=0]=`Always`,e[e.BeforeDragging=1]=`BeforeDragging`,e[e.WhileDragging=2]=`WhileDragging`})($v||={});var ey;(function(e){e.Optimized=`optimized`})(ey||={});var ty=new Map;function ny(e,t){let{dragging:n,dependencies:r,config:i}=t,[a,o]=(0,b.useState)(null),{frequency:s,measure:c,strategy:l}=i,u=(0,b.useRef)(e),d=g(),f=l_(d),p=(0,b.useCallback)(function(e){e===void 0&&(e=[]),!f.current&&o(t=>t===null?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),m=(0,b.useRef)(null),h=u_(t=>{if(d&&!n)return ty;if(!t||t===ty||u.current!==e||a!=null){let t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}let e=n.node.current,r=e?new Tv(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,a,n,d,c]);return(0,b.useEffect)(()=>{u.current=e},[e]),(0,b.useEffect)(()=>{d||p()},[n,d]),(0,b.useEffect)(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),(0,b.useEffect)(()=>{d||typeof s!=`number`||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},s))},[s,d,p,...r]),{droppableRects:h,measureDroppableContainers:p,measuringScheduled:a!=null};function g(){switch(l){case $v.Always:return!1;case $v.BeforeDragging:return n;default:return!n}}}function ry(e,t){return u_(n=>e?n||(typeof t==`function`?t(e):e):null,[t,e])}function iy(e,t){return ry(e,t)}function ay(e){let{callback:t,disabled:n}=e,r=s_(t),i=(0,b.useMemo)(()=>{if(n||typeof window>`u`||window.MutationObserver===void 0)return;let{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,b.useEffect)(()=>()=>i?.disconnect(),[i]),i}function oy(e){let{callback:t,disabled:n}=e,r=s_(t),i=(0,b.useMemo)(()=>{if(n||typeof window>`u`||window.ResizeObserver===void 0)return;let{ResizeObserver:e}=window;return new e(r)},[n]);return(0,b.useEffect)(()=>()=>i?.disconnect(),[i]),i}function sy(e){return new Tv(rv(e),e)}function cy(e,t,n){t===void 0&&(t=sy);let[r,i]=(0,b.useState)(null);function a(){i(r=>{if(!e)return null;if(e.isConnected===!1)return r??n??null;let i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i})}let o=ay({callback(t){if(e)for(let n of t){let{type:t,target:r}=n;if(t===`childList`&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),s=oy({callback:a});return o_(()=>{a(),e?(s?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[e]),r}function ly(e){return Z_(e,ry(e))}var uy=[];function dy(e){let t=(0,b.useRef)(e),n=u_(n=>e?n&&n!==uy&&e&&t.current&&e.parentNode===t.current.parentNode?n:cv(e):uy,[e]);return(0,b.useEffect)(()=>{t.current=e},[e]),n}function fy(e){let[t,n]=(0,b.useState)(null),r=(0,b.useRef)(e),i=(0,b.useCallback)(e=>{let t=uv(e.target);t&&n(e=>e?(e.set(t,pv(t)),new Map(e)):null)},[]);return(0,b.useEffect)(()=>{let t=r.current;if(e!==t){a(t);let o=e.map(e=>{let t=uv(e);return t?(t.addEventListener(`scroll`,i,{passive:!0}),[t,pv(t)]):null}).filter(e=>e!=null);n(o.length?new Map(o):null),r.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{uv(e)?.removeEventListener(`scroll`,i)})}},[i,e]),(0,b.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>g_(e,t),B_):bv(e):B_,[e,t])}function py(e,t){t===void 0&&(t=[]);let n=(0,b.useRef)(null);return(0,b.useEffect)(()=>{n.current=null},t),(0,b.useEffect)(()=>{let t=e!==B_;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?__(e,n.current):B_}function my(e){(0,b.useEffect)(()=>{if(!Qg)return;let t=e.map(e=>{let{sensor:t}=e;return t.setup==null?void 0:t.setup()});return()=>{for(let e of t)e?.()}},e.map(e=>{let{sensor:t}=e;return t}))}function hy(e,t){return(0,b.useMemo)(()=>e.reduce((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e},{}),[e,t])}function gy(e){return(0,b.useMemo)(()=>e?av(e):null,[e])}var _y=[];function vy(e,t){t===void 0&&(t=rv);let[n]=e,r=gy(n?t_(n):null),[i,a]=(0,b.useState)(_y);function o(){a(()=>e.length?e.map(e=>hv(e)?r:new Tv(t(e),e)):_y)}let s=oy({callback:o});return o_(()=>{s?.disconnect(),o(),e.forEach(e=>s?.observe(e))},[e]),i}function yy(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return r_(t)?t:e}function by(e){let{measure:t}=e,[n,r]=(0,b.useState)(null),i=oy({callback:(0,b.useCallback)(e=>{for(let{target:n}of e)if(r_(n)){r(e=>{let r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[a,o]=d_((0,b.useCallback)(e=>{let n=yy(e);i?.disconnect(),n&&i?.observe(n),r(n?t(n):null)},[t,i]));return(0,b.useMemo)(()=>({nodeRef:a,rect:n,setRef:o}),[n,a,o])}var xy=[{sensor:Bv,options:{}},{sensor:Fv,options:{}}],Sy={current:{}},Cy={draggable:{measure:iv},droppable:{measure:iv,strategy:$v.WhileDragging,frequency:ey.Optimized},dragOverlay:{measure:rv}},wy=class extends Map{get(e){return e==null?void 0:super.get(e)??void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){return this.get(e)?.node.current??void 0}},Ty={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new wy,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:L_},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Cy,measureDroppableContainers:L_,windowRect:null,measuringScheduled:!1},Ey={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:``},dispatch:L_,draggableNodes:new Map,over:null,measureDroppableContainers:L_},Dy=(0,b.createContext)(Ey),Oy=(0,b.createContext)(Ty);function ky(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new wy}}}function Ay(e,t){switch(t.type){case I_.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case I_.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case I_.DragEnd:case I_.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case I_.RegisterDroppable:{let{element:n}=t,{id:r}=n,i=new wy(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case I_.SetDroppableDisabled:{let{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;let o=new wy(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case I_.UnregisterDroppable:{let{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let a=new wy(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function jy(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:i}=(0,b.useContext)(Dy),a=f_(r),o=f_(n?.id);return(0,b.useEffect)(()=>{if(!t&&!r&&a&&o!=null){if(!y_(a)||document.activeElement===a.target)return;let e=i.get(o);if(!e)return;let{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(let e of[t.current,n.current]){if(!e)continue;let t=w_(e);if(t){t.focus();break}}})}},[r,t,i,o,a]),null}function My(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}function Ny(e){return(0,b.useMemo)(()=>({draggable:{...Cy.draggable,...e?.draggable},droppable:{...Cy.droppable,...e?.droppable},dragOverlay:{...Cy.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Py(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e,a=(0,b.useRef)(!1),{x:o,y:s}=typeof i==`boolean`?{x:i,y:i}:i;o_(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!r)return;let e=t?.node.current;if(!e||e.isConnected===!1)return;let i=Z_(n(e),r);if(o||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){let t=lv(e);t&&t.scrollBy({top:i.y,left:i.x})}},[t,o,s,r,n])}var Fy=(0,b.createContext)({...B_,scaleX:1,scaleY:1}),Iy;(function(e){e[e.Uninitialized=0]=`Uninitialized`,e[e.Initializing=1]=`Initializing`,e[e.Initialized=2]=`Initialized`})(Iy||={});var Ly=(0,b.memo)(function(e){let{id:t,accessibility:n,autoScroll:r=!0,children:i,sensors:a=xy,collisionDetection:o=Y_,measuring:s,modifiers:c,...l}=e,[u,d]=(0,b.useReducer)(Ay,void 0,ky),[f,p]=M_(),[m,h]=(0,b.useState)(Iy.Uninitialized),g=m===Iy.Initialized,{draggable:{active:_,nodes:v,translate:y},droppable:{containers:x}}=u,S=_==null?null:v.get(_),C=(0,b.useRef)({initial:null,translated:null}),w=(0,b.useMemo)(()=>_==null?null:{id:_,data:S?.data??Sy,rect:C},[_,S]),T=(0,b.useRef)(null),[ee,E]=(0,b.useState)(null),[D,te]=(0,b.useState)(null),O=l_(l,Object.values(l)),ne=m_(`DndDescribedBy`,t),k=(0,b.useMemo)(()=>x.getEnabled(),[x]),re=Ny(s),{droppableRects:A,measureDroppableContainers:j,measuringScheduled:M}=ny(k,{dragging:g,dependencies:[y.x,y.y],config:re.droppable}),N=Zv(v,_),P=(0,b.useMemo)(()=>D?x_(D):null,[D]),F=Me(),I=iy(N,re.draggable.measure);Py({activeNode:_==null?null:v.get(_),config:F.layoutShiftCompensation,initialRect:I,measure:re.draggable.measure});let ie=cy(N,re.draggable.measure,I),ae=cy(N?N.parentElement:null),R=(0,b.useRef)({activatorEvent:null,active:null,activeNode:N,collisionRect:null,collisions:null,droppableRects:A,draggableNodes:v,draggingNode:null,draggingNodeRect:null,droppableContainers:x,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),oe=x.getNodeFor(R.current.over?.id),se=by({measure:re.dragOverlay.measure}),ce=se.nodeRef.current??N,le=g?se.rect??ie:null,ue=!!(se.nodeRef.current&&se.rect),de=ly(ue?null:ie),fe=gy(ce?t_(ce):null),pe=dy(g?oe??N:null),me=vy(pe),he=My(c,{transform:{x:y.x-de.x,y:y.y-de.y,scaleX:1,scaleY:1},activatorEvent:D,active:w,activeNodeRect:ie,containerNodeRect:ae,draggingNodeRect:le,over:R.current.over,overlayNodeRect:se.rect,scrollableAncestors:pe,scrollableAncestorRects:me,windowRect:fe}),ge=P?g_(P,y):null,_e=fy(pe),ve=py(_e),ye=py(_e,[ie]),be=g_(he,ve),xe=le?$_(le,he):null,Se=w&&xe?o({active:w,collisionRect:xe,droppableRects:A,droppableContainers:k,pointerCoordinates:ge}):null,Ce=K_(Se,`id`),[we,Te]=(0,b.useState)(null),Ee=X_(ue?he:g_(he,ye),we?.rect??null,ie),De=(0,b.useRef)(null),Oe=(0,b.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(T.current==null)return;let i=v.get(T.current);if(!i)return;let a=e.nativeEvent;De.current=new n({active:T.current,activeNode:i,event:a,options:r,context:R,onAbort(e){if(!v.get(e))return;let{onDragAbort:t}=O.current,n={id:e};t?.(n),f({type:`onDragAbort`,event:n})},onPending(e,t,n,r){if(!v.get(e))return;let{onDragPending:i}=O.current,a={id:e,constraint:t,initialCoordinates:n,offset:r};i?.(a),f({type:`onDragPending`,event:a})},onStart(e){let t=T.current;if(t==null)return;let n=v.get(t);if(!n)return;let{onDragStart:r}=O.current,i={activatorEvent:a,active:{id:t,data:n.data,rect:C}};(0,k_.unstable_batchedUpdates)(()=>{r?.(i),h(Iy.Initializing),d({type:I_.DragStart,initialCoordinates:e,active:t}),f({type:`onDragStart`,event:i}),E(De.current),te(a)})},onMove(e){d({type:I_.DragMove,coordinates:e})},onEnd:o(I_.DragEnd),onCancel:o(I_.DragCancel)});function o(e){return async function(){let{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=R.current,o=null;if(t&&i){let{cancelDrop:s}=O.current;o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===I_.DragEnd&&typeof s==`function`&&await Promise.resolve(s(o))&&(e=I_.DragCancel)}T.current=null,(0,k_.unstable_batchedUpdates)(()=>{d({type:e}),h(Iy.Uninitialized),Te(null),E(null),te(null),De.current=null;let t=e===I_.DragEnd?`onDragEnd`:`onDragCancel`;if(o){let e=O.current[t];e?.(o),f({type:t,event:o})}})}}},[v]),ke=Qv(a,(0,b.useCallback)((e,t)=>(n,r)=>{let i=n.nativeEvent,a=v.get(r);if(T.current!==null||!a||i.dndKit||i.defaultPrevented)return;let o={active:a};e(n,t.options,o)===!0&&(i.dndKit={capturedBy:t.sensor},T.current=r,Oe(n,t))},[v,Oe]));my(a),o_(()=>{ie&&m===Iy.Initializing&&h(Iy.Initialized)},[ie,m]),(0,b.useEffect)(()=>{let{onDragMove:e}=O.current,{active:t,activatorEvent:n,collisions:r,over:i}=R.current;if(!t||!n)return;let a={active:t,activatorEvent:n,collisions:r,delta:{x:be.x,y:be.y},over:i};(0,k_.unstable_batchedUpdates)(()=>{e?.(a),f({type:`onDragMove`,event:a})})},[be.x,be.y]),(0,b.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=R.current;if(!e||T.current==null||!t||!i)return;let{onDragOver:a}=O.current,o=r.get(Ce),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};(0,k_.unstable_batchedUpdates)(()=>{Te(s),a?.(c),f({type:`onDragOver`,event:c})})},[Ce]),o_(()=>{R.current={activatorEvent:D,active:w,activeNode:N,collisionRect:xe,collisions:Se,droppableRects:A,draggableNodes:v,draggingNode:ce,draggingNodeRect:le,droppableContainers:x,over:we,scrollableAncestors:pe,scrollAdjustedTranslate:be},C.current={initial:le,translated:xe}},[w,N,Se,xe,v,ce,le,A,x,we,pe,be]),Jv({...F,delta:y,draggingRect:xe,pointerCoordinates:ge,scrollableAncestors:pe,scrollableAncestorRects:me});let Ae=(0,b.useMemo)(()=>({active:w,activeNode:N,activeNodeRect:ie,activatorEvent:D,collisions:Se,containerNodeRect:ae,dragOverlay:se,draggableNodes:v,droppableContainers:x,droppableRects:A,over:we,measureDroppableContainers:j,scrollableAncestors:pe,scrollableAncestorRects:me,measuringConfiguration:re,measuringScheduled:M,windowRect:fe}),[w,N,ie,D,Se,ae,se,v,x,A,we,j,pe,me,re,M,fe]),je=(0,b.useMemo)(()=>({activatorEvent:D,activators:ke,active:w,activeNodeRect:ie,ariaDescribedById:{draggable:ne},dispatch:d,draggableNodes:v,over:we,measureDroppableContainers:j}),[D,ke,w,ie,d,ne,v,we,j]);return b.createElement(A_.Provider,{value:p},b.createElement(Dy.Provider,{value:je},b.createElement(Oy.Provider,{value:Ae},b.createElement(Fy.Provider,{value:Ee},i)),b.createElement(jy,{disabled:n?.restoreFocus===!1})),b.createElement(F_,{...n,hiddenTextDescribedById:ne}));function Me(){let e=ee?.autoScrollEnabled===!1,t=typeof r==`object`?r.enabled===!1:r===!1,n=g&&!e&&!t;return typeof r==`object`?{...r,enabled:n}:{enabled:n}}}),Ry=(0,b.createContext)(null),zy=`button`,By=`Draggable`;function Vy(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e,a=m_(By),{activators:o,activatorEvent:s,active:c,activeNodeRect:l,ariaDescribedById:u,draggableNodes:d,over:f}=(0,b.useContext)(Dy),{role:p=zy,roleDescription:m=`draggable`,tabIndex:h=0}=i??{},g=c?.id===t,_=(0,b.useContext)(g?Fy:Ry),[v,y]=d_(),[x,S]=d_(),C=hy(o,t),w=l_(n);return o_(()=>(d.set(t,{id:t,key:a,node:v,activatorNode:x,data:w}),()=>{let e=d.get(t);e&&e.key===a&&d.delete(t)}),[d,t]),{active:c,activatorEvent:s,activeNodeRect:l,attributes:(0,b.useMemo)(()=>({role:p,tabIndex:h,"aria-disabled":r,"aria-pressed":g&&p===zy?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,p,h,g,m,u.draggable]),isDragging:g,listeners:r?void 0:C,node:v,over:f,setNodeRef:y,setActivatorNodeRef:S,transform:_}}function Hy(){return(0,b.useContext)(Oy)}var Uy=`Droppable`,Wy={timeout:25};function Gy(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e,a=m_(Uy),{active:o,dispatch:s,over:c,measureDroppableContainers:l}=(0,b.useContext)(Dy),u=(0,b.useRef)({disabled:n}),d=(0,b.useRef)(!1),f=(0,b.useRef)(null),p=(0,b.useRef)(null),{disabled:m,updateMeasurementsFor:h,timeout:g}={...Wy,...i},_=l_(h??r),v=oy({callback:(0,b.useCallback)(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(_.current)?_.current:[_.current]),p.current=null},g)},[g]),disabled:m||!o}),[y,x]=d_((0,b.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),d.current=!1),e&&v.observe(e))},[v])),S=l_(t);return(0,b.useEffect)(()=>{!v||!y.current||(v.disconnect(),d.current=!1,v.observe(y.current))},[y,v]),(0,b.useEffect)(()=>(s({type:I_.RegisterDroppable,element:{id:r,key:a,disabled:n,node:y,rect:f,data:S}}),()=>s({type:I_.UnregisterDroppable,key:a,id:r})),[r]),(0,b.useEffect)(()=>{n!==u.current.disabled&&(s({type:I_.SetDroppableDisabled,id:r,key:a,disabled:n}),u.current.disabled=n)},[r,a,n,s]),{active:o,rect:f,isOver:c?.id===r,node:y,over:c,setNodeRef:x}}function Ky(e){let{animation:t,children:n}=e,[r,i]=(0,b.useState)(null),[a,o]=(0,b.useState)(null),s=f_(n);return!n&&!r&&s&&i(s),o_(()=>{if(!a)return;let e=r?.key,n=r?.props.id;if(e==null||n==null){i(null);return}Promise.resolve(t(n,a)).then(()=>{i(null)})},[t,r,a]),b.createElement(b.Fragment,null,n,r?(0,b.cloneElement)(r,{ref:o}):null)}var qy={x:0,y:0,scaleX:1,scaleY:1};function Jy(e){let{children:t}=e;return b.createElement(Dy.Provider,{value:Ey},b.createElement(Fy.Provider,{value:qy},t))}var Yy={position:`fixed`,touchAction:`none`},Xy=e=>y_(e)?`transform 250ms ease`:void 0,Zy=(0,b.forwardRef)((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:o,rect:s,style:c,transform:l,transition:u=Xy}=e;if(!s)return null;let d=i?l:{...l,scaleX:1,scaleY:1},f={...Yy,width:s.width,height:s.height,top:s.top,left:s.left,transform:S_.Transform.toString(d),transformOrigin:i&&r?H_(r,s):void 0,transition:typeof u==`function`?u(r):u,...c};return b.createElement(n,{className:o,style:f,ref:t},a)}),Qy=e=>t=>{let{active:n,dragOverlay:r}=t,i={},{styles:a,className:o}=e;if(a!=null&&a.active)for(let[e,t]of Object.entries(a.active))t!==void 0&&(i[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,t));if(a!=null&&a.dragOverlay)for(let[e,t]of Object.entries(a.dragOverlay))t!==void 0&&r.node.style.setProperty(e,t);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(let[e,t]of Object.entries(i))n.node.style.setProperty(e,t);o!=null&&o.active&&n.node.classList.remove(o.active)}},$y={duration:250,easing:`ease`,keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:S_.Transform.toString(t)},{transform:S_.Transform.toString(n)}]},sideEffects:Qy({styles:{active:{opacity:`0`}}})};function eb(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return s_((e,a)=>{if(t===null)return;let o=n.get(e);if(!o)return;let s=o.node.current;if(!s)return;let c=yy(a);if(!c)return;let{transform:l}=t_(a).getComputedStyle(a),u=ev(l);if(!u)return;let d=typeof t==`function`?t:tb(t);return Cv(s,i.draggable.measure),d({active:{id:e,data:o.data,node:s,rect:i.draggable.measure(s)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:i,transform:u})})}function tb(e){let{duration:t,easing:n,sideEffects:r,keyframes:i}={...$y,...e};return e=>{let{active:a,dragOverlay:o,transform:s,...c}=e;if(!t)return;let l={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},u={scaleX:s.scaleX===1?1:a.rect.width*s.scaleX/o.rect.width,scaleY:s.scaleY===1?1:a.rect.height*s.scaleY/o.rect.height},d={x:s.x-l.x,y:s.y-l.y,...u},f=i({...c,active:a,dragOverlay:o,transform:{initial:s,final:d}}),[p]=f,m=f[f.length-1];if(JSON.stringify(p)===JSON.stringify(m))return;let h=r?.({active:a,dragOverlay:o,...c}),g=o.node.animate(f,{duration:t,easing:n,fill:`forwards`});return new Promise(e=>{g.onfinish=()=>{h?.(),e()}})}}var nb=0;function rb(e){return(0,b.useMemo)(()=>{if(e!=null)return nb++,nb},[e])}var ib=b.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:s=`div`,className:c,zIndex:l=999}=e,{activatorEvent:u,active:d,activeNodeRect:f,containerNodeRect:p,draggableNodes:m,droppableContainers:h,dragOverlay:g,over:_,measuringConfiguration:v,scrollableAncestors:y,scrollableAncestorRects:x,windowRect:S}=Hy(),C=(0,b.useContext)(Fy),w=rb(d?.id),T=My(o,{activatorEvent:u,active:d,activeNodeRect:f,containerNodeRect:p,draggingNodeRect:g.rect,over:_,overlayNodeRect:g.rect,scrollableAncestors:y,scrollableAncestorRects:x,transform:C,windowRect:S}),ee=ry(f),E=eb({config:r,draggableNodes:m,droppableContainers:h,measuringConfiguration:v}),D=ee?g.setRef:void 0;return b.createElement(Jy,null,b.createElement(Ky,{animation:E},d&&w?b.createElement(Zy,{key:w,id:d.id,ref:D,as:s,activatorEvent:u,adjustScale:t,className:c,transition:a,rect:ee,style:{zIndex:l,...i},transform:T},n):null))});function ab(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ob(e,t){return e.reduce((e,n,r)=>{let i=t.get(n);return i&&(e[r]=i),e},Array(e.length))}function sb(e){return e!==null&&e>=0}function cb(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lb(e){return typeof e==`boolean`?{draggable:e,droppable:e}:e}var ub=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e,a=ab(t,r,n),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},db={scaleX:1,scaleY:1},fb=e=>{let{activeIndex:t,activeNodeRect:n,index:r,rects:i,overIndex:a}=e,o=i[t]??n;if(!o)return null;if(r===t){let e=i[a];return e?{x:0,y:t<a?e.top+e.height-(o.top+o.height):e.top-o.top,...db}:null}let s=pb(i,r,t);return r>t&&r<=a?{x:0,y:-o.height-s,...db}:r<t&&r>=a?{x:0,y:o.height+s,...db}:{x:0,y:0,...db}};function pb(e,t,n){let r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}var mb=`Sortable`,hb=b.createContext({activeIndex:-1,containerId:mb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ub,disabled:{draggable:!1,droppable:!1}});function gb(e){let{children:t,id:n,items:r,strategy:i=ub,disabled:a=!1}=e,{active:o,dragOverlay:s,droppableRects:c,over:l,measureDroppableContainers:u}=Hy(),d=m_(mb,n),f=s.rect!==null,p=(0,b.useMemo)(()=>r.map(e=>typeof e==`object`&&`id`in e?e.id:e),[r]),m=o!=null,h=o?p.indexOf(o.id):-1,g=l?p.indexOf(l.id):-1,_=(0,b.useRef)(p),v=!cb(p,_.current),y=g!==-1&&h===-1||v,x=lb(a);o_(()=>{v&&m&&u(p)},[v,p,m,u]),(0,b.useEffect)(()=>{_.current=p},[p]);let S=(0,b.useMemo)(()=>({activeIndex:h,containerId:d,disabled:x,disableTransforms:y,items:p,overIndex:g,useDragOverlay:f,sortedRects:ob(p,c),strategy:i}),[h,d,x.draggable,x.droppable,y,p,g,c,f,i]);return b.createElement(hb.Provider,{value:S},t)}var _b=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return ab(n,r,i).indexOf(t)},vb=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:c,transition:l}=e;return!l||!r||s!==a&&i===o?!1:n?!0:o!==i&&t===c},yb={duration:200,easing:`ease`},bb=`transform`,xb=S_.Transition.toString({property:bb,duration:0,easing:`linear`}),Sb={roleDescription:`sortable`};function Cb(e){let{disabled:t,index:n,node:r,rect:i}=e,[a,o]=(0,b.useState)(null),s=(0,b.useRef)(n);return o_(()=>{if(!t&&n!==s.current&&r.current){let e=i.current;if(e){let t=rv(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==s.current&&(s.current=n)},[t,n,r,i]),(0,b.useEffect)(()=>{a&&o(null)},[a]),a}function wb(e){let{animateLayoutChanges:t=vb,attributes:n,disabled:r,data:i,getNewIndex:a=_b,id:o,strategy:s,resizeObserverConfig:c,transition:l=yb}=e,{items:u,containerId:d,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:h,overIndex:g,useDragOverlay:_,strategy:v}=(0,b.useContext)(hb),y=Tb(r,p),x=u.indexOf(o),S=(0,b.useMemo)(()=>({sortable:{containerId:d,index:x,items:u},...i}),[d,i,x,u]),C=(0,b.useMemo)(()=>u.slice(u.indexOf(o)),[u,o]),{rect:w,node:T,isOver:ee,setNodeRef:E}=Gy({id:o,data:S,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:D,activatorEvent:te,activeNodeRect:O,attributes:ne,setNodeRef:k,listeners:re,isDragging:A,over:j,setActivatorNodeRef:M,transform:N}=Vy({id:o,data:S,attributes:{...Sb,...n},disabled:y.draggable}),P=Zg(E,k),F=!!D,I=F&&!m&&sb(f)&&sb(g),ie=!_&&A,ae=I?(ie&&I?N:null)??(s??v)({rects:h,activeNodeRect:O,activeIndex:f,overIndex:g,index:x}):null,R=sb(f)&&sb(g)?a({id:o,items:u,activeIndex:f,overIndex:g}):x,oe=D?.id,se=(0,b.useRef)({activeId:oe,items:u,newIndex:R,containerId:d}),ce=u!==se.current.items,le=t({active:D,containerId:d,isDragging:A,isSorting:F,id:o,index:x,items:u,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:l,wasDragging:se.current.activeId!=null}),ue=Cb({disabled:!le,index:x,node:T,rect:w});return(0,b.useEffect)(()=>{F&&se.current.newIndex!==R&&(se.current.newIndex=R),d!==se.current.containerId&&(se.current.containerId=d),u!==se.current.items&&(se.current.items=u)},[F,R,d,u]),(0,b.useEffect)(()=>{if(oe===se.current.activeId)return;if(oe!=null&&se.current.activeId==null){se.current.activeId=oe;return}let e=setTimeout(()=>{se.current.activeId=oe},50);return()=>clearTimeout(e)},[oe]),{active:D,activeIndex:f,attributes:ne,data:S,rect:w,index:x,newIndex:R,items:u,isOver:ee,isSorting:F,isDragging:A,listeners:re,node:T,overIndex:g,over:j,setNodeRef:P,setActivatorNodeRef:M,setDroppableNodeRef:E,setDraggableNodeRef:k,transform:ue??ae,transition:de()};function de(){if(ue||ce&&se.current.newIndex===x)return xb;if(!(ie&&!y_(te)||!l)&&(F||le))return S_.Transition.toString({...l,property:bb})}}function Tb(e,t){return typeof e==`boolean`?{draggable:e,droppable:!1}:{draggable:e?.draggable??t.draggable,droppable:e?.droppable??t.droppable}}function Eb(e){if(!e)return!1;let t=e.data.current;return!!(t&&`sortable`in t&&typeof t.sortable==`object`&&`containerId`in t.sortable&&`items`in t.sortable&&`index`in t.sortable)}var Db=[Mv.Down,Mv.Right,Mv.Up,Mv.Left],Ob=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(Db.includes(e.code)){if(e.preventDefault(),!n||!r)return;let t=[];a.getEnabled().forEach(n=>{if(!n||n!=null&&n.disabled)return;let a=i.get(n.id);if(a)switch(e.code){case Mv.Down:r.top<a.top&&t.push(n);break;case Mv.Up:r.top>a.top&&t.push(n);break;case Mv.Left:r.left>a.left&&t.push(n);break;case Mv.Right:r.left<a.left&&t.push(n);break}});let c=q_({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null}),l=K_(c,`id`);if(l===o?.id&&c.length>1&&(l=c[1].id),l!=null){let e=a.get(n.id),t=a.get(l),o=t?i.get(t.id):null,c=t?.node.current;if(c&&o&&e&&t){let n=cv(c).some((e,t)=>s[t]!==e),i=kb(e,t),a=Ab(e,t),l=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},u={x:o.left,y:o.top};return l.x&&l.y?u:__(u,l)}}}};function kb(e,t){return!Eb(e)||!Eb(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Ab(e,t){return!Eb(e)||!Eb(t)||!kb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var jb=({spot:e,title:t=``,onClose:n,onSave:r})=>{let[i,a]=(0,b.useState)(e.name),[o,s]=(0,b.useState)(e.duration.toString());return(0,W.jsx)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in`,children:(0,W.jsxs)(`div`,{className:`bg-white rounded-3xl w-full max-w-xs shadow-2xl p-6 animate-in zoom-in-95 duration-200`,children:[(0,W.jsxs)(`div`,{className:`flex justify-between items-center mb-6`,children:[(0,W.jsx)(`h3`,{className:`text-xl font-bold text-stone-900`,children:t}),(0,W.jsx)(`button`,{onClick:n,className:`text-stone-400 hover:text-stone-600 bg-stone-100 p-2 rounded-full`,children:(0,W.jsx)(Pr,{size:18})})]}),(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-1.5 uppercase tracking-wider`,children:``}),(0,W.jsx)(`input`,{type:`text`,value:i,onChange:e=>a(e.target.value),className:`w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 text-stone-900 focus:ring-2 focus:ring-amber-200 focus:outline-none font-medium`,placeholder:``})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-1.5 uppercase tracking-wider`,children:` ()`}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(Xn,{size:16,className:`absolute left-4 top-1/2 -translate-y-1/2 text-stone-400`}),(0,W.jsx)(`input`,{type:`number`,value:o,onChange:e=>s(e.target.value),step:`0.5`,min:`0.5`,className:`w-full bg-stone-50 border border-stone-200 rounded-xl pl-10 pr-4 py-3 text-stone-900 focus:ring-2 focus:ring-amber-200 focus:outline-none font-medium`})]})]}),(0,W.jsxs)(`button`,{onClick:()=>{let t=parseFloat(o);if(!i.trim()){alert(``);return}if(isNaN(t)||t<=0){alert(``);return}r(e.id,i,t),n()},className:`w-full bg-stone-900 text-white font-bold py-4 rounded-xl shadow-lg active:scale-[0.98] transition-all flex items-center justify-center mt-2`,children:[(0,W.jsx)(wr,{size:18,className:`mr-2`}),``]})]})]})})},Mb=({spot:e,onDelete:t,onEdit:n})=>{let{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:s,isDragging:c}=wb({id:e.id});return(0,W.jsxs)(`div`,{ref:a,style:{transform:S_.Transform.toString(o),transition:s,zIndex:c?10:1,opacity:c?.3:1},className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex items-center space-x-3 mb-3 touch-manipulation group`,children:[(0,W.jsx)(`div`,{...r,...i,className:`text-stone-300 cursor-grab active:cursor-grabbing p-1 hover:text-stone-500`,children:(0,W.jsx)(nr,{size:20})}),(0,W.jsx)(`div`,{className:`w-16 h-16 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0`,children:(0,W.jsx)(`img`,{src:e.image,alt:e.name,className:`w-full h-full object-cover`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}})}),(0,W.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-900 text-base truncate`,children:e.name}),(0,W.jsxs)(`div`,{className:`flex items-center space-x-2 mt-1`,children:[(0,W.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,W.jsx)(Xn,{size:12,className:`mr-1`}),(0,W.jsxs)(`span`,{children:[` `,e.duration,` `]})]}),e.tag&&(0,W.jsx)(`span`,{className:`bg-amber-100 text-amber-700 text-[10px] px-1.5 py-0.5 rounded-md font-medium`,children:e.tag})]})]}),(0,W.jsx)(`button`,{onClick:()=>n(e),className:`p-2 text-stone-300 hover:text-amber-500 transition-colors mr-1`,children:(0,W.jsx)(br,{size:18})}),(0,W.jsx)(`button`,{onClick:()=>t(e.id),className:`p-2 text-stone-300 hover:text-red-400 transition-colors`,children:(0,W.jsx)(Ar,{size:18})})]})},Nb=({id:e,date:t,spots:n,onDelete:r,onAdd:i,onEdit:a})=>{let{setNodeRef:o}=wb({id:e});return(0,W.jsxs)(`div`,{ref:o,className:`mb-6`,children:[(0,W.jsx)(`div`,{className:`flex items-center space-x-2 mb-3 px-1`,children:(0,W.jsxs)(`div`,{className:`text-stone-900 font-bold text-lg flex items-center`,children:[(0,W.jsx)(Gn,{size:18,className:`mr-2 text-amber-500`}),t]})}),(0,W.jsxs)(`div`,{className:`bg-stone-100/50 rounded-3xl p-3 min-h-[100px] border border-stone-200/50`,children:[(0,W.jsx)(gb,{id:e,items:n.map(e=>e.id),strategy:fb,children:n.length===0?(0,W.jsx)(`div`,{className:`h-20 mb-2 flex flex-col items-center justify-center text-stone-400 text-xs border-2 border-dashed border-stone-200 rounded-2xl`,children:(0,W.jsx)(`span`,{children:``})}):n.map(e=>(0,W.jsx)(Mb,{spot:e,onDelete:r,onEdit:a},e.id))}),(0,W.jsxs)(`button`,{onClick:()=>i(e),className:`w-full py-3 rounded-xl border-2 border-dashed border-stone-200 text-stone-400 flex items-center justify-center hover:bg-white hover:border-amber-300 hover:text-amber-500 transition-all active:scale-[0.98]`,children:[(0,W.jsx)(Sr,{size:18}),(0,W.jsx)(`span`,{className:`ml-1.5 text-xs font-bold`,children:``})]})]})]})},Pb=()=>{let e=$e(),t=z().state,n={:[{id:`1`,name:``,image:`https://images.unsplash.com/photo-1599661046289-e31897846e41?auto=format&fit=crop&q=80&w=800`,duration:4,tag:``},{id:`2`,name:``,image:`https://images.unsplash.com/photo-1508804185872-d7badad00f7d?auto=format&fit=crop&q=80&w=800`,duration:1.5},{id:`3`,name:``,image:`https://images.unsplash.com/photo-1545063328-c8e3fafa16f9?auto=format&fit=crop&q=80&w=800`,duration:2},{id:`4`,name:``,image:`https://images.unsplash.com/photo-1598327772641-7299a4c8405d?auto=format&fit=crop&q=80&w=800`,duration:3,tag:``},{id:`5`,name:``,image:`https://images.unsplash.com/photo-1565060169689-5f2b2e143c68?auto=format&fit=crop&q=80&w=800`,duration:4,tag:``},{id:`6`,name:``,image:`https://images.unsplash.com/photo-1528695782088-3486241a8775?auto=format&fit=crop&q=80&w=800`,duration:4,tag:``},{id:`7`,name:``,image:`https://images.unsplash.com/photo-1600619842852-c62d0801a613?auto=format&fit=crop&q=80&w=800`,duration:3},{id:`8`,name:``,image:`https://images.unsplash.com/photo-1626507422634-97216a759088?auto=format&fit=crop&q=80&w=800`,duration:2}],default:[{id:`101`,name:``,image:`https://images.unsplash.com/photo-1552832230-c0197dd311b5?auto=format&fit=crop&q=80&w=800`,duration:3,tag:``},{id:`102`,name:``,image:`https://images.unsplash.com/photo-1496568816309-51d7c20e3b21?auto=format&fit=crop&q=80&w=800`,duration:2},{id:`103`,name:``,image:`https://images.unsplash.com/photo-1502602898657-3e91760cbb34?auto=format&fit=crop&q=80&w=800`,duration:2.5}]},[r,i]=(0,b.useState)({}),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)(null),[l,u]=(0,b.useState)(null),[d,f]=(0,b.useState)(null),[p,m]=(0,b.useState)(null),[h,g]=(0,b.useState)(!1),[_,v]=(0,b.useState)(!1),y=z_(R_(Bv,{activationConstraint:{distance:8}}),R_(Fv,{coordinateGetter:Ob}));(0,b.useEffect)(()=>{if(!t){o(``),i({"day-0":n.default});return}let{destination:e,preferences:r,days:a,startDate:s}=t;c(s),o(`${e}${r.length>0?r.join(``):``}${a}`);let l=n[e]||n.Beijing||n.default,u=[...l,...l,...l],d={};for(let e=0;e<a;e++){let t=Math.floor(Math.random()*2)+2,n=u.splice(0,t).map(t=>({...t,id:`spot-${e}-${t.id}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}));d[`day-${e}`]=n}i(d)},[t]),(0,b.useEffect)(()=>{let e=e=>{h&&(e.preventDefault(),e.returnValue=``)};return window.addEventListener(`beforeunload`,e),()=>{window.removeEventListener(`beforeunload`,e)}},[h]);let x=()=>{h?v(!0):e(`/plan`)},S=e=>e in r?e:Object.keys(r).find(t=>r[t].find(t=>t.id===e)),C=e=>{u(e.active.id)},w=e=>{let{active:t,over:n}=e,a=n?.id;if(!a||t.id===a)return;let o=S(t.id),s=S(a);if(!o||!s||o===s)return;let c=r[o].find(e=>e.id===t.id);c&&r[s].reduce((e,t)=>e+t.duration,0)+c.duration>24||i(e=>{g(!0);let r=e[o],i=e[s],c=r.findIndex(e=>e.id===t.id),l=i.findIndex(e=>e.id===a),u;if(a in e)u=i.length+1;else{let e=n&&t.rect.current.translated&&t.rect.current.translated.top>n.rect.top+n.rect.height?1:0;u=l>=0?l+e:i.length+1}return{...e,[o]:[...e[o].filter(e=>e.id!==t.id)],[s]:[...e[s].slice(0,u),r[c],...e[s].slice(u,e[s].length)]}})},T=e=>{let{active:t,over:n}=e,a=S(t.id),o=S(n?.id);if(a&&o&&a===o){let e=r[a].findIndex(e=>e.id===t.id),s=r[o].findIndex(e=>e.id===n.id);e!==s&&(g(!0),i(t=>({...t,[a]:ab(t[a],e,s)})))}u(null)},ee=e=>{let t=S(e);t&&(g(!0),i(n=>({...n,[t]:n[t].filter(t=>t.id!==e)})))},E=e=>{m(e)},D=(e,t,n)=>{if(!p)return;if((r[p]||[]).reduce((e,t)=>e+t.duration,0)+n>24){alert(`24`);return}let a={id:`new-${Date.now()}`,name:t,image:`https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=400&auto=format&fit=crop`,duration:n,tag:``};i(e=>({...e,[p]:[...e[p],a]})),g(!0),m(null)},te=(e,t,n)=>{let a=S(e);if(a){if(r[a].filter(t=>t.id!==e).reduce((e,t)=>e+t.duration,0)+n>24){alert(`24`);return}i(r=>({...r,[a]:r[a].map(r=>r.id===e?{...r,name:t,duration:n}:r)})),g(!0)}},O={sideEffects:Qy({styles:{active:{opacity:`0.5`}}})},ne=e=>{if(!s)return` ${e+1} `;let t=new Date(s);return t.setDate(t.getDate()+e),`${t.getMonth()+1}${t.getDate()} ${[``,``,``,``,``,``,``][t.getDay()]}`};return(0,W.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800`,children:[(0,W.jsxs)(`header`,{className:`px-4 py-4 bg-white sticky top-0 z-20 border-b border-stone-100 flex items-center justify-between shadow-sm`,children:[(0,W.jsx)(`button`,{onClick:x,className:`w-10 h-10 rounded-full bg-stone-50 flex items-center justify-center text-stone-600 active:scale-95 transition-transform`,children:(0,W.jsx)(Vn,{size:20})}),(0,W.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,W.jsx)(`h1`,{className:`text-base font-bold text-stone-900 truncate max-w-[200px]`,children:a}),(0,W.jsxs)(`div`,{className:`flex items-center text-[10px] text-stone-400 mt-0.5`,children:[(0,W.jsx)(fr,{size:10,className:`mr-0.5`}),t?.destination||``]})]}),(0,W.jsx)(`button`,{onClick:async()=>{let n=localStorage.getItem(`museum_user`),i=null;if(n)try{let e=JSON.parse(n);i=e.id||e.uid}catch(e){console.error(`Failed to parse user for plan saving`,e)}let o={id:Date.now().toString(),uid:i||void 0,title:a,destination:t?.destination||``,days:t?.days||0,startDate:s,image:r[`day-0`]?.[0]?.image||`https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=400&auto=format&fit=crop`,status:`upcoming`,createdAt:Date.now()};i&&await fc.savePlan(o,i);let c=localStorage.getItem(`my_plans`),l=c?JSON.parse(c):[];localStorage.setItem(`my_plans`,JSON.stringify([o,...l])),g(!1),e(`/plan`)},className:`text-sm font-bold text-amber-600 bg-amber-50 px-3 py-1.5 rounded-full hover:bg-amber-100 transition-colors`,children:``})]}),(0,W.jsxs)(`main`,{className:`flex-1 px-4 py-6 overflow-y-auto pb-20`,children:[(0,W.jsxs)(Ly,{sensors:y,collisionDetection:q_,onDragStart:C,onDragOver:w,onDragEnd:T,children:[(0,W.jsx)(`div`,{className:`space-y-2`,children:Object.keys(r).sort().map((e,t)=>(0,W.jsx)(Nb,{id:e,dayIndex:t,date:ne(t),spots:r[e],onDelete:ee,onAdd:()=>E(e),onEdit:f},e))}),(0,W.jsx)(ib,{dropAnimation:O,children:l?(0,W.jsxs)(`div`,{className:`bg-white rounded-2xl p-3 shadow-xl border-2 border-amber-400 flex items-center space-x-3 opacity-90 scale-105`,children:[(0,W.jsx)(`div`,{className:`w-16 h-16 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0`,children:(0,W.jsx)(`div`,{className:`w-full h-full bg-stone-300`})}),(0,W.jsx)(`div`,{className:`flex-1`,children:(0,W.jsx)(`h4`,{className:`font-bold text-stone-900`,children:`...`})})]}):null})]}),(0,W.jsx)(`div`,{className:`h-10`}),d&&(0,W.jsx)(jb,{spot:d,onClose:()=>f(null),onSave:te}),p&&(0,W.jsx)(jb,{title:``,spot:{id:`new-temp`,name:``,image:``,duration:1.5,tag:``},onClose:()=>m(null),onSave:D}),_&&(0,W.jsx)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in`,children:(0,W.jsxs)(`div`,{className:`bg-white rounded-3xl w-full max-w-xs shadow-2xl p-6 animate-in zoom-in-95 duration-200`,children:[(0,W.jsx)(`h3`,{className:`text-xl font-bold text-stone-900 mb-2`,children:``}),(0,W.jsx)(`p`,{className:`text-sm text-stone-500 mb-6`,children:``}),(0,W.jsxs)(`div`,{className:`flex space-x-3`,children:[(0,W.jsx)(`button`,{onClick:()=>v(!1),className:`flex-1 bg-stone-100 text-stone-600 font-bold py-3 rounded-xl hover:bg-stone-200 transition-colors`,children:``}),(0,W.jsx)(`button`,{onClick:()=>e(`/plan`),className:`flex-1 bg-red-500 text-white font-bold py-3 rounded-xl shadow-md hover:bg-red-600 transition-colors`,children:``})]})]})})]})]})};function Fb(e,t){let n=(0,b.useRef)(t);(0,b.useEffect)(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function Ib(e){return Object.freeze({__version:1,map:e})}function Lb(e,t){return Object.freeze({...e,...t})}const Rb=(0,b.createContext)(null);function zb(){let e=(0,b.use)(Rb);if(e==null)throw Error(`No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>`);return e}_();function Bb(e){function t(t,n){let{instance:r,context:i}=e(t).current;(0,b.useImperativeHandle)(n,()=>r);let{children:a}=t;return a==null?null:b.createElement(Rb,{value:i},a)}return(0,b.forwardRef)(t)}function Vb(e){function t(t,n){let{instance:r}=e(t).current;return(0,b.useImperativeHandle)(n,()=>r),null}return(0,b.forwardRef)(t)}function Hb(e,t){let n=(0,b.useRef)(void 0);(0,b.useEffect)(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Ub(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}var Wb=s(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?r(e):typeof define==`function`&&define.amd?define([`exports`],r):(n=typeof globalThis<`u`?globalThis:n||self,r(n.leaflet={}))})(e,(function(e){var t=`1.9.4`;function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n],i)e[t]=i[t];return e}var r=Object.create||(function(){function e(){}return function(t){return e.prototype=t,new e}})();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function o(e){return`_leaflet_id`in e||(e._leaflet_id=++a),e._leaflet_id}function s(e,t,n){var r,i,a,o=function(){r=!1,i&&=(a.apply(n,i),!1)};return a=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)},a}function c(e,t,n){var r=t[1],i=t[0],a=r-i;return e===r&&n?e:((e-i)%a+a)%a+i}function l(){return!1}function u(e,t){if(t===!1)return e;var n=10**(t===void 0?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,``)}function f(e){return d(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,`options`)||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function m(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+`=`+encodeURIComponent(e[i]));return(!t||t.indexOf(`?`)===-1?`?`:`&`)+r.join(`&`)}var h=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(h,function(e,n){var r=t[n];if(r===void 0)throw Error(`No value provided for variable `+e);return typeof r==`function`&&(r=r(t)),r})}var _=Array.isArray||function(e){return Object.prototype.toString.call(e)===`[object Array]`};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y=`data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=`;function b(e){return window[`webkit`+e]||window[`moz`+e]||window[`ms`+e]}var x=0;function S(e){var t=+new Date,n=Math.max(0,16-(t-x));return x=t+n,window.setTimeout(e,n)}var C=window.requestAnimationFrame||b(`RequestAnimationFrame`)||S,w=window.cancelAnimationFrame||b(`CancelAnimationFrame`)||b(`CancelRequestAnimationFrame`)||function(e){window.clearTimeout(e)};function T(e,t,n){if(n&&C===S)e.call(t);else return C.call(window,i(e,t))}function ee(e){e&&w.call(window,e)}var E={__proto__:null,extend:n,create:r,bind:i,get lastId(){return a},stamp:o,throttle:s,wrapNum:c,falseFn:l,formatNum:u,trim:d,splitWords:f,setOptions:p,getParamString:m,template:g,isArray:_,indexOf:v,emptyImageUrl:y,requestFn:C,cancelFn:w,requestAnimFrame:T,cancelAnimFrame:ee};function D(){}D.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,a=r(i);for(var o in a.constructor=t,t.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&o!==`prototype`&&o!==`__super__`&&(t[o]=this[o]);return e.statics&&n(t,e.statics),e.includes&&(te(e.includes),n.apply(null,[a].concat(e.includes))),n(a,e),delete a.statics,delete a.includes,a.options&&(a.options=i.options?r(i.options):{},n(a.options,e.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},t},D.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},D.mergeOptions=function(e){return n(this.prototype.options,e),this},D.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n=typeof e==`function`?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function te(e){if(!(typeof L>`u`||!L||!L.Mixin)){e=_(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn(`Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.`,Error().stack)}}var O={on:function(e,t,n){if(typeof e==`object`)for(var r in e)this._on(r,e[r],t);else{e=f(e);for(var i=0,a=e.length;i<a;i++)this._on(e[i],t,n)}return this},off:function(e,t,n){if(!arguments.length)delete this._events;else if(typeof e==`object`)for(var r in e)this._off(r,e[r],t);else{e=f(e);for(var i=arguments.length===1,a=0,o=e.length;a<o;a++)i?this._off(e[a]):this._off(e[a],t,n)}return this},_on:function(e,t,n,r){if(typeof t!=`function`){console.warn(`wrong listener type: `+typeof t);return}if(this._listens(e,t,n)===!1){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}},_off:function(e,t,n){var r,i,a;if(this._events&&(r=this._events[e],r)){if(arguments.length===1){if(this._firingCount)for(i=0,a=r.length;i<a;i++)r[i].fn=l;delete this._events[e];return}if(typeof t!=`function`){console.warn(`wrong listener type: `+typeof t);return}var o=this._listens(e,t,n);if(o!==!1){var s=r[o];this._firingCount&&(s.fn=l,this._events[e]=r=r.slice()),r.splice(o,1)}}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var c=a[o],l=c.fn;c.once&&this.off(e,l,c.ctx),l.call(c.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){typeof e!=`string`&&console.warn(`"string" type argument expected`);var i=t;typeof t!=`function`&&(r=!!t,i=void 0,n=void 0);var a=this._events&&this._events[e];if(a&&a.length&&this._listens(e,i,n)!==!1)return!0;if(r){for(var o in this._eventParents)if(this._eventParents[o].listens(e,t,n,r))return!0}return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,a=r.length;i<a;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if(typeof e==`object`)for(var r in e)this._on(r,e[r],t,!0);else{e=f(e);for(var i=0,a=e.length;i<a;i++)this._on(e[i],t,n,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var ne=D.extend(O);function k(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var re=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};k.prototype={clone:function(){return new k(this.x,this.y)},add:function(e){return this.clone()._add(A(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(A(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new k(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new k(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(e){e=A(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=A(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=A(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return`Point(`+u(this.x)+`, `+u(this.y)+`)`}};function A(e,t,n){return e instanceof k?e:_(e)?new k(e[0],e[1]):e==null?e:typeof e==`object`&&`x`in e&&`y`in e?new k(e.x,e.y):new k(e,t,n)}function j(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}j.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof k||typeof e[0]==`number`||`x`in e)t=n=A(e);else if(e=M(e),t=e.min,n=e.max,!t||!n)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=n.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(e){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return e=typeof e[0]==`number`||e instanceof k?A(e):M(e),e instanceof j?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return a&&o},overlaps:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>t.x&&r.x<n.x,o=i.y>t.y&&r.y<n.y;return a&&o},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return M(A(t.x-r,t.y-i),A(n.x+r,n.y+i))},equals:function(e){return e?(e=M(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function M(e,t){return!e||e instanceof j?e:new j(e,t)}function N(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}N.prototype={extend:function(e){var t=this._southWest,n=this._northEast,r,i;if(e instanceof F)r=e,i=e;else if(e instanceof N){if(r=e._southWest,i=e._northEast,!r||!i)return this}else return e?this.extend(I(e)||P(e)):this;return!t&&!n?(this._southWest=new F(r.lat,r.lng),this._northEast=new F(i.lat,i.lng)):(t.lat=Math.min(r.lat,t.lat),t.lng=Math.min(r.lng,t.lng),n.lat=Math.max(i.lat,n.lat),n.lng=Math.max(i.lng,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new N(new F(t.lat-r,t.lng-i),new F(n.lat+r,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e=typeof e[0]==`number`||e instanceof F||`lat`in e?I(e):P(e);var t=this._southWest,n=this._northEast,r,i;return e instanceof N?(r=e.getSouthWest(),i=e.getNorthEast()):r=i=e,r.lat>=t.lat&&i.lat<=n.lat&&r.lng>=t.lng&&i.lng<=n.lng},intersects:function(e){e=P(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return a&&o},overlaps:function(e){e=P(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>t.lat&&r.lat<n.lat,o=i.lng>t.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(`,`)},equals:function(e,t){return e?(e=P(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function P(e,t){return e instanceof N?e:new N(e,t)}function F(e,t,n){if(isNaN(e)||isNaN(t))throw Error(`Invalid LatLng object: (`+e+`, `+t+`)`);this.lat=+e,this.lng=+t,n!==void 0&&(this.alt=+n)}F.prototype={equals:function(e,t){return e?(e=I(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(t===void 0?1e-9:t)):!1},toString:function(e){return`LatLng(`+u(this.lat,e)+`, `+u(this.lng,e)+`)`},distanceTo:function(e){return ae.distance(this,I(e))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return P([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};function I(e,t,n){return e instanceof F?e:_(e)&&typeof e[0]!=`object`?e.length===3?new F(e[0],e[1],e[2]):e.length===2?new F(e[0],e[1]):null:e==null?e:typeof e==`object`&&`lat`in e?new F(e.lat,`lng`in e?e.lng:e.lon,e.alt):t===void 0?null:new F(e,t,n)}var ie={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*2**e},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new j(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?c(e.lng,this.wrapLng,!0):e.lng,n=this.wrapLat?c(e.lat,this.wrapLat,!0):e.lat,r=e.alt;return new F(n,t,r)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(r===0&&i===0)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new N(new F(a.lat-r,a.lng-i),new F(o.lat-r,o.lng-i))}},ae=n({},ie,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,c=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*c}}),R=6378137,oe={R,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new k(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(function(){var e=R*Math.PI;return new j([-e,-e],[e,e])})()};function se(e,t,n,r){if(_(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=n,this._d=r}se.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t||=1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t||=1,new k((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function ce(e,t,n,r){return new se(e,t,n,r)}var le=n({},ae,{code:`EPSG:3857`,projection:oe,transformation:function(){var e=.5/(Math.PI*oe.R);return ce(e,.5,-e,.5)}()}),ue=n({},le,{code:`EPSG:900913`});function de(e){return document.createElementNS(`http://www.w3.org/2000/svg`,e)}function fe(e,t){var n=``,r,i,a,o,s,c;for(r=0,a=e.length;r<a;r++){for(s=e[r],i=0,o=s.length;i<o;i++)c=s[i],n+=(i?`L`:`M`)+c.x+` `+c.y;n+=t?z.svg?`z`:`x`:``}return n||`M0 0`}var pe=document.documentElement.style,me=`ActiveXObject`in window,he=me&&!document.addEventListener,ge=`msLaunchUri`in navigator&&!(`documentMode`in document),_e=Xe(`webkit`),ve=Xe(`android`),ye=Xe(`android 2`)||Xe(`android 3`),be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xe=ve&&Xe(`Google`)&&be<537&&!(`AudioNode`in window),Se=!!window.opera,Ce=!ge&&Xe(`chrome`),we=Xe(`gecko`)&&!_e&&!Se&&!me,Te=!Ce&&Xe(`safari`),Ee=Xe(`phantom`),De=`OTransition`in pe,Oe=navigator.platform.indexOf(`Win`)===0,ke=me&&`transition`in pe,Ae=`WebKitCSSMatrix`in window&&`m11`in new window.WebKitCSSMatrix&&!ye,je=`MozPerspective`in pe,Me=!window.L_DISABLE_3D&&(ke||Ae||je)&&!De&&!Ee,Ne=typeof orientation<`u`||Xe(`mobile`),Pe=Ne&&_e,Fe=Ne&&Ae,Ie=!window.PointerEvent&&window.MSPointerEvent,Le=!!(window.PointerEvent||Ie),Re=`ontouchstart`in window||!!window.TouchEvent,ze=!window.L_NO_TOUCH&&(Re||Le),Be=Ne&&Se,Ve=Ne&&we,He=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ue=function(){var e=!1;try{var t=Object.defineProperty({},`passive`,{get:function(){e=!0}});window.addEventListener(`testPassiveEventSupport`,l,t),window.removeEventListener(`testPassiveEventSupport`,l,t)}catch{}return e}(),We=function(){return!!document.createElement(`canvas`).getContext}(),Ge=!!(document.createElementNS&&de(`svg`).createSVGRect),Ke=!!Ge&&(function(){var e=document.createElement(`div`);return e.innerHTML=`<svg/>`,(e.firstChild&&e.firstChild.namespaceURI)===`http://www.w3.org/2000/svg`})(),qe=!Ge&&function(){try{var e=document.createElement(`div`);e.innerHTML=`<v:shape adj="1"/>`;var t=e.firstChild;return t.style.behavior=`url(#default#VML)`,t&&typeof t.adj==`object`}catch{return!1}}(),Je=navigator.platform.indexOf(`Mac`)===0,Ye=navigator.platform.indexOf(`Linux`)===0;function Xe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var z={ie:me,ielt9:he,edge:ge,webkit:_e,android:ve,android23:ye,androidStock:xe,opera:Se,chrome:Ce,gecko:we,safari:Te,phantom:Ee,opera12:De,win:Oe,ie3d:ke,webkit3d:Ae,gecko3d:je,any3d:Me,mobile:Ne,mobileWebkit:Pe,mobileWebkit3d:Fe,msPointer:Ie,pointer:Le,touch:ze,touchNative:Re,mobileOpera:Be,mobileGecko:Ve,retina:He,passiveEvents:Ue,canvas:We,svg:Ge,vml:qe,inlineSvg:Ke,mac:Je,linux:Ye},Ze=z.msPointer?`MSPointerDown`:`pointerdown`,Qe=z.msPointer?`MSPointerMove`:`pointermove`,$e=z.msPointer?`MSPointerUp`:`pointerup`,et=z.msPointer?`MSPointerCancel`:`pointercancel`,tt={touchstart:Ze,touchmove:Qe,touchend:$e,touchcancel:et},nt={touchstart:ft,touchmove:dt,touchend:dt,touchcancel:dt},rt={},it=!1;function at(e,t,n){return t===`touchstart`&&ut(),nt[t]?(n=nt[t].bind(this,n),e.addEventListener(tt[t],n,!1),n):(console.warn(`wrong event specified:`,t),l)}function ot(e,t,n){if(!tt[t]){console.warn(`wrong event specified:`,t);return}e.removeEventListener(tt[t],n,!1)}function st(e){rt[e.pointerId]=e}function ct(e){rt[e.pointerId]&&(rt[e.pointerId]=e)}function lt(e){delete rt[e.pointerId]}function ut(){it||=(document.addEventListener(Ze,st,!0),document.addEventListener(Qe,ct,!0),document.addEventListener($e,lt,!0),document.addEventListener(et,lt,!0),!0)}function dt(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||`mouse`)){for(var n in t.touches=[],rt)t.touches.push(rt[n]);t.changedTouches=[t],e(t)}}function ft(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&an(t),dt(e,t)}function pt(e){var t={},n,r;for(r in e)n=e[r],t[r]=n&&n.bind?n.bind(e):n;return e=t,t.type=`dblclick`,t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var mt=200;function ht(e,t){e.addEventListener(`dblclick`,t);var n=0,r;function i(e){if(e.detail!==1){r=e.detail;return}if(!(e.pointerType===`mouse`||e.sourceCapabilities&&!e.sourceCapabilities.firesTouchEvents)){var i=sn(e);if(!(i.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})&&!i.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var a=Date.now();a-n<=mt?(r++,r===2&&t(pt(e))):r=1,n=a}}}return e.addEventListener(`click`,i),{dblclick:t,simDblclick:i}}function gt(e,t){e.removeEventListener(`dblclick`,t.dblclick),e.removeEventListener(`click`,t.simDblclick)}var _t=Mt([`transform`,`webkitTransform`,`OTransform`,`MozTransform`,`msTransform`]),vt=Mt([`webkitTransition`,`transition`,`OTransition`,`MozTransition`,`msTransition`]),yt=vt===`webkitTransition`||vt===`OTransition`?vt+`End`:`transitionend`;function bt(e){return typeof e==`string`?document.getElementById(e):e}function xt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||n===`auto`)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return n===`auto`?null:n}function B(e,t,n){var r=document.createElement(e);return r.className=t||``,n&&n.appendChild(r),r}function St(e){var t=e.parentNode;t&&t.removeChild(e)}function Ct(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function wt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Tt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Et(e,t){if(e.classList!==void 0)return e.classList.contains(t);var n=kt(e);return n.length>0&&RegExp(`(^|\\s)`+t+`(\\s|$)`).test(n)}function V(e,t){if(e.classList!==void 0)for(var n=f(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!Et(e,t)){var a=kt(e);Ot(e,(a?a+` `:``)+t)}}function Dt(e,t){e.classList===void 0?Ot(e,d((` `+kt(e)+` `).replace(` `+t+` `,` `))):e.classList.remove(t)}function Ot(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function kt(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function At(e,t){`opacity`in e.style?e.style.opacity=t:`filter`in e.style&&jt(e,t)}function jt(e,t){var n=!1,r=`DXImageTransform.Microsoft.Alpha`;try{n=e.filters.item(r)}catch{if(t===1)return}t=Math.round(t*100),n?(n.Enabled=t!==100,n.Opacity=t):e.style.filter+=` progid:`+r+`(opacity=`+t+`)`}function Mt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Nt(e,t,n){var r=t||new k(0,0);e.style[_t]=(z.ie3d?`translate(`+r.x+`px,`+r.y+`px)`:`translate3d(`+r.x+`px,`+r.y+`px,0)`)+(n?` scale(`+n+`)`:``)}function Pt(e,t){e._leaflet_pos=t,z.any3d?Nt(e,t):(e.style.left=t.x+`px`,e.style.top=t.y+`px`)}function Ft(e){return e._leaflet_pos||new k(0,0)}var It,Lt,Rt;if(`onselectstart`in document)It=function(){H(window,`selectstart`,an)},Lt=function(){Xt(window,`selectstart`,an)};else{var zt=Mt([`userSelect`,`WebkitUserSelect`,`OUserSelect`,`MozUserSelect`,`msUserSelect`]);It=function(){if(zt){var e=document.documentElement.style;Rt=e[zt],e[zt]=`none`}},Lt=function(){zt&&(document.documentElement.style[zt]=Rt,Rt=void 0)}}function Bt(){H(window,`dragstart`,an)}function Vt(){Xt(window,`dragstart`,an)}var Ht,Ut;function Wt(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Gt(),Ht=e,Ut=e.style.outlineStyle,e.style.outlineStyle=`none`,H(window,`keydown`,Gt))}function Gt(){Ht&&(Ht.style.outlineStyle=Ut,Ht=void 0,Ut=void 0,Xt(window,`keydown`,Gt))}function Kt(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function qt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Jt={__proto__:null,TRANSFORM:_t,TRANSITION:vt,TRANSITION_END:yt,get:bt,getStyle:xt,create:B,remove:St,empty:Ct,toFront:wt,toBack:Tt,hasClass:Et,addClass:V,removeClass:Dt,setClass:Ot,getClass:kt,setOpacity:At,testProp:Mt,setTransform:Nt,setPosition:Pt,getPosition:Ft,get disableTextSelection(){return It},get enableTextSelection(){return Lt},disableImageDrag:Bt,enableImageDrag:Vt,preventOutline:Wt,restoreOutline:Gt,getSizedParentNode:Kt,getScale:qt};function H(e,t,n,r){if(t&&typeof t==`object`)for(var i in t)$t(e,i,t[i],n);else{t=f(t);for(var a=0,o=t.length;a<o;a++)$t(e,t[a],n,r)}return this}var Yt=`_leaflet_events`;function Xt(e,t,n,r){if(arguments.length===1)Zt(e),delete e[Yt];else if(t&&typeof t==`object`)for(var i in t)en(e,i,t[i],n);else if(t=f(t),arguments.length===2)Zt(e,function(e){return v(t,e)!==-1});else for(var a=0,o=t.length;a<o;a++)en(e,t[a],n,r);return this}function Zt(e,t){for(var n in e[Yt]){var r=n.split(/\d/)[0];(!t||t(r))&&en(e,r,null,null,n)}}var Qt={mouseenter:`mouseover`,mouseleave:`mouseout`,wheel:!(`onwheel`in window)&&`mousewheel`};function $t(e,t,n,r){var i=t+o(n)+(r?`_`+o(r):``);if(e[Yt]&&e[Yt][i])return this;var a=function(t){return n.call(r||e,t||window.event)},s=a;!z.touchNative&&z.pointer&&t.indexOf(`touch`)===0?a=at(e,t,a):z.touch&&t===`dblclick`?a=ht(e,a):`addEventListener`in e?t===`touchstart`||t===`touchmove`||t===`wheel`||t===`mousewheel`?e.addEventListener(Qt[t]||t,a,z.passiveEvents?{passive:!1}:!1):t===`mouseenter`||t===`mouseleave`?(a=function(t){t||=window.event,dn(e,t)&&s(t)},e.addEventListener(Qt[t],a,!1)):e.addEventListener(t,s,!1):e.attachEvent(`on`+t,a),e[Yt]=e[Yt]||{},e[Yt][i]=a}function en(e,t,n,r,i){i||=t+o(n)+(r?`_`+o(r):``);var a=e[Yt]&&e[Yt][i];if(!a)return this;!z.touchNative&&z.pointer&&t.indexOf(`touch`)===0?ot(e,t,a):z.touch&&t===`dblclick`?gt(e,a):`removeEventListener`in e?e.removeEventListener(Qt[t]||t,a,!1):e.detachEvent(`on`+t,a),e[Yt][i]=null}function tn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function nn(e){return $t(e,`wheel`,tn),this}function rn(e){return H(e,`mousedown touchstart dblclick contextmenu`,tn),e._leaflet_disable_click=!0,this}function an(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function on(e){return an(e),tn(e),this}function sn(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function cn(e,t){if(!t)return new k(e.clientX,e.clientY);var n=qt(t),r=n.boundingClientRect;return new k((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var ln=z.linux&&z.chrome?window.devicePixelRatio:z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function un(e){return z.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/ln:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function dn(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch{return!1}return n!==e}var fn={__proto__:null,on:H,off:Xt,stopPropagation:tn,disableScrollPropagation:nn,disableClickPropagation:rn,preventDefault:an,stop:on,getPropagationPath:sn,getMousePosition:cn,getWheelDelta:un,isExternalTarget:dn,addListener:H,removeListener:Xt},pn=ne.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Ft(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire(`start`),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=this._duration*1e3;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Pt(this._el,n),this.fire(`step`)},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire(`end`)},_easeOut:function(e){return 1-(1-e)**this._easeOutPower}}),mn=ne.extend({options:{crs:le,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(I(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vt&&z.any3d&&!z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),H(this._proxy,yt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(I(e),t,this.options.maxBounds),r||={},this._stop(),this._loaded&&!r.reset&&r!==!0&&(r.animate!==void 0&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom===t?this._tryAnimatedPan(e,r.pan):this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e||=z.any3d?this.options.zoomDelta:1,this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e||=z.any3d?this.options.zoomDelta:1,this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),a=(e instanceof k?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t||={},e=e.getBounds?e.getBounds():P(e);var n=A(t.paddingTopLeft||t.padding||[0,0]),r=A(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if(i=typeof t.maxZoom==`number`?Math.min(t.maxZoom,i):i,i===1/0)return{center:e.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(e,t){if(e=P(e),!e.isValid())throw Error(`Bounds are not valid.`);var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=A(e).round(),t||={},!e.x&&!e.y)return this.fire(`moveend`);if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire(`movestart`),t.animate!==!1){V(this._mapPane,`leaflet-pan-anim`);var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire(`move`).fire(`moveend`);return this},flyTo:function(e,t,n){if(n||={},n.animate===!1||!z.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),a=this.getSize(),o=this._zoom;e=I(e),t=t===void 0?o:t;var s=Math.max(a.x,a.y),c=s*this.getZoomScale(o,t),l=i.distanceTo(r)||1,u=1.42,d=u*u;function f(e){var t=e?-1:1,n=e?c:s,r=(c*c-s*s+t*d*d*l*l)/(2*n*d*l),i=Math.sqrt(r*r+1)-r;return i<1e-9?-18:Math.log(i)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}function h(e){return p(e)/m(e)}var g=f(0);function _(e){return s*(m(g)/m(g+u*e))}function v(e){return s*(m(g)*h(g+u*e)-p(g))/d}function y(e){return 1-(1-e)**1.5}var b=Date.now(),x=(f(1)-g)/u,S=n.duration?1e3*n.duration:1e3*x*.8;function C(){var n=(Date.now()-b)/S,a=y(n)*x;n<=1?(this._flyToFrame=T(C,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(v(a)/l)),o),this.getScaleZoom(s/_(a),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),C.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=P(e),this.listens(`moveend`,this._panInsideMaxBounds)&&this.off(`moveend`,this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on(`moveend`,this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire(`zoomlevelschange`),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire(`zoomlevelschange`),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,P(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){t||={};var n=A(t.paddingTopLeft||t.padding||[0,0]),r=A(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),a=this.project(e),o=this.getPixelBounds(),s=M([o.min.add(n),o.max.subtract(r)]),c=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var l=a.subtract(s.getCenter()),u=s.extend(a).getSize().subtract(c);i.x+=l.x<0?-u.x:u.x,i.y+=l.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=t.divideBy(2).round(),o=r.divideBy(2).round(),s=a.subtract(o);return!s.x&&!s.y?this:(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire(`move`),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,`moveend`),200)):this.fire(`moveend`)),this.fire(`resize`,{oldSize:t,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire(`viewreset`),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!(`geolocation`in navigator))return this._handleGeolocationError({code:0,message:`Geolocation not supported.`}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(t===1?`permission denied`:t===2?`position unavailable`:`timeout`);this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire(`locationerror`,{code:t,message:`Geolocation error: `+n+`.`})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,n=e.coords.longitude,r=new F(t,n),i=r.toBounds(e.coords.accuracy*2),a=this._locateOptions;if(a.setView){var o=this.getBoundsZoom(i);this.setView(r,a.maxZoom?Math.min(o,a.maxZoom):o)}var s={latlng:r,bounds:i,timestamp:e.timestamp};for(var c in e.coords)typeof e.coords[c]==`number`&&(s[c]=e.coords[c]);this.fire(`locationfound`,s)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off(`moveend`,this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw Error(`Map container is being reused by another instance`);try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var e in this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),St(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&=(ee(this._resizeRequest),null),this._clearHandlers(),this._loaded&&this.fire(`unload`),this._layers)this._layers[e].remove();for(e in this._panes)St(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=B(`div`,`leaflet-pane`+(e?` leaflet-`+e.replace(`Pane`,``)+`-pane`:``),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new N(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=P(e),n=A(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),c=this.getSize().subtract(n),l=M(this.project(s,r),this.project(o,r)).getSize(),u=z.any3d?this.options.zoomSnap:1,d=c.x/l.x,f=c.y/l.y,p=t?Math.max(d,f):Math.min(d,f);return r=this.getScaleZoom(p,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(a,r))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new k(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new j(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e==`string`?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=t===void 0?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=t===void 0?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(I(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(A(e),t)},layerPointToLatLng:function(e){var t=A(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(I(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(I(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(P(e))},distance:function(e,t){return this.options.crs.distance(I(e),I(t))},containerPointToLayerPoint:function(e){return A(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return A(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(A(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(I(e)))},mouseEventToContainerPoint:function(e){return cn(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=bt(e);if(t){if(t._leaflet_id)throw Error(`Map container is already initialized.`)}else throw Error(`Map container not found.`);H(t,`scroll`,this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&z.any3d,V(e,`leaflet-container`+(z.touch?` leaflet-touch`:``)+(z.retina?` leaflet-retina`:``)+(z.ielt9?` leaflet-oldie`:``)+(z.safari?` leaflet-safari`:``)+(this._fadeAnimated?` leaflet-fade-anim`:``));var t=xt(e,`position`);t!==`absolute`&&t!==`relative`&&t!==`fixed`&&t!==`sticky`&&(e.style.position=`relative`),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane(`mapPane`,this._container),Pt(this._mapPane,new k(0,0)),this.createPane(`tilePane`),this.createPane(`overlayPane`),this.createPane(`shadowPane`),this.createPane(`markerPane`),this.createPane(`tooltipPane`),this.createPane(`popupPane`),this.options.markerZoomAnimation||(V(e.markerPane,`leaflet-zoom-hide`),V(e.shadowPane,`leaflet-zoom-hide`))},_resetView:function(e,t,n){Pt(this._mapPane,new k(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire(`viewprereset`);var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire(`viewreset`),r&&this.fire(`load`)},_moveStart:function(e,t){return e&&this.fire(`zoomstart`),t||this.fire(`movestart`),this},_move:function(e,t,n,r){t===void 0&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire(`zoom`,n):((i||n&&n.pinch)&&this.fire(`zoom`,n),this.fire(`move`,n)),this},_moveEnd:function(e){return e&&this.fire(`zoomend`),this.fire(`moveend`)},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Pt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error(`Set map center and zoom first.`)},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Xt:H;t(this._container,`click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup`,this._handleDOMEvent,this),this.options.trackResize&&t(window,`resize`,this._onResize,this),z.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,`moveend`,this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n=[],r,i=t===`mouseout`||t===`mouseover`,a=e.target||e.srcElement,s=!1;a;){if(r=this._targets[o(a)],r&&(t===`click`||t===`preclick`)&&this._draggableMoved(r)){s=!0;break}if(r&&r.listens(t,!0)&&(i&&!dn(a,e)||(n.push(r),i))||a===this._container)break;a=a.parentNode}return!n.length&&!s&&!i&&this.listens(t,!0)&&(n=[this]),n},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type===`click`&&this._isClickDisabled(t))){var n=e.type;n===`mousedown`&&Wt(t),this._fireDOMEvent(e,n)}},_mouseEvents:[`click`,`dblclick`,`mouseover`,`mouseout`,`contextmenu`],_fireDOMEvent:function(e,t,r){if(e.type===`click`){var i=n({},e);i.type=`preclick`,this._fireDOMEvent(i,i.type,r)}var a=this._findEventTargets(e,t);if(r){for(var o=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&o.push(r[s]);a=o.concat(a)}if(a.length){t===`contextmenu`&&an(e);var c=a[0],l={originalEvent:e};if(e.type!==`keypress`&&e.type!==`keydown`&&e.type!==`keyup`){var u=c.getLatLng&&(!c._radius||c._radius<=10);l.containerPoint=u?this.latLngToContainerPoint(c.getLatLng()):this.mouseEventToContainerPoint(e),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=u?c.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(t,l,!0),l.originalEvent._stopped||a[s].options.bubblingMouseEvents===!1&&v(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on(`load`,e,t),this},_getMapPanePos:function(){return Ft(this._mapPane)||new k(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return M([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),a=new j(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,t);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?e:this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new j(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=M(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),a=r.max.subtract(e.max);return new k(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=z.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire(`move`)},_onPanTransitionEnd:function(){Dt(this._mapPane,`leaflet-pan-anim`),this.fire(`moveend`)},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=B(`div`,`leaflet-proxy leaflet-zoom-animated`);this._panes.mapPane.appendChild(e),this.on(`zoomanim`,function(e){var t=_t,n=this._proxy.style[t];Nt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on(`load moveend`,this._animMoveEnd,this),this._on(`unload`,this._destroyAnimProxy,this)},_destroyAnimProxy:function(){St(this._proxy),this.off(`load moveend`,this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Nt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf(`transform`)>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName(`leaflet-zoom-animated`).length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n||={},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return n.animate!==!0&&!this.getSize().contains(i)?!1:(T(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,V(this._mapPane,`leaflet-zoom-anim`)),this.fire(`zoomanim`,{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||=this._zoom!==this._animateToZoom,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dt(this._mapPane,`leaflet-zoom-anim`),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire(`zoom`),delete this._tempFireZoomEvent,this.fire(`move`),this._moveEnd(!0))}});function hn(e,t){return new mn(e,t)}var gn=D.extend({options:{position:`topright`},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return V(t,`leaflet-control`),n.indexOf(`bottom`)===-1?r.appendChild(t):r.insertBefore(t,r.firstChild),this._map.on(`unload`,this.remove,this),this},remove:function(){return this._map?(St(this._container),this.onRemove&&this.onRemove(this._map),this._map.off(`unload`,this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),_n=function(e){return new gn(e)};mn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t=`leaflet-`,n=this._controlContainer=B(`div`,t+`control-container`,this._container);function r(r,i){var a=t+r+` `+t+i;e[r+i]=B(`div`,a,n)}r(`top`,`left`),r(`top`,`right`),r(`bottom`,`left`),r(`bottom`,`right`)},_clearControlPos:function(){for(var e in this._controlCorners)St(this._controlCorners[e]);St(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vn=gn.extend({options:{collapsed:!0,position:`topright`,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on(`zoomend`,this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on(`add remove`,this._onLayerChange,this);return this._container},addTo:function(e){return gn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off(`zoomend`,this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off(`add remove`,this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off(`add remove`,this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){V(this._container,`leaflet-control-layers-expanded`),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(V(this._section,`leaflet-control-layers-scrollbar`),this._section.style.height=e+`px`):Dt(this._section,`leaflet-control-layers-scrollbar`),this._checkDisabledLayers(),this},collapse:function(){return Dt(this._container,`leaflet-control-layers-expanded`),this},_initLayout:function(){var e=`leaflet-control-layers`,t=this._container=B(`div`,e),n=this.options.collapsed;t.setAttribute(`aria-haspopup`,!0),rn(t),nn(t);var r=this._section=B(`section`,e+`-list`);n&&(this._map.on(`click`,this.collapse,this),H(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=B(`a`,e+`-toggle`,t);i.href=`#`,i.title=`Layers`,i.setAttribute(`role`,`button`),H(i,{keydown:function(e){e.keyCode===13&&this._expandSafely()},click:function(e){an(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=B(`div`,e+`-base`,r),this._separator=B(`div`,e+`-separator`,r),this._overlaysList=B(`div`,e+`-overlays`,r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on(`add remove`,this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ct(this._baseLayersList),Ct(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t||=r.overlay,e||=!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e&&=i>1,this._baseLayersList.style.display=e?``:`none`),this._separator.style.display=t&&e?``:`none`,this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?e.type===`add`?`overlayadd`:`overlayremove`:e.type===`add`?`baselayerchange`:null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n=`<input type="radio" class="leaflet-control-layers-selector" name="`+e+`"`+(t?` checked="checked"`:``)+`/>`,r=document.createElement(`div`);return r.innerHTML=n,r.firstChild},_addItem:function(e){var t=document.createElement(`label`),n=this._map.hasLayer(e.layer),r;e.overlay?(r=document.createElement(`input`),r.type=`checkbox`,r.className=`leaflet-control-layers-selector`,r.defaultChecked=n):r=this._createRadioElement(`leaflet-base-layers_`+o(this),n),this._layerControlInputs.push(r),r.layerId=o(e.layer),H(r,`click`,this._onInputClick,this);var i=document.createElement(`span`);i.innerHTML=` `+e.name;var a=document.createElement(`span`);return t.appendChild(a),a.appendChild(r),a.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,n,r=[],i=[];this._handlingClick=!0;for(var a=e.length-1;a>=0;a--)t=e[a],n=this._getLayer(t.layerId).layer,t.checked?r.push(n):t.checked||i.push(n);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,n,r=this._map.getZoom(),i=e.length-1;i>=0;i--)t=e[i],n=this._getLayer(t.layerId).layer,t.disabled=n.options.minZoom!==void 0&&r<n.options.minZoom||n.options.maxZoom!==void 0&&r>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,H(e,`click`,an),this.expand();var t=this;setTimeout(function(){Xt(e,`click`,an),t._preventClick=!1})}}),yn=function(e,t,n){return new vn(e,t,n)},bn=gn.extend({options:{position:`topleft`,zoomInText:`<span aria-hidden="true">+</span>`,zoomInTitle:`Zoom in`,zoomOutText:`<span aria-hidden="true">&#x2212;</span>`,zoomOutTitle:`Zoom out`},onAdd:function(e){var t=`leaflet-control-zoom`,n=B(`div`,t+` leaflet-bar`),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+`-in`,n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+`-out`,n,this._zoomOut),this._updateDisabled(),e.on(`zoomend zoomlevelschange`,this._updateDisabled,this),n},onRemove:function(e){e.off(`zoomend zoomlevelschange`,this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var a=B(`a`,n,r);return a.innerHTML=e,a.href=`#`,a.title=t,a.setAttribute(`role`,`button`),a.setAttribute(`aria-label`,t),rn(a),H(a,`click`,on),H(a,`click`,i,this),H(a,`click`,this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t=`leaflet-disabled`;Dt(this._zoomInButton,t),Dt(this._zoomOutButton,t),this._zoomInButton.setAttribute(`aria-disabled`,`false`),this._zoomOutButton.setAttribute(`aria-disabled`,`false`),(this._disabled||e._zoom===e.getMinZoom())&&(V(this._zoomOutButton,t),this._zoomOutButton.setAttribute(`aria-disabled`,`true`)),(this._disabled||e._zoom===e.getMaxZoom())&&(V(this._zoomInButton,t),this._zoomInButton.setAttribute(`aria-disabled`,`true`))}});mn.mergeOptions({zoomControl:!0}),mn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bn,this.addControl(this.zoomControl))});var xn=function(e){return new bn(e)},Sn=gn.extend({options:{position:`bottomleft`,maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=`leaflet-control-scale`,n=B(`div`,t),r=this.options;return this._addScales(r,t+`-line`,n),e.on(r.updateWhenIdle?`moveend`:`move`,this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?`moveend`:`move`,this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=B(`div`,t,n)),e.imperial&&(this._iScale=B(`div`,t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+` m`:t/1e3+` km`;this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t=e*3.2808399,n,r,i;t>5280?(n=t/5280,r=this._getRoundNum(n),this._updateScale(this._iScale,r+` mi`,r/n)):(i=this._getRoundNum(t),this._updateScale(this._iScale,i+` ft`,i/t))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+`px`,e.innerHTML=t},_getRoundNum:function(e){var t=10**((Math.floor(e)+``).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),Cn=function(e){return new Sn(e)},wn=gn.extend({options:{position:`bottomright`,prefix:`<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">`+(z.inlineSvg?`<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> `:``)+`Leaflet</a>`},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=B(`div`,`leaflet-control-attribution`),rn(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on(`layeradd`,this._addAttribution,this),this._container},onRemove:function(e){e.off(`layeradd`,this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once(`remove`,function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e&&this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(`, `)),this._container.innerHTML=n.join(` <span aria-hidden="true">|</span> `)}}});mn.mergeOptions({attributionControl:!0}),mn.addInitHook(function(){this.options.attributionControl&&new wn().addTo(this)}),gn.Layers=vn,gn.Zoom=bn,gn.Scale=Sn,gn.Attribution=wn,_n.layers=yn,_n.zoom=xn,_n.scale=Cn,_n.attribution=function(e){return new wn(e)};var Tn=D.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Tn.addTo=function(e,t){return e.addHandler(t,this),this};var En={Events:O},Dn=z.touch?`touchstart mousedown`:`mousedown`,On=ne.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||=(H(this._dragStartTarget,Dn,this._onDown,this),!0)},disable:function(){this._enabled&&(On._dragging===this&&this.finishDrag(!0),Xt(this._dragStartTarget,Dn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Et(this._element,`leaflet-zoom-anim`))){if(e.touches&&e.touches.length!==1){On._dragging===this&&this.finishDrag();return}if(!(On._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(On._dragging=this,this._preventOutline&&Wt(this._element),Bt(),It(),!this._moving)){this.fire(`down`);var t=e.touches?e.touches[0]:e,n=Kt(this._element);this._startPoint=new k(t.clientX,t.clientY),this._startPos=Ft(this._element),this._parentScale=qt(n);var r=e.type===`mousedown`;H(document,r?`mousemove`:`touchmove`,this._onMove,this),H(document,r?`mouseup`:`touchend touchcancel`,this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,n=new k(t.clientX,t.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,an(e),this._moved||(this.fire(`dragstart`),this._moved=!0,V(document.body,`leaflet-dragging`),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),V(this._lastTarget,`leaflet-drag-target`)),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire(`predrag`,e),Pt(this._element,this._newPos),this.fire(`drag`,e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Dt(document.body,`leaflet-dragging`),this._lastTarget&&=(Dt(this._lastTarget,`leaflet-drag-target`),null),Xt(document,`mousemove touchmove`,this._onMove,this),Xt(document,`mouseup touchend touchcancel`,this._onUp,this),Vt(),Lt();var t=this._moved&&this._moving;this._moving=!1,On._dragging=!1,t&&this.fire(`dragend`,{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function kn(e,t,n){var r,i=[1,4,2,8],a,o,s,c,l,u,d,f;for(a=0,u=e.length;a<u;a++)e[a]._code=Vn(e[a],t);for(s=0;s<4;s++){for(d=i[s],r=[],a=0,u=e.length,o=u-1;a<u;o=a++)c=e[a],l=e[o],c._code&d?l._code&d||(f=U(l,c,d,t,n),f._code=Vn(f,t),r.push(f)):(l._code&d&&(f=U(l,c,d,t,n),f._code=Vn(f,t),r.push(f)),r.push(c));e=r}return e}function An(e,t){var n,r,i,a,o,s,c,l,u;if(!e||e.length===0)throw Error(`latlngs not passed`);Wn(e)||(console.warn(`latlngs are not flat! Only the first ring will be used`),e=e[0]);var d=I([0,0]),f=P(e);f.getNorthWest().distanceTo(f.getSouthWest())*f.getNorthEast().distanceTo(f.getNorthWest())<1700&&(d=jn(e));var p=e.length,m=[];for(n=0;n<p;n++){var h=I(e[n]);m.push(t.project(I([h.lat-d.lat,h.lng-d.lng])))}for(s=c=l=0,n=0,r=p-1;n<p;r=n++)i=m[n],a=m[r],o=i.y*a.x-a.y*i.x,c+=(i.x+a.x)*o,l+=(i.y+a.y)*o,s+=o*3;u=s===0?m[0]:[c/s,l/s];var g=t.unproject(A(u));return I([g.lat+d.lat,g.lng+d.lng])}function jn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var a=I(e[i]);t+=a.lat,n+=a.lng,r++}return I([t/r,n/r])}var Mn={__proto__:null,clipPolygon:kn,polygonCenter:An,centroid:jn};function Nn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Rn(e,n),e=In(e,n),e}function Pn(e,t,n){return Math.sqrt(Un(e,t,n,!0))}function Fn(e,t,n){return Un(e,t,n)}function In(e,t){var n=e.length,r=new(typeof Uint8Array<`u`?Uint8Array:Array)(n);r[0]=r[n-1]=1,Ln(e,r,t,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(e[i]);return a}function Ln(e,t,n,r,i){var a=0,o,s,c;for(s=r+1;s<=i-1;s++)c=Un(e[s],e[r],e[i],!0),c>a&&(o=s,a=c);a>n&&(t[o]=1,Ln(e,t,n,r,o),Ln(e,t,n,o,i))}function Rn(e,t){for(var n=[e[0]],r=1,i=0,a=e.length;r<a;r++)Hn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<a-1&&n.push(e[a-1]),n}var zn;function Bn(e,t,n,r,i){var a=r?zn:Vn(e,n),o=Vn(t,n),s,c,l;for(zn=o;;){if(!(a|o))return[e,t];if(a&o)return!1;s=a||o,c=U(e,t,s,n,i),l=Vn(c,n),s===a?(e=c,a=l):(t=c,o=l)}}function U(e,t,n,r,i){var a=t.x-e.x,o=t.y-e.y,s=r.min,c=r.max,l,u;return n&8?(l=e.x+a*(c.y-e.y)/o,u=c.y):n&4?(l=e.x+a*(s.y-e.y)/o,u=s.y):n&2?(l=c.x,u=e.y+o*(c.x-e.x)/a):n&1&&(l=s.x,u=e.y+o*(s.x-e.x)/a),new k(l,u,i)}function Vn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Hn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Un(e,t,n,r){var i=t.x,a=t.y,o=n.x-i,s=n.y-a,c=o*o+s*s,l;return c>0&&(l=((e.x-i)*o+(e.y-a)*s)/c,l>1?(i=n.x,a=n.y):l>0&&(i+=o*l,a+=s*l)),o=e.x-i,s=e.y-a,r?o*o+s*s:new k(i,a)}function Wn(e){return!_(e[0])||typeof e[0][0]!=`object`&&e[0][0]!==void 0}function Gn(e){return console.warn(`Deprecated use of _flat, please use L.LineUtil.isFlat instead.`),Wn(e)}function Kn(e,t){var n,r,i,a,o,s,c,l;if(!e||e.length===0)throw Error(`latlngs not passed`);Wn(e)||(console.warn(`latlngs are not flat! Only the first ring will be used`),e=e[0]);var u=I([0,0]),d=P(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=jn(e));var f=e.length,p=[];for(n=0;n<f;n++){var m=I(e[n]);p.push(t.project(I([m.lat-u.lat,m.lng-u.lng])))}for(n=0,r=0;n<f-1;n++)r+=p[n].distanceTo(p[n+1])/2;if(r===0)l=p[0];else for(n=0,a=0;n<f-1;n++)if(o=p[n],s=p[n+1],i=o.distanceTo(s),a+=i,a>r){c=(a-r)/i,l=[s.x-c*(s.x-o.x),s.y-c*(s.y-o.y)];break}var h=t.unproject(A(l));return I([h.lat+u.lat,h.lng+u.lng])}var qn={__proto__:null,simplify:Nn,pointToSegmentDistance:Pn,closestPointOnSegment:Fn,clipSegment:Bn,_getEdgeIntersection:U,_getBitCode:Vn,_sqClosestPointOnSegment:Un,isFlat:Wn,_flat:Gn,polylineCenter:Kn},Jn={project:function(e){return new k(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new j([-180,-90],[180,90])},Yn={R:6378137,R_MINOR:6356752.314245179,bounds:new j([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/((1-o)/(1+o))**(a/2);return r=-n*Math.log(Math.max(s,1e-10)),new k(e.lng*t*n,r)},unproject:function(e){for(var t=180/Math.PI,n=this.R,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),a=Math.exp(-e.y/n),o=Math.PI/2-2*Math.atan(a),s=0,c=.1,l;s<15&&Math.abs(c)>1e-7;s++)l=i*Math.sin(o),l=((1-l)/(1+l))**(i/2),c=Math.PI/2-2*Math.atan(a*l)-o,o+=c;return new F(o*t,e.x*t/n)}},Xn={__proto__:null,LonLat:Jn,Mercator:Yn,SphericalMercator:oe},Zn=n({},ae,{code:`EPSG:3395`,projection:Yn,transformation:function(){var e=.5/(Math.PI*Yn.R);return ce(e,.5,-e,.5)}()}),Qn=n({},ae,{code:`EPSG:4326`,projection:Jn,transformation:ce(1/180,1,-1/180,.5)}),$n=n({},ie,{projection:Jn,transformation:ce(1,0,-1,0),scale:function(e){return 2**e},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});ie.Earth=ae,ie.EPSG3395=Zn,ie.EPSG3857=le,ie.EPSG900913=ue,ie.EPSG4326=Qn,ie.Simple=$n;var er=ne.extend({options:{pane:`overlayPane`,attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once(`remove`,function(){t.off(n,this)},this)}this.onAdd(t),this.fire(`add`),t.fire(`layeradd`,{layer:this})}}});mn.include({addLayer:function(e){if(!e._layerAdd)throw Error(`The provided object is not a Layer.`);var t=o(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire(`layerremove`,{layer:e}),e.fire(`remove`)),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?_(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=i.minZoom===void 0?e:Math.min(e,i.minZoom),t=i.maxZoom===void 0?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire(`zoomlevelschange`),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var tr=er.extend({initialize:function(e,t){p(this,t),this._layers={};var n,r;if(e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return(typeof e==`number`?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),n,r;for(n in this._layers)r=this._layers[n],r[e]&&r[e].apply(r,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke(`setZIndex`,e)},getLayerId:function(e){return o(e)}}),nr=function(e,t){return new tr(e,t)},rr=tr.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),tr.prototype.addLayer.call(this,e),this.fire(`layeradd`,{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),tr.prototype.removeLayer.call(this,e),this.fire(`layerremove`,{layer:e})):this},setStyle:function(e){return this.invoke(`setStyle`,e)},bringToFront:function(){return this.invoke(`bringToFront`)},bringToBack:function(){return this.invoke(`bringToBack`)},getBounds:function(){var e=new N;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),ir=function(e,t){return new rr(e,t)},ar=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon(`icon`,e)},createShadow:function(e){return this._createIcon(`shadow`,e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if(e===`icon`)throw Error(`iconUrl not set in Icon options (see the docs).`);return null}var r=this._createImg(n,t&&t.tagName===`IMG`?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||this.options.crossOrigin===``)&&(r.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+`Size`];typeof r==`number`&&(r=[r,r]);var i=A(r),a=A(t===`shadow`&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className=`leaflet-marker-`+t+` `+(n.className||``),a&&(e.style.marginLeft=-a.x+`px`,e.style.marginTop=-a.y+`px`),i&&(e.style.width=i.x+`px`,e.style.height=i.y+`px`)},_createImg:function(e,t){return t||=document.createElement(`img`),t.src=e,t},_getIconUrl:function(e){return z.retina&&this.options[e+`RetinaUrl`]||this.options[e+`Url`]}});function or(e){return new ar(e)}var sr=ar.extend({options:{iconUrl:`marker-icon.png`,iconRetinaUrl:`marker-icon-2x.png`,shadowUrl:`marker-shadow.png`,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof sr.imagePath!=`string`&&(sr.imagePath=this._detectIconPath()),(this.options.imagePath||sr.imagePath)+ar.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=B(`div`,`leaflet-default-icon-path`,document.body),t=xt(e,`background-image`)||xt(e,`backgroundImage`);if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var n=document.querySelector(`link[href$="leaflet.css"]`);return n?n.href.substring(0,n.href.length-11-1):``}}),cr=Tn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||=new On(e,e,!0),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),V(e,`leaflet-marker-draggable`)},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dt(this._marker._icon,`leaflet-marker-draggable`)},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=Ft(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),c=M(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!c.contains(a)){var l=A((Math.max(c.max.x,a.x)-c.max.x)/(o.max.x-c.max.x)-(Math.min(c.min.x,a.x)-c.min.x)/(o.min.x-c.min.x),(Math.max(c.max.y,a.y)-c.max.y)/(o.max.y-c.max.y)-(Math.min(c.min.y,a.y)-c.min.y)/(o.min.y-c.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Pt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=T(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire(`movestart`).fire(`dragstart`)},_onPreDrag:function(e){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Ft(t._icon),i=t._map.layerPointToLatLng(r);n&&Pt(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire(`move`,e).fire(`drag`,e)},_onDragEnd:function(e){ee(this._panRequest),delete this._oldLatLng,this._marker.fire(`moveend`).fire(`dragend`,e)}}),lr=er.extend({options:{icon:new sr,interactive:!0,keyboard:!0,title:``,alt:`Marker`,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:`markerPane`,shadowPane:`shadowPane`,bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=I(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on(`zoomanim`,this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off(`zoomanim`,this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=I(e),this.update(),this.fire(`move`,{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t=`leaflet-zoom-`+(this._zoomAnimated?`animated`:`hide`),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),n.tagName===`IMG`&&(n.alt=e.alt||``)),V(n,t),e.keyboard&&(n.tabIndex=`0`,n.setAttribute(`role`,`button`)),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&H(n,`focus`,this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(V(i,t),i.alt=``),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(this._icon,`focus`,this._panOnFocus,this),St(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&St(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Pt(this._icon,e),this._shadow&&Pt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(V(this._icon,`leaflet-interactive`),this.addInteractiveTarget(this._icon),cr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&At(this._icon,e),this._shadow&&At(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?A(t.iconSize):A(0,0),r=t.iconAnchor?A(t.iconAnchor):A(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ur(e,t){return new lr(e,t)}var dr=er.extend({options:{stroke:!0,color:`#3388ff`,weight:3,opacity:1,lineCap:`round`,lineJoin:`round`,dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:`evenodd`,interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,`weight`)&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fr=dr.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=I(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=I(e),this.redraw(),this.fire(`move`,{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return dr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new j(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pr(e,t){return new fr(e,t)}var mr=fr.extend({initialize:function(e,t,r){if(typeof t==`number`&&(t=n({},r,{radius:t})),p(this,t),this._latlng=I(e),isNaN(this.options.radius))throw Error(`Circle radius cannot be NaN`);this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:dr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===ae.distance){var i=Math.PI/180,a=this._mRadius/ae.R/i,o=n.project([t+a,e]),s=n.project([t-a,e]),c=o.add(s).divideBy(2),l=n.unproject(c).lat,u=Math.acos((Math.cos(a*i)-Math.sin(t*i)*Math.sin(l*i))/(Math.cos(t*i)*Math.cos(l*i)))/i;(isNaN(u)||u===0)&&(u=a/Math.cos(Math.PI/180*t)),this._point=c.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:c.x-n.project([l,e-u]).x,this._radiusY=c.y-o.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function hr(e,t,n){return new mr(e,t,n)}var gr=dr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,n=null,r=Un,i,a,o=0,s=this._parts.length;o<s;o++)for(var c=this._parts[o],l=1,u=c.length;l<u;l++){i=c[l-1],a=c[l];var d=r(e,i,a,!0);d<t&&(t=d,n=r(e,i,a))}return n&&(n.distance=Math.sqrt(t)),n},getCenter:function(){if(!this._map)throw Error(`Must add layer to map before using getCenter()`);return Kn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t||=this._defaultShape(),e=I(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new N,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Wn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Wn(e),r=0,i=e.length;r<i;r++)n?(t[r]=I(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new k(e,e);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r=e[0]instanceof F,i=e.length,a,o;if(r){for(o=[],a=0;a<i;a++)o[a]=this._map.latLngToLayerPoint(e[a]),n.extend(o[a]);t.push(o)}else for(a=0;a<i;a++)this._projectLatlngs(e[a],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,n,r,i,a,o,s,c;for(n=0,i=0,a=this._rings.length;n<a;n++)for(c=this._rings[n],r=0,o=c.length;r<o-1;r++)s=Bn(c[r],c[r+1],e,r,!0),s&&(t[i]=t[i]||[],t[i].push(s[0]),(s[1]!==c[r+1]||r===o-2)&&(t[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Nn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,a,o,s,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(s=this._parts[n],r=0,o=s.length,i=o-1;r<o;i=r++)if(!(!t&&r===0)&&Pn(e,s[i],s[r])<=c)return!0;return!1}});function _r(e,t){return new gr(e,t)}gr._flat=Gn;var vr=gr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error(`Must add layer to map before using getCenter()`);return An(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=gr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof F&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){gr.prototype._setLatLngs.call(this,e),Wn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new k(t,t);if(e=new j(e.min.subtract(n),e.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var r=0,i=this._rings.length,a;r<i;r++)a=kn(this._rings[r],e,!0),a.length&&this._parts.push(a)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,n,r,i,a,o,s,c,l;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,c=this._parts.length;a<c;a++)for(n=this._parts[a],o=0,l=n.length,s=l-1;o<l;s=o++)r=n[o],i=n[s],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(t=!t);return t||gr.prototype._containsPoint.call(this,e,!0)}});function yr(e,t){return new vr(e,t)}var br=rr.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=_(e)?e:e.features,n,r,i;if(t){for(n=0,r=t.length;n<r;n++)i=t[n],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=xr(e,a);return o?(o.feature=Or(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t==`function`&&(t=t(e.feature)),e.setStyle(t))}});function xr(e,t){var n=e.type===`Feature`?e.geometry:e,r=n?n.coordinates:null,i=[],a=t&&t.pointToLayer,o=t&&t.coordsToLatLng||Cr,s,c,l,u;if(!r&&!n)return null;switch(n.type){case`Point`:return s=o(r),Sr(a,e,s,t);case`MultiPoint`:for(l=0,u=r.length;l<u;l++)s=o(r[l]),i.push(Sr(a,e,s,t));return new rr(i);case`LineString`:case`MultiLineString`:return c=wr(r,n.type===`LineString`?0:1,o),new gr(c,t);case`Polygon`:case`MultiPolygon`:return c=wr(r,n.type===`Polygon`?1:2,o),new vr(c,t);case`GeometryCollection`:for(l=0,u=n.geometries.length;l<u;l++){var d=xr({geometry:n.geometries[l],type:`Feature`,properties:e.properties},t);d&&i.push(d)}return new rr(i);case`FeatureCollection`:for(l=0,u=n.features.length;l<u;l++){var f=xr(n.features[l],t);f&&i.push(f)}return new rr(i);default:throw Error(`Invalid GeoJSON object.`)}}function Sr(e,t,n,r){return e?e(t,n):new lr(n,r&&r.markersInheritOptions&&r)}function Cr(e){return new F(e[1],e[0],e[2])}function wr(e,t,n){for(var r=[],i=0,a=e.length,o;i<a;i++)o=t?wr(e[i],t-1,n):(n||Cr)(e[i]),r.push(o);return r}function Tr(e,t){return e=I(e),e.alt===void 0?[u(e.lng,t),u(e.lat,t)]:[u(e.lng,t),u(e.lat,t),u(e.alt,t)]}function Er(e,t,n,r){for(var i=[],a=0,o=e.length;a<o;a++)i.push(t?Er(e[a],Wn(e[a])?0:t-1,n,r):Tr(e[a],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function Dr(e,t){return e.feature?n({},e.feature,{geometry:t}):Or(t)}function Or(e){return e.type===`Feature`||e.type===`FeatureCollection`?e:{type:`Feature`,properties:{},geometry:e}}var kr={toGeoJSON:function(e){return Dr(this,{type:`Point`,coordinates:Tr(this.getLatLng(),e)})}};lr.include(kr),mr.include(kr),fr.include(kr),gr.include({toGeoJSON:function(e){var t=!Wn(this._latlngs),n=Er(this._latlngs,t?1:0,!1,e);return Dr(this,{type:(t?`Multi`:``)+`LineString`,coordinates:n})}}),vr.include({toGeoJSON:function(e){var t=!Wn(this._latlngs),n=t&&!Wn(this._latlngs[0]),r=Er(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),Dr(this,{type:(n?`Multi`:``)+`Polygon`,coordinates:r})}}),tr.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),Dr(this,{type:`MultiPoint`,coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t===`MultiPoint`)return this.toMultiPoint(e);var n=t===`GeometryCollection`,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var a=Or(i);a.type===`FeatureCollection`?r.push.apply(r,a.features):r.push(a)}}}),n?Dr(this,{geometries:r,type:`GeometryCollection`}):{type:`FeatureCollection`,features:r}}});function Ar(e,t){return new br(e,t)}var jr=Ar,Mr=er.extend({options:{opacity:1,alt:``,interactive:!1,crossOrigin:!1,errorOverlayUrl:``,zIndex:1,className:``},initialize:function(e,t,n){this._url=e,this._bounds=P(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(V(this._image,`leaflet-interactive`),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){St(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&wt(this._image),this},bringToBack:function(){return this._map&&Tt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=P(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName===`IMG`,t=this._image=e?this._url:B(`img`);if(V(t,`leaflet-image-layer`),this._zoomAnimated&&V(t,`leaflet-zoom-animated`),this.options.className&&V(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=i(this.fire,this,`load`),t.onerror=i(this._overlayOnError,this,`error`),(this.options.crossOrigin||this.options.crossOrigin===``)&&(t.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Nt(this._image,n,t)},_reset:function(){var e=this._image,t=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Pt(e,t.min),e.style.width=n.x+`px`,e.style.height=n.y+`px`},_updateOpacity:function(){At(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire(`error`);var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Nr=function(e,t,n){return new Mr(e,t,n)},Pr=Mr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName===`VIDEO`,t=this._image=e?this._url:B(`video`);if(V(t,`leaflet-image-layer`),this._zoomAnimated&&V(t,`leaflet-zoom-animated`),this.options.className&&V(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=i(this.fire,this,`load`),e){for(var n=t.getElementsByTagName(`source`),r=[],a=0;a<n.length;a++)r.push(n[a].src);this._url=n.length>0?r:[t.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,`objectFit`)&&(t.style.objectFit=`fill`),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=B(`source`);s.src=this._url[o],t.appendChild(s)}}});function Fr(e,t,n){return new Pr(e,t,n)}var W=Mr.extend({_initImage:function(){var e=this._image=this._url;V(e,`leaflet-image-layer`),this._zoomAnimated&&V(e,`leaflet-zoom-animated`),this.options.className&&V(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});function Ir(e,t,n){return new W(e,t,n)}var Lr=er.extend({options:{interactive:!1,offset:[0,0],className:``,pane:void 0,content:``},initialize:function(e,t){e&&(e instanceof F||_(e))?(this._latlng=I(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&At(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&At(this._container,1),this.bringToFront(),this.options.interactive&&(V(this._container,`leaflet-interactive`),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(At(this._container,0),this._removeTimeout=setTimeout(i(St,void 0,this._container),200)):St(this._container),this.options.interactive&&(Dt(this._container,`leaflet-interactive`),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=I(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility=`hidden`,this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=``,this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wt(this._container),this},bringToBack:function(){return this._map&&Tt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof rr){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw Error(`Unable to get source layer LatLng.`);return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content==`function`?this._content(this._source||this):this._content;if(typeof t==`string`)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire(`contentupdate`)}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=A(this.options.offset),n=this._getAnchor();this._zoomAnimated?Pt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+`px`,this._container.style.left=i+`px`}},_getAnchor:function(){return[0,0]}});mn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),er.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(p(i,r),i._source=this):(i=t&&!r?t:new e(r,this),i.setContent(n)),i}});var Rr=Lr.extend({options:{pane:`popupPane`,offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:``},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Lr.prototype.openOn.call(this,e)},onAdd:function(e){Lr.prototype.onAdd.call(this,e),e.fire(`popupopen`,{popup:this}),this._source&&(this._source.fire(`popupopen`,{popup:this},!0),this._source instanceof dr||this._source.on(`preclick`,tn))},onRemove:function(e){Lr.prototype.onRemove.call(this,e),e.fire(`popupclose`,{popup:this}),this._source&&(this._source.fire(`popupclose`,{popup:this},!0),this._source instanceof dr||this._source.off(`preclick`,tn))},getEvents:function(){var e=Lr.prototype.getEvents.call(this);return(this.options.closeOnClick===void 0?this._map.options.closePopupOnClick:this.options.closeOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e=`leaflet-popup`,t=this._container=B(`div`,e+` `+(this.options.className||``)+` leaflet-zoom-animated`),n=this._wrapper=B(`div`,e+`-content-wrapper`,t);if(this._contentNode=B(`div`,e+`-content`,n),rn(t),nn(this._contentNode),H(t,`contextmenu`,tn),this._tipContainer=B(`div`,e+`-tip-container`,t),this._tip=B(`div`,e+`-tip`,this._tipContainer),this.options.closeButton){var r=this._closeButton=B(`a`,e+`-close-button`,t);r.setAttribute(`role`,`button`),r.setAttribute(`aria-label`,`Close popup`),r.href=`#close`,r.innerHTML=`<span aria-hidden="true">&#215;</span>`,H(r,`click`,function(e){an(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width=``,t.whiteSpace=`nowrap`;var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+`px`,t.whiteSpace=``,t.height=``;var r=e.offsetHeight,i=this.options.maxHeight,a=`leaflet-popup-scrolled`;i&&r>i?(t.height=i+`px`,V(e,a)):Dt(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Pt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt(xt(this._container,`marginBottom`),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new k(this._containerLeft,-n-this._containerBottom);i._add(Ft(this._container));var a=e.layerPointToContainerPoint(i),o=A(this.options.autoPanPadding),s=A(this.options.autoPanPaddingTopLeft||o),c=A(this.options.autoPanPaddingBottomRight||o),l=e.getSize(),u=0,d=0;a.x+r+c.x>l.x&&(u=a.x+r-l.x+c.x),a.x-u-s.x<0&&(u=a.x-s.x),a.y+n+c.y>l.y&&(d=a.y+n-l.y+c.y),a.y-d-s.y<0&&(d=a.y-s.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire(`autopanstart`).panBy([u,d]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zr=function(e,t){return new Rr(e,t)};mn.mergeOptions({closePopupOnClick:!0}),mn.include({openPopup:function(e,t,n){return this._initOverlay(Rr,e,t,n).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),er.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Rr,this._popup,e,t),this._popupHandlersAdded||=(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),!0),this},unbindPopup:function(){return this._popup&&=(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,null),this},openPopup:function(e){return this._popup&&(this instanceof rr||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){on(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof dr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Br=Lr.extend({options:{pane:`tooltipPane`,offset:[0,0],direction:`auto`,permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Lr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire(`tooltipopen`,{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire(`tooltipopen`,{tooltip:this},!0))},onRemove:function(e){Lr.prototype.onRemove.call(this,e),e.fire(`tooltipclose`,{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire(`tooltipclose`,{tooltip:this},!0))},getEvents:function(){var e=Lr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){this._contentNode=this._container=B(`div`,`leaflet-tooltip `+(this.options.className||``)+` leaflet-zoom-`+(this._zoomAnimated?`animated`:`hide`)),this._container.setAttribute(`role`,`tooltip`),this._container.setAttribute(`id`,`leaflet-tooltip-`+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,a=r.latLngToContainerPoint(r.getCenter()),o=r.layerPointToContainerPoint(e),s=this.options.direction,c=i.offsetWidth,l=i.offsetHeight,u=A(this.options.offset),d=this._getAnchor();s===`top`?(t=c/2,n=l):s===`bottom`?(t=c/2,n=0):s===`center`?(t=c/2,n=l/2):s===`right`?(t=0,n=l/2):s===`left`?(t=c,n=l/2):o.x<a.x?(s=`right`,t=0,n=l/2):(s=`left`,t=c+(u.x+d.x)*2,n=l/2),e=e.subtract(A(t,n,!0)).add(u).add(d),Dt(i,`leaflet-tooltip-right`),Dt(i,`leaflet-tooltip-left`),Dt(i,`leaflet-tooltip-top`),Dt(i,`leaflet-tooltip-bottom`),V(i,`leaflet-tooltip-`+s),Pt(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&At(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vr=function(e,t){return new Br(e,t)};mn.include({openTooltip:function(e,t,n){return this._initOverlay(Br,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),er.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Br,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&=(this._initTooltipInteractions(!0),this.closeTooltip(),null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?`off`:`on`,n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof rr||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement==`function`&&e.getElement();t&&(H(t,`focus`,function(){this._tooltip._source=e,this.openTooltip()},this),H(t,`blur`,this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement==`function`&&e.getElement();t&&t.setAttribute(`aria-describedby`,this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once(`moveend`,function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,n,r;this._tooltip.options.sticky&&e.originalEvent&&(n=this._map.mouseEventToContainerPoint(e.originalEvent),r=this._map.containerPointToLayerPoint(n),t=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(t)}});var Hr=ar.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:`leaflet-div-icon`},createIcon:function(e){var t=e&&e.tagName===`DIV`?e:document.createElement(`div`),n=this.options;if(n.html instanceof Element?(Ct(t),t.appendChild(n.html)):t.innerHTML=n.html===!1?``:n.html,n.bgPos){var r=A(n.bgPos);t.style.backgroundPosition=-r.x+`px `+-r.y+`px`}return this._setIconStyles(t,`icon`),t},createShadow:function(){return null}});function Ur(e){return new Hr(e)}ar.Default=sr;var Wr=er.extend({options:{tileSize:256,opacity:1,updateWhenIdle:z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:`tilePane`,className:``,keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),St(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Tt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||=s(this._onMoveEnd,this.options.updateInterval,this),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement(`div`)},getTileSize:function(){var e=this.options.tileSize;return e instanceof k?e:new k(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,n=-e(-1/0,1/0),r=0,i=t.length,a;r<i;r++)a=t[r].style.zIndex,t[r]!==this._container&&a&&(n=e(n,+a));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!z.ielt9){At(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(!(!i.current||!i.loaded)){var a=Math.min(1,(e-i.loaded)/200);At(i.el,a),a<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(ee(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=B(`div`,`leaflet-layer `+(this.options.className||``)),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(St(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||(r=this._levels[e]={},r.el=B(`div`,`leaflet-tile-container leaflet-zoom-animated`,this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)St(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new k(+i,+a);s.z=+o;var c=this._tileCoordsToKey(s),l=this._tiles[c];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),o>r?this._retainParent(i,a,o,r):!1)},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var a=2*t;a<2*t+2;a++){var o=new k(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),c=this._tiles[s];if(c&&c.active){c.retain=!0;continue}else c&&c.loaded&&(c.retain=!0);n+1<r&&this._retainChildren(i,a,n+1,r)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=this.options.maxZoom!==void 0&&i>this.options.maxZoom||this.options.minZoom!==void 0&&i<this.options.minZoom?void 0:this._clampZoom(i);var a=this.options.updateWhenZooming&&i!==this._tileZoom;(!r||a)&&(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),i!==void 0&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();z.any3d?Nt(e.el,i,r):Pt(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(r*2);return new j(i.subtract(a),i.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,c=new j(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw Error(`Attempted to load an infinite number of tiles`);for(var l in this._tiles){var u=this._tiles[l].coords;(u.z!==this._tileZoom||!c.contains(new k(u.x,u.y)))&&(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(e,n);return}for(var d=i.min.y;d<=i.max.y;d++)for(var f=i.min.x;f<=i.max.x;f++){var p=new k(f,d);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:o.push(p)}}if(o.sort(function(e,t){return e.distanceTo(a)-t.distanceTo(a)}),o.length!==0){this._loading||(this._loading=!0,this.fire(`loading`));var h=document.createDocumentFragment();for(f=0;f<o.length;f++)this._addTile(o[f],h);this._level.el.appendChild(h)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return P(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new N(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+`:`+e.y+`:`+e.z},_keyToTileCoords:function(e){var t=e.split(`:`),n=new k(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(St(t.el),delete this._tiles[e],this.fire(`tileunload`,{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){V(e,`leaflet-tile`);var t=this.getTileSize();e.style.width=t.x+`px`,e.style.height=t.y+`px`,e.onselectstart=l,e.onmousemove=l,z.ielt9&&this.options.opacity<1&&At(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&T(i(this._tileReady,this,e,null,a)),Pt(a,n),this._tiles[r]={el:a,coords:e,current:!0},t.appendChild(a),this.fire(`tileloadstart`,{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire(`tileerror`,{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);n=this._tiles[r],n&&(n.loaded=+new Date,this._map._fadeAnimated?(At(n.el,0),ee(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(V(n.el,`leaflet-tile-loaded`),this.fire(`tileload`,{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire(`load`),z.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new k(this._wrapX?c(e.x,this._wrapX):e.x,this._wrapY?c(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new j(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Gr(e){return new Wr(e)}var Kr=Wr.extend({options:{minZoom:0,maxZoom:18,subdomains:`abc`,errorTileUrl:``,zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=p(this,t),t.detectRetina&&z.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains==`string`&&(t.subdomains=t.subdomains.split(``)),this.on(`tileunload`,this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement(`img`);return H(n,`load`,i(this._tileOnLoad,this,t,n)),H(n,`error`,i(this._tileOnError,this,t,n)),(this.options.crossOrigin||this.options.crossOrigin===``)&&(n.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),typeof this.options.referrerPolicy==`string`&&(n.referrerPolicy=this.options.referrerPolicy),n.alt=``,n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:z.retina?`@2x`:``,s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t[`-y`]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){z.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute(`src`)!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;return n&&(e=t-e),e+r},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=l,t.onerror=l,!t.complete)){t.src=y;var n=this._tiles[e].coords;St(t),delete this._tiles[e],this.fire(`tileabort`,{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute(`src`,y),Wr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(!(!this._map||n&&n.getAttribute(`src`)===y))return Wr.prototype._tileReady.call(this,e,t,n)}});function qr(e,t){return new Kr(e,t)}var Jr=Kr.extend({defaultWmsParams:{service:`WMS`,request:`GetMap`,layers:``,styles:``,format:`image/jpeg`,transparent:!1,version:`1.1.1`},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);t=p(this,t);var a=t.detectRetina&&z.retina?2:1,o=this.getTileSize();r.width=o.x*a,r.height=o.y*a,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?`crs`:`srs`;this.wmsParams[t]=this._crs.code,Kr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=M(n.project(t[0]),n.project(t[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===Qn?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(`,`),s=Kr.prototype.getTileUrl.call(this,e);return s+m(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?`&BBOX=`:`&bbox=`)+o},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Yr(e,t){return new Jr(e,t)}Kr.WMS=Jr,qr.wms=Yr;var Xr=er.extend({options:{padding:.1},initialize:function(e){p(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),V(this._container,`leaflet-zoom-animated`)),this.getPane().appendChild(this._container),this._update(),this.on(`update`,this._updatePaths,this)},onRemove:function(){this.off(`update`,this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),a=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));z.any3d?Nt(this._container,a,n):Pt(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new j(n,n.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zr=Xr.extend({options:{tolerance:0},getEvents:function(){var e=Xr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement(`canvas`);H(e,`mousemove`,this._onMouseMove,this),H(e,`click dblclick mousedown mouseup contextmenu`,this._onClick,this),H(e,`mouseout`,this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext(`2d`)},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,St(this._container),Xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;for(var t in this._redrawBounds=null,this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=z.retina?2:1;Pt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+`px`,t.style.height=n.y+`px`,z.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire(`update`)}},_reset:function(){Xr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray==`string`){var t=e.options.dashArray.split(/[, ]+/),n=[],r,i;for(i=0;i<t.length;i++){if(r=Number(t[i]),isNaN(r))return;n.push(r)}e.options._dashArray=n}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,a,o=e._parts,s=o.length,c=this._ctx;if(s){for(c.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],c[r?`lineTo`:`moveTo`](a.x,a.y);t&&c.closePath()}this._fillStroke(c,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;i!==1&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,Math.PI*2,!1),i!==1&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||`evenodd`)),n.stroke&&n.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),n,r,i=this._drawFirst;i;i=i.next)n=i.layer,n.options.interactive&&n._containsPoint(t)&&(!(e.type===`click`||e.type===`preclick`)||!this._map._draggableMoved(n))&&(r=n);this._fireEvent(r?[r]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(Dt(this._container,`leaflet-interactive`),this._fireEvent([t],e,`mouseout`),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,a=this._drawFirst;a;a=a.next)n=a.layer,n.options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(V(this._container,`leaflet-interactive`),this._fireEvent([r],e,`mouseover`),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;if(n)n.prev=r;else return;r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;if(r)r.next=n;else return;n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function Qr(e){return z.canvas?new Zr(e):null}var $r=(function(){try{return document.namespaces.add(`lvml`,`urn:schemas-microsoft-com:vml`),function(e){return document.createElement(`<lvml:`+e+` class="lvml">`)}}catch{}return function(e){return document.createElement(`<`+e+` xmlns="urn:schemas-microsoft.com:vml" class="lvml">`)}})(),ei={_initContainer:function(){this._container=B(`div`,`leaflet-vml-container`)},_update:function(){this._map._animatingZoom||(Xr.prototype._update.call(this),this.fire(`update`))},_initPath:function(e){var t=e._container=$r(`shape`);V(t,`leaflet-vml-shape `+(this.options.className||``)),t.coordsize=`1 1`,e._path=$r(`path`),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;St(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||=e._stroke=$r(`stroke`),i.appendChild(t),t.weight=r.weight+`px`,t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=_(r.dashArray)?r.dashArray.join(` `):r.dashArray.replace(/( *, *)/g,` `):t.dashStyle=``,t.endcap=r.lineCap.replace(`butt`,`flat`),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||=e._fill=$r(`fill`),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?`M0 0`:`AL `+t.x+`,`+t.y+` `+n+`,`+r+` 0,23592600`)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){wt(e._container)},_bringToBack:function(e){Tt(e._container)}},ti=z.vml?$r:de,ni=Xr.extend({_initContainer:function(){this._container=ti(`svg`),this._container.setAttribute(`pointer-events`,`none`),this._rootGroup=ti(`g`),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){St(this._container),Xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,n.setAttribute(`width`,t.x),n.setAttribute(`height`,t.y)),Pt(n,e.min),n.setAttribute(`viewBox`,[e.min.x,e.min.y,t.x,t.y].join(` `)),this.fire(`update`)}},_initPath:function(e){var t=e._path=ti(`path`);e.options.className&&V(t,e.options.className),e.options.interactive&&V(t,`leaflet-interactive`),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){St(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute(`stroke`,n.color),t.setAttribute(`stroke-opacity`,n.opacity),t.setAttribute(`stroke-width`,n.weight),t.setAttribute(`stroke-linecap`,n.lineCap),t.setAttribute(`stroke-linejoin`,n.lineJoin),n.dashArray?t.setAttribute(`stroke-dasharray`,n.dashArray):t.removeAttribute(`stroke-dasharray`),n.dashOffset?t.setAttribute(`stroke-dashoffset`,n.dashOffset):t.removeAttribute(`stroke-dashoffset`)):t.setAttribute(`stroke`,`none`),n.fill?(t.setAttribute(`fill`,n.fillColor||n.color),t.setAttribute(`fill-opacity`,n.fillOpacity),t.setAttribute(`fill-rule`,n.fillRule||`evenodd`)):t.setAttribute(`fill`,`none`))},_updatePoly:function(e,t){this._setPath(e,fe(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||n,i=`a`+n+`,`+r+` 0 1,0 `,a=e._empty()?`M0 0`:`M`+(t.x-n)+`,`+t.y+i+n*2+`,0 `+i+-n*2+`,0 `;this._setPath(e,a)},_setPath:function(e,t){e._path.setAttribute(`d`,t)},_bringToFront:function(e){wt(e._path)},_bringToBack:function(e){Tt(e._path)}});z.vml&&ni.include(ei);function ri(e){return z.svg||z.vml?new ni(e):null}mn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||=this._renderer=this._createRenderer(),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e===`overlayPane`||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Qr(e)||ri(e)}});var ii=vr.extend({initialize:function(e,t){vr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=P(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function ai(e,t){return new ii(e,t)}ni.create=ti,ni.pointsToPath=fe,br.geometryToLayer=xr,br.coordsToLatLng=Cr,br.coordsToLatLngs=wr,br.latLngToCoords=Tr,br.latLngsToCoords=Er,br.getFeature=Dr,br.asFeature=Or,mn.mergeOptions({boxZoom:!0});var oi=Tn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on(`unload`,this._destroy,this)},addHooks:function(){H(this._container,`mousedown`,this._onMouseDown,this)},removeHooks:function(){Xt(this._container,`mousedown`,this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){St(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),It(),Bt(),this._startPoint=this._map.mouseEventToContainerPoint(e),H(document,{contextmenu:on,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=B(`div`,`leaflet-zoom-box`,this._container),V(this._container,`leaflet-crosshair`),this._map.fire(`boxzoomstart`)),this._point=this._map.mouseEventToContainerPoint(e);var t=new j(this._point,this._startPoint),n=t.getSize();Pt(this._box,t.min),this._box.style.width=n.x+`px`,this._box.style.height=n.y+`px`},_finish:function(){this._moved&&(St(this._box),Dt(this._container,`leaflet-crosshair`)),Lt(),Vt(),Xt(document,{contextmenu:on,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire(`boxzoomend`,{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});mn.addInitHook(`addHandler`,`boxZoom`,oi),mn.mergeOptions({doubleClickZoom:!0});var si=Tn.extend({addHooks:function(){this._map.on(`dblclick`,this._onDoubleClick,this)},removeHooks:function(){this._map.off(`dblclick`,this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;t.options.doubleClickZoom===`center`?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});mn.addInitHook(`addHandler`,`doubleClickZoom`,si),mn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ci=Tn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new On(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on(`predrag`,this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on(`predrag`,this._onPreDragWrap,this),e.on(`zoomend`,this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}V(this._map._container,`leaflet-grab leaflet-touch-drag`),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dt(this._map._container,`leaflet-grab`),Dt(this._map._container,`leaflet-touch-drag`),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=P(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire(`movestart`).fire(`dragstart`),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire(`move`,e).fire(`drag`,e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire(`dragend`,e),r)t.fire(`moveend`);else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),c=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,c),u=s.multiplyBy(l/c),d=l/(n.inertiaDeceleration*o),f=u.multiplyBy(-d/2).round();!f.x&&!f.y?t.fire(`moveend`):(f=t._limitOffset(f,t.options.maxBounds),T(function(){t.panBy(f,{duration:d,easeLinearity:o,noMoveStart:!0,animate:!0})}))}}});mn.addInitHook(`addHandler`,`dragging`,ci),mn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var li=Tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex=`0`),H(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire(`focus`)},_onBlur:function(){this._focused=!1,this._map.fire(`blur`)},_setPanDelta:function(e){var t=this._panKeys={},n=this.keyCodes,r,i;for(r=0,i=n.left.length;r<i;r++)t[n.left[r]]=[-1*e,0];for(r=0,i=n.right.length;r<i;r++)t[n.right[r]]=[e,0];for(r=0,i=n.down.length;r<i;r++)t[n.down[r]]=[0,e];for(r=0,i=n.up.length;r<i;r++)t[n.up[r]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},n=this.keyCodes,r,i;for(r=0,i=n.zoomIn.length;r<i;r++)t[n.zoomIn[r]]=e;for(r=0,i=n.zoomOut.length;r<i;r++)t[n.zoomOut[r]]=-e},_addHooks:function(){H(document,`keydown`,this._onKeyDown,this)},_removeHooks:function(){Xt(document,`keydown`,this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,n=this._map,r;if(t in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(r=this._panKeys[t],e.shiftKey&&(r=A(r).multiplyBy(3)),n.options.maxBounds&&(r=n._limitOffset(A(r),n.options.maxBounds)),n.options.worldCopyJump){var i=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(r)));n.panTo(i)}else n.panBy(r)}else if(t in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;on(e)}}});mn.addInitHook(`addHandler`,`keyboard`,li),mn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ui=Tn.extend({addHooks:function(){H(this._map._container,`wheel`,this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xt(this._map._container,`wheel`,this._onWheelScroll,this)},_onWheelScroll:function(e){var t=un(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||=+new Date;var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),on(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&(e.options.scrollWheelZoom===`center`?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});mn.addInitHook(`addHandler`,`scrollWheelZoom`,ui);var di=600;mn.mergeOptions({tapHold:z.touchNative&&z.safari&&z.mobile,tapTolerance:15});var fi=Tn.extend({addHooks:function(){H(this._map._container,`touchstart`,this._onDown,this)},removeHooks:function(){Xt(this._map._container,`touchstart`,this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new k(t.clientX,t.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(H(document,`touchend`,an),H(document,`touchend touchcancel`,this._cancelClickPrevent),this._simulateEvent(`contextmenu`,t))},this),di),H(document,`touchend touchcancel contextmenu`,this._cancel,this),H(document,`touchmove`,this._onMove,this)}},_cancelClickPrevent:function e(){Xt(document,`touchend`,an),Xt(document,`touchend touchcancel`,e)},_cancel:function(){clearTimeout(this._holdTimeout),Xt(document,`touchend touchcancel contextmenu`,this._cancel,this),Xt(document,`touchmove`,this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new k(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});mn.addInitHook(`addHandler`,`tapHold`,fi),mn.mergeOptions({touchZoom:z.touch,bounceAtZoomLimits:!0});var pi=Tn.extend({addHooks:function(){V(this._map._container,`leaflet-touch-zoom`),H(this._map._container,`touchstart`,this._onTouchStart,this)},removeHooks:function(){Dt(this._map._container,`leaflet-touch-zoom`),Xt(this._map._container,`touchstart`,this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!==`center`&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),H(document,`touchmove`,this._onTouchMove,this),H(document,`touchend touchcancel`,this._onTouchEnd,this),an(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom===`center`){if(this._center=this._startLatLng,a===1)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(a===1&&o.x===0&&o.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||=(t._moveStart(!0,!1),!0),ee(this._animRequest),this._animRequest=T(i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0),this,!0),an(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ee(this._animRequest),Xt(document,`touchmove`,this._onTouchMove,this),Xt(document,`touchend touchcancel`,this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});mn.addInitHook(`addHandler`,`touchZoom`,pi),mn.BoxZoom=oi,mn.DoubleClickZoom=si,mn.Drag=ci,mn.Keyboard=li,mn.ScrollWheelZoom=ui,mn.TapHold=fi,mn.TouchZoom=pi,e.Bounds=j,e.Browser=z,e.CRS=ie,e.Canvas=Zr,e.Circle=mr,e.CircleMarker=fr,e.Class=D,e.Control=gn,e.DivIcon=Hr,e.DivOverlay=Lr,e.DomEvent=fn,e.DomUtil=Jt,e.Draggable=On,e.Evented=ne,e.FeatureGroup=rr,e.GeoJSON=br,e.GridLayer=Wr,e.Handler=Tn,e.Icon=ar,e.ImageOverlay=Mr,e.LatLng=F,e.LatLngBounds=N,e.Layer=er,e.LayerGroup=tr,e.LineUtil=qn,e.Map=mn,e.Marker=lr,e.Mixin=En,e.Path=dr,e.Point=k,e.PolyUtil=Mn,e.Polygon=vr,e.Polyline=gr,e.Popup=Rr,e.PosAnimation=pn,e.Projection=Xn,e.Rectangle=ii,e.Renderer=Xr,e.SVG=ni,e.SVGOverlay=W,e.TileLayer=Kr,e.Tooltip=Br,e.Transformation=se,e.Util=E,e.VideoOverlay=Pr,e.bind=i,e.bounds=M,e.canvas=Qr,e.circle=hr,e.circleMarker=pr,e.control=_n,e.divIcon=Ur,e.extend=n,e.featureGroup=ir,e.geoJSON=Ar,e.geoJson=jr,e.gridLayer=Gr,e.icon=or,e.imageOverlay=Nr,e.latLng=I,e.latLngBounds=P,e.layerGroup=nr,e.map=hn,e.marker=ur,e.point=A,e.polygon=yr,e.polyline=_r,e.popup=zr,e.rectangle=ai,e.setOptions=p,e.stamp=o,e.svg=ri,e.svgOverlay=Ir,e.tileLayer=qr,e.tooltip=Vr,e.transformation=ce,e.version=t,e.videoOverlay=Fr;var mi=window.L;e.noConflict=function(){return window.L=mi,this},window.L=e}))}));function Gb(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Kb(e,t){return t==null?function(t,n){let r=(0,b.useRef)(void 0);return r.current||=e(t,n),r}:function(n,r){let i=(0,b.useRef)(void 0);i.current||=e(n,r);let a=(0,b.useRef)(n),{instance:o}=i.current;return(0,b.useEffect)(function(){a.current!==n&&(t(o,n,a.current),a.current=n)},[o,n,t]),i}}function qb(e,t){(0,b.useEffect)(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Jb(e){return function(t){let n=zb(),r=e(Ub(t,n),n);return Fb(n.map,t.attribution),Hb(r.current,t.eventHandlers),qb(r.current,n),r}}function Yb(e,t){return Bb(Jb(Kb(e,t)))}function Xb(e,t){return Vb(Jb(Kb(e,t)))}function Zb(e,t,n){let{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function Qb(){return zb().map}var $b=Wb();function ex({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:c,zoom:l,...u},d){let[f]=(0,b.useState)({className:i,id:a,style:s}),[p,m]=(0,b.useState)(null),h=(0,b.useRef)(void 0);(0,b.useImperativeHandle)(d,()=>p?.map??null,[p]);let g=(0,b.useCallback)(r=>{if(r!==null&&!h.current){let i=new $b.Map(r,u);h.current=i,n!=null&&l!=null?i.setView(n,l):e!=null&&i.fitBounds(e,t),c!=null&&i.whenReady(c),m(Ib(i))}},[]);(0,b.useEffect)(()=>()=>{p?.map.remove()},[p]);let _=p?b.createElement(Rb,{value:p},r):o??null;return b.createElement(`div`,{...f,ref:g},_)}const tx=(0,b.forwardRef)(ex);var nx=Wb();const rx=Yb(function({position:e,...t},n){let r=new nx.Marker(e,t);return Gb(r,Lb(n,{overlayContainer:r}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==n.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==n.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())});var ix=Wb();const ax=Xb(function({url:e,...t},n){return Gb(new ix.TileLayer(e,Ub(t,n)),n)},function(e,t,n){Zb(e,t,n);let{url:r}=t;r!=null&&r!==n.url&&e.setUrl(r)});var ox=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`);const sx={getUserSessions:async e=>{if(!ox)return[];try{let{data:t,error:n}=await uc.from(`chat_sessions`).select(`*`).eq(`user_id`,e).order(`updated_at`,{ascending:!1});if(n)throw n;if(!t)return[];let r=[];for(let e of t){let{data:t,error:n}=await uc.from(`chat_messages`).select(`*`).eq(`session_id`,e.id).order(`created_at`,{ascending:!0});n&&console.error(`Error fetching messages for session`,e.id,n),r.push({id:e.id,userId:e.user_id,locationId:e.location_id,locationName:e.location_name,startTime:new Date(e.created_at).getTime(),lastMessageTime:new Date(e.updated_at).getTime(),persona:e.persona||`expert`,preview:e.preview||``,messages:(t||[]).map(e=>({id:e.id,type:e.type,content:e.is_content_json?JSON.parse(e.content):e.content,cardData:e.card_data?JSON.parse(e.card_data):void 0,sender:e.sender,timestamp:new Date(e.created_at).getTime(),audioUrl:e.audio_url}))})}return r}catch(e){return console.error(`Failed to load user history:`,e),[]}},saveSession:async(e,t)=>{if(ox)try{let{error:n}=await uc.from(`chat_sessions`).upsert({id:e.id,user_id:t,location_id:e.locationId,location_name:e.locationName,persona:e.persona,preview:e.preview,updated_at:new Date(e.lastMessageTime).toISOString()},{onConflict:`id`});if(n)throw n}catch(e){console.error(`Error saving session:`,e)}},saveMessage:async(e,t)=>{if(ox)try{let n=Array.isArray(t.content),{error:r}=await uc.from(`chat_messages`).insert({id:t.id,session_id:e,sender:t.sender,type:t.type,content:n?JSON.stringify(t.content):t.content,is_content_json:n,card_data:t.cardData?JSON.stringify(t.cardData):null,audio_url:t.audioUrl,created_at:new Date(t.timestamp).toISOString()});if(r)throw r}catch(e){console.error(`Error saving message:`,e)}},deleteSession:async e=>{if(ox)try{await uc.from(`chat_messages`).delete().eq(`session_id`,e);let{error:t}=await uc.from(`chat_sessions`).delete().eq(`id`,e);if(t)throw t}catch(e){console.error(`Error deleting session:`,e)}}};var cx=u(Wb(),1),lx=(e=>cx.default.divIcon({className:`custom-div-icon`,html:`<div class="w-4 h-4 ${e} rounded-full border-2 border-white shadow-lg animate-pulse"></div>`,iconSize:[16,16],iconAnchor:[8,8]}))(`bg-blue-500`),ux=[`https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1518998053901-5348d3969105?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1508804185872-d7badad00f7d?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1599661046289-e31897846e41?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1545063328-c8e3fafa16f9?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1499856871940-a09e3f92f49e?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1554907984-15263bf06302?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1572953109213-3be62398eb95?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1565060169689-5f2b2e143c68?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1548625361-e87c692a4048?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1544967082-d9d25d867d66?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1569407228235-9a744831a150?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1597921366472-35a746564619?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1550950346-60882e379475?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1524397057410-1e775ed476f3?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1514905552197-0610a4d8fd73?auto=format&fit=crop&q=80&w=800`],dx=(e,t)=>{let n=0,r=e+t;for(let e=0;e<r.length;e++)n=r.charCodeAt(e)+((n<<5)-n);return ux[Math.abs(n)%ux.length]},fx=({src:e,alt:t,className:n})=>{let[r,i]=(0,b.useState)(e);return(0,b.useEffect)(()=>{i(e)},[e]),(0,W.jsx)(`img`,{src:r,alt:t,className:n,onError:()=>{r!==dx(`fallback`,t)&&i(dx(`fallback`,t))},loading:`lazy`})},px={louvre:{id:`louvre`,name:``,area:` 1F  `,weather:` 24C`,coverImage:`https://image.pollinations.ai/prompt/Louvre%20Museum%20pyramid%20Paris%20sunset%20architecture?width=1080&height=720&nologo=true&seed=101`,recommendations:[``,``,``],coordinates:[48.8606,2.3376]},gugong:{id:`gugong`,name:``,area:``,weather:` 20C`,coverImage:`https://image.pollinations.ai/prompt/Forbidden%20City%20Beijing%20ancient%20architecture%20red%20walls%20snow?width=1080&height=720&nologo=true&seed=102`,recommendations:[``,``,``],coordinates:[39.9163,116.3972]},national_museum:{id:`national_museum`,name:``,area:``,weather:` 21C`,coverImage:`https://image.pollinations.ai/prompt/National%20Museum%20of%20China%20Beijing%20architecture%20facade?width=1080&height=720&nologo=true&seed=103`,recommendations:[``,``,``],coordinates:[39.904,116.3974]},orsay:{id:`orsay`,name:``,area:``,weather:` 25C`,coverImage:`https://image.pollinations.ai/prompt/Musee%20d%27Orsay%20interior%20clock%20Paris?width=1080&height=720&nologo=true&seed=104`,recommendations:[``,``,``],coordinates:[48.8599,2.3265]},british_museum:{id:`british_museum`,name:``,area:``,weather:` 15C`,coverImage:`https://image.pollinations.ai/prompt/British%20Museum%20Great%20Court%20London%20architecture?width=1080&height=720&nologo=true&seed=105`,recommendations:[``,``,``],coordinates:[51.5194,-.127]}},mx=(e,t=!0)=>{let n=e.split(/[,]/)[0],r=t?8:15;return n.length>r&&(n=n.substring(0,r-1)+`...`),t?[`${n}`,`${n}`,``,`${n}`]:[`Intro to ${n}`,`Must-sees at ${n}`,`Restrooms nearby`,`History of ${n}`]};function hx(e,t,n,r){let i=gx(n-e),a=gx(r-t),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(gx(e))*Math.cos(gx(n))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function gx(e){return e*(Math.PI/180)}var _x=({center:e,zoom:t})=>{let n=Qb();return(0,b.useEffect)(()=>{n.flyTo(e,t,{duration:1.5})},[e,t,n]),null},vx=async(e,t)=>{try{let n=`https://nominatim.openstreetmap.org/search?format=json&q=museum&viewbox=${`${t-.2},${e+.2},${t+.2},${e-.2}`}&bounded=1&limit=20&accept-language=zh-CN`,r=await(await fetch(n)).json();return Array.isArray(r)&&r.length>0?r.map(n=>({id:`osm-${n.place_id}`,name:n.name||n.display_name.split(`,`)[0],area:n.display_name.split(`,`).slice(1,3).join(`,`).trim()||n.display_name,weather:``,coverImage:dx(`osm-${n.place_id}`,n.name||`museum`),recommendations:mx(n.name||``,!0),coordinates:[parseFloat(n.lat),parseFloat(n.lon)],distance:hx(e,t,parseFloat(n.lat),parseFloat(n.lon)),floorPlanUrl:void 0})):[]}catch(e){return console.error(`Failed to fetch real museums`,e),[]}},yx=()=>{let e=z(),t=$e(),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)(null),[o,s]=(0,b.useState)(!1),[c,l]=(0,b.useState)([]),[u,d]=(0,b.useState)(``),f=(0,b.useRef)(null),p=(0,b.useRef)(null),[m,h]=(0,b.useState)(`locating`),[g,_]=(0,b.useState)(null),[v,y]=(0,b.useState)(!1),[x,S]=(0,b.useState)(null),[C,w]=(0,b.useState)([]),[T,ee]=(0,b.useState)(``),[E,D]=(0,b.useState)([]),[te,O]=(0,b.useState)(!1),ne=(0,b.useRef)(null),k=(0,b.useRef)(m),re=(0,b.useRef)(!1),A=(0,b.useRef)([]),[j,M]=(0,b.useState)(`expert`),[N,P]=(0,b.useState)(!1),[F,I]=(0,b.useState)(!1),[ie,ae]=(0,b.useState)(!1),[R,oe]=(0,b.useState)(null),[se,ce]=(0,b.useState)(0);(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`);if(e)try{oe(JSON.parse(e))}catch(e){console.error(`Failed to parse user`,e)}let t=localStorage.getItem(`guest_msg_count`);t&&ce(parseInt(t,10)||0)},[]);let[le,ue]=(0,b.useState)(null),[de,fe]=(0,b.useState)(!1),[pe,me]=(0,b.useState)(!1),[he,ge]=(0,b.useState)(0),[_e,ve]=(0,b.useState)(!1),ye=(0,b.useRef)(null),be=(0,b.useRef)([]);(0,b.useEffect)(()=>{k.current=m},[m]),(0,b.useEffect)(()=>{R?sx.getUserSessions(R.id||R.uid).then(e=>{e&&e.length>0&&r(e)}):r([])},[R]),(0,b.useEffect)(()=>{if(R&&i&&n.length>0){let e=n.find(e=>e.id===i);e&&sx.saveSession(e,R.id||R.uid)}},[n,R,i]),(0,b.useEffect)(()=>{!i||c.length===0||r(e=>{let t=e.findIndex(e=>e.id===i);if(t>=0){let n={...e[t],messages:c,lastMessageTime:Date.now(),preview:typeof c[c.length-1].content==`string`?c[c.length-1].content.substring(0,30):`[]`},r=[...e];return r.splice(t,1),r.unshift(n),r}else return g?[{id:i,locationId:g.id,locationName:g.name,startTime:Date.now(),lastMessageTime:Date.now(),messages:c,persona:j,preview:typeof c[c.length-1].content==`string`?c[c.length-1].content.substring(0,30):`[]`},...e]:e})},[c,i]);let xe=e=>{a(e.id),l(e.messages),M(e.persona);let t=px[e.locationId];t||={id:e.locationId,name:e.locationName,area:``,weather:``,coverImage:dx(e.locationId,e.locationName),recommendations:mx(e.locationName,!0),coordinates:[39.9042,116.4074]},_(t),h(`agent-chat`),s(!1),P(!1),I(!1)},Se=()=>{s(!1),h(`manual-selection`),a(null),l([]),_(null)},Ce=(e,t)=>{e.stopPropagation(),r(n.filter(e=>e.id!==t)),R&&sx.deleteSession(t),i===t&&Se()};(0,b.useEffect)(()=>{if(e.state?.sessionId&&n.length>0){let r=n.find(t=>t.id===e.state.sessionId);r&&(xe(r),t(e.pathname,{replace:!0,state:{}}))}else e.state?.openHistory&&(s(!0),t(e.pathname,{replace:!0,state:{}}))},[e.state,n]);let we=(e,t)=>{if(`speechSynthesis`in window){if(le===t){window.speechSynthesis.cancel(),ue(null);return}window.speechSynthesis.cancel();let n=new SpeechSynthesisUtterance(e),r=window.speechSynthesis.getVoices(),i=r.find(e=>(e.name.includes(`Xiaoxiao`)||e.name.includes(`Ting-Ting`)||e.name.includes(`Google `))&&(e.lang.includes(`zh`)||e.lang.includes(`CN`)))||r.find(e=>e.lang.includes(`zh`)&&(e.name.includes(`Female`)||e.name.includes(`Woman`)||e.name.includes(`Lili`)))||r.find(e=>e.lang.includes(`zh`));i&&(n.voice=i),j===`kids`?(n.pitch=1.3,n.rate=.9):j===`humorous`?(n.rate=1.1,n.pitch=1.1):(n.pitch=.9,n.rate=.95),n.onend=()=>ue(null),window.speechSynthesis.speak(n),ue(t)}},Te=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});ye.current=new MediaRecorder(e),be.current=[],ye.current.ondataavailable=e=>{be.current.push(e.data)},ye.current.onstop=async()=>{if(me(!1),ve(!1),_e||Date.now()-he<500)return;let e=[``,``,``,``],t=e[Math.floor(Math.random()*e.length)];Ae(t)},ye.current.start(),me(!0),ge(Date.now()),ve(!1)}catch(e){console.error(`Error accessing microphone:`,e)}},Ee=()=>{ye.current&&pe&&(ye.current.stop(),ye.current.stream.getTracks().forEach(e=>e.stop()))},De=e=>{if(!pe)return;let t=e.touches[0],n=e.target.getBoundingClientRect();t.clientY<n.top-50?ve(!0):ve(!1)};(0,b.useEffect)(()=>{let e=null;return navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{let{latitude:t,longitude:n}=e.coords;S([t,n]);let r=[];try{r=await vx(t,n),A.current=r}catch(e){console.warn(`Failed to fetch real nearby museums`,e)}let i=Object.values(px).map(e=>({...e,distance:hx(t,n,e.coordinates[0],e.coordinates[1])})),a=[...r,...i].sort((e,t)=>e.distance-t.distance).filter(e=>e.distance<20);w(a),D(a),a.length>0&&a[0].distance<2?(_(a[0]),h(`agent-chat`),P(!0)):h(`manual-selection`)},t=>{console.error(`Geolocation denied or error:`,t),h(`manual-selection`),w([]),D([]),console.log(`Starting background location watch...`),e=navigator.geolocation.watchPosition(e=>{console.log(`Background location acquired:`,e.coords);let{latitude:t,longitude:n}=e.coords;S([t,n]);let r=A.current.map(e=>({...e,distance:hx(t,n,e.coordinates[0],e.coordinates[1])})),i=Object.values(px).map(e=>({...e,distance:hx(t,n,e.coordinates[0],e.coordinates[1])})),a=[...r,...i].sort((e,t)=>e.distance-t.distance).filter(e=>e.distance<20);if(w(a),re.current||D(a),k.current===`manual-selection`&&!re.current){let e=a[0];e.distance<2&&(_(e),y(!1),P(!0),h(`agent-chat`))}},e=>console.warn(`Background watch error:`,e),{enableHighAccuracy:!0,timeout:2e4,maximumAge:0})},{enableHighAccuracy:!1,timeout:15e3,maximumAge:6e4}):(h(`manual-selection`),w([]),D([])),()=>{e!==null&&navigator.geolocation.clearWatch(e)}},[]),(0,b.useEffect)(()=>{f.current?.scrollIntoView({behavior:`smooth`})},[c]),(0,b.useEffect)(()=>{if(m===`agent-chat`&&g&&!N&&!i){a(`session-${Date.now()}`);let e=`${g.name}`,t=`${g.area}`;j===`humorous`?(e=`${g.name}`,t=`${g.area}`):j===`kids`&&(e=` ${g.name}`,t=`${g.area}`),l([{id:`init-${Date.now()}`,type:`text`,content:e,sender:`agent`,timestamp:Date.now()},{id:`init-2-${Date.now()}`,type:`text`,content:t,sender:`agent`,timestamp:Date.now()+100}])}},[m,g,N]);let Oe=async e=>new Promise(t=>{setTimeout(()=>{t({title:``,subtitle:`190  `,description:` AI 
`,tags:[``,``,``],image:e})},2e3)}),ke=async(e,t)=>new Promise(n=>{setTimeout(()=>{if(e.includes(``)||e.includes(``)){let e=`20`;t===`humorous`&&(e=`20`),t===`kids`&&(e=``),n({text:e})}else if(e.includes(``)){let e=``;t===`humorous`?e=``:t===`kids`&&(e=``),n({text:t===`kids`?``:``,card:{title:``,subtitle:`  `,description:e,tags:[``,``,``],image:`https://images.unsplash.com/photo-1580136608079-72029d0de130?auto=format&fit=crop&q=80&w=800`}})}else{let e=`...`;t===`humorous`&&(e=`...`),t===`kids`&&(e=`...`),n({text:e})}},1e3)}),Ae=async(e=u)=>{if(!e.trim())return;if(!R){if(se>=2){ae(!0);return}let e=se+1;ce(e),localStorage.setItem(`guest_msg_count`,e.toString())}let t={id:`user-${Date.now()}`,type:`text`,content:e,sender:`user`,timestamp:Date.now()};l(e=>[...e,t]),d(``),R&&i&&sx.saveMessage(i,t);let n=await ke(e,j),r={id:`agent-${Date.now()}`,type:n.card?`card`:`text`,content:n.text,cardData:n.card,sender:`agent`,timestamp:Date.now(),audioUrl:`tts-enabled`};l(e=>[...e,r]),R&&i&&sx.saveMessage(i,r)},je=async e=>{if(e.target.files&&e.target.files.length>0){let t=Array.from(e.target.files),n=t.map(e=>URL.createObjectURL(e)),r={id:`user-img-${Date.now()}`,type:`image`,content:n,sender:`user`,timestamp:Date.now()};l(e=>[...e,r]);let i=`agent-analyzing-${Date.now()}`,a={id:i,type:`text`,content:t.length>1?` ${t.length} ...`:`...`,sender:`agent`,timestamp:Date.now()+100};l(e=>[...e,a]);let o=await Oe(n[0]);l(e=>e.filter(e=>e.id!==i));let s={id:`agent-result-${Date.now()}`,type:`card`,content:t.length>1?``:``,sender:`agent`,timestamp:Date.now(),cardData:o};l(e=>[...e,s])}};(0,b.useEffect)(()=>{if(m!==`agent-chat`)return;let e=setInterval(()=>{g?.id===`louvre`&&(console.log(`User moved to new area...`),_(e=>e?{...e,area:` 2F  `}:null))},3e4);return()=>clearInterval(e)},[m,g]);let Me=e=>{if(ee(e),re.current=!!e.trim(),ne.current&&clearTimeout(ne.current),!e.trim()){D(C),O(!1);return}let t=e.toLowerCase(),n=C.filter(e=>e.name.toLowerCase().includes(t)||e.area.toLowerCase().includes(t));D(n),O(!0),ne.current=setTimeout(async()=>{try{let t=/[\u4e00-\u9fa5]/.test(e),r=[];if(t){let t=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}&accept-language=zh-CN,en&limit=8&addressdetails=1&featuretype=settlement&layer=address`,n=await(await fetch(t)).json();Array.isArray(n)&&(r=n.map(e=>{let t=e.name||e.display_name.split(`,`)[0];return{id:`osm-${e.place_id}`,name:t,area:e.display_name,weather:``,coverImage:`https://image.pollinations.ai/prompt/cinematic%20photo%20of%20${encodeURIComponent(t)}%20landmark%20architecture%20scenery?width=640&height=480&nologo=true&seed=${e.place_id}`,recommendations:mx(t,!0),coordinates:[parseFloat(e.lat),parseFloat(e.lon)],distance:x?hx(x[0],x[1],parseFloat(e.lat),parseFloat(e.lon)):0}}))}else{let t=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}&accept-language=en,zh-CN&limit=5`)).json();Array.isArray(t)&&(r=t.map(e=>{let t=e.name||e.display_name.split(`,`)[0];return{id:`osm-${e.place_id}`,name:t,area:e.display_name,weather:`Unknown`,coverImage:`https://image.pollinations.ai/prompt/cinematic%20photo%20of%20${encodeURIComponent(t)}%20landmark%20architecture%20scenery?width=640&height=480&nologo=true&seed=${e.place_id}`,recommendations:mx(t,!1),coordinates:[parseFloat(e.lat),parseFloat(e.lon)],distance:x?hx(x[0],x[1],parseFloat(e.lat),parseFloat(e.lon)):0}}))}D([...n,...r])}catch(e){console.error(`Search API Error:`,e)}finally{O(!1)}},800)},Ne=()=>{T.trim()&&(_({id:`custom-${Date.now()}`,name:T,area:``,weather:``,coverImage:`https://image.pollinations.ai/prompt/cinematic%20photo%20of%20${encodeURIComponent(T)}%20landmark%20architecture%20scenery?width=640&height=480&nologo=true&seed=${Date.now()}`,recommendations:mx(T,!0),coordinates:[39.9042,116.4074]}),y(!1),P(!0),h(`agent-chat`))},Pe=()=>{y(!v)},Fe=e=>{if(!g)return;_({...g,area:e}),y(!1);let t={id:`sys-${Date.now()}`,type:`text`,content:`${e}`,sender:`agent`,timestamp:Date.now()};l(e=>[...e,t])},Ie=e=>{let t=px[e]||E.find(t=>t.id===e);t&&(_(t),y(!1),P(!0),h(`agent-chat`))};return(0,W.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800 relative overflow-hidden`,children:[m===`locating`&&(0,W.jsxs)(`div`,{className:`absolute inset-0 z-[700] bg-stone-900 flex flex-col items-center justify-center text-white space-y-6`,children:[(0,W.jsx)(`button`,{onClick:()=>t(-1),className:`absolute top-4 right-4 p-2 text-stone-400 hover:text-white bg-stone-800/50 rounded-full transition-colors z-[710]`,children:(0,W.jsx)(Pr,{size:24})}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(`div`,{className:`w-24 h-24 border-2 border-stone-700 rounded-full animate-ping absolute inset-0`}),(0,W.jsx)(`div`,{className:`w-24 h-24 border-2 border-amber-500/50 rounded-full animate-pulse absolute inset-0 delay-75`}),(0,W.jsx)(`div`,{className:`w-24 h-24 flex items-center justify-center`,children:(0,W.jsx)(Zn,{size:48,className:`text-amber-500 animate-spin-slow`})})]}),(0,W.jsxs)(`div`,{className:`text-center space-y-2`,children:[(0,W.jsx)(`h3`,{className:`text-xl font-bold font-serif`,children:`...`}),(0,W.jsx)(`p`,{className:`text-stone-400 text-sm animate-pulse`,children:``}),(0,W.jsx)(`p`,{className:`text-stone-600 text-xs mt-4`,children:` 3-5 ...`}),(0,W.jsx)(`button`,{onClick:()=>h(`manual-selection`),className:`mt-6 px-6 py-2 bg-stone-800 rounded-full text-xs text-stone-400 hover:text-white hover:bg-stone-700 transition-colors border border-stone-700`,children:``})]})]}),m===`manual-selection`&&(0,W.jsxs)(`div`,{className:`absolute inset-0 z-[600] bg-stone-900 flex flex-col items-center justify-center text-white p-6`,children:[(0,W.jsx)(`button`,{onClick:()=>t(-1),className:`absolute top-4 right-4 p-2 text-stone-400 hover:text-white bg-stone-800/50 rounded-full transition-colors z-[610]`,children:(0,W.jsx)(Pr,{size:24})}),(0,W.jsxs)(`div`,{className:`w-full max-w-md space-y-4 animate-in fade-in zoom-in duration-300 flex flex-col h-[80vh]`,children:[(0,W.jsxs)(`div`,{className:`text-center space-y-2 flex-shrink-0`,children:[(0,W.jsx)(`div`,{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 border transition-colors ${x?`bg-amber-500/20 border-amber-500`:`bg-stone-800 border-stone-700`}`,children:(0,W.jsx)(fr,{size:32,className:x?`text-amber-500`:`text-stone-400`})}),(0,W.jsx)(`h3`,{className:`text-xl font-bold font-serif`,children:x?``:``}),(0,W.jsx)(`p`,{className:`text-stone-400 text-sm`,children:x?`${C[0]?.name}`:``})]}),(0,W.jsxs)(`div`,{className:`relative flex-shrink-0`,children:[te?(0,W.jsx)(cr,{className:`absolute left-3 top-3 text-amber-500 animate-spin`,size:18}):(0,W.jsx)(Tr,{className:`absolute left-3 top-3 text-stone-500`,size:18}),(0,W.jsx)(`input`,{type:`text`,value:T,onChange:e=>Me(e.target.value),placeholder:`/...`,className:`w-full bg-stone-800 border border-stone-700 rounded-xl py-2.5 pl-10 pr-4 text-sm text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 transition-colors`})]}),(0,W.jsxs)(`div`,{className:`grid grid-cols-1 gap-3 overflow-y-auto flex-1 min-h-0 pr-1 custom-scrollbar`,children:[!T&&E.length>0&&x&&(0,W.jsxs)(`div`,{className:`flex items-center px-1 pt-1 pb-2`,children:[(0,W.jsx)(Zn,{size:12,className:`text-amber-500 mr-1.5`}),(0,W.jsx)(`span`,{className:`text-xs font-bold text-stone-500 uppercase tracking-wider`,children:``})]}),E.map(e=>(0,W.jsxs)(`button`,{onClick:()=>Ie(e.id),className:`flex items-center p-3 bg-stone-800 hover:bg-stone-700 border border-stone-700 rounded-xl transition-all text-left group active:scale-95 flex-shrink-0`,children:[(0,W.jsxs)(`div`,{className:`w-16 h-12 bg-stone-900 rounded-lg overflow-hidden mr-4 border border-stone-600 relative`,children:[(0,W.jsx)(fx,{src:e.coverImage,alt:e.name,className:`w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity`}),e.id.startsWith(`osm-`)&&(0,W.jsx)(`div`,{className:`absolute top-0 right-0 p-0.5 bg-black/60 rounded-bl-md`,children:(0,W.jsx)(tr,{size:8,className:`text-white/80`})})]}),(0,W.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,W.jsxs)(`div`,{className:`flex justify-between items-baseline`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-base text-stone-100 truncate pr-2`,children:e.name}),e.distance>0&&(0,W.jsx)(`span`,{className:`text-[10px] text-stone-500 flex-shrink-0`,children:e.distance<1?`${(e.distance*1e3).toFixed(0)}m`:`${e.distance.toFixed(1)}km`})]}),(0,W.jsx)(`p`,{className:`text-xs text-stone-500 truncate`,children:e.area})]}),(0,W.jsx)(qn,{className:`-rotate-90 text-stone-500 ml-2`,size:16})]},e.id)),!te&&T&&(0,W.jsxs)(`div`,{className:`pt-2 pb-4 px-1`,children:[E.length>0&&(0,W.jsx)(`div`,{className:`text-xs text-stone-500 mb-2 text-center`,children:``}),(0,W.jsxs)(`button`,{onClick:Ne,className:`w-full py-3 bg-stone-800 border border-stone-600 rounded-xl text-stone-300 hover:bg-stone-700 hover:text-white transition-colors text-sm flex items-center justify-center`,children:[(0,W.jsx)(Sr,{size:16,className:`mr-2`}),` "`,T,`" `]})]}),E.length===0&&!te&&!T&&(0,W.jsxs)(`div`,{className:`text-center py-12 flex flex-col items-center opacity-50`,children:[(0,W.jsx)(Tr,{size:48,className:`text-stone-600 mb-4`,strokeWidth:1}),(0,W.jsx)(`p`,{className:`text-stone-400 text-sm`,children:``})]})]}),(0,W.jsx)(`button`,{onClick:()=>h(`locating`),className:`w-full py-3 text-sm text-stone-500 hover:text-white transition-colors flex-shrink-0`,children:``})]})]}),N&&(0,W.jsxs)(`div`,{className:`absolute inset-0 z-[800] bg-stone-900/90 backdrop-blur-sm flex flex-col items-center justify-center p-6 animate-in fade-in duration-300`,children:[(0,W.jsx)(`button`,{onClick:()=>{P(!1),h(`manual-selection`)},className:`absolute top-4 right-4 p-2 text-stone-400 hover:text-white bg-stone-800/50 rounded-full transition-colors z-[810]`,children:(0,W.jsx)(Pr,{size:24})}),(0,W.jsxs)(`div`,{className:`w-full max-w-sm bg-white rounded-3xl p-6 shadow-2xl space-y-6 relative`,children:[(0,W.jsxs)(`div`,{className:`text-center`,children:[(0,W.jsx)(`h3`,{className:`text-xl font-bold font-serif text-stone-900 mb-2`,children:``}),(0,W.jsx)(`p`,{className:`text-stone-500 text-sm`,children:` AI `})]}),(0,W.jsxs)(`div`,{className:`space-y-3`,children:[(0,W.jsxs)(`button`,{onClick:()=>{M(`expert`),P(!1)},className:`w-full p-4 rounded-xl border-2 border-stone-100 hover:border-amber-500 hover:bg-amber-50 transition-all flex items-center group text-left`,children:[(0,W.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center text-2xl group-hover:bg-white group-hover:shadow-sm transition-colors`,children:``}),(0,W.jsxs)(`div`,{className:`ml-4`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-900`,children:``}),(0,W.jsx)(`p`,{className:`text-xs text-stone-500 mt-0.5`,children:``})]})]}),(0,W.jsxs)(`button`,{onClick:()=>{M(`humorous`),P(!1)},className:`w-full p-4 rounded-xl border-2 border-stone-100 hover:border-amber-500 hover:bg-amber-50 transition-all flex items-center group text-left`,children:[(0,W.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center text-2xl group-hover:bg-white group-hover:shadow-sm transition-colors`,children:``}),(0,W.jsxs)(`div`,{className:`ml-4`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-900`,children:``}),(0,W.jsx)(`p`,{className:`text-xs text-stone-500 mt-0.5`,children:``})]})]}),(0,W.jsxs)(`button`,{onClick:()=>{M(`kids`),P(!1)},className:`w-full p-4 rounded-xl border-2 border-stone-100 hover:border-amber-500 hover:bg-amber-50 transition-all flex items-center group text-left`,children:[(0,W.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center text-2xl group-hover:bg-white group-hover:shadow-sm transition-colors`,children:``}),(0,W.jsxs)(`div`,{className:`ml-4`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-900`,children:``}),(0,W.jsx)(`p`,{className:`text-xs text-stone-500 mt-0.5`,children:``})]})]})]})]})]}),(0,W.jsxs)(`div`,{className:`absolute inset-0 z-0 transition-opacity duration-500 ${F?`opacity-100`:`opacity-80`} pointer-events-auto`,children:[(0,W.jsxs)(tx,{center:[48.8606,2.3376],zoom:16,style:{width:`100%`,height:`100%`},zoomControl:!1,attributionControl:!1,children:[(0,W.jsx)(ax,{url:`https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png`,attribution:` <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors`}),g&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(rx,{position:g.coordinates,icon:lx}),(0,W.jsx)(_x,{center:g.coordinates,zoom:16})]})]}),(0,W.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-stone-50 via-stone-50/80 to-transparent pointer-events-none z-[400] transition-opacity duration-500 ${F?`opacity-0`:`opacity-100`}`})]}),m===`agent-chat`&&(0,W.jsx)(`button`,{onClick:()=>I(!F),className:`absolute bottom-24 right-4 z-[600] w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center text-stone-600 hover:text-amber-500 hover:bg-stone-50 transition-all active:scale-95 border border-stone-100`,children:F?(0,W.jsx)(mr,{size:24}):(0,W.jsx)(pr,{size:24})}),m===`agent-chat`&&g&&(0,W.jsxs)(`div`,{className:`absolute top-0 left-0 right-0 px-4 pt-12 pb-4 z-[500] pointer-events-none animate-in slide-in-from-top-4 duration-500 flex gap-2 transition-transform duration-500 ${F?`-translate-y-full`:`translate-y-0`}`,children:[(0,W.jsxs)(`button`,{onClick:Pe,className:`bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 p-1.5 pr-4 pointer-events-auto flex items-center flex-1 min-w-0 text-left active:scale-[0.98] transition-all relative z-30`,children:[(0,W.jsx)(`div`,{className:`w-9 h-9 rounded-full bg-stone-100 overflow-hidden border border-stone-200 flex-shrink-0 relative`,children:(0,W.jsx)(fx,{src:g?.coverImage,alt:`Location`,className:`w-full h-full object-cover`})}),(0,W.jsxs)(`div`,{className:`min-w-0 flex-1 ml-2.5`,children:[(0,W.jsx)(`h2`,{className:`font-bold text-stone-900 text-sm flex items-center truncate leading-tight`,children:(0,W.jsx)(`span`,{className:`truncate`,children:g?.name})}),(0,W.jsxs)(`div`,{className:`flex items-center text-[10px] text-stone-500 mt-0.5 leading-tight`,children:[(0,W.jsx)(fr,{size:10,className:`mr-0.5`}),(0,W.jsx)(`span`,{className:`truncate max-w-[120px]`,children:g?.area})]})]}),(0,W.jsx)(qn,{size:14,className:`text-stone-400 ml-2 transition-transform duration-300 ${v?`rotate-180`:``}`})]}),(0,W.jsxs)(`div`,{className:`flex gap-2`,children:[(0,W.jsx)(`button`,{onClick:Se,className:`w-10 h-10 bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 pointer-events-auto flex items-center justify-center active:scale-95 transition-all text-stone-600 hover:text-green-600 z-30`,children:(0,W.jsx)(hr,{size:18})}),(0,W.jsx)(`button`,{onClick:()=>s(!0),className:`w-10 h-10 bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 pointer-events-auto flex items-center justify-center active:scale-95 transition-all text-stone-600 hover:text-amber-600 z-30`,children:(0,W.jsx)(ar,{size:18})}),(0,W.jsx)(`button`,{onClick:()=>t(-1),className:`w-10 h-10 bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 pointer-events-auto flex items-center justify-center active:scale-95 transition-all text-stone-600 hover:text-red-500 z-30`,children:(0,W.jsx)(Pr,{size:18})})]}),v&&(0,W.jsxs)(`div`,{className:`absolute top-full left-4 right-4 mt-2 bg-white rounded-2xl shadow-xl border border-stone-100 overflow-hidden animate-in slide-in-from-top-4 fade-in duration-200 pointer-events-auto z-20`,children:[(0,W.jsxs)(`div`,{className:`p-4 bg-stone-50 border-b border-stone-100 flex justify-between items-center`,children:[(0,W.jsx)(`h3`,{className:`font-bold text-sm text-stone-900`,children:``}),(g.floorPlanUrl||px[g.id])&&(0,W.jsx)(`span`,{className:`text-xs text-stone-400`,children:``})]}),(0,W.jsxs)(`div`,{className:`p-4 pb-0`,children:[(0,W.jsxs)(`h4`,{className:`text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider flex justify-between items-center`,children:[``,(0,W.jsx)(`span`,{className:`text-[10px] bg-stone-100 text-stone-400 px-1.5 py-0.5 rounded`,children:x?`GPS`:``})]}),(0,W.jsx)(`div`,{className:`flex gap-2 overflow-x-auto no-scrollbar pb-2`,children:C.map(e=>(0,W.jsxs)(`button`,{onClick:()=>Ie(e.id),className:`flex-shrink-0 w-32 p-2 rounded-xl border transition-all text-left ${g?.id===e.id?`bg-stone-900 border-stone-900 text-white shadow-md`:`bg-white border-stone-200 text-stone-800 hover:border-stone-400`}`,children:[(0,W.jsxs)(`div`,{className:`h-16 rounded-lg bg-stone-200 mb-2 overflow-hidden relative`,children:[(0,W.jsx)(fx,{src:e.coverImage,alt:e.name,className:`w-full h-full object-cover`}),(0,W.jsx)(`div`,{className:`absolute bottom-1 right-1 bg-black/50 backdrop-blur-sm text-white text-[8px] px-1 rounded`,children:e.distance<1?`${(e.distance*1e3).toFixed(0)}m`:`${e.distance.toFixed(1)}km`})]}),(0,W.jsx)(`div`,{className:`font-bold text-xs truncate`,children:e.name}),(0,W.jsx)(`div`,{className:`text-[10px] opacity-70 truncate`,children:e.weather})]},e.id))})]}),(0,W.jsx)(`div`,{className:`p-4 relative pt-2`,children:g.floorPlanUrl||px[g.id]?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`h4`,{className:`text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider`,children:``}),(0,W.jsxs)(`div`,{className:`aspect-[4/3] bg-stone-100 rounded-xl relative overflow-hidden border border-stone-200`,children:[(0,W.jsx)(`button`,{onClick:()=>Fe(` 1F  `),className:`absolute top-[10%] left-[10%] w-[40%] h-[40%] rounded-lg flex items-center justify-center text-[10px] font-bold border-2 transition-all ${g?.area.includes(``)?`bg-amber-100 border-amber-500 text-amber-700 shadow-md scale-105 z-10`:`bg-white border-stone-200 text-stone-500 hover:bg-stone-50`}`,children:``}),(0,W.jsx)(`button`,{onClick:()=>Fe(` 2F  `),className:`absolute bottom-[10%] right-[10%] w-[50%] h-[30%] rounded-lg flex items-center justify-center text-[10px] font-bold border-2 transition-all ${g?.area.includes(``)?`bg-amber-100 border-amber-500 text-amber-700 shadow-md scale-105 z-10`:`bg-white border-stone-200 text-stone-500 hover:bg-stone-50`}`,children:``}),(0,W.jsx)(`button`,{onClick:()=>Fe(` 3F  `),className:`absolute top-[10%] right-[10%] w-[30%] h-[40%] rounded-lg flex items-center justify-center text-[10px] font-bold border-2 transition-all ${g?.area.includes(``)?`bg-amber-100 border-amber-500 text-amber-700 shadow-md scale-105 z-10`:`bg-white border-stone-200 text-stone-500 hover:bg-stone-50`}`,children:``}),(0,W.jsx)(`div`,{className:`absolute top-1/2 left-1/2 w-3 h-3 bg-blue-500 rounded-full border-2 border-white shadow-sm transform -translate-x-1/2 -translate-y-1/2 z-20 animate-pulse`})]}),(0,W.jsx)(`div`,{className:`mt-3 text-center`,children:(0,W.jsxs)(`button`,{className:`text-xs text-blue-600 font-medium flex items-center justify-center mx-auto`,children:[(0,W.jsx)(pr,{size:12,className:`mr-1`}),` `]})})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`h4`,{className:`text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider`,children:`/`}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(Tr,{className:`absolute left-3 top-3 text-stone-400`,size:16}),(0,W.jsx)(`input`,{type:`text`,placeholder:`...`,value:T,onChange:e=>Me(e.target.value),className:`w-full bg-stone-100 border border-stone-200 rounded-xl py-2.5 pl-9 pr-4 text-sm text-stone-800 placeholder-stone-400 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all`})]}),T&&(0,W.jsx)(`div`,{className:`mt-2 max-h-40 overflow-y-auto custom-scrollbar border border-stone-100 rounded-lg bg-white shadow-sm`,children:E.length>0?E.slice(0,3).map(e=>(0,W.jsxs)(`button`,{onClick:()=>Ie(e.id),className:`w-full text-left p-2 hover:bg-stone-50 flex items-center border-b border-stone-50 last:border-0`,children:[(0,W.jsx)(`div`,{className:`w-8 h-8 rounded bg-stone-200 mr-2 overflow-hidden flex-shrink-0`,children:(0,W.jsx)(fx,{src:e.coverImage,alt:e.name,className:`w-full h-full object-cover`})}),(0,W.jsxs)(`div`,{className:`min-w-0`,children:[(0,W.jsx)(`div`,{className:`text-xs font-bold truncate text-stone-800`,children:e.name}),(0,W.jsx)(`div`,{className:`text-[10px] text-stone-500 truncate`,children:e.area})]})]},e.id)):(0,W.jsx)(`div`,{className:`p-3 text-center`,children:(0,W.jsxs)(`button`,{onClick:Ne,className:`text-xs text-amber-600 font-medium flex items-center justify-center mx-auto`,children:[(0,W.jsx)(Sr,{size:12,className:`mr-1`}),` "`,T,`"`]})})})]})})]})]}),pe&&(0,W.jsx)(`div`,{className:`absolute inset-0 z-[900] bg-black/40 flex flex-col items-center justify-center pointer-events-none`,children:(0,W.jsx)(`div`,{className:`transition-all duration-300 transform ${_e?`scale-110 opacity-100`:`scale-100 opacity-60`}`,children:(0,W.jsx)(`div`,{className:`w-32 h-32 rounded-full flex items-center justify-center mb-8 ${_e?`bg-red-500`:`bg-stone-800/80`}`,children:(0,W.jsx)(`div`,{className:`text-center text-white`,children:_e?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(Pr,{size:32,className:`mx-auto mb-1`}),(0,W.jsx)(`span`,{className:`text-xs font-bold`,children:``})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(`div`,{className:`flex justify-center space-x-1 mb-2 h-4 items-end`,children:[(0,W.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite] h-2`}),(0,W.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.1s] h-4`}),(0,W.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.2s] h-3`}),(0,W.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.1s] h-4`}),(0,W.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.3s] h-2`})]}),(0,W.jsx)(`span`,{className:`text-xs`,children:`...`}),(0,W.jsx)(`div`,{className:`text-[10px] text-stone-300 mt-1`,children:``})]})})})})}),m===`agent-chat`&&(0,W.jsxs)(`div`,{className:`flex flex-col h-full z-[450] pt-32 pb-safe pointer-events-none transition-all duration-500 ${F?`opacity-0 translate-y-20`:`opacity-100 translate-y-0`}`,children:[(0,W.jsxs)(`div`,{className:`flex-1 overflow-y-auto px-4 space-y-6 pb-4 pointer-events-auto`,children:[c.map(e=>(0,W.jsxs)(`div`,{className:`flex flex-col ${e.sender===`user`?`items-end`:`items-start`}`,children:[e.type===`text`&&(0,W.jsx)(`div`,{className:`max-w-[85%] px-5 py-3.5 rounded-2xl text-sm leading-relaxed shadow-sm ${e.sender===`user`?`bg-stone-900 text-white rounded-tr-none`:`bg-white/90 backdrop-blur-md text-stone-800 border border-white/50 rounded-tl-none`}`,children:typeof e.content==`string`?e.content:``}),e.sender===`agent`&&e.type===`text`&&(e.audioUrl||e.cardData)&&(0,W.jsxs)(`button`,{onClick:()=>we(typeof e.content==`string`?e.content:``,e.id),className:`mt-1 p-1.5 rounded-full transition-colors flex items-center space-x-1 ${le===e.id?`text-amber-500 bg-amber-50`:`text-stone-400 hover:text-stone-600`}`,children:[le===e.id?(0,W.jsx)(Yn,{size:14}):(0,W.jsx)(Nr,{size:14}),(0,W.jsx)(`span`,{className:`text-[10px] font-medium`,children:le===e.id?``:``})]}),e.type===`image`&&(0,W.jsx)(`div`,{className:`max-w-[70%]`,children:Array.isArray(e.content)&&e.content.length>1?(0,W.jsx)(`div`,{className:`grid gap-1 rounded-xl overflow-hidden shadow-md border-2 border-white ${e.content.length===2||e.content.length===3||e.content.length===4?`grid-cols-2`:`grid-cols-3`}`,children:e.content.map((e,t)=>(0,W.jsx)(`div`,{className:`relative aspect-square`,children:(0,W.jsx)(`img`,{src:e,alt:`Upload ${t}`,className:`w-full h-full object-cover`})},t))}):(0,W.jsx)(`div`,{className:`rounded-xl overflow-hidden shadow-md border-2 border-white`,children:(0,W.jsx)(`img`,{src:typeof e.content==`string`?e.content:e.content[0],alt:`Upload`,className:`w-full h-auto`})})}),e.type===`card`&&e.cardData&&(0,W.jsxs)(`div`,{className:`max-w-[90%] w-full bg-white rounded-2xl overflow-hidden shadow-lg border border-stone-100 mt-1 animate-in fade-in slide-in-from-bottom-2 duration-500`,children:[(0,W.jsxs)(`div`,{className:`relative h-40`,children:[(0,W.jsx)(`img`,{src:e.cardData.image,alt:e.cardData.title,className:`w-full h-full object-cover`}),(0,W.jsxs)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-4`,children:[(0,W.jsx)(`h3`,{className:`text-white font-bold text-lg`,children:e.cardData.title}),(0,W.jsx)(`p`,{className:`text-white/80 text-xs`,children:e.cardData.subtitle})]}),(0,W.jsx)(`button`,{className:`absolute top-3 right-3 w-8 h-8 bg-black/30 backdrop-blur-md rounded-full flex items-center justify-center text-white`,children:(0,W.jsx)(xr,{size:14,fill:`white`})})]}),(0,W.jsxs)(`div`,{className:`p-4`,children:[(0,W.jsx)(`p`,{className:`text-sm text-stone-600 leading-relaxed mb-3 line-clamp-3`,children:e.cardData.description}),(0,W.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:e.cardData.tags.map(e=>(0,W.jsx)(`span`,{className:`text-[10px] bg-stone-100 text-stone-500 px-2 py-1 rounded-md`,children:e},e))})]})]})]},e.id)),(0,W.jsx)(`div`,{ref:f})]}),(0,W.jsx)(`div`,{className:`px-4 pb-2 flex gap-2 overflow-x-auto no-scrollbar mask-linear-fade pointer-events-auto`,children:g?.recommendations.map((e,t)=>(0,W.jsx)(`button`,{onClick:()=>Ae(e),className:`whitespace-nowrap px-3 py-1.5 bg-white/80 backdrop-blur-sm border border-stone-200/50 rounded-full text-xs font-medium text-stone-600 shadow-sm hover:bg-white hover:text-amber-600 transition-colors`,children:e},t))}),(0,W.jsx)(`div`,{className:`px-4 py-3 bg-gradient-to-t from-white via-white to-transparent pointer-events-auto`,children:(0,W.jsxs)(`div`,{className:`bg-white rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-stone-100 p-1.5 flex items-center`,children:[(0,W.jsx)(`button`,{onClick:()=>fe(!de),className:`w-10 h-10 rounded-full bg-stone-50 text-stone-500 flex items-center justify-center hover:bg-stone-100 active:scale-95 transition-all`,children:de?(0,W.jsx)(sr,{size:20}):(0,W.jsx)(_r,{size:20})}),de?(0,W.jsx)(`button`,{className:`flex-1 mx-2 h-9 bg-stone-100 hover:bg-stone-200 active:bg-stone-300 rounded-full text-sm font-bold text-stone-600 select-none touch-none transition-colors flex items-center justify-center`,onMouseDown:Te,onMouseUp:Ee,onMouseMove:e=>{pe&&(e.clientY<e.target.getBoundingClientRect().top-50?ve(!0):ve(!1))},onTouchStart:Te,onTouchEnd:Ee,onTouchMove:De,children:pe?_e?``:``:``}):(0,W.jsx)(`input`,{type:`text`,value:u,onChange:e=>d(e.target.value),onKeyPress:e=>e.key===`Enter`&&Ae(),placeholder:`...`,className:`flex-1 bg-transparent border-none focus:ring-0 text-sm px-3 text-stone-800 placeholder-stone-400`}),(0,W.jsx)(`input`,{type:`file`,ref:p,accept:`image/*`,multiple:!0,className:`hidden`,onChange:je}),(0,W.jsx)(`button`,{onClick:()=>p.current?.click(),className:`w-10 h-10 rounded-full text-stone-500 flex items-center justify-center hover:bg-stone-100 active:scale-95 transition-all mr-1`,children:(0,W.jsx)(Kn,{size:20})}),(0,W.jsx)(`button`,{onClick:()=>Ae(u),disabled:!u.trim(),className:`w-10 h-10 rounded-full flex items-center justify-center text-white shadow-md transition-all active:scale-95 ${u.trim()?`bg-stone-900 scale-100`:`bg-stone-300 scale-90 opacity-0 w-0 overflow-hidden`}`,children:(0,W.jsx)(Er,{size:18})})]})})]}),ie&&(0,W.jsx)(`div`,{className:`absolute inset-0 z-[1000] bg-stone-900/60 backdrop-blur-sm flex flex-col items-center justify-center p-6 animate-in fade-in duration-300`,children:(0,W.jsxs)(`div`,{className:`w-full max-w-sm bg-white rounded-2xl shadow-2xl p-8 relative overflow-hidden text-center animate-in zoom-in-95 duration-300 border border-stone-100`,children:[(0,W.jsx)(`div`,{className:`absolute -top-12 -right-12 w-32 h-32 bg-amber-100 rounded-full blur-3xl opacity-60 pointer-events-none`}),(0,W.jsx)(`div`,{className:`w-16 h-16 bg-amber-50 rounded-full flex items-center justify-center mx-auto mb-6 relative z-10`,children:(0,W.jsx)(lr,{size:32,className:`text-amber-600`})}),(0,W.jsx)(`h3`,{className:`text-2xl font-serif font-bold text-stone-900 mb-3`,children:``}),(0,W.jsxs)(`p`,{className:`text-stone-500 text-sm leading-relaxed mb-8 px-2`,children:[` 2 `,(0,W.jsx)(`br`,{}),``,(0,W.jsx)(`br`,{}),``]}),(0,W.jsxs)(`div`,{className:`space-y-3`,children:[(0,W.jsx)(`button`,{onClick:()=>t(`/auth`),className:`w-full py-3.5 bg-amber-600 hover:bg-amber-500 text-white font-bold rounded-xl shadow-lg shadow-amber-900/20 active:scale-[0.98] transition-all flex items-center justify-center`,children:` / `}),(0,W.jsx)(`button`,{onClick:()=>ae(!1),className:`w-full py-3.5 bg-white text-stone-400 hover:text-stone-600 font-medium rounded-xl transition-colors text-sm`,children:``})]})]})}),o&&(0,W.jsxs)(`div`,{className:`absolute inset-0 z-[850] bg-stone-900/50 backdrop-blur-sm animate-in fade-in duration-200`,children:[(0,W.jsxs)(`div`,{className:`absolute top-0 bottom-0 right-0 w-3/4 max-w-sm bg-white shadow-2xl animate-in slide-in-from-right duration-300 flex flex-col`,children:[(0,W.jsxs)(`div`,{className:`p-4 border-b border-stone-100 flex justify-between items-center bg-stone-50`,children:[(0,W.jsxs)(`h3`,{className:`font-bold text-lg text-stone-800 flex items-center`,children:[(0,W.jsx)(ar,{size:20,className:`mr-2 text-amber-500`}),``]}),(0,W.jsx)(`button`,{onClick:()=>s(!1),className:`p-2 hover:bg-stone-200 rounded-full`,children:(0,W.jsx)(Pr,{size:20,className:`text-stone-500`})})]}),(0,W.jsx)(`div`,{className:`flex-1 overflow-y-auto px-4 py-4 space-y-3`,children:n.length===0?(0,W.jsx)(`div`,{className:`text-center py-10 text-stone-400 text-sm`,children:``}):n.map(e=>(0,W.jsxs)(`div`,{onClick:()=>xe(e),className:`p-3 rounded-xl border transition-all cursor-pointer group relative ${i===e.id?`bg-amber-50 border-amber-200 ring-1 ring-amber-200`:`bg-white border-stone-100 hover:border-amber-200 hover:shadow-sm`}`,children:[(0,W.jsxs)(`div`,{className:`flex justify-between items-start mb-1`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-800 text-sm`,children:e.locationName}),(0,W.jsx)(`span`,{className:`text-[10px] text-stone-400`,children:new Date(e.lastMessageTime).toLocaleDateString()})]}),(0,W.jsx)(`p`,{className:`text-xs text-stone-500 line-clamp-2 pr-6`,children:e.preview||``}),(0,W.jsx)(`button`,{onClick:t=>Ce(t,e.id),className:`absolute bottom-3 right-3 p-1.5 text-stone-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100`,children:(0,W.jsx)(Ar,{size:14})})]},e.id))})]}),(0,W.jsx)(`div`,{className:`absolute inset-0 -z-10`,onClick:()=>s(!1)})]})]})},bx=()=>(0,W.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800`,children:[(0,W.jsxs)(`header`,{className:`px-6 py-4 flex justify-between items-center bg-white shadow-sm sticky top-0 z-10`,children:[(0,W.jsxs)(`div`,{className:`flex space-x-4 text-sm font-medium`,children:[(0,W.jsx)(`span`,{className:`text-stone-900 border-b-2 border-stone-900 pb-1`,children:``}),(0,W.jsx)(`span`,{className:`text-stone-400`,children:``}),(0,W.jsx)(`span`,{className:`text-stone-400`,children:``})]}),(0,W.jsx)(`button`,{className:`text-stone-900 bg-stone-100 p-2 rounded-full`,children:(0,W.jsx)(vr,{size:18})})]}),(0,W.jsx)(`main`,{className:`flex-1 p-2 overflow-y-auto`,children:(0,W.jsxs)(`div`,{className:`masonry-grid space-y-4`,children:[(0,W.jsxs)(`div`,{className:`bg-white rounded-xl overflow-hidden shadow-sm border border-stone-100 break-inside-avoid`,children:[(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1544967082-d9d3fddd85d1?q=80&w=400&auto=format&fit=crop`,alt:`Post`,className:`w-full h-48 object-cover`}),(0,W.jsx)(`div`,{className:`absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full backdrop-blur-sm`,children:`AI `})]}),(0,W.jsxs)(`div`,{className:`p-3`,children:[(0,W.jsx)(`h3`,{className:`font-bold text-stone-900 text-sm mb-1 line-clamp-2`,children:`...`}),(0,W.jsx)(`p`,{className:`text-xs text-stone-500 mb-3 line-clamp-2`,children:`AI`}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,W.jsx)(`div`,{className:`w-5 h-5 bg-stone-200 rounded-full`}),(0,W.jsx)(`span`,{className:`text-xs text-stone-600`,children:`A`})]}),(0,W.jsx)(`div`,{className:`flex items-center space-x-3 text-stone-400`,children:(0,W.jsxs)(`div`,{className:`flex items-center space-x-1`,children:[(0,W.jsx)(ir,{size:14}),(0,W.jsx)(`span`,{className:`text-xs`,children:`128`})]})})]})]})]}),(0,W.jsx)(`div`,{className:`bg-white rounded-xl overflow-hidden shadow-sm border border-stone-100 break-inside-avoid`,children:(0,W.jsxs)(`div`,{className:`p-3`,children:[(0,W.jsx)(`h3`,{className:`font-bold text-stone-900 text-sm mb-1 line-clamp-2`,children:``}),(0,W.jsxs)(`div`,{className:`grid grid-cols-2 gap-1 my-2 rounded-lg overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`bg-stone-200 h-24`}),(0,W.jsx)(`div`,{className:`bg-stone-200 h-24`})]}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mt-2`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,W.jsx)(`div`,{className:`w-5 h-5 bg-stone-200 rounded-full`}),(0,W.jsx)(`span`,{className:`text-xs text-stone-600`,children:``})]}),(0,W.jsx)(`div`,{className:`flex items-center space-x-3 text-stone-400`,children:(0,W.jsxs)(`div`,{className:`flex items-center space-x-1`,children:[(0,W.jsx)(ir,{size:14}),(0,W.jsx)(`span`,{className:`text-xs`,children:`856`})]})})]})]})})]})})]}),xx=(0,b.createContext)({});function Sx(e){let t=(0,b.useRef)(null);return t.current===null&&(t.current=e()),t.current}var Cx=typeof window<`u`,wx=Cx?b.useLayoutEffect:b.useEffect,Tx=(0,b.createContext)(null);function Ex(e,t){e.indexOf(t)===-1&&e.push(t)}function Dx(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ox=(e,t,n)=>n>t?t:n<e?e:n,kx={},Ax=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jx(e){return typeof e==`object`&&!!e}var Mx=e=>/^0[^.\s]+$/u.test(e);function Nx(e){let t;return()=>(t===void 0&&(t=e()),t)}var Px=e=>e,Fx=(e,t)=>n=>t(e(n)),Ix=(...e)=>e.reduce(Fx),Lx=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r},Rx=class{constructor(){this.subscriptions=[]}add(e){return Ex(this.subscriptions,e),()=>Dx(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},zx=e=>e*1e3,Bx=e=>e/1e3;function Vx(e,t){return t?e*(1e3/t):0}var Hx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ux=1e-7,Wx=12;function Gx(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=Hx(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>Ux&&++s<Wx);return o}function Kx(e,t,n,r){if(e===t&&n===r)return Px;let i=t=>Gx(t,0,1,e,n);return e=>e===0||e===1?e:Hx(i(e),t,r)}var qx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jx=e=>t=>1-e(1-t),Yx=Kx(.33,1.53,.69,.99),Xx=Jx(Yx),Zx=qx(Xx),Qx=e=>(e*=2)<1?.5*Xx(e):.5*(2-2**(-10*(e-1))),$x=e=>1-Math.sin(Math.acos(e)),eS=Jx($x),tS=qx($x),nS=Kx(.42,0,1,1),rS=Kx(0,0,.58,1),iS=Kx(.42,0,.58,1),aS=e=>Array.isArray(e)&&typeof e[0]!=`number`,oS=e=>Array.isArray(e)&&typeof e[0]==`number`,sS={linear:Px,easeIn:nS,easeInOut:iS,easeOut:rS,circIn:$x,circInOut:tS,circOut:eS,backIn:Xx,backInOut:Zx,backOut:Yx,anticipate:Qx},cS=e=>typeof e==`string`,lS=e=>{if(oS(e)){e.length;let[t,n,r,i]=e;return Kx(t,n,r,i)}else if(cS(e))return sS[e],`${e}`,sS[e];return e},uS=[`setup`,`read`,`resolveKeyframes`,`preUpdate`,`update`,`preRender`,`render`,`postRender`],dS={value:null,addProjectionMetrics:null};function fS(e,t){let n=new Set,r=new Set,i=!1,a=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},c=0;function l(t){o.has(t)&&(u.schedule(t),e()),c++,t(s)}let u={schedule:(e,t=!1,a=!1)=>{let s=a&&i?n:r;return t&&o.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(s=e,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),t&&dS.value&&dS.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}var pS=40;function mS(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=uS.reduce((e,n)=>(e[n]=fS(a,t?n:void 0),e),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:p,postRender:m}=o,h=()=>{let a=kx.useManualTiming?i.timestamp:performance.now();n=!1,kx.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,pS),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:uS.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,i=!1)=>(n||g(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<uS.length;t++)o[uS[t]].cancel(e)},state:i,steps:o}}var{schedule:hS,cancel:gS,state:_S,steps:vS}=mS(typeof requestAnimationFrame<`u`?requestAnimationFrame:Px,!0),yS;function bS(){yS=void 0}var xS={now:()=>(yS===void 0&&xS.set(_S.isProcessing||kx.useManualTiming?_S.timestamp:performance.now()),yS),set:e=>{yS=e,queueMicrotask(bS)}},SS={layout:0,mainThread:0,waapi:0},CS=e=>t=>typeof t==`string`&&t.startsWith(e),wS=CS(`--`),TS=CS(`var(--`),ES=e=>TS(e)?DS.test(e.split(`/*`)[0].trim()):!1,DS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function OS(e){return typeof e==`string`?e.split(`/*`)[0].includes(`var(--`):!1}var kS={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},AS={...kS,transform:e=>Ox(0,1,e)},jS={...kS,default:1},MS=e=>Math.round(e*1e5)/1e5,NS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PS(e){return e==null}var FS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,IS=(e,t)=>n=>!!(typeof n==`string`&&FS.test(n)&&n.startsWith(e)||t&&!PS(n)&&Object.prototype.hasOwnProperty.call(n,t)),LS=(e,t,n)=>r=>{if(typeof r!=`string`)return r;let[i,a,o,s]=r.match(NS);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},RS=e=>Ox(0,255,e),zS={...kS,transform:e=>Math.round(RS(e))},BS={test:IS(`rgb`,`red`),parse:LS(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+zS.transform(e)+`, `+zS.transform(t)+`, `+zS.transform(n)+`, `+MS(AS.transform(r))+`)`};function VS(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var HS={test:IS(`#`),parse:VS,transform:BS.transform},US=e=>({test:t=>typeof t==`string`&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),WS=US(`deg`),GS=US(`%`),$=US(`px`),KS=US(`vh`),qS=US(`vw`),JS=(()=>({...GS,parse:e=>GS.parse(e)/100,transform:e=>GS.transform(e*100)}))(),YS={test:IS(`hsl`,`hue`),parse:LS(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+GS.transform(MS(t))+`, `+GS.transform(MS(n))+`, `+MS(AS.transform(r))+`)`},XS={test:e=>BS.test(e)||HS.test(e)||YS.test(e),parse:e=>BS.test(e)?BS.parse(e):YS.test(e)?YS.parse(e):HS.parse(e),transform:e=>typeof e==`string`?e:e.hasOwnProperty(`red`)?BS.transform(e):YS.transform(e),getAnimatableNone:e=>{let t=XS.parse(e);return t.alpha=0,XS.transform(t)}},ZS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QS(e){return isNaN(e)&&typeof e==`string`&&(e.match(NS)?.length||0)+(e.match(ZS)?.length||0)>0}var $S=`number`,eC=`color`,tC=`var`,nC=`var(`,rC="${}",iC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function aC(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0;return{values:n,split:t.replace(iC,e=>(XS.test(e)?(r.color.push(a),i.push(eC),n.push(XS.parse(e))):e.startsWith(nC)?(r.var.push(a),i.push(tC),n.push(e)):(r.number.push(a),i.push($S),n.push(parseFloat(e))),++a,rC)).split(rC),indexes:r,types:i}}function oC(e){return aC(e).values}function sC(e){let{split:t,types:n}=aC(e),r=t.length;return e=>{let i=``;for(let a=0;a<r;a++)if(i+=t[a],e[a]!==void 0){let t=n[a];t===$S?i+=MS(e[a]):t===eC?i+=XS.transform(e[a]):i+=e[a]}return i}}var cC=e=>typeof e==`number`?0:XS.test(e)?XS.getAnimatableNone(e):e;function lC(e){let t=oC(e);return sC(e)(t.map(cC))}var uC={test:QS,parse:oC,createTransformer:sC,getAnimatableNone:lC};function dC(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fC({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=dC(s,r,e+1/3),a=dC(s,r,e),o=dC(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function pC(e,t){return n=>n>0?t:e}var mC=(e,t,n)=>e+(t-e)*n,hC=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},gC=[HS,BS,YS],_C=e=>gC.find(t=>t.test(e));function vC(e){let t=_C(e);if(`${e}`,!t)return!1;let n=t.parse(e);return t===YS&&(n=fC(n)),n}var yC=(e,t)=>{let n=vC(e),r=vC(t);if(!n||!r)return pC(e,t);let i={...n};return e=>(i.red=hC(n.red,r.red,e),i.green=hC(n.green,r.green,e),i.blue=hC(n.blue,r.blue,e),i.alpha=mC(n.alpha,r.alpha,e),BS.transform(i))},bC=new Set([`none`,`hidden`]);function xC(e,t){return bC.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function SC(e,t){return n=>mC(e,t,n)}function CC(e){return typeof e==`number`?SC:typeof e==`string`?ES(e)?pC:XS.test(e)?yC:DC:Array.isArray(e)?wC:typeof e==`object`?XS.test(e)?yC:TC:pC}function wC(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>CC(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function TC(e,t){let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=CC(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}function EC(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],o=e.indexes[a][r[a]];n[i]=e.values[o]??0,r[a]++}return n}var DC=(e,t)=>{let n=uC.createTransformer(t),r=aC(e),i=aC(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?bC.has(e)&&!i.values.length||bC.has(t)&&!r.values.length?xC(e,t):Ix(wC(EC(r,i),i.values),n):(`${e}${t}`,pC(e,t))};function OC(e,t,n){return typeof e==`number`&&typeof t==`number`&&typeof n==`number`?mC(e,t,n):CC(e)(e,t)}var kC=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>hS.update(t,e),stop:()=>gS(t),now:()=>_S.isProcessing?_S.timestamp:xS.now()}},AC=(e,t,n=10)=>{let r=``,i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=Math.round(e(t/(i-1))*1e4)/1e4+`, `;return`linear(${r.substring(0,r.length-2)})`},jC=2e4;function MC(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function NC(e,t=100,n){let r=n({...e,keyframes:[0,t]}),i=Math.min(MC(r),jC);return{type:`keyframes`,ease:e=>r.next(i*e).value/t,duration:Bx(i)}}var PC=5;function FC(e,t,n){let r=Math.max(t-PC,0);return Vx(n-e(r),t-r)}var IC={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LC=.001;function RC({duration:e=IC.duration,bounce:t=IC.bounce,velocity:n=IC.velocity,mass:r=IC.mass}){let i,a;IC.maxDuration;let o=1-t;o=Ox(IC.minDamping,IC.maxDamping,o),e=Ox(IC.minDuration,IC.maxDuration,Bx(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=VC(t,o),c=Math.exp(-i);return LC-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=VC(t**2,o);return(-i(t)+LC>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-LC+r*i},a=t=>Math.exp(-t*e)*((n-t)*(e*e)));let s=5/e,c=BC(i,a,s);if(e=zx(e),isNaN(c))return{stiffness:IC.stiffness,damping:IC.damping,duration:e};{let t=c**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var zC=12;function BC(e,t,n){let r=n;for(let n=1;n<zC;n++)r-=e(r)/t(r);return r}function VC(e,t){return e*Math.sqrt(1-t*t)}var HC=[`duration`,`bounce`],UC=[`stiffness`,`damping`,`mass`];function WC(e,t){return t.some(t=>e[t]!==void 0)}function GC(e){let t={velocity:IC.velocity,stiffness:IC.stiffness,damping:IC.damping,mass:IC.mass,isResolvedFromDuration:!1,...e};if(!WC(e,UC)&&WC(e,HC))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ox(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:IC.mass,stiffness:i,damping:a}}else{let n=RC(e);t={...t,...n,mass:IC.mass},t.isResolvedFromDuration=!0}return t}function KC(e=IC.visualDuration,t=IC.bounce){let n=typeof e==`object`?e:{visualDuration:e,keyframes:[0,1],bounce:t},{restSpeed:r,restDelta:i}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=GC({...n,velocity:-Bx(n.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(c*u)),g=o-a,_=Bx(Math.sqrt(c/u)),v=Math.abs(g)<5;r||=v?IC.restSpeed.granular:IC.restSpeed.default,i||=v?IC.restDelta.granular:IC.restDelta.default;let y;if(h<1){let e=VC(_,h);y=t=>o-Math.exp(-h*_*t)*((m+h*_*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(h===1)y=e=>o-Math.exp(-_*e)*(g+(m+_*g)*e);else{let e=_*Math.sqrt(h*h-1);y=t=>{let n=Math.exp(-h*_*t),r=Math.min(e*t,300);return o-n*((m+h*_*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}let b={calculatedDuration:p&&d||null,next:e=>{let t=y(e);if(p)s.done=e>=d;else{let n=e===0?m:0;h<1&&(n=e===0?zx(m):FC(y,e,t));let a=Math.abs(n)<=r,c=Math.abs(o-t)<=i;s.done=a&&c}return s.value=s.done?o:t,s},toString:()=>{let e=Math.min(MC(b),jC),t=AC(t=>b.next(e*t).value,e,30);return e+`ms `+t},toTransition:()=>{}};return b}KC.applyToOptions=e=>{let t=NC(e,100,KC);return e.ease=t.ease,e.duration=zx(t.duration),e.type=`keyframes`,e};function qC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=KC({keyframes:[f.value,m(f.value)],velocity:FC(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>=x?S.next(e-x):(!t&&b(e),f)}}}function JC(e,t,n){let r=[],i=n||kx.mix||OC,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);t&&(a=Ix(Array.isArray(t)?t[n]||Px:t,a)),r.push(a)}return r}function YC(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(t.length,a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=JC(t,r,i),c=s.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(c>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=Lx(e[r],e[r+1],n);return s[r](i)};return n?t=>l(Ox(e[0],e[a-1],t)):l}function XC(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=Lx(0,t,r);e.push(mC(n,1,i))}}function ZC(e){let t=[0];return XC(t,e.length-1),t}function QC(e,t){return e.map(e=>e*t)}function $C(e,t){return e.map(()=>t||iS).splice(0,e.length-1)}function ew({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=aS(r)?r.map(lS):lS(r),a={done:!1,value:t[0]},o=YC(QC(n&&n.length===t.length?n:ZC(t),e),t,{ease:Array.isArray(i)?i:$C(t,i)});return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}var tw=e=>e!==null;function nw(e,{repeat:t,repeatType:n=`loop`},r,i=1){let a=e.filter(tw),o=i<0||t&&n!==`loop`&&t%2==1?0:a.length-1;return!o||r===void 0?a[o]:r}var rw={decay:qC,inertia:qC,tween:ew,keyframes:ew,spring:KC};function iw(e){typeof e.type==`string`&&(e.type=rw[e.type])}var aw=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}},ow=e=>e/100,sw=class extends aw{constructor(e){super(),this.state=`idle`,this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==xS.now()&&this.tick(xS.now()),this.isStopped=!0,this.state!==`idle`&&(this.teardown(),this.options.onStop?.())},SS.mainThread++,this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){let{options:e}=this;iw(e);let{type:t=ew,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e,{keyframes:o}=e,s=t||ew;s!==ew&&typeof o[0]!=`number`&&(this.mixKeyframes=Ix(ow,OC(o[0],o[1])),o=[0,100]);let c=s({...e,keyframes:o});i===`mirror`&&(this.mirroredGenerator=s({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=MC(c));let{calculatedDuration:l}=c;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime===null?this.currentTime=t:this.currentTime=this.holdTime}tick(e,t=!1){let{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(this.startTime===null)return n.next(0);let{delay:c=0,keyframes:l,repeat:u,repeatType:d,repeatDelay:f,type:p,onUpdate:m,finalKeyframe:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state===`finished`&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,y=n;if(u){let e=Math.min(this.currentTime,r)/o,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,u+1),t%2&&(d===`reverse`?(n=1-n,f&&(n-=f/o)):d===`mirror`&&(y=a)),v=Ox(0,1,n)*o}let b=_?{done:!1,value:l[0]}:y.next(v);i&&(b.value=i(b.value));let{done:x}=b;!_&&s!==null&&(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let S=this.holdTime===null&&(this.state===`finished`||this.state===`running`&&x);return S&&p!==qC&&(b.value=nw(l,this.options,h,this.speed)),m&&m(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return Bx(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+Bx(e)}get time(){return Bx(this.currentTime)}set time(e){e=zx(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xS.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Bx(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=kC,startTime:t}=this.options;this.driver||=e(e=>this.tick(e)),this.options.onPlay?.();let n=this.driver.now();this.state===`finished`?(this.updateFinished(),this.startTime=n):this.holdTime===null?this.startTime||=t??n:this.startTime=n-this.holdTime,this.state===`finished`&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state=`running`,this.driver.start()}pause(){this.state=`paused`,this.updateTime(xS.now()),this.holdTime=this.currentTime}complete(){this.state!==`running`&&this.play(),this.state=`finished`,this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state=`finished`,this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state=`idle`,this.stopDriver(),this.startTime=this.holdTime=null,SS.mainThread--}stopDriver(){this.driver&&=(this.driver.stop(),void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type=`keyframes`,this.options.ease=`linear`,this.initAnimation()),this.driver?.stop(),e.observe(this)}};function cw(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}var lw=e=>e*180/Math.PI,uw=e=>fw(lw(Math.atan2(e[1],e[0]))),dw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:uw,rotateZ:uw,skewX:e=>lw(Math.atan(e[1])),skewY:e=>lw(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},fw=e=>(e%=360,e<0&&(e+=360),e),pw=uw,mw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),hw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),gw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mw,scaleY:hw,scale:e=>(mw(e)+hw(e))/2,rotateX:e=>fw(lw(Math.atan2(e[6],e[5]))),rotateY:e=>fw(lw(Math.atan2(-e[2],e[0]))),rotateZ:pw,rotate:pw,skewX:e=>lw(Math.atan(e[4])),skewY:e=>lw(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _w(e){return e.includes(`scale`)?1:0}function vw(e,t){if(!e||e===`none`)return _w(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),r,i;if(n)r=gw,i=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dw,i=t}if(!i)return _w(t);let a=r[t],o=i[1].split(`,`).map(bw);return typeof a==`function`?a(o):o[a]}var yw=(e,t)=>{let{transform:n=`none`}=getComputedStyle(e);return vw(n,t)};function bw(e){return parseFloat(e.trim())}var xw=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`],Sw=(()=>new Set(xw))(),Cw=e=>e===kS||e===$,ww=new Set([`x`,`y`,`z`]),Tw=xw.filter(e=>!ww.has(e));function Ew(e){let t=[];return Tw.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(`scale`)?1:0))}),t}var Dw={width:({x:e},{paddingLeft:t=`0`,paddingRight:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=`0`,paddingBottom:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>vw(t,`x`),y:(e,{transform:t})=>vw(t,`y`)};Dw.translateX=Dw.x,Dw.translateY=Dw.y;var Ow=new Set,kw=!1,Aw=!1,jw=!1;function Mw(){if(Aw){let e=Array.from(Ow).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=Ew(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{e.suspendedScrollY!==void 0&&window.scrollTo(0,e.suspendedScrollY)})}Aw=!1,kw=!1,Ow.forEach(e=>e.complete(jw)),Ow.clear()}function Nw(){Ow.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Aw=!0)})}function Pw(){jw=!0,Nw(),Mw(),jw=!1}var Fw=class{constructor(e,t,n,r,i,a=!1){this.state=`pending`,this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state=`scheduled`,this.isAsync?(Ow.add(this),kw||(kw=!0,hS.read(Nw),hS.resolveKeyframes(Mw))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){let i=r?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){let r=n.readValue(t,a);r!=null&&(e[0]=r)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}cw(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state=`complete`,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ow.delete(this)}cancel(){this.state===`scheduled`&&(Ow.delete(this),this.state=`pending`)}resume(){this.state===`pending`&&this.scheduleResolve()}},Iw=e=>e.startsWith(`--`);function Lw(e,t,n){Iw(t)?e.style.setProperty(t,n):e.style[t]=n}var Rw=Nx(()=>window.ScrollTimeline!==void 0),zw={};function Bw(e,t){let n=Nx(e);return()=>zw[t]??n()}var Vw=Bw(()=>{try{document.createElement(`div`).animate({opacity:0},{easing:`linear(0, 1)`})}catch{return!1}return!0},`linearEasing`),Hw=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Uw={linear:`linear`,ease:`ease`,easeIn:`ease-in`,easeOut:`ease-out`,easeInOut:`ease-in-out`,circIn:Hw([0,.65,.55,1]),circOut:Hw([.55,0,1,.45]),backIn:Hw([.31,.01,.66,-.59]),backOut:Hw([.33,1.53,.69,.99])};function Ww(e,t){if(e)return typeof e==`function`?Vw()?AC(e,t):`ease-out`:oS(e)?Hw(e):Array.isArray(e)?e.map(e=>Ww(e,t)||Uw.easeOut):Uw[e]}function Gw(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o=`loop`,ease:s=`easeOut`,times:c}={},l=void 0){let u={[t]:n};c&&(u.offset=c);let d=Ww(s,i);Array.isArray(d)&&(u.easing=d),dS.value&&SS.waapi++;let f={delay:r,duration:i,easing:Array.isArray(d)?`linear`:d,fill:`both`,iterations:a+1,direction:o===`reverse`?`alternate`:`normal`};l&&(f.pseudoElement=l);let p=e.animate(u,f);return dS.value&&p.finished.finally(()=>{SS.waapi--}),p}function Kw(e){return typeof e==`function`&&`applyToOptions`in e}function qw({type:e,...t}){return Kw(e)&&Vw()?e.applyToOptions(t):(t.duration??=300,t.ease??=`easeOut`,t)}var Jw=class extends aw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;let{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,e.type;let c=qw(e);this.animation=Gw(t,n,r,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=nw(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):Lw(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state===`finished`&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;e===`idle`||e===`finished`||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){let e=this.animation.effect?.getComputedTiming?.().duration||0;return Bx(Number(e))}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+Bx(e)}get time(){return Bx(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=zx(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime===null?this.animation.playState:`finished`}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:`linear`}),this.animation.onfinish=null,e&&Rw()?(this.animation.timeline=e,Px):t(this)}},Yw={anticipate:Qx,backInOut:Zx,circInOut:tS};function Xw(e){return e in Yw}function Zw(e){typeof e.ease==`string`&&Xw(e.ease)&&(e.ease=Yw[e.ease])}var Qw=10,$w=class extends Jw{constructor(e){Zw(e),iw(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}let o=new sw({...a,autoplay:!1}),s=Math.max(Qw,xS.now()-this.startTime),c=Ox(0,Qw,s-Qw);t.setWithVelocity(o.sample(Math.max(0,s-c)).value,o.sample(s).value,c),o.stop()}},eT=(e,t)=>t===`zIndex`?!1:!!(typeof e==`number`||Array.isArray(e)||typeof e==`string`&&(uC.test(e)||e===`0`)&&!e.startsWith(`url(`));function tT(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function nT(e,t,n,r){let i=e[0];if(i===null)return!1;if(t===`display`||t===`visibility`)return!0;let a=e[e.length-1],o=eT(i,t),s=eT(a,t);return`${t}${i}${a}${o?a:i}`,!o||!s?!1:tT(e)||(n===`spring`||Kw(n))&&r}function rT(e){e.duration=0,e.type=`keyframes`}var iT=new Set([`opacity`,`clipPath`,`filter`,`transform`]),aT=Nx(()=>Object.hasOwnProperty.call(Element.prototype,`animate`));function oT(e){let{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:s,transformTemplate:c}=t.owner.getProps();return aT()&&n&&iT.has(n)&&(n!==`transform`||!c)&&!s&&!r&&i!==`mirror`&&a!==0&&o!==`inertia`}var sT=40,cT=class extends aw{constructor({autoplay:e=!0,delay:t=0,type:n=`keyframes`,repeat:r=0,repeatDelay:i=0,repeatType:a=`loop`,keyframes:o,name:s,motionValue:c,element:l,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xS.now();let d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:s,motionValue:c,element:l,...u};this.keyframeResolver=new(l?.KeyframeResolver||Fw)(o,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),s,c,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;let{name:i,type:a,velocity:o,delay:s,isHandoff:c,onUpdate:l}=n;this.resolvedAt=xS.now(),nT(e,i,a,o)||((kx.instantAnimations||!s)&&l?.(nw(e,n,t)),e[0]=e[e.length-1],rT(n),n.repeat=0);let u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>sT?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!c&&oT(u),f=u.motionValue?.owner?.current,p=d?new $w({...u,element:f}):new sw(u);p.finished.then(()=>{this.notifyFinished()}).catch(Px),this.pendingTimeline&&=(this.stopTimeline=p.attachTimeline(this.pendingTimeline),void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Pw()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}};function lT(e,t,n,r=0,i=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return typeof n==`function`?n(a,o):i===1?a*r:s-a*r}var uT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dT(e){let t=uT.exec(e);if(!t)return[,];let[,n,r,i]=t;return[`--${n??r}`,i]}function fT(e,t,n=1){`${e}`;let[r,i]=dT(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let e=a.trim();return Ax(e)?parseFloat(e):e}return ES(i)?fT(i,t,n+1):i}var pT={type:`spring`,stiffness:500,damping:25,restSpeed:10},mT=e=>({type:`spring`,stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hT={type:`keyframes`,duration:.8},gT={type:`keyframes`,ease:[.25,.1,.35,1],duration:.3},_T=(e,{keyframes:t})=>t.length>2?hT:Sw.has(e)?e.startsWith(`scale`)?mT(t[1]):pT:gT,vT=e=>e!==null;function yT(e,{repeat:t,repeatType:n=`loop`},r){let i=e.filter(vT),a=t&&n!==`loop`&&t%2==1?0:i.length-1;return!a||r===void 0?i[a]:r}function bT(e,t){if(e?.inherit&&t){let{inherit:n,...r}=e;return{...t,...r}}return e}function xT(e,t){let n=e?.[t]??e?.default??e;return n===e?n:bT(n,e)}function ST({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}var CT=(e,t,n,r={},i,a)=>o=>{let s=xT(r,e)||{},c=s.delay||r.delay||0,{elapsed:l=0}=r;l-=zx(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:`easeOut`,velocity:t.getVelocity(),...s,delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};ST(s)||Object.assign(u,_T(e,u)),u.duration&&=zx(u.duration),u.repeatDelay&&=zx(u.repeatDelay),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(rT(u),u.delay===0&&(d=!0)),(kx.instantAnimations||kx.skipAnimations||i?.shouldSkipAnimations)&&(d=!0,rT(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!a&&t.get()!==void 0){let e=yT(u.keyframes,s);if(e!==void 0){hS.update(()=>{u.onUpdate(e),u.onComplete()});return}}return s.isSync?new sw(u):new cT(u)};function wT(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function TT(e,t,n,r){if(typeof t==`function`){let[i,a]=wT(r);t=t(n===void 0?e.custom:n,i,a)}if(typeof t==`string`&&(t=e.variants&&e.variants[t]),typeof t==`function`){let[i,a]=wT(r);t=t(n===void 0?e.custom:n,i,a)}return t}function ET(e,t,n){let r=e.getProps();return TT(r,t,n===void 0?r.custom:n,e)}var DT=new Set([`width`,`height`,`top`,`left`,`right`,`bottom`,...xw]),OT=30,kT=e=>!isNaN(parseFloat(e)),AT={current:void 0},jT=class{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=xS.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=xS.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kT(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new Rx);let n=this.events[e].add(t);return e===`change`?()=>{n(),hS.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||=new Set,this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return AT.current&&AT.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=xS.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>OT)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,OT);return Vx(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function MT(e,t){return new jT(e,t)}var NT=e=>Array.isArray(e);function PT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,MT(n))}function FT(e){return NT(e)?e[e.length-1]||0:e}function IT(e,t){let{transitionEnd:n={},transition:r={},...i}=ET(e,t)||{};for(let t in i={...i,...n},i)PT(e,t,FT(i[t]))}var LT=e=>!!(e&&e.getVelocity);function RT(e){return!!(LT(e)&&e.add)}function zT(e,t){let n=e.getValue(`willChange`);if(RT(n))return n.add(t);if(!n&&kx.WillChange){let n=new kx.WillChange(`auto`);e.addValue(`willChange`,n),n.add(t)}}function BT(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}var VT=`data-`+BT(`framerAppearId`);function HT(e){return e.props[VT]}function UT({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function WT(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a,transitionEnd:o,...s}=t,c=e.getDefaultTransition();a=a?bT(a,c):c;let l=a?.reduceMotion;r&&(a=r);let u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(let t in s){let r=e.getValue(t,e.latestValues[t]??null),i=s[t];if(i===void 0||d&&UT(d,t))continue;let o={delay:n,...xT(a||{},t)},c=r.get();if(c!==void 0&&!r.isAnimating&&!Array.isArray(i)&&i===c&&!o.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){let n=HT(e);if(n){let e=window.MotionHandoffAnimation(n,t,hS);e!==null&&(o.startTime=e,f=!0)}}zT(e,t);let p=l??e.shouldReduceMotion;r.start(CT(t,r,i,p&&DT.has(t)?{type:!1}:o,e,f));let m=r.animation;m&&u.push(m)}if(o){let t=()=>hS.update(()=>{o&&IT(e,o)});u.length?Promise.all(u).then(t):t()}return u}function GT(e,t,n={}){let r=ET(e,t,n.type===`exit`?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let a=r?()=>Promise.all(WT(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return KT(e,t,r,a,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){let[e,t]=s===`beforeChildren`?[a,o]:[o,a];return e().then(()=>t())}else return Promise.all([a(),o(n.delay)])}function KT(e,t,n=0,r=0,i=0,a=1,o){let s=[];for(let c of e.variantChildren)c.notify(`AnimationStart`,t),s.push(GT(c,t,{...o,delay:n+(typeof r==`function`?0:r)+lT(e.variantChildren,c,r,i,a)}).then(()=>c.notify(`AnimationComplete`,t)));return Promise.all(s)}function qT(e,t,n={}){e.notify(`AnimationStart`,t);let r;if(Array.isArray(t)){let i=t.map(t=>GT(e,t,n));r=Promise.all(i)}else if(typeof t==`string`)r=GT(e,t,n);else{let i=typeof t==`function`?ET(e,t,n.custom):t;r=Promise.all(WT(e,i,n))}return r.then(()=>{e.notify(`AnimationComplete`,t)})}var JT={test:e=>e===`auto`,parse:e=>e},YT=e=>t=>t.test(e),XT=[kS,$,GS,WS,qS,KS,JT],ZT=e=>XT.find(YT(e));function QT(e){return typeof e==`number`?e===0:e===null?!0:e===`none`||e===`0`||Mx(e)}var $T=new Set([`brightness`,`contrast`,`saturate`,`opacity`]);function eE(e){let[t,n]=e.slice(0,-1).split(`(`);if(t===`drop-shadow`)return e;let[r]=n.match(NS)||[];if(!r)return e;let i=n.replace(r,``),a=$T.has(t)?1:0;return r!==n&&(a*=100),t+`(`+a+i+`)`}var tE=/\b([a-z-]*)\(.*?\)/gu,nE={...uC,getAnimatableNone:e=>{let t=e.match(tE);return t?t.map(eE).join(` `):e}},rE={...kS,transform:Math.round},iE={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,inset:$,insetBlock:$,insetBlockStart:$,insetBlockEnd:$,insetInline:$,insetInlineStart:$,insetInlineEnd:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,paddingBlock:$,paddingBlockStart:$,paddingBlockEnd:$,paddingInline:$,paddingInlineStart:$,paddingInlineEnd:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,marginBlock:$,marginBlockStart:$,marginBlockEnd:$,marginInline:$,marginInlineStart:$,marginInlineEnd:$,fontSize:$,backgroundPositionX:$,backgroundPositionY:$,rotate:WS,rotateX:WS,rotateY:WS,rotateZ:WS,scale:jS,scaleX:jS,scaleY:jS,scaleZ:jS,skew:WS,skewX:WS,skewY:WS,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:AS,originX:JS,originY:JS,originZ:$,zIndex:rE,fillOpacity:AS,strokeOpacity:AS,numOctaves:rE},aE={...iE,color:XS,backgroundColor:XS,outlineColor:XS,fill:XS,stroke:XS,borderColor:XS,borderTopColor:XS,borderRightColor:XS,borderBottomColor:XS,borderLeftColor:XS,filter:nE,WebkitFilter:nE},oE=e=>aE[e];function sE(e,t){let n=oE(e);return n!==nE&&(n=uC),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var cE=new Set([`auto`,`none`,`0`]);function lE(e,t,n){let r=0,i;for(;r<e.length&&!i;){let t=e[r];typeof t==`string`&&!cE.has(t)&&aC(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=sE(n,i)}var uE=class extends Fw{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if(typeof r==`string`&&(r=r.trim(),ES(r))){let i=fT(r,t.current);i!==void 0&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!DT.has(n)||e.length!==2)return;let[r,i]=e,a=ZT(r),o=ZT(i);if(OS(r)!==OS(i)&&Dw[n]){this.needsMeasurement=!0;return}if(a!==o)if(Cw(a)&&Cw(o))for(let t=0;t<e.length;t++){let n=e[t];typeof n==`string`&&(e[t]=parseFloat(n))}else Dw[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(e[t]===null||QT(e[t]))&&n.push(t);n.length&&lE(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n===`height`&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dw[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let i=n.length-1,a=n[i];n[i]=Dw[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}},dE=new Set([`opacity`,`clipPath`,`filter`,`transform`]);function fE(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e==`string`){let r=document;t&&(r=t.current);let i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(e=>e!=null)}var pE=(e,t)=>t&&typeof e==`number`?t.transform(e):e;function mE(e){return jx(e)&&`offsetHeight`in e}var{schedule:hE,cancel:gE}=mS(queueMicrotask,!1),_E={x:!1,y:!1};function vE(){return _E.x||_E.y}function yE(e){return e===`x`||e===`y`?_E[e]?null:(_E[e]=!0,()=>{_E[e]=!1}):_E.x||_E.y?null:(_E.x=_E.y=!0,()=>{_E.x=_E.y=!1})}function bE(e,t){let n=fE(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function xE(e){return!(e.pointerType===`touch`||vE())}function SE(e,t,n={}){let[r,i,a]=bE(e,n);return r.forEach(e=>{let n=!1,r=!1,a,o=()=>{e.removeEventListener(`pointerleave`,u)},s=e=>{a&&=(a(e),void 0),o()},c=e=>{n=!1,window.removeEventListener(`pointerup`,c),window.removeEventListener(`pointercancel`,c),r&&(r=!1,s(e))},l=()=>{n=!0,window.addEventListener(`pointerup`,c,i),window.addEventListener(`pointercancel`,c,i)},u=e=>{if(e.pointerType!==`touch`){if(n){r=!0;return}s(e)}};e.addEventListener(`pointerenter`,n=>{if(!xE(n))return;r=!1;let o=t(e,n);typeof o==`function`&&(a=o,e.addEventListener(`pointerleave`,u,i))},i),e.addEventListener(`pointerdown`,l,i)}),a}var CE=(e,t)=>t?e===t?!0:CE(e,t.parentElement):!1,wE=e=>e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1,TE=new Set([`BUTTON`,`INPUT`,`SELECT`,`TEXTAREA`,`A`]);function EE(e){return TE.has(e.tagName)||e.isContentEditable===!0}var DE=new Set([`INPUT`,`SELECT`,`TEXTAREA`]);function OE(e){return DE.has(e.tagName)||e.isContentEditable===!0}var kE=new WeakSet;function AE(e){return t=>{t.key===`Enter`&&e(t)}}function jE(e,t){e.dispatchEvent(new PointerEvent(`pointer`+t,{isPrimary:!0,bubbles:!0}))}var ME=(e,t)=>{let n=e.currentTarget;if(!n)return;let r=AE(()=>{if(kE.has(n))return;jE(n,`down`);let e=AE(()=>{jE(n,`up`)});n.addEventListener(`keyup`,e,t),n.addEventListener(`blur`,()=>jE(n,`cancel`),t)});n.addEventListener(`keydown`,r,t),n.addEventListener(`blur`,()=>n.removeEventListener(`keydown`,r),t)};function NE(e){return wE(e)&&!vE()}var PE=new WeakSet;function FE(e,t,n={}){let[r,i,a]=bE(e,n),o=e=>{let r=e.currentTarget;if(!NE(e)||PE.has(e))return;kE.add(r),n.stopPropagation&&PE.add(e);let a=t(r,e),o=(e,t)=>{window.removeEventListener(`pointerup`,s),window.removeEventListener(`pointercancel`,c),kE.has(r)&&kE.delete(r),NE(e)&&typeof a==`function`&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||CE(r,e.target))},c=e=>{o(e,!1)};window.addEventListener(`pointerup`,s,i),window.addEventListener(`pointercancel`,c,i)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener(`pointerdown`,o,i),mE(e)&&(e.addEventListener(`focus`,e=>ME(e,i)),!EE(e)&&!e.hasAttribute(`tabindex`)&&(e.tabIndex=0))}),a}function IE(e){return jx(e)&&`ownerSVGElement`in e}var LE=new WeakMap,RE,zE=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+`Size`]:IE(r)&&`getBBox`in r?r.getBBox()[t]:r[n],BE=zE(`inline`,`width`,`offsetWidth`),VE=zE(`block`,`height`,`offsetHeight`);function HE({target:e,borderBoxSize:t}){LE.get(e)?.forEach(n=>{n(e,{get width(){return BE(e,t)},get height(){return VE(e,t)}})})}function UE(e){e.forEach(HE)}function WE(){typeof ResizeObserver>`u`||(RE=new ResizeObserver(UE))}function GE(e,t){RE||WE();let n=fE(e);return n.forEach(e=>{let n=LE.get(e);n||(n=new Set,LE.set(e,n)),n.add(t),RE?.observe(e)}),()=>{n.forEach(e=>{let n=LE.get(e);n?.delete(t),n?.size||RE?.unobserve(e)})}}var KE=new Set,qE;function JE(){qE=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};KE.forEach(t=>t(e))},window.addEventListener(`resize`,qE)}function YE(e){return KE.add(e),qE||JE(),()=>{KE.delete(e),!KE.size&&typeof qE==`function`&&(window.removeEventListener(`resize`,qE),qE=void 0)}}function XE(e,t){return typeof e==`function`?YE(e):GE(e,t)}function ZE(e){return IE(e)&&e.tagName===`svg`}var QE=[...XT,XS,uC],$E=e=>QE.find(YT(e)),eD=()=>({translate:0,scale:1,origin:0,originPoint:0}),tD=()=>({x:eD(),y:eD()}),nD=()=>({min:0,max:0}),rD=()=>({x:nD(),y:nD()}),iD=new WeakMap;function aD(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}function oD(e){return typeof e==`string`||Array.isArray(e)}var sD=[`animate`,`whileInView`,`whileFocus`,`whileHover`,`whileTap`,`whileDrag`,`exit`],cD=[`initial`,...sD];function lD(e){return aD(e.animate)||cD.some(t=>oD(e[t]))}function uD(e){return!!(lD(e)||e.variants)}function dD(e,t,n){for(let r in t){let i=t[r],a=n[r];if(LT(i))e.addValue(r,i);else if(LT(a))e.addValue(r,MT(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){let t=e.getValue(r);t.liveStyle===!0?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,MT(t===void 0?i:t,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var fD={current:null},pD={current:!1},mD=typeof window<`u`;function hD(){if(pD.current=!0,mD)if(window.matchMedia){let e=window.matchMedia(`(prefers-reduced-motion)`),t=()=>fD.current=e.matches;e.addEventListener(`change`,t),t()}else fD.current=!1}var gD=[`AnimationStart`,`AnimationComplete`,`Update`,`BeforeLayoutMeasure`,`LayoutMeasure`,`LayoutAnimationStart`,`LayoutAnimationComplete`],_D={};function vD(e){_D=e}function yD(){return _D}var bD=class{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,skipAnimations:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Fw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(`Update`,this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=xS.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,hS.render(this.render,!1,!0))};let{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=lD(t),this.isVariantNode=uD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in d){let t=d[e];c[e]!==void 0&&LT(t)&&t.set(c[e])}}mount(e){if(this.hasBeenMounted)for(let e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=e,iD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),this.reducedMotionConfig===`never`?this.shouldReduceMotion=!1:this.reducedMotionConfig===`always`?this.shouldReduceMotion=!0:(pD.current||hD(),this.shouldReduceMotion=fD.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){for(let e in this.projection&&this.projection.unmount(),gS(this.notifyUpdate),gS(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??=new Set,this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&dE.has(e)&&this.current instanceof HTMLElement){let{factory:n,keyframes:r,times:i,ease:a,duration:o}=t.accelerate,s=new Jw({element:this.current,name:e,keyframes:r,times:i,ease:a,duration:zx(o)}),c=n(s);this.valueSubscriptions.set(e,()=>{c(),s.cancel()});return}let n=Sw.has(e);n&&this.onBindTransform&&this.onBindTransform();let r=t.on(`change`,t=>{this.latestValues[e]=t,this.props.onUpdate&&hS.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),i;typeof window<`u`&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e=`animation`;for(e in _D){let t=_D[e];if(!t)continue;let{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rD()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<gD.length;t++){let n=gD[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e[`on`+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=dD(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=MT(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n==`string`&&(Ax(n)||Mx(n))?n=parseFloat(n):!$E(n)&&uC.test(t)&&(n=sE(e,t)),this.setBaseTarget(e,LT(n)?n.get():n)),LT(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n;if(typeof t==`string`||typeof t==`object`){let r=TT(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;let r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!LT(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Rx),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){hE.render(this.render)}},xD=class extends bD{constructor(){super(...arguments),this.KeyframeResolver=uE}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){let n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;LT(e)&&(this.childSubscription=e.on(`change`,e=>{this.current&&(this.current.textContent=`${e}`)}))}},SD=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function CD({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function wD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function TD(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ED(e){return e===void 0||e===1}function DD({scale:e,scaleX:t,scaleY:n}){return!ED(e)||!ED(t)||!ED(n)}function OD(e){return DD(e)||kD(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kD(e){return AD(e.x)||AD(e.y)}function AD(e){return e&&e!==`0%`}function jD(e,t,n){return n+t*(e-n)}function MD(e,t,n,r,i){return i!==void 0&&(e=jD(e,i,r)),jD(e,n,r)+t}function ND(e,t=0,n=1,r,i){e.min=MD(e.min,t,n,r,i),e.max=MD(e.max,t,n,r,i)}function PD(e,{x:t,y:n}){ND(e.x,t.translate,t.scale,t.originPoint),ND(e.y,n.translate,n.scale,n.originPoint)}var FD=.999999999999,ID=1.0000000000001;function LD(e,t,n,r=!1){let i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;let{visualElement:i}=a.options;i&&i.props.style&&i.props.style.display===`contents`||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&BD(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,PD(e,o)),r&&OD(a.latestValues)&&BD(e,a.latestValues))}t.x<ID&&t.x>FD&&(t.x=1),t.y<ID&&t.y>FD&&(t.y=1)}function RD(e,t){e.min+=t,e.max+=t}function zD(e,t,n,r,i=.5){ND(e,t,n,mC(e.min,e.max,i),r)}function BD(e,t){zD(e.x,t.x,t.scaleX,t.scale,t.originX),zD(e.y,t.y,t.scaleY,t.scale,t.originY)}function VD(e,t){return CD(TD(e.getBoundingClientRect(),t))}function HD(e,t,n){let r=VD(e,n),{scroll:i}=t;return i&&(RD(r.x,i.offset.x),RD(r.y,i.offset.y)),r}var UD={x:`translateX`,y:`translateY`,z:`translateZ`,transformPerspective:`perspective`},WD=xw.length;function GD(e,t,n){let r=``,i=!0;for(let a=0;a<WD;a++){let o=xw[a],s=e[o];if(s===void 0)continue;let c=!0;if(typeof s==`number`)c=s===(o.startsWith(`scale`)?1:0);else{let e=parseFloat(s);c=o.startsWith(`scale`)?e===1:e===0}if(!c||n){let e=pE(s,iE[o]);if(!c){i=!1;let t=UD[o]||o;r+=`${t}(${e}) `}n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?``:r):i&&(r=`none`),r}function KD(e,t,n){let{style:r,vars:i,transformOrigin:a}=e,o=!1,s=!1;for(let e in t){let n=t[e];if(Sw.has(e)){o=!0;continue}else if(wS(e)){i[e]=n;continue}else{let t=pE(n,iE[e]);e.startsWith(`origin`)?(s=!0,a[e]=t):r[e]=t}}if(t.transform||(o||n?r.transform=GD(t,e.transform,n):r.transform&&=`none`),s){let{originX:e=`50%`,originY:t=`50%`,originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}function qD(e,{style:t,vars:n},r,i){let a=e.style,o;for(o in t)a[o]=t[o];for(o in i?.applyProjectionStyles(a,r),n)a.setProperty(o,n[o])}function JD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var YD={correct:(e,t)=>{if(!t.target)return e;if(typeof e==`string`)if($.test(e))e=parseFloat(e);else return e;return`${JD(e,t.target.x)}% ${JD(e,t.target.y)}%`}},XD={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,i=uC.parse(e);if(i.length>5)return r;let a=uC.createTransformer(e),o=typeof i[0]==`number`?0:1,s=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=c;let l=mC(s,c,.5);return typeof i[2+o]==`number`&&(i[2+o]/=l),typeof i[3+o]==`number`&&(i[3+o]/=l),a(i)}},ZD={borderRadius:{...YD,applyTo:[`borderTopLeftRadius`,`borderTopRightRadius`,`borderBottomLeftRadius`,`borderBottomRightRadius`]},borderTopLeftRadius:YD,borderTopRightRadius:YD,borderBottomLeftRadius:YD,borderBottomRightRadius:YD,boxShadow:XD};function QD(e,{layout:t,layoutId:n}){return Sw.has(e)||e.startsWith(`origin`)||(t||n!==void 0)&&(!!ZD[e]||e===`opacity`)}function $D(e,t,n){let r=e.style,i=t?.style,a={};if(!r)return a;for(let t in r)(LT(r[t])||i&&LT(i[t])||QD(t,e)||n?.getValue(t)?.liveStyle!==void 0)&&(a[t]=r[t]);return a}function eO(e){return window.getComputedStyle(e)}var tO=class extends xD{constructor(){super(...arguments),this.type=`html`,this.renderInstance=qD}readValueFromInstance(e,t){if(Sw.has(t))return this.projection?.isProjecting?_w(t):yw(e,t);{let n=eO(e),r=(wS(t)?n.getPropertyValue(t):n[t])||0;return typeof r==`string`?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return VD(e,t)}build(e,t,n){KD(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return $D(e,t,n)}},nO={offset:`stroke-dashoffset`,array:`stroke-dasharray`},rO={offset:`strokeDashoffset`,array:`strokeDasharray`};function iO(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?nO:rO;e[a.offset]=`${-r}`,e[a.array]=`${t} ${n}`}var aO=[`offsetDistance`,`offsetPath`,`offsetRotate`,`offsetAnchor`];function oO(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},c,l,u){if(KD(e,s,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??`50% 50%`,delete d.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??`fill-box`,delete d.transformBox);for(let e of aO)d[e]!==void 0&&(f[e]=d[e],delete d[e]);t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&iO(d,i,a,o,!1)}var sO=new Set([`baseFrequency`,`diffuseConstant`,`kernelMatrix`,`kernelUnitLength`,`keySplines`,`keyTimes`,`limitingConeAngle`,`markerHeight`,`markerWidth`,`numOctaves`,`targetX`,`targetY`,`surfaceScale`,`specularConstant`,`specularExponent`,`stdDeviation`,`tableValues`,`viewBox`,`gradientTransform`,`pathLength`,`startOffset`,`textLength`,`lengthAdjust`]),cO=e=>typeof e==`string`&&e.toLowerCase()===`svg`;function lO(e,t,n,r){for(let n in qD(e,t,void 0,r),t.attrs)e.setAttribute(sO.has(n)?n:BT(n),t.attrs[n])}function uO(e,t,n){let r=$D(e,t,n);for(let n in e)if(LT(e[n])||LT(t[n])){let t=xw.indexOf(n)===-1?n:`attr`+n.charAt(0).toUpperCase()+n.substring(1);r[t]=e[n]}return r}var dO=class extends xD{constructor(){super(...arguments),this.type=`svg`,this.isSVGTag=!1,this.measureInstanceViewportBox=rD}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sw.has(t)){let e=oE(t);return e&&e.default||0}return t=sO.has(t)?t:BT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return uO(e,t,n)}build(e,t,n){oO(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){lO(e,t,n,r)}mount(e){this.isSVGTag=cO(e.tagName),super.mount(e)}},fO=cD.length;function pO(e){if(!e)return;if(!e.isControllingVariants){let t=e.parent&&pO(e.parent)||{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}let t={};for(let n=0;n<fO;n++){let r=cD[n],i=e.props[r];(oD(i)||i===!1)&&(t[r]=i)}return t}function mO(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var hO=[...sD].reverse(),gO=sD.length;function _O(e){return t=>Promise.all(t.map(({animation:t,options:n})=>qT(e,t,n)))}function vO(e){let t=_O(e),n=xO(),r=!0,i=t=>(n,r)=>{let i=ET(e,r,t===`exit`?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(n){t=n(e)}function o(a){let{props:o}=e,s=pO(e.parent)||{},c=[],l=new Set,u={},d=1/0;for(let t=0;t<gO;t++){let f=hO[t],p=n[f],m=o[f]===void 0?s[f]:o[f],h=oD(m),g=f===a?p.isActive:null;g===!1&&(d=t);let _=m===s[f]&&m!==o[f]&&h;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),p.protectedKeys={...u},!p.isActive&&g===null||!m&&!p.prevProp||aD(m)||typeof m==`boolean`)continue;if(f===`exit`&&p.isActive&&g!==!0){p.prevResolvedValues&&(u={...u,...p.prevResolvedValues});continue}let v=yO(p.prevProp,m),y=v||f===a&&p.isActive&&!_&&h||t>d&&h,b=!1,x=Array.isArray(m)?m:[m],S=x.reduce(i(f),{});g===!1&&(S={});let{prevResolvedValues:C={}}=p,w={...C,...S},T=t=>{y=!0,l.has(t)&&(b=!0,l.delete(t)),p.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in w){let t=S[e],n=C[e];if(u.hasOwnProperty(e))continue;let r=!1;r=NT(t)&&NT(n)?!mO(t,n):t!==n,r?t==null?l.add(e):T(e):t!==void 0&&l.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(y=!1);let ee=_&&v;y&&(!ee||b)&&c.push(...x.map(t=>{let n={type:f};if(typeof t==`string`&&r&&!ee&&e.manuallyAnimateOnMount&&e.parent){let{parent:r}=e,i=ET(r,t);if(r.enteringChildren&&i){let{delayChildren:t}=i.transition||{};n.delay=lT(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(l.size){let t={};if(typeof o.initial!=`boolean`){let n=ET(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}l.forEach(n=>{let r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),c.push({animation:t})}let f=!!c.length;return r&&(o.initial===!1||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(c):Promise.resolve()}function s(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;let i=o(t);for(let e in n)n[e].protectedKeys={};return i}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=xO()}}}function yO(e,t){return typeof t==`string`?t!==e:Array.isArray(t)?!mO(t,e):!1}function bO(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xO(){return{animate:bO(!0),whileInView:bO(),whileHover:bO(),whileTap:bO(),whileDrag:bO(),whileFocus:bO(),exit:bO()}}function SO(e,t){e.min=t.min,e.max=t.max}function CO(e,t){SO(e.x,t.x),SO(e.y,t.y)}function wO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}var TO=1e-4,EO=1-TO,DO=1+TO,OO=.01,kO=0-OO,AO=0+OO;function jO(e){return e.max-e.min}function MO(e,t,n){return Math.abs(e-t)<=n}function NO(e,t,n,r=.5){e.origin=r,e.originPoint=mC(t.min,t.max,e.origin),e.scale=jO(n)/jO(t),e.translate=mC(n.min,n.max,e.origin)-e.originPoint,(e.scale>=EO&&e.scale<=DO||isNaN(e.scale))&&(e.scale=1),(e.translate>=kO&&e.translate<=AO||isNaN(e.translate))&&(e.translate=0)}function PO(e,t,n,r){NO(e.x,t.x,n.x,r?r.originX:void 0),NO(e.y,t.y,n.y,r?r.originY:void 0)}function FO(e,t,n){e.min=n.min+t.min,e.max=e.min+jO(t)}function IO(e,t,n){FO(e.x,t.x,n.x),FO(e.y,t.y,n.y)}function LO(e,t,n){e.min=t.min-n.min,e.max=e.min+jO(t)}function RO(e,t,n){LO(e.x,t.x,n.x),LO(e.y,t.y,n.y)}function zO(e,t,n,r,i){return e-=t,e=jD(e,1/n,r),i!==void 0&&(e=jD(e,1/i,r)),e}function BO(e,t=0,n=1,r=.5,i,a=e,o=e){if(GS.test(t)&&(t=parseFloat(t),t=mC(o.min,o.max,t/100)-o.min),typeof t!=`number`)return;let s=mC(a.min,a.max,r);e===a&&(s-=t),e.min=zO(e.min,t,n,s,i),e.max=zO(e.max,t,n,s,i)}function VO(e,t,[n,r,i],a,o){BO(e,t[n],t[r],t[i],t.scale,a,o)}var HO=[`x`,`scaleX`,`originX`],UO=[`y`,`scaleY`,`originY`];function WO(e,t,n,r){VO(e.x,t,HO,n?n.x:void 0,r?r.x:void 0),VO(e.y,t,UO,n?n.y:void 0,r?r.y:void 0)}function GO(e){return e.translate===0&&e.scale===1}function KO(e){return GO(e.x)&&GO(e.y)}function qO(e,t){return e.min===t.min&&e.max===t.max}function JO(e,t){return qO(e.x,t.x)&&qO(e.y,t.y)}function YO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function XO(e,t){return YO(e.x,t.x)&&YO(e.y,t.y)}function ZO(e){return jO(e.x)/jO(e.y)}function QO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function $O(e){return[e(`x`),e(`y`)]}function ek(e,t,n){let r=``,i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}let s=e.x.scale*t.x,c=e.y.scale*t.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||`none`}var tk=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`],nk=tk.length,rk=e=>typeof e==`string`?parseFloat(e):e,ik=e=>typeof e==`number`||$.test(e);function ak(e,t,n,r,i,a){i?(e.opacity=mC(0,n.opacity??1,sk(r)),e.opacityExit=mC(t.opacity??1,0,ck(r))):a&&(e.opacity=mC(t.opacity??1,n.opacity??1,r));for(let i=0;i<nk;i++){let a=`border${tk[i]}Radius`,o=ok(t,a),s=ok(n,a);o===void 0&&s===void 0||(o||=0,s||=0,o===0||s===0||ik(o)===ik(s)?(e[a]=Math.max(mC(rk(o),rk(s),r),0),(GS.test(s)||GS.test(o))&&(e[a]+=`%`)):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=mC(t.rotate||0,n.rotate||0,r))}function ok(e,t){return e[t]===void 0?e.borderRadius:e[t]}var sk=lk(0,.5,eS),ck=lk(.5,.95,Px);function lk(e,t,n){return r=>r<e?0:r>t?1:n(Lx(e,t,r))}function uk(e,t,n){let r=LT(e)?e:MT(e);return r.start(CT(``,r,t,n)),r.animation}function dk(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}var fk=(e,t)=>e.depth-t.depth,pk=class{constructor(){this.children=[],this.isDirty=!1}add(e){Ex(this.children,e),this.isDirty=!0}remove(e){Dx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fk),this.isDirty=!1,this.children.forEach(e)}};function mk(e,t){let n=xS.now(),r=({timestamp:i})=>{let a=i-n;a>=t&&(gS(r),e(a-t))};return hS.setup(r,!0),()=>gS(r)}function hk(e){return LT(e)?e.get():e}var gk=class{constructor(){this.members=[]}add(e){Ex(this.members,e);for(let t=this.members.length-1;t>=0;t--){let n=this.members[t];if(n===e||n===this.lead||n===this.prevLead)continue;let r=n.instance;r&&r.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&Dx(this.members,n)}e.scheduleRender()}remove(e){if(Dx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t=this.members.findIndex(t=>e===t);if(t===0)return!1;let n;for(let e=t;e>=0;e--){let t=this.members[e],r=t.instance;if(t.isPresent!==!1&&(!r||r.isConnected!==!1)){n=t;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();let r=n.options.layoutDependency,i=e.options.layoutDependency;if(!(r!==void 0&&i!==void 0&&r===i)){let r=n.instance;r&&r.isConnected===!1&&!n.snapshot||(e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}let{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}},_k={hasAnimatedSinceResize:!0,hasEverUpdated:!1},vk={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},yk=[``,`X`,`Y`,`Z`],bk=1e3,xk=0;function Sk(e,t,n,r){let{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ck(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=HT(t);if(window.MotionHasOptimisedAnimation(n,`transform`)){let{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,`transform`,hS,!(t||r))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ck(r)}function wk({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=xk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,dS.value&&(vk.nodes=vk.calculatedTargetDeltas=vk.calculatedProjections=0),this.nodes.forEach(Dk),this.nodes.forEach(Pk),this.nodes.forEach(Fk),this.nodes.forEach(Ok),dS.addProjectionMetrics&&dS.addProjectionMetrics(vk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new pk)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Rx),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=IE(t)&&!ZE(t),this.instance=t;let{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0,i=()=>this.root.updateBlockedByResize=!1;hS.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=mk(i,250),_k.hasAnimatedSinceResize&&(_k.hasAnimatedSinceResize=!1,this.nodes.forEach(Nk)))})}n&&this.root.registerSharedNode(n,this),this.options.animate!==!1&&i&&(n||r)&&this.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||i.getDefaultTransition()||Hk,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=i.getProps(),c=!this.targetLayout||!XO(this.targetLayout,r),l=!t&&n;if(this.options.layoutRoot||this.resumeFrom||l||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...xT(a,`layout`),onPlay:o,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,l)}else t||Nk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gS(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ik),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ck(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll(`snapshot`),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(t===void 0&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,``):void 0,this.updateSnapshot(),e&&this.notifyListeners(`willUpdate`)}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ak);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Mk),this.nodes.forEach(Tk),this.nodes.forEach(Ek)):this.nodes.forEach(jk),this.clearAllSnapshots();let e=xS.now();_S.delta=Ox(0,1e3/60,e-_S.timestamp),_S.timestamp=e,_S.isProcessing=!0,vS.update.process(_S),vS.preRender.process(_S),vS.render.process(_S),_S.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kk),this.sharedNodes.forEach(Lk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hS.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hS.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jO(this.snapshot.measuredBox.x)&&!jO(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rD(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(`measure`,this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify(`LayoutMeasure`,this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e=`measure`){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!KO(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,``):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||OD(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),Kk(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return rD();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Jk))){let{scroll:e}=this.root;e&&(RD(t.x,e.offset.x),RD(t.y,e.offset.y))}return t}removeElementScroll(e){let t=rD();if(CO(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&CO(t,e),RD(t.x,i.offset.x),RD(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let n=rD();CO(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&BD(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),OD(r.latestValues)&&BD(n,r.latestValues)}return OD(this.latestValues)&&BD(n,this.latestValues),n}removeTransform(e){let t=rD();CO(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!OD(n.latestValues))continue;DD(n.latestValues)&&n.updateSnapshot();let r=rD();CO(r,n.measurePageBox()),WO(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return OD(this.latestValues)&&WO(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:e.crossfade===void 0?!0:e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_S.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||=t.isProjectionDirty,this.isTransformDirty||=t.isTransformDirty,this.isSharedProjectionDirty||=t.isSharedProjectionDirty;let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:i}=this.options;if(!this.layout||!(r||i))return;this.resolvedRelativeTargetAt=_S.timestamp;let a=this.getClosestProjectingParent();a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rD(),this.targetWithTransforms=rD()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):CO(this.target,this.layout.layoutBox),PD(this.target,this.targetDelta)):CO(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&this.animationProgress!==1?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0),dS.value&&vk.calculatedTargetDeltas++)}getClosestProjectingParent(){if(!(!this.parent||DD(this.parent.latestValues)||kD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rD(),this.relativeTargetOrigin=rD(),RO(this.relativeTargetOrigin,t,n),CO(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===_S.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;CO(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;LD(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=rD());let{target:s}=e;if(!s){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wO(this.prevProjectionDelta.x,this.projectionDelta.x),wO(this.prevProjectionDelta.y,this.projectionDelta.y)),PO(this.projectionDelta,this.layoutCorrected,s,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==o||!QO(this.projectionDelta.x,this.prevProjectionDelta.x)||!QO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(`projectionUpdate`,s)),dS.value&&vk.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tD(),this.projectionDelta=tD(),this.projectionDeltaWithTransform=tD()}setAnimationOrigin(e,t=!1){let n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a=tD();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=rD(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=!!(s&&!l&&this.options.crossfade===!0&&!this.path.some(Vk));this.animationProgress=0;let d;this.mixTargetDelta=t=>{let n=t/1e3;Rk(a.x,e.x,n),Rk(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(RO(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Bk(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&JO(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||=rD(),CO(d,this.relativeTarget)),s&&(this.animationValues=i,ak(i,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners(`animationStart`),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&=(gS(this.pendingAnimation),void 0),this.pendingAnimation=hS.update(()=>{_k.hasAnimatedSinceResize=!0,SS.layout++,this.motionValue||=MT(0),this.currentAnimation=uk(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{SS.layout--},onComplete:()=>{SS.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(`animationComplete`)}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(!(!t||!n||!r)){if(this!==e&&this.layout&&r&&qk(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||rD();let t=jO(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=jO(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}CO(t,n),BD(t,i),PO(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new gk),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return e?e.lead===this:!0}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return e?e.relegate(this):!1}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let r={};n.z&&Sk(`z`,e,r,this.animationValues);for(let t=0;t<yk.length;t++)Sk(`rotate${yk[t]}`,e,r,this.animationValues),Sk(`skew${yk[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility=`hidden`;return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility=``,e.opacity=``,e.pointerEvents=hk(t?.pointerEvents)||``,e.transform=n?n(this.latestValues,``):`none`;return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=this.latestValues.opacity===void 0?1:this.latestValues.opacity,e.pointerEvents=hk(t?.pointerEvents)||``),this.hasProjected&&!OD(this.latestValues)&&(e.transform=n?n({},``):`none`,this.hasProjected=!1);return}e.visibility=``;let i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=ek(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;let{x:o,y:s}=this.projectionDelta;for(let t in e.transformOrigin=`${o.origin*100}% ${s.origin*100}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?i.opacity===void 0?``:i.opacity:i.opacityExit===void 0?0:i.opacityExit,ZD){if(i[t]===void 0)continue;let{correct:n,applyTo:o,isCSSVariable:s}=ZD[t],c=a===`none`?i[t]:n(i[t],r);if(o){let t=o.length;for(let n=0;n<t;n++)e[o[n]]=c}else s?this.options.visualElement.renderState.vars[t]=c:e[t]=c}this.options.layoutId&&(e.pointerEvents=r===this?hk(t?.pointerEvents)||``:`none`)}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Ak),this.root.sharedNodes.clear()}}}function Tk(e){e.updateLayout()}function Ek(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners(`didUpdate`)){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i===`size`?$O(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=jO(r);r.min=n[e].min,r.max=r.min+i}):qk(i,t.layoutBox,n)&&$O(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],o=jO(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});let o=tD();PO(o,n,t.layoutBox);let s=tD();a?PO(s,e.applyTransform(r,!0),t.measuredBox):PO(s,n,t.layoutBox);let c=!KO(o),l=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let o=rD();RO(o,t.layoutBox,i.layoutBox);let s=rD();RO(s,n,a.layoutBox),XO(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners(`didUpdate`,{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:l})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Dk(e){dS.value&&vk.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty),e.isTransformDirty||=e.parent.isTransformDirty)}function Ok(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kk(e){e.clearSnapshot()}function Ak(e){e.clearMeasurements()}function jk(e){e.isLayoutDirty=!1}function Mk(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(`BeforeLayoutMeasure`),e.resetTransform()}function Nk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Pk(e){e.resolveTargetDelta()}function Fk(e){e.calcProjection()}function Ik(e){e.resetSkewAndRotation()}function Lk(e){e.removeLeadSnapshot()}function Rk(e,t,n){e.translate=mC(t.translate,0,n),e.scale=mC(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zk(e,t,n,r){e.min=mC(t.min,n.min,r),e.max=mC(t.max,n.max,r)}function Bk(e,t,n,r){zk(e.x,t.x,n.x,r),zk(e.y,t.y,n.y,r)}function Vk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var Hk={duration:.45,ease:[.4,0,.1,1]},Uk=e=>typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Wk=Uk(`applewebkit/`)&&!Uk(`chrome/`)?Math.round:Px;function Gk(e){e.min=Wk(e.min),e.max=Wk(e.max)}function Kk(e){Gk(e.x),Gk(e.y)}function qk(e,t,n){return e===`position`||e===`preserve-aspect`&&!MO(ZO(t),ZO(n),.2)}function Jk(e){return e!==e.root&&e.scroll?.wasRoot}var Yk=wk({attachResizeListener:(e,t)=>dk(e,`resize`,t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Xk={current:void 0},Zk=wk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xk.current){let e=new Yk({});e.mount(window),e.setOptions({layoutScroll:!0}),Xk.current=e}return Xk.current},resetTransform:(e,t)=>{e.style.transform=t===void 0?`none`:t},checkIsScrollRoot:e=>window.getComputedStyle(e).position===`fixed`}),Qk=(0,b.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`});function $k(e=!0){let t=(0,b.useContext)(Tx);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,b.useId)();(0,b.useEffect)(()=>{if(e)return i(a)},[e]);let o=(0,b.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}var eA=(0,b.createContext)({strict:!1}),tA={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},nA=!1;function rA(){if(nA)return;let e={};for(let t in tA)e[t]={isEnabled:e=>tA[t].some(t=>!!e[t])};vD(e),nA=!0}function iA(){return rA(),yD()}function aA(e){let t=iA();for(let n in e)t[n]={...t[n],...e[n]};vD(t)}var oA=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.propagate.ignoreStrict.viewport`.split(`.`));function sA(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||oA.has(e)}var cA=c({default:()=>lA}),lA,uA=o((()=>{throw lA={},Error(`Could not resolve "@emotion/is-prop-valid" imported by "framer-motion". Is it installed?`)})),dA=e=>!sA(e);function fA(e){typeof e==`function`&&(dA=t=>t.startsWith(`on`)?!sA(t):e(t))}try{fA((uA(),d(cA)).default)}catch{}function pA(e,t,n){let r={};for(let i in e)i===`values`&&typeof e.values==`object`||(dA(i)||n===!0&&sA(i)||!t&&!sA(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i]);return r}var mA=(0,b.createContext)({});function hA(e,t){if(lD(e)){let{initial:t,animate:n}=e;return{initial:t===!1||oD(t)?t:void 0,animate:oD(n)?n:void 0}}return e.inherit===!1?{}:t}function gA(e){let{initial:t,animate:n}=hA(e,(0,b.useContext)(mA));return(0,b.useMemo)(()=>({initial:t,animate:n}),[_A(t),_A(n)])}function _A(e){return Array.isArray(e)?e.join(` `):e}var vA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yA(e,t,n){for(let r in t)!LT(t[r])&&!QD(r,n)&&(e[r]=t[r])}function bA({transformTemplate:e},t){return(0,b.useMemo)(()=>{let n=vA();return KD(n,t,e),Object.assign({},n.vars,n.style)},[t])}function xA(e,t){let n=e.style||{},r={};return yA(r,n,e),Object.assign(r,bA(e,t)),r}function SA(e,t){let n={},r=xA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=`none`,r.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var CA=()=>({...vA(),attrs:{}});function wA(e,t,n,r){let i=(0,b.useMemo)(()=>{let n=CA();return oO(n,t,cO(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};yA(t,e.style,e),i.style={...t,...i.style}}return i}var TA=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function EA(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(TA.indexOf(e)>-1||/[A-Z]/u.test(e))}function DA(e,t,n,{latestValues:r},i,a=!1,o){let s=(o??EA(e)?wA:SA)(t,r,i,e),c=pA(t,typeof e==`string`,a),l=e===b.Fragment?{}:{...c,...s,ref:n},{children:u}=t,d=(0,b.useMemo)(()=>LT(u)?u.get():u,[u]);return(0,b.createElement)(e,{...l,children:d})}function OA({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:kA(n,r,i,e),renderState:t()}}function kA(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=hk(a[e]);let{initial:o,animate:s}=e,c=lD(e),l=uD(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u||=o===!1;let d=u?s:o;if(d&&typeof d!=`boolean`&&!aD(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let r=TT(e,t[n]);if(r){let{transitionEnd:e,transition:t,...n}=r;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}var AA=e=>(t,n)=>{let r=(0,b.useContext)(mA),i=(0,b.useContext)(Tx),a=()=>OA(e,t,r,i);return n?a():Sx(a)},jA=AA({scrapeMotionValuesFromProps:$D,createRenderState:vA}),MA=AA({scrapeMotionValuesFromProps:uO,createRenderState:CA}),NA=Symbol.for(`motionComponentSymbol`);function PA(e,t,n){let r=(0,b.useRef)(n);(0,b.useInsertionEffect)(()=>{r.current=n});let i=(0,b.useRef)(null);return(0,b.useCallback)(n=>{n&&e.onMount?.(n),t&&(n?t.mount(n):t.unmount());let a=r.current;if(typeof a==`function`)if(n){let e=a(n);typeof e==`function`&&(i.current=e)}else i.current?(i.current(),i.current=null):a(n);else a&&(a.current=n)},[t])}var FA=(0,b.createContext)({});function IA(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function LA(e,t,n,r,i,a){let{visualElement:o}=(0,b.useContext)(mA),s=(0,b.useContext)(eA),c=(0,b.useContext)(Tx),l=(0,b.useContext)(Qk),u=l.reducedMotion,d=l.skipAnimations,f=(0,b.useRef)(null),p=(0,b.useRef)(!1);r||=s.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,skipAnimations:d,isSVG:a}),p.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));let m=f.current,h=(0,b.useContext)(FA);m&&!m.projection&&i&&(m.type===`html`||m.type===`svg`)&&RA(f.current,n,i,h);let g=(0,b.useRef)(!1);(0,b.useInsertionEffect)(()=>{m&&g.current&&m.update(n,c)});let _=n[VT],v=(0,b.useRef)(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return wx(()=>{p.current=!0,m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),v.current&&m.animationState&&m.animationState.animateChanges())}),(0,b.useEffect)(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&=(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),!1),m.enteringChildren=void 0)}),m}function RA(e,t,n,r){let{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t[`data-framer-portal-id`]?void 0:zA(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&IA(s),visualElement:e,animationType:typeof a==`string`?a:`both`,initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function zA(e){if(e)return e.options.allowProjection===!1?zA(e.parent):e.projection}function BA(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&aA(r);let a=n?n===`svg`:EA(e),o=a?MA:jA;function s(n,s){let c,l={...(0,b.useContext)(Qk),...n,layoutId:VA(n)},{isStatic:u}=l,d=gA(n),f=o(n,u);if(!u&&Cx){HA(l,r);let t=UA(l);c=t.MeasureLayout,d.visualElement=LA(e,f,l,i,t.ProjectionNode,a)}return(0,W.jsxs)(mA.Provider,{value:d,children:[c&&d.visualElement?(0,W.jsx)(c,{visualElement:d.visualElement,...l}):null,DA(e,n,PA(f,d.visualElement,s),f,u,t,a)]})}s.displayName=`motion.${typeof e==`string`?e:`create(${e.displayName??e.name??``})`}`;let c=(0,b.forwardRef)(s);return c[NA]=e,c}function VA({layoutId:e}){let t=(0,b.useContext)(xx).id;return t&&e!==void 0?t+`-`+e:e}function HA(e,t){(0,b.useContext)(eA).strict}function UA(e){let{drag:t,layout:n}=iA();if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function WA(e,t){if(typeof Proxy>`u`)return BA;let n=new Map,r=(n,r)=>BA(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>a===`create`?r:(n.has(a)||n.set(a,BA(a,void 0,e,t)),n.get(a))})}var GA=(e,t)=>t.isSVG??EA(e)?new dO(t):new tO(t,{allowProjection:e!==b.Fragment}),KA=class extends SD{constructor(e){super(e),e.animationState||=vO(e)}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();aD(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}},qA=0,JA={animation:{Feature:KA},exit:{Feature:class extends SD{constructor(){super(...arguments),this.id=qA++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive(`exit`,!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function YA(e){return{point:{x:e.pageX,y:e.pageY}}}var XA=e=>t=>wE(t)&&e(t,YA(t));function ZA(e,t,n,r){return dk(e,t,XA(n),r)}var QA=({current:e})=>e?e.ownerDocument.defaultView:null,$A=(e,t)=>Math.abs(e-t);function ej(e,t){let n=$A(e.x,t.x),r=$A(e.y,t.y);return Math.sqrt(n**2+r**2)}var tj=new Set([`auto`,`scroll`]),nj=class{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=aj(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=ej(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=_S;this.history.push({...r,timestamp:i});let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=rj(t,this.transformPagePoint),hS.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=aj(e.type===`pointercancel`?this.lastMoveEventInfo:rj(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!wE(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;let s=rj(YA(e),this.transformPagePoint),{point:c}=s,{timestamp:l}=_S;this.history=[{...c,timestamp:l}];let{onSessionStart:u}=t;u&&u(e,aj(s,this.history)),this.removeListeners=Ix(ZA(this.contextWindow,`pointermove`,this.handlePointerMove),ZA(this.contextWindow,`pointerup`,this.handlePointerUp),ZA(this.contextWindow,`pointercancel`,this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(tj.has(e.overflowX)||tj.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener(`scroll`,this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener(`scroll`,this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener(`scroll`,this.onElementScroll,{capture:!0}),window.removeEventListener(`scroll`,this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:r.x-t.x,y:r.y-t.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,r),hS.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),gS(this.updatePoint)}};function rj(e,t){return t?{point:t(e.point)}:e}function ij(e,t){return{x:e.x-t.x,y:e.y-t.y}}function aj({point:e},t){return{point:e,delta:ij(e,sj(t)),offset:ij(e,oj(t)),velocity:cj(t,.1)}}function oj(e){return e[0]}function sj(e){return e[e.length-1]}function cj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=sj(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>zx(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&i.timestamp-r.timestamp>zx(t)*2&&(r=e[1]);let a=Bx(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?mC(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?mC(n,e,r.max):Math.min(e,n)),e}function uj(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function dj(e,{top:t,left:n,bottom:r,right:i}){return{x:uj(e.x,n,i),y:uj(e.y,t,r)}}function fj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function pj(e,t){return{x:fj(e.x,t.x),y:fj(e.y,t.y)}}function mj(e,t){let n=.5,r=jO(e),i=jO(t);return i>r?n=Lx(t.min,t.max-r,e.min):r>i&&(n=Lx(e.min,e.max-i,t.min)),Ox(0,1,n)}function hj(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var gj=.35;function _j(e=gj){return e===!1?e=0:e===!0&&(e=gj),{x:vj(e,`left`,`right`),y:vj(e,`top`,`bottom`)}}function vj(e,t,n){return{min:yj(e,t),max:yj(e,n)}}function yj(e,t){return typeof e==`number`?e:e[t]||0}var bj=new WeakMap,xj=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rD(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let i=e=>{t&&this.snapToCursor(YA(e).point),this.stopAnimation()},a=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yE(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$O(e=>{let t=this.getAxisMotionValue(e).get()||0;if(GS.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=jO(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&hS.update(()=>i(e,t),!1,!0),zT(this.visualElement,`transform`);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=Tj(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&hS.update(()=>a(e,t),!1,!0)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{let{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:l}=this.getProps();this.panSession=new nj(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:n,contextWindow:QA(this.visualElement),element:this.visualElement.current})}stop(e,t){let n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;let{velocity:a}=r;this.startAnimation(a);let{onDragEnd:o}=this.getProps();o&&hS.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive(`whileDrag`,!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!wj(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=lj(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&IA(e)?this.constraints||=this.resolveRefConstraints():e&&n?this.constraints=dj(n.layoutBox,e):this.constraints=!1,this.elastic=_j(t),r!==this.constraints&&!IA(e)&&n&&this.constraints&&!this.hasMutatedConstraints&&$O(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=hj(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!IA(e))return!1;let n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=HD(n,r.root,this.visualElement.getTransformPagePoint()),a=pj(r.layout.layoutBox,i);if(t){let e=t(wD(a));this.hasMutatedConstraints=!!e,e&&(a=CD(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=$O(o=>{if(!wj(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d={type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return zT(this.visualElement,e),n.start(CT(e,n,0,t,this.visualElement,!1))}stopAnimation(){$O(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){$O(t=>{let{drag:n}=this.getProps();if(!wj(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t],o=i.get()||0;i.set(e[t]-mC(n,a,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!IA(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};$O(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=mj({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),$O(t=>{if(!wj(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(mC(i,a,r[t]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;bj.set(this.visualElement,this);let e=this.visualElement.current,t=ZA(e,`pointerdown`,t=>{let{drag:n,dragListener:r=!0}=this.getProps(),i=t.target,a=i!==e&&OE(i);n&&r&&!a&&this.start(t)}),n,r=()=>{let{dragConstraints:t}=this.getProps();IA(t)&&t.current&&(this.constraints=this.resolveRefConstraints(),n||=Cj(e,t.current,()=>this.scalePositionWithinConstraints()))},{projection:i}=this.visualElement,a=i.addEventListener(`measure`,r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),hS.read(r);let o=dk(window,`resize`,()=>this.scalePositionWithinConstraints()),s=i.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&($O(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{o(),t(),a(),s&&s(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=gj,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function Sj(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function Cj(e,t,n){let r=XE(e,Sj(n)),i=XE(t,Sj(n));return()=>{r(),i()}}function wj(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Tj(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var Ej=class extends SD{constructor(e){super(e),this.removeGroupControls=Px,this.removeListeners=Px,this.controls=new xj(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Px}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},Dj=e=>(t,n)=>{e&&hS.update(()=>e(t,n),!1,!0)},Oj=class extends SD{constructor(){super(...arguments),this.removePointerDownListener=Px}onPointerDown(e){this.session=new nj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QA(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Dj(e),onStart:Dj(t),onMove:Dj(n),onEnd:(e,t)=>{delete this.session,r&&hS.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=ZA(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},kj=!1,Aj=class extends b.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),kj&&i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),_k.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,e.layoutDependency!==t&&a.setOptions({...a.options,layoutDependency:t}),kj=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||hS.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;kj=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function jj(e){let[t,n]=$k(),r=(0,b.useContext)(xx);return(0,W.jsx)(Aj,{...e,layoutGroup:r,switchLayoutGroup:(0,b.useContext)(FA),isPresent:t,safeToRemove:n})}var Mj={pan:{Feature:Oj},drag:{Feature:Ej,ProjectionNode:Zk,MeasureLayout:jj}};function Nj(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(`whileHover`,n===`Start`);let i=r[`onHover`+n];i&&hS.postRender(()=>i(t,YA(t)))}var Pj=class extends SD{mount(){let{current:e}=this.node;e&&(this.unmount=SE(e,(e,t)=>(Nj(this.node,t,`Start`),e=>Nj(this.node,e,`End`))))}unmount(){}},Fj=class extends SD{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=Ix(dk(this.node.current,`focus`,()=>this.onFocus()),dk(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}};function Ij(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive(`whileTap`,n===`Start`);let i=r[`onTap`+(n===`End`?``:n)];i&&hS.postRender(()=>i(t,YA(t)))}var Lj=class extends SD{mount(){let{current:e}=this.node;if(!e)return;let{globalTapTarget:t,propagate:n}=this.node.props;this.unmount=FE(e,(e,t)=>(Ij(this.node,t,`Start`),(e,{success:t})=>Ij(this.node,e,t?`End`:`Cancel`)),{useGlobalTarget:t,stopPropagation:n?.tap===!1})}unmount(){}},Rj=new WeakMap,zj=new WeakMap,Bj=e=>{let t=Rj.get(e.target);t&&t(e)},Vj=e=>{e.forEach(Bj)};function Hj({root:e,...t}){let n=e||document;zj.has(n)||zj.set(n,{});let r=zj.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Vj,{root:e,...t})),r[i]}function Uj(e,t,n){let r=Hj(t);return Rj.set(e,n),r.observe(e),()=>{Rj.delete(e),r.unobserve(e)}}var Wj={some:0,all:1},Gj=class extends SD{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:Wj[r]};return Uj(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(Kj(e,t))&&this.startObserver()}unmount(){}};function Kj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var qj={inView:{Feature:Gj},tap:{Feature:Lj},focus:{Feature:Fj},hover:{Feature:Pj}},Jj={layout:{ProjectionNode:Zk,MeasureLayout:jj}},Yj=WA({...JA,...qj,...Mj,...Jj},GA),Xj=({text:e,className:t})=>{let n=(0,b.useMemo)(()=>e.split(``).map((e,t)=>({char:e,id:t,x:[(Math.random()-.5)*60,(Math.random()-.5)*30,0],y:[(Math.random()-.5)*60,(Math.random()-.5)*30,0],rotate:[(Math.random()-.5)*45,(Math.random()-.5)*20,0]})),[e]);return(0,W.jsx)(`div`,{className:`flex justify-center flex-wrap ${t}`,children:n.map((e,t)=>(0,W.jsx)(Yj.span,{initial:{opacity:1,filter:`blur(0px)`,x:0,y:0},animate:{opacity:[1,.3,.8,1],filter:[`blur(0px)`,`blur(4px)`,`blur(2px)`,`blur(0px)`],x:[0,...e.x],y:[0,...e.y],rotate:[0,...e.rotate],scale:[1,1.5,.8,1]},transition:{duration:6,ease:`easeInOut`,repeat:1/0,repeatDelay:10,delay:t*.08,times:[0,.4,.7,1]},className:`inline-block whitespace-pre origin-center`,children:e.char},e.id))})},Zj=()=>{let e=$e(),[t,n]=(0,b.useState)(null),r=(0,b.useRef)(null);return(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`);e&&n(JSON.parse(e))},[]),(0,W.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800`,children:[(0,W.jsx)(`header`,{className:`px-6 py-4 flex justify-end items-center bg-transparent`}),(0,W.jsxs)(`main`,{className:`flex-1 overflow-y-auto px-4 pb-8`,children:[(0,W.jsxs)(`div`,{className:`flex flex-col items-center mb-8`,children:[(0,W.jsxs)(`div`,{className:`relative group cursor-pointer`,children:[(0,W.jsx)(`input`,{type:`file`,ref:r,className:`hidden`,accept:`image/*`,onChange:e=>{if(e.target.files&&e.target.files[0]&&t){let r=e.target.files[0],i=URL.createObjectURL(r),a={...t,avatar:i};n(a),localStorage.setItem(`museum_user`,JSON.stringify(a))}}}),(0,W.jsxs)(`div`,{onClick:()=>r.current?.click(),className:`w-24 h-24 rounded-full bg-stone-200 border-4 border-white shadow-md mb-3 relative overflow-hidden transition-transform active:scale-95`,children:[t?(0,W.jsx)(`img`,{src:t.avatar,alt:`Avatar`,className:`w-full h-full object-cover`}):(0,W.jsx)(`img`,{src:Gg,alt:`Guest Avatar`,className:`w-full h-full object-cover`}),t&&(0,W.jsx)(`div`,{className:`absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity`,children:(0,W.jsx)(Kn,{size:24,className:`text-white`})})]}),t&&(0,W.jsx)(`div`,{className:`absolute bottom-3 right-0 bg-amber-500 text-white p-1 rounded-full border-2 border-white pointer-events-none`,children:(0,W.jsx)(Un,{size:12})})]}),t?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`h2`,{className:`text-xl font-bold font-serif text-stone-900`,children:t.name}),(0,W.jsx)(`p`,{className:`text-stone-500 text-sm mt-1`,children:t.email}),(0,W.jsxs)(`div`,{className:`flex space-x-6 mt-4`,children:[(0,W.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,W.jsx)(`span`,{className:`font-bold text-lg text-stone-900`,children:`12`}),(0,W.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]}),(0,W.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,W.jsx)(`span`,{className:`font-bold text-lg text-stone-900`,children:`5`}),(0,W.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]}),(0,W.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,W.jsx)(`span`,{className:`font-bold text-lg text-stone-900`,children:`128`}),(0,W.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]})]})]}):(0,W.jsxs)(`div`,{className:`text-center`,children:[(0,W.jsx)(`h2`,{className:`text-xl font-bold font-serif text-stone-900 mb-2`,children:``}),(0,W.jsx)(Xj,{text:`Your pocket odyssey`,className:`text-xs text-stone-500 mb-4 font-serif italic`}),(0,W.jsx)(`button`,{onClick:()=>e(`/auth`),className:`px-8 py-2 bg-stone-900 text-white rounded-full text-sm font-medium shadow-lg hover:bg-stone-800 transition-colors`,children:` / `})]})]}),(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden`,children:[(0,W.jsxs)(`button`,{onClick:()=>e(`/profile/journals`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors border-b border-stone-50`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,W.jsx)(`div`,{className:`p-2 bg-blue-50 text-blue-600 rounded-lg`,children:(0,W.jsx)(Wn,{size:18})}),(0,W.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,W.jsx)(Jn,{size:16,className:`text-stone-400`})]}),(0,W.jsxs)(`button`,{onClick:()=>e(`/profile/plans`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors border-b border-stone-50`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,W.jsx)(`div`,{className:`p-2 bg-purple-50 text-purple-600 rounded-lg`,children:(0,W.jsx)(pr,{size:18})}),(0,W.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,W.jsx)(Jn,{size:16,className:`text-stone-400`})]}),(0,W.jsxs)(`button`,{onClick:()=>e(`/profile/favorites`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors border-b border-stone-50`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,W.jsx)(`div`,{className:`p-2 bg-amber-50 text-amber-600 rounded-lg`,children:(0,W.jsx)(kr,{size:18})}),(0,W.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,W.jsx)(Jn,{size:16,className:`text-stone-400`})]}),(0,W.jsxs)(`button`,{onClick:()=>e(`/history`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,W.jsx)(`div`,{className:`p-2 bg-green-50 text-green-600 rounded-lg`,children:(0,W.jsx)(gr,{size:18})}),(0,W.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,W.jsx)(Jn,{size:16,className:`text-stone-400`})]})]}),t&&(0,W.jsxs)(`button`,{onClick:()=>{localStorage.removeItem(`museum_user`),n(null),e(`/auth`)},className:`w-full py-3 bg-white border border-stone-200 text-stone-500 rounded-xl text-sm font-medium hover:bg-stone-50 hover:text-red-500 transition-colors flex items-center justify-center`,children:[(0,W.jsx)(ur,{size:16,className:`mr-2`}),``]})]})]})]})},Qj=()=>{let e=$e(),[t,n]=(0,b.useState)(!0),[r,i]=(0,b.useState)(!1),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)({email:``,password:``,name:``}),[l,u]=(0,b.useState)(``),[d,f]=(0,b.useState)(`https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?auto=format&fit=crop&q=80&w=1080`);return(0,W.jsxs)(`div`,{className:`min-h-screen bg-stone-900 flex flex-col relative overflow-hidden max-w-md mx-auto w-full`,children:[(0,W.jsxs)(`div`,{className:`absolute inset-0 z-0 bg-stone-800`,children:[(0,W.jsx)(`img`,{src:d,alt:`Museum Background`,className:`w-full h-full object-cover object-top opacity-50 transition-opacity duration-700`,onError:()=>{f(`https://images.unsplash.com/photo-1576504677634-06b2130bd1f3?auto=format&fit=crop&q=80&w=1080`)}}),(0,W.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-stone-900 via-stone-900/60 to-transparent`})]}),(0,W.jsxs)(`div`,{className:`flex-1 flex flex-col justify-end px-8 pb-10 relative z-10`,children:[(0,W.jsxs)(`div`,{className:`mb-8 flex flex-col items-center text-center animate-in slide-in-from-bottom-4 duration-700`,children:[(0,W.jsx)(`div`,{className:`flex items-center justify-center mb-3`,children:(0,W.jsx)(`h1`,{className:`text-5xl font-serif font-bold text-white tracking-wide`,children:``})}),(0,W.jsx)(`h2`,{className:`text-lg font-light text-stone-300 mb-6 tracking-widest uppercase font-sans`,children:`Odyssey`}),(0,W.jsx)(`div`,{className:`w-12 h-0.5 bg-amber-500/50 mb-6`}),(0,W.jsx)(Xj,{text:``,className:`text-stone-400 text-xs font-serif italic tracking-wider`})]}),(0,W.jsxs)(`form`,{onSubmit:async n=>{if(n.preventDefault(),u(``),i(!0),!s.email||!s.password){u(``),i(!1);return}let r;r=t?await Jg(s.email,s.password):await Yg(s.email,s.password,s.name),i(!1),r.success&&r.data?(localStorage.setItem(`museum_user`,JSON.stringify(r.data)),r.data.token&&localStorage.setItem(`museum_token`,r.data.token),e(`/profile`,{replace:!0})):u(r.message||(t?``:``))},className:`space-y-4 animate-in slide-in-from-bottom-8 duration-700 delay-200`,children:[!t&&(0,W.jsxs)(`div`,{className:`space-y-1`,children:[(0,W.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(jr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,W.jsx)(`input`,{type:`text`,placeholder:``,value:s.name,onChange:e=>c({...s,name:e.target.value}),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-4 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`})]})]}),(0,W.jsxs)(`div`,{className:`space-y-1`,children:[(0,W.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(dr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,W.jsx)(`input`,{type:`email`,placeholder:`name@example.com`,value:s.email,onChange:e=>c({...s,email:e.target.value}),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-4 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`})]})]}),(0,W.jsxs)(`div`,{className:`space-y-1`,children:[(0,W.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(lr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,W.jsx)(`input`,{type:a?`text`:`password`,placeholder:``,value:s.password,onChange:e=>c({...s,password:e.target.value}),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-12 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`}),(0,W.jsx)(`button`,{type:`button`,onClick:()=>o(!a),className:`absolute right-4 top-3.5 text-stone-500 hover:text-stone-300`,children:a?(0,W.jsx)(Qn,{size:18}):(0,W.jsx)($n,{size:18})})]})]}),l&&(0,W.jsx)(`div`,{className:`text-red-400 text-xs px-1 animate-in fade-in`,children:l}),(0,W.jsx)(`button`,{type:`submit`,disabled:r,className:`w-full bg-amber-600 hover:bg-amber-500 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-amber-900/20 active:scale-[0.98] transition-all flex items-center justify-center mt-6`,children:r?(0,W.jsx)(cr,{size:20,className:`animate-spin`}):(0,W.jsxs)(W.Fragment,{children:[t?``:``,(0,W.jsx)(Hn,{size:18,className:`ml-2`})]})})]}),(0,W.jsx)(`div`,{className:`mt-6 text-center animate-in fade-in duration-700 delay-300`,children:(0,W.jsxs)(`p`,{className:`text-stone-500 text-sm`,children:[t?``:``,(0,W.jsx)(`button`,{onClick:()=>{n(!t),u(``)},className:`text-amber-500 font-medium ml-2 hover:text-amber-400 transition-colors`,children:t?``:``})]})})]}),(0,W.jsx)(`div`,{className:`p-8 text-center relative z-10 animate-in fade-in duration-700 delay-500 pt-0`,children:(0,W.jsx)(`button`,{onClick:()=>e(`/`),className:`text-stone-500 text-sm hover:text-stone-300 transition-colors`,children:``})})]})},$j=()=>{let e=$e(),[t,n]=(0,b.useState)([]);(0,b.useEffect)(()=>{try{let e=localStorage.getItem(`museum_guide_sessions`);e&&n(JSON.parse(e))}catch(e){console.error(`Failed to load sessions`,e)}},[]);let r=t=>{e(`/guide`,{state:{sessionId:t.id}})},i=(e,r)=>{e.stopPropagation();let i=t.filter(e=>e.id!==r);n(i),localStorage.setItem(`museum_guide_sessions`,JSON.stringify(i))};return(0,W.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800 max-w-md mx-auto w-full`,children:[(0,W.jsxs)(`div`,{className:`p-4 bg-white border-b border-stone-100 flex items-center shadow-sm sticky top-0 z-10`,children:[(0,W.jsx)(`button`,{onClick:()=>e(-1),className:`p-2 -ml-2 text-stone-600 hover:bg-stone-100 rounded-full transition-colors`,children:(0,W.jsx)(Vn,{size:20})}),(0,W.jsxs)(`h1`,{className:`text-lg font-bold text-stone-900 ml-2 flex items-center`,children:[(0,W.jsx)(ar,{size:20,className:`mr-2 text-amber-500`}),``]})]}),(0,W.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 space-y-3`,children:t.length===0?(0,W.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-20 text-stone-400`,children:[(0,W.jsx)(`div`,{className:`w-16 h-16 bg-stone-200 rounded-full flex items-center justify-center mb-4 text-stone-400`,children:(0,W.jsx)(gr,{size:32})}),(0,W.jsx)(`p`,{className:`text-sm`,children:``}),(0,W.jsx)(`button`,{onClick:()=>e(`/guide`),className:`mt-6 px-6 py-2 bg-stone-900 text-white rounded-full text-sm font-medium hover:bg-stone-800 transition-colors`,children:``})]}):t.map(e=>(0,W.jsxs)(`div`,{onClick:()=>r(e),className:`p-4 bg-white rounded-xl border border-stone-100 shadow-sm hover:shadow-md hover:border-amber-200 transition-all cursor-pointer group relative active:scale-[0.98]`,children:[(0,W.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-800`,children:e.locationName}),(0,W.jsxs)(`span`,{className:`text-xs text-stone-400 bg-stone-50 px-2 py-0.5 rounded-full`,children:[new Date(e.lastMessageTime).toLocaleDateString(),` `,new Date(e.lastMessageTime).toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`})]})]}),(0,W.jsx)(`div`,{className:`flex items-center text-xs text-stone-500 mb-2`,children:(0,W.jsx)(`span`,{className:`px-1.5 py-0.5 rounded text-[10px] mr-2 ${e.persona===`humorous`?`bg-amber-100 text-amber-700`:e.persona===`kids`?`bg-green-100 text-green-700`:`bg-blue-100 text-blue-700`}`,children:e.persona===`humorous`?``:e.persona===`kids`?``:``})}),(0,W.jsx)(`p`,{className:`text-sm text-stone-600 line-clamp-2 pr-8`,children:e.preview||``}),(0,W.jsx)(`button`,{onClick:t=>i(t,e.id),className:`absolute bottom-4 right-4 p-2 text-stone-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100`,children:(0,W.jsx)(Ar,{size:16})})]},e.id))})]})},eM=()=>{let e=$e();return(0,W.jsxs)(`div`,{className:`flex flex-col h-screen w-full max-w-md mx-auto bg-[#FFF9F5] text-stone-800 relative overflow-hidden shadow-2xl`,children:[(0,W.jsxs)(`div`,{className:`flex-1 overflow-y-auto`,children:[(0,W.jsxs)(`div`,{className:`relative h-64 flex-shrink-0`,children:[(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1552832230-c0197dd311b5?auto=format&fit=crop&q=80&w=800`,alt:`Rome`,className:`w-full h-full object-cover rounded-b-[2rem] shadow-md`}),(0,W.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-b from-black/30 to-transparent rounded-b-[2rem]`}),(0,W.jsx)(`button`,{onClick:()=>e(-1),className:`absolute top-4 left-4 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-stone-600 shadow-sm active:scale-95 transition-transform z-10`,children:(0,W.jsx)(Vn,{size:20})})]}),(0,W.jsxs)(`div`,{className:`flex-1 px-5 -mt-8 relative z-10 pb-20`,children:[(0,W.jsxs)(`div`,{className:`bg-white p-5 rounded-3xl shadow-lg mb-8 relative border-2 border-orange-50`,children:[(0,W.jsx)(`div`,{className:`absolute -top-3 left-1/2 transform -translate-x-1/2 w-24 h-6 bg-orange-200/80 rotate-1 shadow-sm`}),(0,W.jsxs)(`h1`,{className:`text-xl font-bold text-stone-800 mb-3 font-serif leading-relaxed text-center mt-2`,children:[``,(0,W.jsx)(`br`,{}),` `]}),(0,W.jsxs)(`div`,{className:`flex items-center justify-center space-x-3 mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-2 bg-orange-50 px-3 py-1 rounded-full`,children:[(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=50&auto=format&fit=crop`,className:`w-6 h-6 rounded-full border border-white`,alt:`Avatar`}),(0,W.jsx)(`span`,{className:`text-xs font-bold text-stone-600`,children:`Alice Wang`})]}),(0,W.jsx)(`span`,{className:`text-xs text-stone-400`,children:`2023.10.05`})]}),(0,W.jsx)(`p`,{className:`text-sm text-stone-600 leading-relaxed text-center`,children:`AI`})]}),(0,W.jsxs)(`div`,{className:`relative pl-4 space-y-8`,children:[(0,W.jsx)(`div`,{className:`absolute left-[27px] top-2 bottom-0 w-0.5 bg-orange-200 border-l-2 border-dashed border-orange-300`}),(0,W.jsxs)(`div`,{className:`relative pl-8`,children:[(0,W.jsx)(`div`,{className:`absolute left-0 top-0 w-14 h-14 bg-white border-4 border-orange-100 rounded-full flex items-center justify-center shadow-sm z-10`,children:(0,W.jsx)(`span`,{className:`text-xs font-bold text-orange-400 font-mono`,children:`09:30`})}),(0,W.jsxs)(`div`,{className:`bg-white p-4 rounded-2xl shadow-sm border border-stone-100 ml-4 relative`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-1 text-orange-500 mb-2`,children:[(0,W.jsx)(fr,{size:14,fill:`currentColor`,className:`text-orange-200`}),(0,W.jsx)(`span`,{className:`text-sm font-bold`,children:``})]}),(0,W.jsx)(`div`,{className:`rounded-xl overflow-hidden mb-3 rotate-1 border-4 border-white shadow-md`,children:(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1552832230-c0197dd311b5?auto=format&fit=crop&q=80&w=800`,alt:`Colosseum`,className:`w-full h-40 object-cover`})}),(0,W.jsxs)(`div`,{className:`bg-blue-50 p-3 rounded-xl mb-2 relative`,children:[(0,W.jsx)(`div`,{className:`absolute -top-2 left-4 w-4 h-4 bg-blue-50 rotate-45`}),(0,W.jsxs)(`div`,{className:`flex items-start space-x-2`,children:[(0,W.jsx)(Or,{size:16,className:`text-blue-400 mt-0.5 flex-shrink-0`}),(0,W.jsxs)(`p`,{className:`text-xs text-stone-600 leading-relaxed`,children:[(0,W.jsx)(`span`,{className:`font-bold text-blue-500`,children:`AI `}),`80 `]})]})]}),(0,W.jsx)(`p`,{className:`text-sm text-stone-700`,children:``})]})]}),(0,W.jsxs)(`div`,{className:`relative pl-8`,children:[(0,W.jsx)(`div`,{className:`absolute left-0 top-0 w-14 h-14 bg-white border-4 border-orange-100 rounded-full flex items-center justify-center shadow-sm z-10`,children:(0,W.jsx)(`span`,{className:`text-xs font-bold text-orange-400 font-mono`,children:`14:00`})}),(0,W.jsxs)(`div`,{className:`bg-white p-4 rounded-2xl shadow-sm border border-stone-100 ml-4 relative`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-1 text-orange-500 mb-2`,children:[(0,W.jsx)(fr,{size:14,fill:`currentColor`,className:`text-orange-200`}),(0,W.jsx)(`span`,{className:`text-sm font-bold`,children:``})]}),(0,W.jsx)(`div`,{className:`rounded-xl overflow-hidden mb-3 -rotate-1 border-4 border-white shadow-md`,children:(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1531572753322-ad063cecc140?auto=format&fit=crop&q=80&w=800`,alt:`Fountain`,className:`w-full h-40 object-cover`})}),(0,W.jsxs)(`div`,{className:`bg-pink-50 p-3 rounded-xl mb-2 relative`,children:[(0,W.jsx)(`div`,{className:`absolute -top-2 left-4 w-4 h-4 bg-pink-50 rotate-45`}),(0,W.jsxs)(`div`,{className:`flex items-start space-x-2`,children:[(0,W.jsx)(kr,{size:16,className:`text-pink-400 mt-0.5 flex-shrink-0`}),(0,W.jsxs)(`p`,{className:`text-xs text-stone-600 leading-relaxed`,children:[(0,W.jsx)(`span`,{className:`font-bold text-pink-500`,children:``}),` `]})]})]}),(0,W.jsx)(`p`,{className:`text-sm text-stone-700`,children:` `})]})]}),(0,W.jsxs)(`div`,{className:`relative pl-8`,children:[(0,W.jsx)(`div`,{className:`absolute left-0 top-0 w-14 h-14 bg-white border-4 border-orange-100 rounded-full flex items-center justify-center shadow-sm z-10`,children:(0,W.jsx)(`span`,{className:`text-xs font-bold text-orange-400 font-mono`,children:`17:30`})}),(0,W.jsxs)(`div`,{className:`bg-white p-4 rounded-2xl shadow-sm border border-stone-100 ml-4 relative`,children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-1 text-orange-500 mb-2`,children:[(0,W.jsx)(fr,{size:14,fill:`currentColor`,className:`text-orange-200`}),(0,W.jsx)(`span`,{className:`text-sm font-bold`,children:``})]}),(0,W.jsxs)(`div`,{className:`grid grid-cols-2 gap-2 mb-3`,children:[(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1525874684015-58379d421a52?auto=format&fit=crop&q=80&w=800`,alt:`Steps`,className:`w-full h-24 object-cover rounded-lg rotate-2 border-2 border-white shadow-sm`}),(0,W.jsx)(`img`,{src:`https://images.unsplash.com/photo-1557142046-c704a3adf364?auto=format&fit=crop&q=80&w=800`,alt:`Gelato`,className:`w-full h-24 object-cover rounded-lg -rotate-2 border-2 border-white shadow-sm`})]}),(0,W.jsx)(`p`,{className:`text-sm text-stone-700`,children:` Gelato `})]})]}),(0,W.jsxs)(`div`,{className:`relative pl-8 pb-8`,children:[(0,W.jsx)(`div`,{className:`absolute left-[22px] top-0 w-3 h-3 bg-orange-300 rounded-full border-2 border-white shadow-sm z-10`}),(0,W.jsx)(`p`,{className:`text-xs text-stone-400 italic ml-4 pt-1`,children:`...`})]})]})]})]}),(0,W.jsxs)(`div`,{className:`absolute bottom-0 left-0 right-0 bg-white border-t border-stone-100 px-6 py-3 flex items-center justify-between z-20 pb-safe shadow-[0_-4px_10px_rgba(0,0,0,0.05)]`,children:[(0,W.jsx)(`div`,{className:`flex items-center space-x-1 bg-stone-50 px-3 py-2 rounded-full border border-stone-100`,children:(0,W.jsx)(`input`,{type:`text`,placeholder:`...`,className:`bg-transparent border-none outline-none text-sm w-32 text-stone-700 placeholder:text-stone-400`})}),(0,W.jsxs)(`div`,{className:`flex items-center space-x-6 text-stone-500`,children:[(0,W.jsxs)(`button`,{className:`flex flex-col items-center space-y-0.5`,children:[(0,W.jsx)(ir,{size:22,className:`text-rose-400`,fill:`#fb7185`}),(0,W.jsx)(`span`,{className:`text-[10px]`,children:`342`})]}),(0,W.jsxs)(`button`,{className:`flex flex-col items-center space-y-0.5`,children:[(0,W.jsx)(mr,{size:22}),(0,W.jsx)(`span`,{className:`text-[10px]`,children:`56`})]}),(0,W.jsxs)(`button`,{className:`flex flex-col items-center space-y-0.5`,children:[(0,W.jsx)(Dr,{size:22}),(0,W.jsx)(`span`,{className:`text-[10px]`,children:``})]})]})]})]})},tM=({icon:e,title:t,description:n,actionText:r,onAction:i})=>(0,W.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-full p-8 text-center animate-in fade-in zoom-in duration-500`,children:[(0,W.jsxs)(`div`,{className:`w-24 h-24 bg-stone-100 rounded-full flex items-center justify-center mb-6 text-stone-400 relative`,children:[e,(0,W.jsx)(`div`,{className:`absolute top-0 right-0 w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center text-amber-500 animate-bounce delay-700`,children:(0,W.jsx)(kr,{size:14,fill:`currentColor`})})]}),(0,W.jsx)(`h3`,{className:`text-xl font-bold font-serif text-stone-800 mb-2`,children:t}),(0,W.jsx)(`p`,{className:`text-stone-500 text-sm mb-8 leading-relaxed max-w-xs`,children:n}),(0,W.jsxs)(`button`,{onClick:i,className:`px-8 py-3 bg-stone-900 text-white rounded-xl font-medium shadow-lg shadow-stone-900/20 hover:bg-stone-800 active:scale-95 transition-all flex items-center`,children:[(0,W.jsx)(Sr,{size:18,className:`mr-2`}),r]})]}),nM=()=>{let e=$e(),t=z(),[n,r]=(0,b.useState)([]),i=t.pathname.split(`/`).pop();(0,b.useEffect)(()=>{i===`plans`&&(async()=>{let e=localStorage.getItem(`museum_user`),t=null;if(e)try{let n=JSON.parse(e);t=n.id||n.uid}catch(e){console.error(`Failed to parse user`,e)}if(t){let e=await fc.getUserPlans(t);if(e.length>0)r(e);else{let e=localStorage.getItem(`my_plans`);e&&r(JSON.parse(e).filter(e=>e.uid===t))}}else r([])})()},[i]);let a={title:``,emptyIcon:(0,W.jsx)(Wn,{size:40}),emptyTitle:``,emptyDesc:``,actionText:``,onAction:()=>e(`/`)};return i===`journals`?a={title:``,emptyIcon:(0,W.jsx)(Wn,{size:48,strokeWidth:1.5}),emptyTitle:``,emptyDesc:``,actionText:``,onAction:()=>e(`/guide`)}:i===`plans`?a={title:``,emptyIcon:(0,W.jsx)(pr,{size:48,strokeWidth:1.5}),emptyTitle:``,emptyDesc:`
 AI `,actionText:``,onAction:()=>e(`/plan`)}:i===`favorites`&&(a={title:``,emptyIcon:(0,W.jsx)(kr,{size:48,strokeWidth:1.5}),emptyTitle:``,emptyDesc:`
`,actionText:``,onAction:()=>e(`/community`)}),(0,W.jsxs)(`div`,{className:`flex flex-col h-screen bg-stone-50 text-stone-800 max-w-md mx-auto w-full shadow-xl`,children:[(0,W.jsxs)(`header`,{className:`px-6 py-4 flex items-center bg-white border-b border-stone-100 sticky top-0 z-10`,children:[(0,W.jsx)(`button`,{onClick:()=>e(-1),className:`p-2 -ml-2 text-stone-600 hover:bg-stone-100 rounded-full transition-colors`,children:(0,W.jsx)(Vn,{size:20})}),(0,W.jsx)(`h1`,{className:`text-lg font-bold font-serif text-stone-900 ml-2`,children:a.title})]}),(0,W.jsx)(`main`,{className:`flex-1 overflow-y-auto`,children:i===`plans`&&n.length>0?(0,W.jsx)(`div`,{className:`p-4 space-y-4`,children:n.map(e=>(0,W.jsxs)(`div`,{className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4 active:scale-[0.99] transition-transform`,children:[(0,W.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,W.jsx)(`img`,{src:e.image,alt:e.destination,className:`w-full h-full object-cover ${e.status===`completed`?`grayscale`:``}`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,W.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:[e.days,``]})]}),(0,W.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h4`,{className:`font-bold text-stone-900 text-lg leading-tight mb-1 line-clamp-1`,children:e.title}),(0,W.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,W.jsx)(fr,{size:12,className:`mr-1`}),(0,W.jsx)(`span`,{children:e.destination})]})]}),(0,W.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,W.jsx)(`span`,{className:`text-xs text-stone-400 font-medium`,children:e.startDate?new Date(e.startDate).toLocaleDateString():``}),(0,W.jsx)(`span`,{className:`text-xs px-2 py-1 rounded-full font-medium ${e.status===`upcoming`?`bg-blue-50 text-blue-600`:e.status===`completed`?`bg-stone-100 text-stone-500`:`bg-amber-50 text-amber-600`}`,children:e.status===`upcoming`?``:e.status===`completed`?``:``})]})]})]},e.id))}):(0,W.jsx)(tM,{icon:a.emptyIcon,title:a.emptyTitle,description:a.emptyDesc,actionText:a.actionText,onAction:a.onAction})})]})};function rM(){return(0,W.jsx)(pn,{children:(0,W.jsxs)(Dt,{children:[(0,W.jsxs)(Et,{path:`/`,element:(0,W.jsx)(Lr,{}),children:[(0,W.jsx)(Et,{index:!0,element:(0,W.jsx)(pc,{})}),(0,W.jsx)(Et,{path:`plan`,element:(0,W.jsx)(Xg,{})}),(0,W.jsx)(Et,{path:`guide`,element:(0,W.jsx)(yx,{})}),(0,W.jsx)(Et,{path:`community`,element:(0,W.jsx)(bx,{})}),(0,W.jsx)(Et,{path:`profile`,element:(0,W.jsx)(Zj,{})})]}),(0,W.jsx)(Et,{path:`/travelogue/:id`,element:(0,W.jsx)(eM,{})}),(0,W.jsx)(Et,{path:`/plan/edit`,element:(0,W.jsx)(Pb,{})}),(0,W.jsx)(Et,{path:`/auth`,element:(0,W.jsx)(Qj,{})}),(0,W.jsx)(Et,{path:`/history`,element:(0,W.jsx)($j,{})}),(0,W.jsx)(Et,{path:`/profile/journals`,element:(0,W.jsx)(nM,{})}),(0,W.jsx)(Et,{path:`/profile/plans`,element:(0,W.jsx)(nM,{})}),(0,W.jsx)(Et,{path:`/profile/favorites`,element:(0,W.jsx)(nM,{})})]})})}var iM=rM;(0,y.createRoot)(document.getElementById(`root`)).render((0,W.jsx)(b.StrictMode,{children:(0,W.jsx)(iM,{})}));