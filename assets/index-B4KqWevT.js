var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var f=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function ee(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function E(e,t){return ee(e.type,t,e.props)}function D(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function te(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var O=/\/+/g;function ne(e,t){return typeof e==`object`&&e&&e.key!=null?te(``+e.key):t.toString(36)}function k(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function re(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,re(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+ne(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(O,`$&/`)+`/`),re(o,r,i,``,function(e){return e})):o!=null&&(D(o)&&(o=E(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(O,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+ne(a,u),c+=re(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+ne(a,u++),c+=re(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return re(k(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function A(e,t,n){if(e==null)return e;var r=[],i=0;return re(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function j(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var M=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},N={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!D(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=N,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return ee(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return ee(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=D,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,M)}catch(e){M(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.4`})),p=s(((e,t)=>{t.exports=f()})),m=s((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,D());else{var t=n(l);t!==null&&ne(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function ee(){return g?!0:!(e.unstable_now()-T<w)}function E(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&ee());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&ne(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?D():S=!1}}}var D;if(typeof y==`function`)D=function(){y(E)};else if(typeof MessageChannel<`u`){var te=new MessageChannel,O=te.port2;te.port1.onmessage=E,D=function(){O.postMessage(null)}}else D=function(){_(E,0)};function ne(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,ne(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,D()))),r},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),h=s(((e,t)=>{t.exports=m()})),g=s((e=>{var t=p();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.4`})),_=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=s((e=>{var t=h(),n=p(),r=_();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for(`react.element`),g=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),ee=Symbol.for(`react.suspense_list`),E=Symbol.for(`react.memo`),D=Symbol.for(`react.lazy`),te=Symbol.for(`react.activity`),O=Symbol.for(`react.memo_cache_sentinel`),ne=Symbol.iterator;function k(e){return typeof e!=`object`||!e?null:(e=ne&&e[ne]||e[`@@iterator`],typeof e==`function`?e:null)}var re=Symbol.for(`react.client.reference`);function A(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case ee:return`SuspenseList`;case te:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case E:return t=e.displayName||null,t===null?A(e.type)||`Memo`:t;case D:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}var j=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},P=[],F=-1;function ae(e){return{current:e}}function oe(e){0>F||(e.current=P[F],P[F]=null,F--)}function I(e,t){F++,P[F]=e.current,e.current=t}var se=ae(null),ce=ae(null),le=ae(null),ue=ae(null);function de(e,t){switch(I(le,t),I(ce,e),I(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wd(t),e=Gd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}oe(se),I(se,e)}function fe(){oe(se),oe(ce),oe(le)}function pe(e){e.memoizedState!==null&&I(ue,e);var t=se.current,n=Gd(t,e.type);t!==n&&(I(ce,e),I(se,n))}function me(e){ce.current===e&&(oe(se),oe(ce)),ue.current===e&&(oe(ue),tp._currentValue=ie)}var he,ge;function _e(e){if(he===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);he=t&&t[1]||``,ge=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+he+e+ge}var ve=!1;function ye(e,t){if(!e||ve)return``;ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{ve=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?_e(n):``}function be(e,t){switch(e.tag){case 26:case 27:case 5:return _e(e.type);case 16:return _e(`Lazy`);case 13:return e.child!==t&&t!==null?_e(`Suspense Fallback`):_e(`Suspense`);case 19:return _e(`SuspenseList`);case 0:case 15:return ye(e.type,!1);case 11:return ye(e.type.render,!1);case 1:return ye(e.type,!0);case 31:return _e(`Activity`);default:return``}}function xe(e){try{var t=``,n=null;do t+=be(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Se=Object.prototype.hasOwnProperty,Ce=t.unstable_scheduleCallback,we=t.unstable_cancelCallback,Te=t.unstable_shouldYield,Ee=t.unstable_requestPaint,De=t.unstable_now,Oe=t.unstable_getCurrentPriorityLevel,ke=t.unstable_ImmediatePriority,Ae=t.unstable_UserBlockingPriority,je=t.unstable_NormalPriority,Me=t.unstable_LowPriority,Ne=t.unstable_IdlePriority,Pe=t.log,Fe=t.unstable_setDisableYieldValue,Ie=null,Le=null;function Re(e){if(typeof Pe==`function`&&Fe(e),Le&&typeof Le.setStrictMode==`function`)try{Le.setStrictMode(Ie,e)}catch{}}var ze=Math.clz32?Math.clz32:He,Be=Math.log,Ve=Math.LN2;function He(e){return e>>>=0,e===0?32:31-(Be(e)/Ve|0)|0}var Ue=256,We=262144,Ge=4194304;function Ke(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qe(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Ke(n))):i=Ke(o):i=Ke(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Ke(n))):i=Ke(o)):i=Ke(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Je(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ye(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var e=Ge;return Ge<<=1,!(Ge&62914560)&&(Ge=4194304),e}function Ze(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function R(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qe(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-ze(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&$e(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function $e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ze(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function et(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ze(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function tt(e,t){var n=t&-t;return n=n&42?1:nt(n),(n&(e.suspendedLanes|t))===0?n:0}function nt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function it(){var e=N.p;return e===0?(e=window.event,e===void 0?32:_p(e.type)):e}function at(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var ot=Math.random().toString(36).slice(2),st=`__reactFiber$`+ot,ct=`__reactProps$`+ot,lt=`__reactContainer$`+ot,ut=`__reactEvents$`+ot,dt=`__reactListeners$`+ot,ft=`__reactHandles$`+ot,pt=`__reactResources$`+ot,mt=`__reactMarker$`+ot;function ht(e){delete e[st],delete e[ct],delete e[ut],delete e[dt],delete e[ft]}function gt(e){var t=e[st];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lt]||n[st]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mf(e);e!==null;){if(n=e[st])return n;e=mf(e)}return t}e=n,n=e.parentNode}return null}function _t(e){if(e=e[st]||e[lt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function vt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function yt(e){var t=e[pt];return t||=e[pt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function bt(e){e[mt]=!0}var xt=new Set,St={};function z(e,t){Ct(e,t),Ct(e+`Capture`,t)}function Ct(e,t){for(St[e]=t,e=0;e<t.length;e++)xt.add(t[e])}var wt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),Tt={},Et={};function Dt(e){return Se.call(Et,e)?!0:Se.call(Tt,e)?!1:wt.test(e)?Et[e]=!0:(Tt[e]=!0,!1)}function B(e,t,n){if(Dt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Ot(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function kt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function At(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function jt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Mt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nt(e){if(!e._valueTracker){var t=jt(e)?`checked`:`value`;e._valueTracker=Mt(e,t,``+e[t])}}function Pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=jt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Ft(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var It=/[\n"\\]/g;function Lt(e){return e.replace(It,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Rt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+At(t)):e.value!==``+At(t)&&(e.value=``+At(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Bt(e,o,At(n)):Bt(e,o,At(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+At(s):e.removeAttribute(`name`)}function zt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Nt(e);return}n=n==null?``:``+At(n),t=t==null?n:``+At(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Nt(e)}function Bt(e,t,n){t===`number`&&Ft(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Vt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+At(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ht(e,t,n){if(t!=null&&(t=``+At(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+At(n)}function Ut(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(j(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=At(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Nt(e)}function Wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Kt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Gt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function qt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Kt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Kt(e,o,t[o])}function Jt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Yt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),V=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xt(e){return V.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function Zt(){}var Qt=null;function $t(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var en=null,tn=null;function nn(e){var t=_t(e);if(t&&(e=t.stateNode)){var n=e[ct]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Rt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Lt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[ct]||null;if(!a)throw Error(i(90));Rt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Pt(r)}break a;case`textarea`:Ht(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Vt(e,!!n.multiple,t,!1)}}}var rn=!1;function an(e,t,n){if(rn)return e(t,n);rn=!0;try{return e(t)}finally{if(rn=!1,(en!==null||tn!==null)&&(xu(),en&&(t=en,e=tn,tn=en=null,nn(t),e)))for(t=0;t<e.length;t++)nn(e[t])}}function on(e,t){var n=e.stateNode;if(n===null)return null;var r=n[ct]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var sn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),cn=!1;if(sn)try{var ln={};Object.defineProperty(ln,`passive`,{get:function(){cn=!0}}),window.addEventListener(`test`,ln,ln),window.removeEventListener(`test`,ln,ln)}catch{cn=!1}var un=null,dn=null,fn=null;function pn(){if(fn)return fn;var e,t=dn,n=t.length,r,i=`value`in un?un.value:un.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return fn=i.slice(e,1<r?1-r:void 0)}function mn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hn(){return!0}function gn(){return!1}function _n(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?hn:gn,this.isPropagationStopped=gn,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yn=_n(vn),bn=f({},vn,{view:0,detail:0}),xn=_n(bn),Sn,Cn,wn,Tn=f({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==wn&&(wn&&e.type===`mousemove`?(Sn=e.screenX-wn.screenX,Cn=e.screenY-wn.screenY):Cn=Sn=0,wn=e),Sn)},movementY:function(e){return`movementY`in e?e.movementY:Cn}}),En=_n(Tn),Dn=_n(f({},Tn,{dataTransfer:0})),On=_n(f({},bn,{relatedTarget:0})),kn=_n(f({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),An=_n(f({},vn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),jn=_n(f({},vn,{data:0})),Mn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Nn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Pn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pn[e])?!!t[e]:!1}function In(){return Fn}var Ln=_n(f({},bn,{key:function(e){if(e.key){var t=Mn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=mn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Nn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return e.type===`keypress`?mn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?mn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Rn=_n(f({},Tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),zn=_n(f({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Bn=_n(f({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=_n(f({},Tn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Hn=_n(f({},vn,{newState:0,oldState:0})),H=[9,13,27,32],Un=sn&&`CompositionEvent`in window,Wn=null;sn&&`documentMode`in document&&(Wn=document.documentMode);var Gn=sn&&`TextEvent`in window&&!Wn,Kn=sn&&(!Un||Wn&&8<Wn&&11>=Wn),qn=` `,Jn=!1;function Yn(e,t){switch(e){case`keyup`:return H.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function Xn(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Zn=!1;function Qn(e,t){switch(e){case`compositionend`:return Xn(t);case`keypress`:return t.which===32?(Jn=!0,qn):null;case`textInput`:return e=t.data,e===qn&&Jn?null:e;default:return null}}function $n(e,t){if(Zn)return e===`compositionend`||!Un&&Yn(e,t)?(e=pn(),fn=dn=un=null,Zn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Kn&&t.locale!==`ko`?null:t.data;default:return null}}var er={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!er[e.type]:t===`textarea`}function nr(e,t,n,r){en?tn?tn.push(r):tn=[r]:en=r,t=Od(t,`onChange`),0<t.length&&(n=new yn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var rr=null,ir=null;function ar(e){xd(e,0)}function or(e){if(Pt(vt(e)))return e}function sr(e,t){if(e===`change`)return t}var cr=!1;if(sn){var lr;if(sn){var ur=`oninput`in document;if(!ur){var dr=document.createElement(`div`);dr.setAttribute(`oninput`,`return;`),ur=typeof dr.oninput==`function`}lr=ur}else lr=!1;cr=lr&&(!document.documentMode||9<document.documentMode)}function fr(){rr&&(rr.detachEvent(`onpropertychange`,pr),ir=rr=null)}function pr(e){if(e.propertyName===`value`&&or(ir)){var t=[];nr(t,ir,e,$t(e)),an(ar,t)}}function mr(e,t,n){e===`focusin`?(fr(),rr=t,ir=n,rr.attachEvent(`onpropertychange`,pr)):e===`focusout`&&fr()}function hr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return or(ir)}function gr(e,t){if(e===`click`)return or(t)}function _r(e,t){if(e===`input`||e===`change`)return or(t)}function vr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var yr=typeof Object.is==`function`?Object.is:vr;function br(e,t){if(yr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Se.call(t,i)||!yr(e[i],t[i]))return!1}return!0}function xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sr(e,t){var n=xr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=xr(n)}}function Cr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ft(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ft(e.document)}return t}function Tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Er=sn&&`documentMode`in document&&11>=document.documentMode,Dr=null,Or=null,kr=null,Ar=!1;function jr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ar||Dr==null||Dr!==Ft(r)||(r=Dr,`selectionStart`in r&&Tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kr&&br(kr,r)||(kr=r,r=Od(Or,`onSelect`),0<r.length&&(t=new yn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Dr)))}function Mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Nr={animationend:Mr(`Animation`,`AnimationEnd`),animationiteration:Mr(`Animation`,`AnimationIteration`),animationstart:Mr(`Animation`,`AnimationStart`),transitionrun:Mr(`Transition`,`TransitionRun`),transitionstart:Mr(`Transition`,`TransitionStart`),transitioncancel:Mr(`Transition`,`TransitionCancel`),transitionend:Mr(`Transition`,`TransitionEnd`)},Pr={},Fr={};sn&&(Fr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),`TransitionEvent`in window||delete Nr.transitionend.transition);function U(e){if(Pr[e])return Pr[e];if(!Nr[e])return e;var t=Nr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fr)return Pr[e]=t[n];return e}var Ir=U(`animationend`),Lr=U(`animationiteration`),Rr=U(`animationstart`),zr=U(`transitionrun`),Br=U(`transitionstart`),Vr=U(`transitioncancel`),Hr=U(`transitionend`),Ur=new Map,Wr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Wr.push(`scrollEnd`);function Gr(e,t){Ur.set(e,t),z(t,[e])}var Kr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},qr=[],Jr=0,Yr=0;function Xr(){for(var e=Jr,t=Yr=Jr=0;t<e;){var n=qr[t];qr[t++]=null;var r=qr[t];qr[t++]=null;var i=qr[t];qr[t++]=null;var a=qr[t];if(qr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ei(n,i,a)}}function Zr(e,t,n,r){qr[Jr++]=e,qr[Jr++]=t,qr[Jr++]=n,qr[Jr++]=r,Yr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Qr(e,t,n,r){return Zr(e,t,n,r),ti(e)}function $r(e,t){return Zr(e,null,null,t),ti(e)}function ei(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-ze(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ti(e){if(50<fu)throw fu=0,pu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ni={};function ri(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,t,n,r){return new ri(e,t,n,r)}function ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,t){var n=e.alternate;return n===null?(n=ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function si(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ci(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ai(e)&&(s=1);else if(typeof e==`string`)s=Kf(e,n,se.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case te:return e=ii(31,n,t,a),e.elementType=te,e.lanes=o,e;case y:return li(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=ii(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=ii(13,n,t,a),e.elementType=T,e.lanes=o,e;case ee:return e=ii(19,n,t,a),e.elementType=ee,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case E:s=14;break a;case D:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=ii(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function li(e,t,n,r){return e=ii(7,e,r,t),e.lanes=n,e}function ui(e,t,n){return e=ii(6,e,null,t),e.lanes=n,e}function di(e){var t=ii(18,null,null,0);return t.stateNode=e,t}function fi(e,t,n){return t=ii(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pi=new WeakMap;function mi(e,t){if(typeof e==`object`&&e){var n=pi.get(e);return n===void 0?(t={value:e,source:t,stack:xe(t)},pi.set(e,t),t):n}return{value:e,source:t,stack:xe(t)}}var hi=[],gi=0,_i=null,vi=0,yi=[],bi=0,xi=null,Si=1,Ci=``;function wi(e,t){hi[gi++]=vi,hi[gi++]=_i,_i=e,vi=t}function Ti(e,t,n){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,xi=e;var r=Si;e=Ci;var i=32-ze(r)-1;r&=~(1<<i),n+=1;var a=32-ze(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Si=1<<32-ze(t)+i|n<<i|r,Ci=a+e}else Si=1<<a|n<<i|r,Ci=e}function Ei(e){e.return!==null&&(wi(e,1),Ti(e,1,0))}function Di(e){for(;e===_i;)_i=hi[--gi],hi[gi]=null,vi=hi[--gi],hi[gi]=null;for(;e===xi;)xi=yi[--bi],yi[bi]=null,Ci=yi[--bi],yi[bi]=null,Si=yi[--bi],yi[bi]=null}function Oi(e,t){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,Si=t.id,Ci=t.overflow,xi=e}var ki=null,Ai=null,ji=!1,Mi=null,Ni=!1,Pi=Error(i(519));function Fi(e){throw Vi(mi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Pi}function Ii(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[st]=e,t[ct]=r,n){case`dialog`:Z(`cancel`,t),Z(`close`,t);break;case`iframe`:case`object`:case`embed`:Z(`load`,t);break;case`video`:case`audio`:for(n=0;n<yd.length;n++)Z(yd[n],t);break;case`source`:Z(`error`,t);break;case`img`:case`image`:case`link`:Z(`error`,t),Z(`load`,t);break;case`details`:Z(`toggle`,t);break;case`input`:Z(`invalid`,t),zt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Z(`invalid`,t);break;case`textarea`:Z(`invalid`,t),Ut(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Pd(t.textContent,n)?(r.popover!=null&&(Z(`beforetoggle`,t),Z(`toggle`,t)),r.onScroll!=null&&Z(`scroll`,t),r.onScrollEnd!=null&&Z(`scrollend`,t),r.onClick!=null&&(t.onclick=Zt),t=!0):t=!1,t||Fi(e,!0)}function Li(e){for(ki=e.return;ki;)switch(ki.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:ki=ki.return}}function Ri(e){if(e!==ki)return!1;if(!ji)return Li(e),ji=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Kd(e.type,e.memoizedProps)),n=!n),n&&Ai&&Fi(e),Li(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=pf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=pf(e)}else t===27?(t=Ai,ef(e.type)?(e=ff,ff=null,Ai=e):Ai=t):Ai=ki?df(e.stateNode.nextSibling):null;return!0}function zi(){Ai=ki=null,ji=!1}function Bi(){var e=Mi;return e!==null&&($l===null?$l=e:$l.push.apply($l,e),Mi=null),e}function Vi(e){Mi===null?Mi=[e]:Mi.push(e)}var Hi=ae(null),Ui=null,Wi=null;function Gi(e,t,n){I(Hi,t._currentValue),t._currentValue=n}function Ki(e){e._currentValue=Hi.current,oe(Hi)}function qi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Ji(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),qi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),qi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Yi(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;yr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ue.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[tp]:e.push(tp))}a=a.return}e!==null&&Ji(t,e,n,r),t.flags|=262144}function Xi(e){for(e=e.firstContext;e!==null;){if(!yr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zi(e){Ui=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qi(e){return ea(Ui,e)}function $i(e,t){return Ui===null&&Zi(e),ea(e,t)}function ea(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Wi===null){if(e===null)throw Error(i(308));Wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wi=Wi.next=t;return n}var ta=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},na=t.unstable_scheduleCallback,ra=t.unstable_NormalPriority,ia={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function aa(){return{controller:new ta,data:new Map,refCount:0}}function oa(e){e.refCount--,e.refCount===0&&na(ra,function(){e.controller.abort()})}var sa=null,ca=0,W=0,la=null;function ua(e,t){if(sa===null){var n=sa=[];ca=0,W=pd(),la={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ca++,t.then(da,da),t}function da(){if(--ca===0&&sa!==null){la!==null&&(la.status=`fulfilled`);var e=sa;sa=null,W=0,la=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var pa=M.S;M.S=function(e,t){nu=De(),typeof t==`object`&&t&&typeof t.then==`function`&&ua(e,t),pa!==null&&pa(e,t)};var ma=ae(null);function ha(){var e=ma.current;return e===null?Ll.pooledCache:e}function ga(e,t){t===null?I(ma,ma.current):I(ma,t.pool)}function _a(){var e=ha();return e===null?null:{parent:ia._currentValue,pool:e}}var va=Error(i(460)),ya=Error(i(474)),ba=Error(i(542)),xa={then:function(){}};function Sa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Ca(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Zt,Zt),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Da(e),e;default:if(typeof t.status==`string`)t.then(Zt,Zt);else{if(e=Ll,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Da(e),e}throw Ta=t,va}}function wa(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Ta=e,va):e}}var Ta=null;function Ea(){if(Ta===null)throw Error(i(459));var e=Ta;return Ta=null,e}function Da(e){if(e===va||e===ba)throw Error(i(483))}var Oa=null,ka=0;function Aa(e){var t=ka;return ka+=1,Oa===null&&(Oa=[]),Ca(Oa,e,t)}function ja(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ma(e,t){throw t.$$typeof===m?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Na(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=oi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=ui(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===D&&wa(i)===t.type)?(t=a(t,n.props),ja(t,n),t.return=e,t):(t=ci(n.type,n.key,n.props,null,e.mode,r),ja(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=fi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=li(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=ui(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case g:return n=ci(t.type,t.key,t.props,null,e.mode,n),ja(n,t),n.return=e,n;case v:return t=fi(t,e.mode,n),t.return=e,t;case D:return t=wa(t),f(e,t,n)}if(j(t)||k(t))return t=li(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Aa(t),n);if(t.$$typeof===C)return f(e,$i(e,t),n);Ma(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case D:return n=wa(n),p(e,t,n,r)}if(j(n)||k(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Aa(n),r);if(n.$$typeof===C)return p(e,t,$i(e,n),r);Ma(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case g:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case D:return r=wa(r),m(e,t,n,r,i)}if(j(r)||k(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Aa(r),i);if(r.$$typeof===C)return m(e,t,n,$i(t,r),i);Ma(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),ji&&wi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return ji&&wi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ji&&wi(i,h),l}function _(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),ji&&wi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return ji&&wi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),ji&&wi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case g:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===D&&wa(l)===r.type){n(e,r.sibling),c=a(r,o.props),ja(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=li(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=ci(o.type,o.key,o.props,null,e.mode,c),ja(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=fi(o,e.mode,c),c.return=e,e=c}return s(e);case D:return o=wa(o),b(e,r,o,c)}if(j(o))return h(e,r,o,c);if(k(o)){if(l=k(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),_(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Aa(o),c);if(o.$$typeof===C)return b(e,r,$i(e,o),c);Ma(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=ui(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{ka=0;var i=b(e,t,n,r);return Oa=null,i}catch(t){if(t===va||t===ba)throw t;var a=ii(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Pa=Na(!0),Fa=Na(!1),Ia=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Il&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ti(e),ei(e,null,n),t}return Zr(e,r,t,n),ti(e)}function Va(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,et(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ua=!1;function Wa(){if(Ua){var e=la;if(e!==null)throw e}}function Ga(e,t,n,r){Ua=!1;var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var p=s.lane&-536870913,m=p!==s.lane;if(m?(zl&p)===p:(r&p)===p){p!==0&&p===W&&(Ua=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;p=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,p);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,p=typeof h==`function`?h.call(_,d,p):h,p==null)break a;d=f({},d,p);break a;case 2:Ia=!0}}p=s.callback,p!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),ql|=o,e.lanes=o,e.memoizedState=d}}function G(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Ka(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)G(n[e],t)}var qa=ae(null),Ja=ae(0);function Ya(e,t){e=Gl,I(Ja,e),I(qa,t),Gl=e|t.baseLanes}function Xa(){I(Ja,Gl),I(qa,qa.current)}function Za(){Gl=Ja.current,oe(qa),oe(Ja)}var Qa=ae(null),$a=null;function eo(e){var t=e.alternate;I(ao,ao.current&1),I(Qa,e),$a===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&($a=e)}function to(e){I(ao,ao.current),I(Qa,e),$a===null&&($a=e)}function no(e){e.tag===22?(I(ao,ao.current),I(Qa,e),$a===null&&($a=e)):ro(e)}function ro(){I(ao,ao.current),I(Qa,Qa.current)}function io(e){oe(Qa),$a===e&&($a=null),oe(ao)}var ao=ae(0);function oo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||lf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=0,K=null,co=null,lo=null,uo=!1,fo=!1,po=!1,mo=0,ho=0,go=null,_o=0;function vo(){throw Error(i(321))}function yo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yr(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,a){return so=a,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Is:Ls,po=!1,a=n(r,i),po=!1,fo&&(a=So(t,n,r,i)),xo(e),a}function xo(e){M.H=Fs;var t=co!==null&&co.next!==null;if(so=0,lo=co=K=null,uo=!1,ho=0,go=null,t)throw Error(i(300));e===null||J||(e=e.dependencies,e!==null&&Xi(e)&&(J=!0))}function So(e,t,n,r){K=e;var a=0;do{if(fo&&(go=null),ho=0,fo=!1,25<=a)throw Error(i(301));if(a+=1,lo=co=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}M.H=Rs,o=t(n,r)}while(fo);return o}function Co(){var e=M.H,t=e.useState()[0];return t=typeof t.then==`function`?Ao(t):t,e=e.useState()[0],(co===null?null:co.memoizedState)!==e&&(K.flags|=1024),t}function wo(){var e=mo!==0;return mo=0,e}function To(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Eo(e){if(uo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}uo=!1}so=0,lo=co=K=null,fo=!1,ho=mo=0,go=null}function Do(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lo===null?K.memoizedState=lo=e:lo=lo.next=e,lo}function Oo(){if(co===null){var e=K.alternate;e=e===null?null:e.memoizedState}else e=co.next;var t=lo===null?K.memoizedState:lo.next;if(t!==null)lo=t,co=e;else{if(e===null)throw K.alternate===null?Error(i(467)):Error(i(310));co=e,e={memoizedState:co.memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},lo===null?K.memoizedState=lo=e:lo=lo.next=e}return lo}function ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(e){var t=ho;return ho+=1,go===null&&(go=[]),e=Ca(go,e,t),t=K,(lo===null?t.memoizedState:lo.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Is:Ls),e}function jo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Ao(e);if(e.$$typeof===C)return Qi(e)}throw Error(i(438,String(e)))}function Mo(e){var t=null,n=K.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=K.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=ko(),K.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=O;return t.index++,n}function No(e,t){return typeof t==`function`?t(e):t}function Po(e){return Fo(Oo(),co,e)}function Fo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(so&f)===f:(zl&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===W&&(d=!0);else if((so&p)===p){u=u.next,p===W&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,K.lanes|=p,ql|=p;f=u.action,po&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,K.lanes|=f,ql|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!yr(o,e.memoizedState)&&(J=!0,d&&(n=la,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Io(e){var t=Oo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);yr(o,t.memoizedState)||(J=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Lo(e,t,n){var r=K,a=Oo(),o=ji;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!yr((co||a).memoizedState,n);if(s&&(a.memoizedState=n,J=!0),a=a.queue,ss(Bo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||lo!==null&&lo.memoizedState.tag&1){if(r.flags|=2048,ns(9,{destroy:void 0},zo.bind(null,r,a,n,t),null),Ll===null)throw Error(i(349));o||so&127||Ro(r,t,n)}return n}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=K.updateQueue,t===null?(t=ko(),K.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zo(e,t,n,r){t.value=n,t.getSnapshot=r,Vo(t)&&Ho(e)}function Bo(e,t,n){return n(function(){Vo(t)&&Ho(e)})}function Vo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yr(e,n)}catch{return!0}}function Ho(e){var t=$r(e,2);t!==null&&gu(t,e,2)}function Uo(e){var t=Do();if(typeof e==`function`){var n=e;if(e=n(),po){Re(!0);try{n()}finally{Re(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t}function Wo(e,t,n,r){return e.baseState=n,Fo(e,co,typeof r==`function`?r:No)}function Go(e,t,n,r,a){if(Ms(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};M.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Ko(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ko(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=M.T,o={};M.T=o;try{var s=n(i,r),c=M.S;c!==null&&c(o,s),qo(e,t,s)}catch(n){Yo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),M.T=a}}else try{a=n(i,r),qo(e,t,a)}catch(n){Yo(e,t,n)}}function qo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Jo(e,t,n)},function(n){return Yo(e,t,n)}):Jo(e,t,n)}function Jo(e,t,n){t.status=`fulfilled`,t.value=n,Xo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ko(e,n)))}function Yo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Xo(t),t=t.next;while(t!==r)}e.action=null}function Xo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zo(e,t){return t}function Qo(e,t){if(ji){var n=Ll.formState;if(n!==null){a:{var r=K;if(ji){if(Ai){b:{for(var i=Ai,a=Ni;i.nodeType!==8;){if(!a){i=null;break b}if(i=df(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ai=df(i.nextSibling),r=i.data===`F!`;break a}}Fi(r)}r=!1}r&&(t=n[0])}}return n=Do(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},n.queue=r,n=ks.bind(null,K,r),r.dispatch=n,r=Uo(!1),a=js.bind(null,K,!1,r.queue),r=Do(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Go.bind(null,K,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function q(e){return $o(Oo(),co,e)}function $o(e,t,n){if(t=Fo(e,t,Zo)[0],e=Po(No)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Ao(t)}catch(e){throw e===va?ba:e}else r=t;t=Oo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(K.flags|=2048,ns(9,{destroy:void 0},es.bind(null,i,n),null)),[r,a,e]}function es(e,t){e.action=t}function ts(e){var t=Oo(),n=co;if(n!==null)return $o(t,n,e);Oo(),t=t.memoizedState,n=Oo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ns(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=K.updateQueue,t===null&&(t=ko(),K.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function rs(){return Oo().memoizedState}function is(e,t,n,r){var i=Do();K.flags|=e,i.memoizedState=ns(1|t,{destroy:void 0},n,r===void 0?null:r)}function as(e,t,n,r){var i=Oo();r=r===void 0?null:r;var a=i.memoizedState.inst;co!==null&&r!==null&&yo(r,co.memoizedState.deps)?i.memoizedState=ns(t,a,n,r):(K.flags|=e,i.memoizedState=ns(1|t,a,n,r))}function os(e,t){is(8390656,8,e,t)}function ss(e,t){as(2048,8,e,t)}function cs(e){K.flags|=4;var t=K.updateQueue;if(t===null)t=ko(),K.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ls(e){var t=Oo().memoizedState;return cs({ref:t,nextImpl:e}),function(){if(Il&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function us(e,t){return as(4,2,e,t)}function ds(e,t){return as(4,4,e,t)}function fs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ps(e,t,n){n=n==null?null:n.concat([e]),as(4,4,fs.bind(null,t,e),n)}function ms(){}function hs(e,t){var n=Oo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gs(e,t){var n=Oo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&yo(t,r[1]))return r[0];if(r=e(),po){Re(!0);try{e()}finally{Re(!1)}}return n.memoizedState=[r,t],r}function _s(e,t,n){return n===void 0||so&1073741824&&!(zl&261930)?e.memoizedState=t:(e.memoizedState=n,e=hu(),K.lanes|=e,ql|=e,n)}function vs(e,t,n,r){return yr(n,t)?n:qa.current===null?!(so&42)||so&1073741824&&!(zl&261930)?(J=!0,e.memoizedState=n):(e=hu(),K.lanes|=e,ql|=e,t):(e=_s(e,n,r),yr(e,t)||(J=!0),e)}function ys(e,t,n,r,i){var a=N.p;N.p=a!==0&&8>a?a:8;var o=M.T,s={};M.T=s,js(e,!1,t,n);try{var c=i(),l=M.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?As(e,t,fa(c,r),mu(e)):As(e,t,r,mu(e))}catch(n){As(e,t,{then:function(){},status:`rejected`,reason:n},mu())}finally{N.p=a,o!==null&&s.types!==null&&(o.types=s.types),M.T=o}}function bs(){}function xs(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ss(e).queue;ys(e,a,t,ie,n===null?bs:function(){return Cs(e),n(r)})}function Ss(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:ie},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cs(e){var t=Ss(e);t.next===null&&(t=e.alternate.memoizedState),As(e,t.next.queue,{},mu())}function ws(){return Qi(tp)}function Ts(){return Oo().memoizedState}function Es(){return Oo().memoizedState}function Ds(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mu();e=za(n);var r=Ba(t,e,n);r!==null&&(gu(r,t,n),Va(r,t,n)),t={cache:aa()},e.payload=t;return}t=t.return}}function Os(e,t,n){var r=mu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ms(e)?Ns(t,n):(n=Qr(e,t,n,r),n!==null&&(gu(n,e,r),Ps(n,t,r)))}function ks(e,t,n){As(e,t,n,mu())}function As(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ms(e))Ns(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,yr(s,o))return Zr(e,t,i,0),Ll===null&&Xr(),!1}catch{}if(n=Qr(e,t,i,r),n!==null)return gu(n,e,r),Ps(n,t,r),!0}return!1}function js(e,t,n,r){if(r={lane:2,revertLane:pd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ms(e)){if(t)throw Error(i(479))}else t=Qr(e,n,r,2),t!==null&&gu(t,e,2)}function Ms(e){var t=e.alternate;return e===K||t!==null&&t===K}function Ns(e,t){fo=uo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ps(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,et(e,n)}}var Fs={readContext:Qi,use:jo,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useLayoutEffect:vo,useInsertionEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useSyncExternalStore:vo,useId:vo,useHostTransitionStatus:vo,useFormState:vo,useActionState:vo,useOptimistic:vo,useMemoCache:vo,useCacheRefresh:vo};Fs.useEffectEvent=vo;var Is={readContext:Qi,use:jo,useCallback:function(e,t){return Do().memoizedState=[e,t===void 0?null:t],e},useContext:Qi,useEffect:os,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),is(4194308,4,fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return is(4194308,4,e,t)},useInsertionEffect:function(e,t){is(4,2,e,t)},useMemo:function(e,t){var n=Do();t=t===void 0?null:t;var r=e();if(po){Re(!0);try{e()}finally{Re(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Do();if(n!==void 0){var i=n(t);if(po){Re(!0);try{n(t)}finally{Re(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Os.bind(null,K,e),[r.memoizedState,e]},useRef:function(e){var t=Do();return e={current:e},t.memoizedState=e},useState:function(e){e=Uo(e);var t=e.queue,n=ks.bind(null,K,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ms,useDeferredValue:function(e,t){return _s(Do(),e,t)},useTransition:function(){var e=Uo(!1);return e=ys.bind(null,K,e.queue,!0,!1),Do().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=K,a=Do();if(ji){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Ll===null)throw Error(i(349));zl&127||Ro(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,os(Bo.bind(null,r,o,e),[e]),r.flags|=2048,ns(9,{destroy:void 0},zo.bind(null,r,o,n,t),null),n},useId:function(){var e=Do(),t=Ll.identifierPrefix;if(ji){var n=Ci,r=Si;n=(r&~(1<<32-ze(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=mo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=_o++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:ws,useFormState:Qo,useActionState:Qo,useOptimistic:function(e){var t=Do();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=js.bind(null,K,!0,n),n.dispatch=t,[e,t]},useMemoCache:Mo,useCacheRefresh:function(){return Do().memoizedState=Ds.bind(null,K)},useEffectEvent:function(e){var t=Do(),n={impl:e};return t.memoizedState=n,function(){if(Il&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Ls={readContext:Qi,use:jo,useCallback:hs,useContext:Qi,useEffect:ss,useImperativeHandle:ps,useInsertionEffect:us,useLayoutEffect:ds,useMemo:gs,useReducer:Po,useRef:rs,useState:function(){return Po(No)},useDebugValue:ms,useDeferredValue:function(e,t){return vs(Oo(),co.memoizedState,e,t)},useTransition:function(){var e=Po(No)[0],t=Oo().memoizedState;return[typeof e==`boolean`?e:Ao(e),t]},useSyncExternalStore:Lo,useId:Ts,useHostTransitionStatus:ws,useFormState:q,useActionState:q,useOptimistic:function(e,t){return Wo(Oo(),co,e,t)},useMemoCache:Mo,useCacheRefresh:Es};Ls.useEffectEvent=ls;var Rs={readContext:Qi,use:jo,useCallback:hs,useContext:Qi,useEffect:ss,useImperativeHandle:ps,useInsertionEffect:us,useLayoutEffect:ds,useMemo:gs,useReducer:Io,useRef:rs,useState:function(){return Io(No)},useDebugValue:ms,useDeferredValue:function(e,t){var n=Oo();return co===null?_s(n,e,t):vs(n,co.memoizedState,e,t)},useTransition:function(){var e=Io(No)[0],t=Oo().memoizedState;return[typeof e==`boolean`?e:Ao(e),t]},useSyncExternalStore:Lo,useId:Ts,useHostTransitionStatus:ws,useFormState:ts,useActionState:ts,useOptimistic:function(e,t){var n=Oo();return co===null?(n.baseState=e,[e,n.queue.dispatch]):Wo(n,co,e,t)},useMemoCache:Mo,useCacheRefresh:Es};Rs.useEffectEvent=ls;function zs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mu(),i=za(r);i.payload=t,n!=null&&(i.callback=n),t=Ba(e,i,r),t!==null&&(gu(t,e,r),Va(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mu(),i=za(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ba(e,i,r),t!==null&&(gu(t,e,r),Va(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mu(),r=za(n);r.tag=2,t!=null&&(r.callback=t),t=Ba(e,r,n),t!==null&&(gu(t,e,n),Va(t,e,n))}};function Vs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!br(n,r)||!br(i,a):!0}function Hs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Us(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Ws(e){Kr(e)}function Gs(e){console.error(e)}function Ks(e){Kr(e)}function qs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Js(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Ys(e,t,n){return n=za(n),n.tag=3,n.payload={element:null},n.callback=function(){qs(e,t)},n}function Xs(e){return e=za(e),e.tag=3,e}function Zs(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Js(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Js(t,n,r),typeof i!=`function`&&(au===null?au=new Set([this]):au.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function Qs(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Yi(t,n,a,!0),n=Qa.current,n!==null){switch(n.tag){case 31:case 13:return $a===null?Ou():n.alternate===null&&Kl===0&&(Kl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===xa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),qu(e,r,a)),!1;case 22:return n.flags|=65536,r===xa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),qu(e,r,a)),!1}throw Error(i(435,n.tag))}return qu(e,r,a),Ou(),!1}if(ji)return t=Qa.current,t===null?(r!==Pi&&(t=Error(i(423),{cause:r}),Vi(mi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=mi(r,n),a=Ys(e.stateNode,r,a),Ha(e,a),Kl!==4&&(Kl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Pi&&(e=Error(i(422),{cause:r}),Vi(mi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=mi(o,n),Ql===null?Ql=[o]:Ql.push(o),Kl!==4&&(Kl=2),t===null)return!0;r=mi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Ys(n.stateNode,r,e),Ha(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(au===null||!au.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Xs(a),Zs(a,e,n,r),Ha(n,a),!1}n=n.return}while(n!==null);return!1}var $s=Error(i(461)),J=!1;function ec(e,t,n,r){t.child=e===null?Fa(t,null,n,r):Pa(t,e.child,n,r)}function tc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Zi(t),r=bo(e,t,n,o,a,i),s=wo(),e!==null&&!J?(To(e,t,i),Y(e,t,i)):(ji&&s&&Ei(t),t.flags|=1,ec(e,t,r,i),t.child)}function nc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ai(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,rc(e,t,a,r,i)):(e=ci(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Tc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?br:n,n(o,r)&&e.ref===t.ref)return Y(e,t,i)}return t.flags|=1,e=oi(a,r),e.ref=t.ref,e.return=t,t.child=e}function rc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(br(a,r)&&e.ref===t.ref)if(J=!1,t.pendingProps=r=a,Tc(e,i))e.flags&131072&&(J=!0);else return t.lanes=e.lanes,Y(e,t,i)}return dc(e,t,n,r,i)}function ic(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return oc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ga(t,a===null?null:a.cachePool),a===null?Xa():Ya(t,a),no(t);else return r=t.lanes=536870912,oc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&ga(t,null),Xa(),ro(t)):(ga(t,a.cachePool),Ya(t,a),ro(t),t.memoizedState=null);return ec(e,t,i,n),t.child}function ac(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function oc(e,t,n,r,i){var a=ha();return a=a===null?null:{parent:ia._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&ga(t,null),Xa(),no(t),e!==null&&Yi(e,t,r,!0),t.childLanes=i,null}function sc(e,t){return t=bc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function cc(e,t,n){return Pa(t,e.child,null,n),e=sc(t,t.pendingProps),e.flags|=2,io(t),t.memoizedState=null,e}function lc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(ji){if(r.mode===`hidden`)return e=sc(t,r),t.lanes=536870912,ac(null,e);if(to(t),(e=Ai)?(e=sf(e,Ni),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Fi(t);return t.lanes=536870912,null}return sc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(to(t),a)if(t.flags&256)t.flags&=-257,t=cc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(J||Yi(e,t,n,!1),a=(n&e.childLanes)!==0,J||a){if(r=Ll,r!==null&&(s=tt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,$r(e,s),gu(r,e,s),$s;Ou(),t=cc(e,t,n)}else e=o.treeContext,Ai=df(s.nextSibling),ki=t,ji=!0,Mi=null,Ni=!1,e!==null&&Oi(t,e),t=sc(t,r),t.flags|=4096;return t}return e=oi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function uc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function dc(e,t,n,r,i){return Zi(t),n=bo(e,t,n,r,void 0,i),r=wo(),e!==null&&!J?(To(e,t,i),Y(e,t,i)):(ji&&r&&Ei(t),t.flags|=1,ec(e,t,n,i),t.child)}function fc(e,t,n,r,i,a){return Zi(t),t.updateQueue=null,n=So(t,r,n,i),xo(e),r=wo(),e!==null&&!J?(To(e,t,a),Y(e,t,a)):(ji&&r&&Ei(t),t.flags|=1,ec(e,t,n,a),t.child)}function pc(e,t,n,r,i){if(Zi(t),t.stateNode===null){var a=ni,o=n.contextType;typeof o==`object`&&o&&(a=Qi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},La(t),o=n.contextType,a.context=typeof o==`object`&&o?Qi(o):ni,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(zs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Bs.enqueueReplaceState(a,a.state,null),Ga(t,r,a,i),Wa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Us(n,s);a.props=c;var l=a.context,u=n.contextType;o=ni,typeof u==`object`&&u&&(o=Qi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Hs(t,a,r,o),Ia=!1;var f=t.memoizedState;a.state=f,Ga(t,r,a,i),Wa(),l=t.memoizedState,s||f!==l||Ia?(typeof d==`function`&&(zs(t,n,d,r),l=t.memoizedState),(c=Ia||Vs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ra(e,t),o=t.memoizedProps,u=Us(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ni,typeof l==`object`&&l&&(c=Qi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Hs(t,a,r,c),Ia=!1,f=t.memoizedState,a.state=f,Ga(t,r,a,i),Wa();var p=t.memoizedState;o!==d||f!==p||Ia||e!==null&&e.dependencies!==null&&Xi(e.dependencies)?(typeof s==`function`&&(zs(t,n,s,r),p=t.memoizedState),(u=Ia||Vs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Xi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,uc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Pa(t,e.child,null,i),t.child=Pa(t,null,n,i)):ec(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Y(e,t,i),e}function mc(e,t,n,r){return zi(),t.flags|=256,ec(e,t,n,r),t.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(e){return{baseLanes:e,cachePool:_a()}}function _c(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Xl),e}function vc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(ao.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(ji){if(a?eo(t):ro(t),(e=Ai)?(e=sf(e,Ni),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Fi(t);return lf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(ro(t),a=t.mode,c=bc({mode:`hidden`,children:c},a),r=li(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=gc(n),r.childLanes=_c(e,s,n),t.memoizedState=hc,ac(null,r)):(eo(t),yc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(eo(t),t.flags&=-257,t=xc(e,t,n)):t.memoizedState===null?(ro(t),c=r.fallback,a=t.mode,r=bc({mode:`visible`,children:r.children},a),c=li(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Pa(t,e.child,null,n),r=t.child,r.memoizedState=gc(n),r.childLanes=_c(e,s,n),t.memoizedState=hc,t=ac(null,r)):(ro(t),t.child=e.child,t.flags|=128,t=null);else if(eo(t),lf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Vi({value:r,source:null,stack:null}),t=xc(e,t,n)}else if(J||Yi(e,t,n,!1),s=(n&e.childLanes)!==0,J||s){if(s=Ll,s!==null&&(r=tt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,$r(e,r),gu(s,e,r),$s;cf(c)||Ou(),t=xc(e,t,n)}else cf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ai=df(c.nextSibling),ki=t,ji=!0,Mi=null,Ni=!1,e!==null&&Oi(t,e),t=yc(t,r.children),t.flags|=4096);return t}return a?(ro(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=oi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=li(c,a,n,null),c.flags|=2):c=oi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,ac(null,r),r=t.child,c=e.child.memoizedState,c===null?c=gc(n):(a=c.cachePool,a===null?a=_a():(l=ia._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=_c(e,s,n),t.memoizedState=hc,ac(e.child,r)):(eo(t),n=e.child,e=n.sibling,n=oi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function yc(e,t){return t=bc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function bc(e,t){return e=ii(22,e,null,t),e.lanes=0,e}function xc(e,t,n){return Pa(t,e.child,null,n),e=yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qi(e.return,t,n)}function Cc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function wc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=ao.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,I(ao,o),ec(e,t,r,n),r=ji?vi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,n,t);else if(e.tag===19)Sc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&oo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Cc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&oo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Cc(t,!0,n,null,a,r);break;case`together`:Cc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Y(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ql|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Yi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Xi(e))):!0}function Ec(e,t,n){switch(t.tag){case 3:de(t,t.stateNode.containerInfo),Gi(t,ia,e.memoizedState.cache),zi();break;case 27:case 5:pe(t);break;case 4:de(t,t.stateNode.containerInfo);break;case 10:Gi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,to(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(eo(t),e=Y(e,t,n),e===null?null:e.sibling):vc(e,t,n):(eo(t),t.flags|=128,null);eo(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Yi(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return wc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),I(ao,ao.current),r)break;return null;case 22:return t.lanes=0,ic(e,t,n,t.pendingProps);case 24:Gi(t,ia,e.memoizedState.cache)}return Y(e,t,n)}function Dc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)J=!0;else{if(!Tc(e,n)&&!(t.flags&128))return J=!1,Ec(e,t,n);J=!!(e.flags&131072)}else J=!1,ji&&t.flags&1048576&&Ti(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=wa(t.elementType),t.type=e,typeof e==`function`)ai(e)?(r=Us(e,r),t.tag=1,t=pc(null,t,e,r,n)):(t.tag=0,t=dc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=tc(null,t,e,r,n);break a}else if(a===E){t.tag=14,t=nc(null,t,e,r,n);break a}}throw t=A(e)||e,Error(i(306,t,``))}}return t;case 0:return dc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Us(r,t.pendingProps),pc(e,t,r,a,n);case 3:a:{if(de(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ra(e,t),Ga(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Gi(t,ia,r),r!==o.cache&&Ji(t,[ia],n,!0),Wa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=mc(e,t,r,n);break a}else if(r!==a){a=mi(Error(i(424)),t),Vi(a),t=mc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ai=df(e.firstChild),ki=t,ji=!0,Mi=null,Ni=!0,n=Fa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zi(),r===a){t=Y(e,t,n);break a}ec(e,t,r,n)}t=t.child}return t;case 26:return uc(e,t),e===null?(n=Mf(t.type,null,t.pendingProps,null))?t.memoizedState=n:ji||(n=t.type,e=t.pendingProps,r=Ud(le.current).createElement(n),r[st]=t,r[ct]=e,Ld(r,n,e),bt(r),t.stateNode=r):t.memoizedState=Mf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pe(t),e===null&&ji&&(r=t.stateNode=hf(t.type,t.pendingProps,le.current),ki=t,Ni=!0,a=Ai,ef(t.type)?(ff=a,Ai=df(r.firstChild)):Ai=a),ec(e,t,t.pendingProps.children,n),uc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ji&&((a=r=Ai)&&(r=af(r,t.type,t.pendingProps,Ni),r===null?a=!1:(t.stateNode=r,ki=t,Ai=df(r.firstChild),Ni=!1,a=!0)),a||Fi(t)),pe(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Kd(a,o)?r=null:s!==null&&Kd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=bo(e,t,Co,null,null,n),tp._currentValue=a),uc(e,t),ec(e,t,r,n),t.child;case 6:return e===null&&ji&&((e=n=Ai)&&(n=of(n,t.pendingProps,Ni),n===null?e=!1:(t.stateNode=n,ki=t,Ai=null,e=!0)),e||Fi(t)),null;case 13:return vc(e,t,n);case 4:return de(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pa(t,null,r,n):ec(e,t,r,n),t.child;case 11:return tc(e,t,t.type,t.pendingProps,n);case 7:return ec(e,t,t.pendingProps,n),t.child;case 8:return ec(e,t,t.pendingProps.children,n),t.child;case 12:return ec(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Gi(t,t.type,r.value),ec(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Zi(t),a=Qi(a),r=r(a),t.flags|=1,ec(e,t,r,n),t.child;case 14:return nc(e,t,t.type,t.pendingProps,n);case 15:return rc(e,t,t.type,t.pendingProps,n);case 19:return wc(e,t,n);case 31:return lc(e,t,n);case 22:return ic(e,t,n,t.pendingProps);case 24:return Zi(t),r=Qi(ia),e===null?(a=ha(),a===null&&(a=Ll,o=aa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},La(t),Gi(t,ia,a)):((e.lanes&n)!==0&&(Ra(e,t),Ga(t,null,null,n),Wa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Gi(t,ia,r),r!==a.cache&&Ji(t,[ia],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Gi(t,ia,r))),ec(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Oc(e){e.flags|=4}function kc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Tu())e.flags|=8192;else throw Ta=xa,ya}else e.flags&=-16777217}function Ac(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!qf(t))if(Tu())e.flags|=8192;else throw Ta=xa,ya}function jc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Xe(),e.lanes|=t,Zl|=t)}function Mc(e,t){if(!ji)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Pc(e,t,n){var r=t.pendingProps;switch(Di(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nc(t),null;case 1:return Nc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ki(ia),fe(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Ri(t)?Oc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bi())),Nc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Oc(t),o===null?(Nc(t),kc(t,a,null,r,n)):(Nc(t),Ac(t,o))):o?o===e.memoizedState?(Nc(t),t.flags&=-16777217):(Oc(t),Nc(t),Ac(t,o)):(e=e.memoizedProps,e!==r&&Oc(t),Nc(t),kc(t,a,e,r,n)),null;case 27:if(me(t),n=le.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Oc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Nc(t),null}e=se.current,Ri(t)?Ii(t,e):(e=hf(a,r,n),t.stateNode=e,Oc(t))}return Nc(t),null;case 5:if(me(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Oc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Nc(t),null}if(o=se.current,Ri(t))Ii(t,o);else{var s=Ud(le.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[st]=t,o[ct]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Ld(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Oc(t)}}return Nc(t),kc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Oc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=le.current,Ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=ki,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[st]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Pd(e.nodeValue,n)),e||Fi(t,!0)}else e=Ud(e).createTextNode(r),e[st]=t,t.stateNode=e}return Nc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ri(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[st]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nc(t),e=!1}else n=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(io(t),t):(io(t),null);if(t.flags&128)throw Error(i(558))}return Nc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[st]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nc(t),a=!1}else a=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(io(t),t):(io(t),null)}return io(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),jc(t,t.updateQueue),Nc(t),null);case 4:return fe(),e===null&&wd(t.stateNode.containerInfo),Nc(t),null;case 10:return Ki(t.type),Nc(t),null;case 19:if(oe(ao),r=t.memoizedState,r===null)return Nc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Mc(r,!1);else{if(Kl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=oo(e),o!==null){for(t.flags|=128,Mc(r,!1),e=o.updateQueue,t.updateQueue=e,jc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)si(n,e),n=n.sibling;return I(ao,ao.current&1|2),ji&&wi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&De()>ru&&(t.flags|=128,a=!0,Mc(r,!1),t.lanes=4194304)}else{if(!a)if(e=oo(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,jc(t,e),Mc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!ji)return Nc(t),null}else 2*De()-r.renderingStartTime>ru&&n!==536870912&&(t.flags|=128,a=!0,Mc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Nc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=De(),e.sibling=null,n=ao.current,I(ao,a?n&1|2:n&1),ji&&wi(t,r.treeForkCount),e);case 22:case 23:return io(t),Za(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Nc(t),t.subtreeFlags&6&&(t.flags|=8192)):Nc(t),n=t.updateQueue,n!==null&&jc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&oe(ma),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ki(ia),Nc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Fc(e,t){switch(Di(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ki(ia),fe(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(io(t),t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(io(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ao),null;case 4:return fe(),null;case 10:return Ki(t.type),null;case 22:case 23:return io(t),Za(),e!==null&&oe(ma),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ki(ia),null;case 25:return null;default:return null}}function Ic(e,t){switch(Di(t),t.tag){case 3:Ki(ia),fe();break;case 26:case 27:case 5:me(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&io(t);break;case 13:io(t);break;case 19:oe(ao);break;case 10:Ki(t.type);break;case 22:case 23:io(t),Za(),e!==null&&oe(ma);break;case 24:Ki(ia)}}function Lc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Ku(t,t.return,e)}}function Rc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Ku(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Ku(t,t.return,e)}}function zc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ka(t,n)}catch(t){Ku(e,e.return,t)}}}function Bc(e,t,n){n.props=Us(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Ku(e,t,n)}}function Vc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Ku(e,t,n)}}function Hc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Ku(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Ku(e,t,n)}else n.current=null}function Uc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Ku(e,e.return,t)}}function Wc(e,t,n){try{var r=e.stateNode;Rd(r,e.type,n,t),r[ct]=t}catch(t){Ku(e,e.return,t)}}function Gc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ef(e.type)||e.tag===4}function Kc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Gc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ef(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zt));else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(qc(e,t,n),e=e.sibling;e!==null;)qc(e,t,n),e=e.sibling}function Jc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Jc(e,t,n),e=e.sibling;e!==null;)Jc(e,t,n),e=e.sibling}function Yc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ld(t,r,n),t[st]=e,t[ct]=n}catch(t){Ku(e,e.return,t)}}var Xc=!1,Zc=!1,Qc=!1,$c=typeof WeakSet==`function`?WeakSet:Set,el=null;function tl(e,t){if(e=e.containerInfo,Vd=up,e=wr(e),Tr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Hd={focusedElem:e,selectionRange:n},up=!1,el=t;el!==null;)if(t=el,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,el=e;else for(;el!==null;){switch(t=el,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Us(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Ku(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:rf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,el=e;break}el=t.return}}function nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:_l(e,n),r&4&&Lc(5,n);break;case 1:if(_l(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Ku(n,n.return,e)}else{var i=Us(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Ku(n,n.return,e)}}r&64&&zc(n),r&512&&Vc(n,n.return);break;case 3:if(_l(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ka(e,t)}catch(e){Ku(n,n.return,e)}}break;case 27:t===null&&r&4&&Yc(n);case 26:case 5:_l(e,n),t===null&&r&4&&Uc(n),r&512&&Vc(n,n.return);break;case 12:_l(e,n);break;case 31:_l(e,n),r&4&&cl(e,n);break;case 13:_l(e,n),r&4&&ll(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Xu.bind(null,n),uf(e,n))));break;case 22:if(r=n.memoizedState!==null||Xc,!r){t=t!==null&&t.memoizedState!==null||Zc,i=Xc;var a=Zc;Xc=r,(Zc=t)&&!a?yl(e,n,(n.subtreeFlags&8772)!=0):_l(e,n),Xc=i,Zc=a}break;case 30:break;default:_l(e,n)}}function rl(e){var t=e.alternate;t!==null&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ht(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var il=null,al=!1;function ol(e,t,n){for(n=n.child;n!==null;)sl(e,t,n),n=n.sibling}function sl(e,t,n){if(Le&&typeof Le.onCommitFiberUnmount==`function`)try{Le.onCommitFiberUnmount(Ie,n)}catch{}switch(n.tag){case 26:Zc||Hc(n,t),ol(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Zc||Hc(n,t);var r=il,i=al;ef(n.type)&&(il=n.stateNode,al=!1),ol(e,t,n),gf(n.stateNode),il=r,al=i;break;case 5:Zc||Hc(n,t);case 6:if(r=il,i=al,il=null,ol(e,t,n),il=r,al=i,il!==null)if(al)try{(il.nodeType===9?il.body:il.nodeName===`HTML`?il.ownerDocument.body:il).removeChild(n.stateNode)}catch(e){Ku(n,t,e)}else try{il.removeChild(n.stateNode)}catch(e){Ku(n,t,e)}break;case 18:il!==null&&(al?(e=il,tf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Ip(e)):tf(il,n.stateNode));break;case 4:r=il,i=al,il=n.stateNode.containerInfo,al=!0,ol(e,t,n),il=r,al=i;break;case 0:case 11:case 14:case 15:Rc(2,n,t),Zc||Rc(4,n,t),ol(e,t,n);break;case 1:Zc||(Hc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Bc(n,t,r)),ol(e,t,n);break;case 21:ol(e,t,n);break;case 22:Zc=(r=Zc)||n.memoizedState!==null,ol(e,t,n),Zc=r;break;default:ol(e,t,n)}}function cl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ip(e)}catch(e){Ku(t,t.return,e)}}}function ll(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ip(e)}catch(e){Ku(t,t.return,e)}}function ul(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new $c),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new $c),t;default:throw Error(i(435,e.tag))}}function dl(e,t){var n=ul(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Zu.bind(null,e,t);t.then(r,r)}})}function fl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(ef(c.type)){il=c.stateNode,al=!1;break a}break;case 5:il=c.stateNode,al=!1;break a;case 3:case 4:il=c.stateNode.containerInfo,al=!0;break a}c=c.return}if(il===null)throw Error(i(160));sl(o,s,a),il=null,al=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ml(t,e),t=t.sibling}var pl=null;function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fl(t,e),hl(e),r&4&&(Rc(3,e,e.return),Lc(3,e),Rc(5,e,e.return));break;case 1:fl(t,e),hl(e),r&512&&(Zc||n===null||Hc(n,n.return)),r&64&&Xc&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=pl;if(fl(t,e),hl(e),r&512&&(Zc||n===null||Hc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[mt]||o[st]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Ld(o,r,n),o[st]=e,bt(o),r=o;break a;case`link`:var s=Wf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Wf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[st]=e,bt(o),r=o}e.stateNode=r}else Gf(a,e.type,e.stateNode);else e.stateNode=zf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Gf(a,e.type,e.stateNode):zf(a,r,e.memoizedProps))}break;case 27:fl(t,e),hl(e),r&512&&(Zc||n===null||Hc(n,n.return)),n!==null&&r&4&&Wc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(fl(t,e),hl(e),r&512&&(Zc||n===null||Hc(n,n.return)),e.flags&32){a=e.stateNode;try{Wt(a,``)}catch(t){Ku(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Wc(e,a,n===null?a:n.memoizedProps)),r&1024&&(Qc=!0);break;case 6:if(fl(t,e),hl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Ku(e,e.return,t)}}break;case 3:if(Uf=null,a=pl,pl=yf(t.containerInfo),fl(t,e),pl=a,hl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ip(t.containerInfo)}catch(t){Ku(e,e.return,t)}Qc&&(Qc=!1,gl(e));break;case 4:r=pl,pl=yf(e.stateNode.containerInfo),fl(t,e),hl(e),pl=r;break;case 12:fl(t,e),hl(e);break;case 31:fl(t,e),hl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dl(e,r)));break;case 13:fl(t,e),hl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(tu=De()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Xc,d=Zc;if(Xc=u||a,Zc=d||l,fl(t,e),Zc=d,Xc=u,hl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Xc||Zc||vl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Ku(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Ku(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?nf(m,!0):nf(l.stateNode,!1)}catch(e){Ku(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,dl(e,n))));break;case 19:fl(t,e),hl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dl(e,r)));break;case 30:break;case 21:break;default:fl(t,e),hl(e)}}function hl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Gc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Jc(e,Kc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Wt(o,``),n.flags&=-33),Jc(e,Kc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;qc(e,Kc(e),s);break;default:throw Error(i(161))}}catch(t){Ku(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _l(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)nl(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rc(4,t,t.return),vl(t);break;case 1:Hc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Bc(t,t.return,n),vl(t);break;case 27:gf(t.stateNode);case 26:case 5:Hc(t,t.return),vl(t);break;case 22:t.memoizedState===null&&vl(t);break;case 30:vl(t);break;default:vl(t)}e=e.sibling}}function yl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:yl(i,a,n),Lc(4,a);break;case 1:if(yl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Ku(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)G(c[i],s)}catch(e){Ku(r,r.return,e)}}n&&o&64&&zc(a),Vc(a,a.return);break;case 27:Yc(a);case 26:case 5:yl(i,a,n),n&&r===null&&o&4&&Uc(a),Vc(a,a.return);break;case 12:yl(i,a,n);break;case 31:yl(i,a,n),n&&o&4&&cl(i,a);break;case 13:yl(i,a,n),n&&o&4&&ll(i,a);break;case 22:a.memoizedState===null&&yl(i,a,n),Vc(a,a.return);break;case 30:break;default:yl(i,a,n)}t=t.sibling}}function bl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&oa(n))}function xl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e))}function Sl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cl(e,t,n,r),t=t.sibling}function Cl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,n,r),i&2048&&Lc(9,t);break;case 1:Sl(e,t,n,r);break;case 3:Sl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e)));break;case 12:if(i&2048){Sl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Ku(t,t.return,e)}}else Sl(e,t,n,r);break;case 31:Sl(e,t,n,r);break;case 13:Sl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Sl(e,t,n,r):(a._visibility|=2,wl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Sl(e,t,n,r):Tl(e,t),i&2048&&bl(o,t);break;case 24:Sl(e,t,n,r),i&2048&&xl(t.alternate,t);break;default:Sl(e,t,n,r)}}function wl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:wl(a,o,s,c,i),Lc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,wl(a,o,s,c,i)):u._visibility&2?wl(a,o,s,c,i):Tl(a,o),i&&l&2048&&bl(o.alternate,o);break;case 24:wl(a,o,s,c,i),i&&l&2048&&xl(o.alternate,o);break;default:wl(a,o,s,c,i)}t=t.sibling}}function Tl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Tl(n,r),i&2048&&bl(r.alternate,r);break;case 24:Tl(n,r),i&2048&&xl(r.alternate,r);break;default:Tl(n,r)}t=t.sibling}}var El=8192;function Dl(e,t,n){if(e.subtreeFlags&El)for(e=e.child;e!==null;)Ol(e,t,n),e=e.sibling}function Ol(e,t,n){switch(e.tag){case 26:Dl(e,t,n),e.flags&El&&e.memoizedState!==null&&Jf(n,pl,e.memoizedState,e.memoizedProps);break;case 5:Dl(e,t,n);break;case 3:case 4:var r=pl;pl=yf(e.stateNode.containerInfo),Dl(e,t,n),pl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Dl(e,t,n),El=r):Dl(e,t,n));break;default:Dl(e,t,n)}}function kl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Al(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];el=r,Nl(r,e)}kl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jl(e),e=e.sibling}function jl(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&Rc(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ml(e)):Al(e);break;default:Al(e)}}function Ml(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];el=r,Nl(r,e)}kl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rc(8,t,t.return),Ml(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ml(t));break;default:Ml(t)}e=e.sibling}}function Nl(e,t){for(;el!==null;){var n=el;switch(n.tag){case 0:case 11:case 15:Rc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:oa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,el=r;else a:for(n=e;el!==null;){r=el;var i=r.sibling,a=r.return;if(rl(r),r===n){el=null;break a}if(i!==null){i.return=a,el=i;break a}el=a}}}var Pl={getCacheForType:function(e){var t=Qi(ia),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Qi(ia).controller.signal}},Fl=typeof WeakMap==`function`?WeakMap:Map,Il=0,Ll=null,Rl=null,zl=0,Bl=0,Vl=null,Hl=!1,Ul=!1,Wl=!1,Gl=0,Kl=0,ql=0,Jl=0,Yl=0,Xl=0,Zl=0,Ql=null,$l=null,eu=!1,tu=0,nu=0,ru=1/0,iu=null,au=null,X=0,ou=null,su=null,cu=0,lu=0,uu=null,du=null,fu=0,pu=null;function mu(){return Il&2&&zl!==0?zl&-zl:M.T===null?it():pd()}function hu(){if(Xl===0)if(!(zl&536870912)||ji){var e=We;We<<=1,!(We&3932160)&&(We=262144),Xl=e}else Xl=536870912;return e=Qa.current,e!==null&&(e.flags|=32),Xl}function gu(e,t,n){(e===Ll&&(Bl===2||Bl===9)||e.cancelPendingCommit!==null)&&(Cu(e,0),bu(e,zl,Xl,!1)),R(e,n),(!(Il&2)||e!==Ll)&&(e===Ll&&(!(Il&2)&&(Jl|=n),Kl===4&&bu(e,zl,Xl,!1)),ad(e))}function _u(e,t,n){if(Il&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Je(e,t),a=r?ju(e,t):ku(e,t,!0),o=r;do{if(a===0){Ul&&!r&&bu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!yu(n)){a=ku(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Ql;var l=c.current.memoizedState.isDehydrated;if(l&&(Cu(c,s).flags|=256),s=ku(c,s,!1),s!==2){if(Wl&&!l){c.errorRecoveryDisabledLanes|=o,Jl|=o,a=4;break a}o=$l,$l=a,o!==null&&($l===null?$l=o:$l.push.apply($l,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Cu(e,0),bu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:bu(r,t,Xl,!Hl);break a;case 2:$l=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=tu+300-De(),10<a)){if(bu(r,t,Xl,!Hl),qe(r,0,!0)!==0)break a;cu=t,r.timeoutHandle=Yd(vu.bind(null,r,n,$l,iu,eu,t,Xl,Jl,Zl,Hl,o,`Throttled`,-0,0),a);break a}vu(r,n,$l,iu,eu,t,Xl,Jl,Zl,Hl,o,null,-0,0)}}break}while(1);ad(e)}function vu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},Ol(t,a,d);var m=(a&62914560)===a?tu-De():(a&4194048)===a?nu-De():0;if(m=Xf(d,m),m!==null){cu=a,e.cancelPendingCommit=m(Ru.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),bu(e,a,o,!l);return}}Ru(e,t,a,n,r,i,o,s,c)}function yu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!yr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bu(e,t,n,r){t&=~Yl,t&=~Jl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ze(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&$e(e,n,t)}function xu(){return Il&6?!0:(od(0,!1),!1)}function Su(){if(Rl!==null){if(Bl===0)var e=Rl.return;else e=Rl,Wi=Ui=null,Eo(e),Oa=null,ka=0,e=Rl;for(;e!==null;)Ic(e.alternate,e),e=e.return;Rl=null}}function Cu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cu=0,Su(),Ll=e,Rl=n=oi(e.current,null),zl=t,Bl=0,Vl=null,Hl=!1,Ul=Je(e,t),Wl=!1,Zl=Xl=Yl=Jl=ql=Kl=0,$l=Ql=null,eu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-ze(r),a=1<<i;t|=e[i],r&=~a}return Gl=t,Xr(),n}function wu(e,t){K=null,M.H=Fs,t===va||t===ba?(t=Ea(),Bl=3):t===ya?(t=Ea(),Bl=4):Bl=t===$s?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Vl=t,Rl===null&&(Kl=1,qs(e,mi(t,e.current)))}function Tu(){var e=Qa.current;return e===null?!0:(zl&4194048)===zl?$a===null:(zl&62914560)===zl||zl&536870912?e===$a:!1}function Eu(){var e=M.H;return M.H=Fs,e===null?Fs:e}function Du(){var e=M.A;return M.A=Pl,e}function Ou(){Kl=4,Hl||(zl&4194048)!==zl&&Qa.current!==null||(Ul=!0),!(ql&134217727)&&!(Jl&134217727)||Ll===null||bu(Ll,zl,Xl,!1)}function ku(e,t,n){var r=Il;Il|=2;var i=Eu(),a=Du();(Ll!==e||zl!==t)&&(iu=null,Cu(e,t)),t=!1;var o=Kl;a:do try{if(Bl!==0&&Rl!==null){var s=Rl,c=Vl;switch(Bl){case 8:Su(),o=6;break a;case 3:case 2:case 9:case 6:Qa.current===null&&(t=!0);var l=Bl;if(Bl=0,Vl=null,Fu(e,s,c,l),n&&Ul){o=0;break a}break;default:l=Bl,Bl=0,Vl=null,Fu(e,s,c,l)}}Au(),o=Kl;break}catch(t){wu(e,t)}while(1);return t&&e.shellSuspendCounter++,Wi=Ui=null,Il=r,M.H=i,M.A=a,Rl===null&&(Ll=null,zl=0,Xr()),o}function Au(){for(;Rl!==null;)Nu(Rl)}function ju(e,t){var n=Il;Il|=2;var r=Eu(),a=Du();Ll!==e||zl!==t?(iu=null,ru=De()+500,Cu(e,t)):Ul=Je(e,t);a:do try{if(Bl!==0&&Rl!==null){t=Rl;var o=Vl;b:switch(Bl){case 1:Bl=0,Vl=null,Fu(e,t,o,1);break;case 2:case 9:if(Sa(o)){Bl=0,Vl=null,Pu(t);break}t=function(){Bl!==2&&Bl!==9||Ll!==e||(Bl=7),ad(e)},o.then(t,t);break a;case 3:Bl=7;break a;case 4:Bl=5;break a;case 7:Sa(o)?(Bl=0,Vl=null,Pu(t)):(Bl=0,Vl=null,Fu(e,t,o,7));break;case 5:var s=null;switch(Rl.tag){case 26:s=Rl.memoizedState;case 5:case 27:var c=Rl;if(s?qf(s):c.stateNode.complete){Bl=0,Vl=null;var l=c.sibling;if(l!==null)Rl=l;else{var u=c.return;u===null?Rl=null:(Rl=u,Iu(u))}break b}}Bl=0,Vl=null,Fu(e,t,o,5);break;case 6:Bl=0,Vl=null,Fu(e,t,o,6);break;case 8:Su(),Kl=6;break a;default:throw Error(i(462))}}Mu();break}catch(t){wu(e,t)}while(1);return Wi=Ui=null,M.H=r,M.A=a,Il=n,Rl===null?(Ll=null,zl=0,Xr(),Kl):0}function Mu(){for(;Rl!==null&&!Te();)Nu(Rl)}function Nu(e){var t=Dc(e.alternate,e,Gl);e.memoizedProps=e.pendingProps,t===null?Iu(e):Rl=t}function Pu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=fc(n,t,t.pendingProps,t.type,void 0,zl);break;case 11:t=fc(n,t,t.pendingProps,t.type.render,t.ref,zl);break;case 5:Eo(t);default:Ic(n,t),t=Rl=si(t,Gl),t=Dc(n,t,Gl)}e.memoizedProps=e.pendingProps,t===null?Iu(e):Rl=t}function Fu(e,t,n,r){Wi=Ui=null,Eo(t),Oa=null,ka=0;var i=t.return;try{if(Qs(e,i,t,n,zl)){Kl=1,qs(e,mi(n,e.current)),Rl=null;return}}catch(t){if(i!==null)throw Rl=i,t;Kl=1,qs(e,mi(n,e.current)),Rl=null;return}t.flags&32768?(ji||r===1?e=!0:Ul||zl&536870912?e=!1:(Hl=e=!0,(r===2||r===9||r===3||r===6)&&(r=Qa.current,r!==null&&r.tag===13&&(r.flags|=16384))),Lu(t,e)):Iu(t)}function Iu(e){var t=e;do{if(t.flags&32768){Lu(t,Hl);return}e=t.return;var n=Pc(t.alternate,t,Gl);if(n!==null){Rl=n;return}if(t=t.sibling,t!==null){Rl=t;return}Rl=t=e}while(t!==null);Kl===0&&(Kl=5)}function Lu(e,t){do{var n=Fc(e.alternate,e);if(n!==null){n.flags&=32767,Rl=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Rl=e;return}Rl=e=n}while(e!==null);Kl=6,Rl=null}function Ru(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Uu();while(X!==0);if(Il&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=Yr,Qe(e,n,o,s,c,l),e===Ll&&(Rl=Ll=null,zl=0),su=t,ou=e,cu=n,lu=o,uu=a,du=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Qu(je,function(){return Wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=M.T,M.T=null,a=N.p,N.p=2,s=Il,Il|=4;try{tl(e,t,n)}finally{Il=s,N.p=a,M.T=r}}X=1,zu(),Bu(),Vu()}}function zu(){if(X===1){X=0;var e=ou,t=su,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=M.T,M.T=null;var r=N.p;N.p=2;var i=Il;Il|=4;try{ml(t,e);var a=Hd,o=wr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Cr(s.ownerDocument.documentElement,s)){if(c!==null&&Tr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Sr(s,h),v=Sr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}up=!!Vd,Hd=Vd=null}finally{Il=i,N.p=r,M.T=n}}e.current=t,X=2}}function Bu(){if(X===2){X=0;var e=ou,t=su,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=M.T,M.T=null;var r=N.p;N.p=2;var i=Il;Il|=4;try{nl(e,t.alternate,t)}finally{Il=i,N.p=r,M.T=n}}X=3}}function Vu(){if(X===4||X===3){X=0,Ee();var e=ou,t=su,n=cu,r=du;t.subtreeFlags&10256||t.flags&10256?X=5:(X=0,su=ou=null,Hu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(au=null),rt(n),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot==`function`)try{Le.onCommitFiberRoot(Ie,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=M.T,i=N.p,N.p=2,M.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{M.T=t,N.p=i}}cu&3&&Uu(),ad(e),i=e.pendingLanes,n&261930&&i&42?e===pu?fu++:(fu=0,pu=e):fu=0,od(0,!1)}}function Hu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oa(t)))}function Uu(){return zu(),Bu(),Vu(),Wu()}function Wu(){if(X!==5)return!1;var e=ou,t=lu;lu=0;var n=rt(cu),r=M.T,a=N.p;try{N.p=32>n?32:n,M.T=null,n=uu,uu=null;var o=ou,s=cu;if(X=0,su=ou=null,cu=0,Il&6)throw Error(i(331));var c=Il;if(Il|=4,jl(o.current),Cl(o,o.current,s,n),Il=c,od(0,!1),Le&&typeof Le.onPostCommitFiberRoot==`function`)try{Le.onPostCommitFiberRoot(Ie,o)}catch{}return!0}finally{N.p=a,M.T=r,Hu(e,t)}}function Gu(e,t,n){t=mi(n,t),t=Ys(e.stateNode,t,2),e=Ba(e,t,2),e!==null&&(R(e,2),ad(e))}function Ku(e,t,n){if(e.tag===3)Gu(e,e,n);else for(;t!==null;){if(t.tag===3){Gu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(au===null||!au.has(r))){e=mi(n,e),n=Xs(2),r=Ba(t,n,2),r!==null&&(Zs(n,r,t,e),R(r,2),ad(r));break}}t=t.return}}function qu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Wl=!0,i.add(n),e=Ju.bind(null,e,t,n),t.then(e,e))}function Ju(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ll===e&&(zl&n)===n&&(Kl===4||Kl===3&&(zl&62914560)===zl&&300>De()-tu?!(Il&2)&&Cu(e,0):Yl|=n,Zl===zl&&(Zl=0)),ad(e)}function Yu(e,t){t===0&&(t=Xe()),e=$r(e,t),e!==null&&(R(e,t),ad(e))}function Xu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yu(e,n)}function Zu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Yu(e,n)}function Qu(e,t){return Ce(e,t)}var $u=null,ed=null,td=!1,nd=!1,rd=!1,id=0;function ad(e){e!==ed&&e.next===null&&(ed===null?$u=ed=e:ed=ed.next=e),nd=!0,td||(td=!0,fd())}function od(e,t){if(!rd&&nd){rd=!0;do for(var n=!1,r=$u;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-ze(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,dd(r,a))}else a=zl,a=qe(r,r===Ll?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Je(r,a)||(n=!0,dd(r,a));r=r.next}while(n);rd=!1}}function sd(){cd()}function cd(){nd=td=!1;var e=0;id!==0&&Jd()&&(e=id);for(var t=De(),n=null,r=$u;r!==null;){var i=r.next,a=ld(r,t);a===0?(r.next=null,n===null?$u=i:n.next=i,i===null&&(ed=n)):(n=r,(e!==0||a&3)&&(nd=!0)),r=i}X!==0&&X!==5||od(e,!1),id!==0&&(id=0)}function ld(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-ze(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Ye(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Ll,n=zl,n=qe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Bl===2||Bl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&we(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Je(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&we(r),rt(n)){case 2:case 8:n=Ae;break;case 32:n=je;break;case 268435456:n=Ne;break;default:n=je}return r=ud.bind(null,e),n=Ce(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&we(r),e.callbackPriority=2,e.callbackNode=null,2}function ud(e,t){if(X!==0&&X!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Uu()&&e.callbackNode!==n)return null;var r=zl;return r=qe(e,e===Ll?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(_u(e,r,t),ld(e,De()),e.callbackNode!=null&&e.callbackNode===n?ud.bind(null,e):null)}function dd(e,t){if(Uu())return null;_u(e,t,!0)}function fd(){Qd(function(){Il&6?Ce(ke,sd):cd()})}function pd(){if(id===0){var e=W;e===0&&(e=Ue,Ue<<=1,!(Ue&261888)&&(Ue=256)),id=e}return id}function md(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Xt(``+e)}function hd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function gd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=md((i[ct]||null).action),o=r.submitter;o&&(t=(t=o[ct]||null)?md(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new yn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(id!==0){var e=o?hd(i,o):new FormData(i);xs(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?hd(i,o):new FormData(i),xs(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var _d=0;_d<Wr.length;_d++){var vd=Wr[_d];Gr(vd.toLowerCase(),`on`+(vd[0].toUpperCase()+vd.slice(1)))}Gr(Ir,`onAnimationEnd`),Gr(Lr,`onAnimationIteration`),Gr(Rr,`onAnimationStart`),Gr(`dblclick`,`onDoubleClick`),Gr(`focusin`,`onFocus`),Gr(`focusout`,`onBlur`),Gr(zr,`onTransitionRun`),Gr(Br,`onTransitionStart`),Gr(Vr,`onTransitionCancel`),Gr(Hr,`onTransitionEnd`),Ct(`onMouseEnter`,[`mouseout`,`mouseover`]),Ct(`onMouseLeave`,[`mouseout`,`mouseover`]),Ct(`onPointerEnter`,[`pointerout`,`pointerover`]),Ct(`onPointerLeave`,[`pointerout`,`pointerover`]),z(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),z(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),z(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),z(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),z(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),z(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var yd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),bd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(yd));function xd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Kr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Kr(e)}i.currentTarget=null,a=c}}}}function Z(e,t){var n=t[ut];n===void 0&&(n=t[ut]=new Set);var r=e+`__bubble`;n.has(r)||(Td(t,e,2,!1),n.add(r))}function Sd(e,t,n){var r=0;t&&(r|=4),Td(n,e,r,t)}var Cd=`_reactListening`+Math.random().toString(36).slice(2);function wd(e){if(!e[Cd]){e[Cd]=!0,xt.forEach(function(t){t!==`selectionchange`&&(bd.has(t)||Sd(t,!1,e),Sd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cd]||(t[Cd]=!0,Sd(`selectionchange`,!1,t))}}function Td(e,t,n,r){switch(_p(t)){case 2:var i=dp;break;case 8:i=fp;break;default:i=pp}n=i.bind(null,t,n,e),i=void 0,!cn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Ed(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=gt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}an(function(){var r=a,i=$t(n),s=[];a:{var c=Ur.get(e);if(c!==void 0){var l=yn,u=e;switch(e){case`keypress`:if(mn(n)===0)break a;case`keydown`:case`keyup`:l=Ln;break;case`focusin`:u=`focus`,l=On;break;case`focusout`:u=`blur`,l=On;break;case`beforeblur`:case`afterblur`:l=On;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=En;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Dn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=zn;break;case Ir:case Lr:case Rr:l=kn;break;case Hr:l=Bn;break;case`scroll`:case`scrollend`:l=xn;break;case`wheel`:l=Vn;break;case`copy`:case`cut`:case`paste`:l=An;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Rn;break;case`toggle`:case`beforetoggle`:l=Hn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=on(m,p),g!=null&&d.push(Dd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Qt&&(u=n.relatedTarget||n.fromElement)&&(gt(u)||u[lt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?gt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=En,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Rn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:vt(l),h=u==null?c:vt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,gt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=kd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Ad(s,c,l,d,!1),u!==null&&f!==null&&Ad(s,f,u,d,!0)}}a:{if(c=r?vt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=sr;else if(tr(c))if(cr)v=_r;else{v=hr;var y=mr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Jt(r.elementType)&&(v=sr):v=gr;if(v&&=v(e,r)){nr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Bt(c,`number`,c.value)}switch(y=r?vt(r):window,e){case`focusin`:(tr(y)||y.contentEditable===`true`)&&(Dr=y,Or=r,kr=null);break;case`focusout`:kr=Or=Dr=null;break;case`mousedown`:Ar=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Ar=!1,jr(s,n,i);break;case`selectionchange`:if(Er)break;case`keydown`:case`keyup`:jr(s,n,i)}var b;if(Un)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Zn?Yn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Kn&&n.locale!==`ko`&&(Zn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Zn&&(b=pn()):(un=i,dn=`value`in un?un.value:un.textContent,Zn=!0)),y=Od(r,x),0<y.length&&(x=new jn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=Xn(n),b!==null&&(x.data=b)))),(b=Gn?Qn(e,n):$n(e,n))&&(x=Od(r,`onBeforeInput`),0<x.length&&(y=new jn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),gd(s,e,r,n,i)}xd(s,t)})}function Dd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Od(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=on(e,n),i!=null&&r.unshift(Dd(e,i,a)),i=on(e,t),i!=null&&r.push(Dd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function kd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ad(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=on(n,a),l!=null&&o.unshift(Dd(n,l,c))):i||(l=on(n,a),l!=null&&o.push(Dd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jd=/\r\n?/g,Md=/\u0000|\uFFFD/g;function Nd(e){return(typeof e==`string`?e:``+e).replace(jd,`
`).replace(Md,``)}function Pd(e,t){return t=Nd(t),Nd(e)===t}function Fd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Wt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Wt(e,``+r);break;case`className`:Ot(e,`class`,r);break;case`tabIndex`:Ot(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Ot(e,n,r);break;case`style`:qt(e,r,o);break;case`data`:if(t!==`object`){Ot(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Xt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Fd(e,t,`name`,a.name,a,null),Fd(e,t,`formEncType`,a.formEncType,a,null),Fd(e,t,`formMethod`,a.formMethod,a,null),Fd(e,t,`formTarget`,a.formTarget,a,null)):(Fd(e,t,`encType`,a.encType,a,null),Fd(e,t,`method`,a.method,a,null),Fd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Xt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Zt);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Xt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Z(`beforetoggle`,e),Z(`toggle`,e),B(e,`popover`,r);break;case`xlinkActuate`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:kt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:kt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:kt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:B(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Yt.get(n)||n,B(e,n,r))}}function Id(e,t,n,r,a,o){switch(n){case`style`:qt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Wt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Wt(e,``+r);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Zt);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!St.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[ct]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):B(e,n,r)}}}function Ld(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Z(`error`,e),Z(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Fd(e,t,o,s,n,null)}}a&&Fd(e,t,`srcSet`,n.srcSet,n,null),r&&Fd(e,t,`src`,n.src,n,null);return;case`input`:Z(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Fd(e,t,r,d,n,null)}}zt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Z(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Fd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Vt(e,!!r,n,!0):Vt(e,!!r,t,!1);return;case`textarea`:for(s in Z(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Fd(e,t,s,c,n,null)}Ut(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Fd(e,t,l,r,n,null)}return;case`dialog`:Z(`beforetoggle`,e),Z(`toggle`,e),Z(`cancel`,e),Z(`close`,e);break;case`iframe`:case`object`:Z(`load`,e);break;case`video`:case`audio`:for(r=0;r<yd.length;r++)Z(yd[r],e);break;case`image`:Z(`error`,e),Z(`load`,e);break;case`details`:Z(`toggle`,e);break;case`embed`:case`source`:case`link`:Z(`error`,e),Z(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Fd(e,t,u,r,n,null)}return;default:if(Jt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Id(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Fd(e,t,c,r,n,null))}function Rd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Fd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Fd(e,t,p,m,r,f)}}Rt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Fd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Fd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Vt(e,!!n,n?[]:``,!1):Vt(e,!!n,t,!0)):Vt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Fd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Fd(e,t,s,a,r,o)}Ht(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Fd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Fd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Fd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Fd(e,t,u,p,r,m)}return;default:if(Jt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Id(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Id(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Fd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Fd(e,t,f,p,r,m)}function zd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Bd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&zd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&zd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Vd=null,Hd=null;function Ud(e){return e.nodeType===9?e:e.ownerDocument}function Wd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Gd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Kd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qd=null;function Jd(){var e=window.event;return e&&e.type===`popstate`?e===qd?!1:(qd=e,!0):(qd=null,!1)}var Yd=typeof setTimeout==`function`?setTimeout:void 0,Xd=typeof clearTimeout==`function`?clearTimeout:void 0,Zd=typeof Promise==`function`?Promise:void 0,Qd=typeof queueMicrotask==`function`?queueMicrotask:Zd===void 0?Yd:function(e){return Zd.resolve(null).then(e).catch($d)};function $d(e){setTimeout(function(){throw e})}function ef(e){return e===`head`}function tf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Ip(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)gf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,gf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[mt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&gf(e.ownerDocument.body);n=i}while(n);Ip(t)}function nf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function rf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:rf(n),ht(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function af(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[mt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=df(e.nextSibling),e===null)break}return null}function of(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=df(e.nextSibling),e===null))return null;return e}function sf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=df(e.nextSibling),e===null))return null;return e}function cf(e){return e.data===`$?`||e.data===`$~`}function lf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function uf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function df(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var ff=null;function pf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return df(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function hf(e,t,n){switch(t=Ud(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function gf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ht(e)}var _f=new Map,vf=new Set;function yf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bf=N.d;N.d={f:xf,r:Sf,D:Tf,C:Ef,L:Df,m:Of,X:Af,S:kf,M:jf};function xf(){var e=bf.f(),t=xu();return e||t}function Sf(e){var t=_t(e);t!==null&&t.tag===5&&t.type===`form`?Cs(t):bf.r(e)}var Cf=typeof document>`u`?null:document;function wf(e,t,n){var r=Cf;if(r&&typeof t==`string`&&t){var i=Lt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),vf.has(i)||(vf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Ld(t,`link`,e),bt(t),r.head.appendChild(t)))}}function Tf(e){bf.D(e),wf(`dns-prefetch`,e,null)}function Ef(e,t){bf.C(e,t),wf(`preconnect`,e,t)}function Df(e,t,n){bf.L(e,t,n);var r=Cf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Lt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Lt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Lt(n.imageSizes)+`"]`)):i+=`[href="`+Lt(e)+`"]`;var a=i;switch(t){case`style`:a=Nf(e);break;case`script`:a=Lf(e)}_f.has(a)||(e=f({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),_f.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Pf(a))||t===`script`&&r.querySelector(Rf(a))||(t=r.createElement(`link`),Ld(t,`link`,e),bt(t),r.head.appendChild(t)))}}function Of(e,t){bf.m(e,t);var n=Cf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Lt(r)+`"][href="`+Lt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Lf(e)}if(!_f.has(a)&&(e=f({rel:`modulepreload`,href:e},t),_f.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Rf(a)))return}r=n.createElement(`link`),Ld(r,`link`,e),bt(r),n.head.appendChild(r)}}}function kf(e,t,n){bf.S(e,t,n);var r=Cf;if(r&&e){var i=yt(r).hoistableStyles,a=Nf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Pf(a)))s.loading=5;else{e=f({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=_f.get(a))&&Vf(e,n);var c=o=r.createElement(`link`);bt(c),Ld(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Bf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Af(e,t){bf.X(e,t);var n=Cf;if(n&&e){var r=yt(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=f({src:e,async:!0},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),bt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function jf(e,t){bf.M(e,t);var n=Cf;if(n&&e){var r=yt(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=f({src:e,async:!0,type:`module`},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),bt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Mf(e,t,n,r){var a=(a=le.current)?yf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Nf(n.href),n=yt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Nf(n.href);var o=yt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Pf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),_f.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_f.set(e,n),o||If(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Lf(n),n=yt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Nf(e){return`href="`+Lt(e)+`"`}function Pf(e){return`link[rel="stylesheet"][`+e+`]`}function Ff(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function If(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Ld(t,`link`,n),bt(t),e.head.appendChild(t))}function Lf(e){return`[src="`+Lt(e)+`"]`}function Rf(e){return`script[async]`+e}function zf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Lt(n.href)+`"]`);if(r)return t.instance=r,bt(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),bt(r),Ld(r,`style`,a),Bf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Nf(n.href);var o=e.querySelector(Pf(a));if(o)return t.state.loading|=4,t.instance=o,bt(o),o;r=Ff(n),(a=_f.get(a))&&Vf(r,a),o=(e.ownerDocument||e).createElement(`link`),bt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Ld(o,`link`,r),t.state.loading|=4,Bf(o,n.precedence,e),t.instance=o;case`script`:return o=Lf(n.src),(a=e.querySelector(Rf(o)))?(t.instance=a,bt(a),a):(r=n,(a=_f.get(o))&&(r=f({},n),Hf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),bt(a),Ld(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Bf(r,n.precedence,e));return t.instance}function Bf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Vf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Hf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Uf=null;function Wf(e,t,n){if(Uf===null){var r=new Map,i=Uf=new Map;i.set(n,r)}else i=Uf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[mt]||a[st]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Gf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Kf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function qf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Jf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Nf(r.href),a=t.querySelector(Pf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Zf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,bt(a);return}a=t.ownerDocument||t,r=Ff(r),(i=_f.get(i))&&Vf(r,i),a=a.createElement(`link`),bt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Ld(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Zf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Yf=0;function Xf(e,t){return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Yf===0&&(Yf=62500*Bd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Yf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qf=null;function $f(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qf=new Map,t.forEach(ep,e),Qf=null,Zf.call(e))}function ep(e,t){if(!(t.state.loading&4)){var n=Qf.get(e);if(n)var r=n.get(null);else{n=new Map,Qf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Zf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var tp={$$typeof:C,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function np(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ze(0),this.hiddenUpdates=Ze(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function rp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new np(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=ii(3,null,null,t),e.current=a,a.stateNode=e,t=aa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},La(a),e}function ip(e){return e?(e=ni,e):ni}function ap(e,t,n,r,i,a){i=ip(i),r.context===null?r.context=i:r.pendingContext=i,r=za(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ba(e,r,t),n!==null&&(gu(n,e,t),Va(n,e,t))}function op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sp(e,t){op(e,t),(e=e.alternate)&&op(e,t)}function cp(e){if(e.tag===13||e.tag===31){var t=$r(e,67108864);t!==null&&gu(t,e,67108864),sp(e,67108864)}}function lp(e){if(e.tag===13||e.tag===31){var t=mu();t=nt(t);var n=$r(e,t);n!==null&&gu(n,e,t),sp(e,t)}}var up=!0;function dp(e,t,n,r){var i=M.T;M.T=null;var a=N.p;try{N.p=2,pp(e,t,n,r)}finally{N.p=a,M.T=i}}function fp(e,t,n,r){var i=M.T;M.T=null;var a=N.p;try{N.p=8,pp(e,t,n,r)}finally{N.p=a,M.T=i}}function pp(e,t,n,r){if(up){var i=mp(r);if(i===null)Ed(e,t,r,hp,n),Ep(e,r);else if(Op(i,e,t,n,r))r.stopPropagation();else if(Ep(e,r),t&4&&-1<Tp.indexOf(e)){for(;i!==null;){var a=_t(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ke(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-ze(o);s.entanglements[1]|=c,o&=~c}ad(a),!(Il&6)&&(ru=De()+500,od(0,!1))}}break;case 31:case 13:s=$r(a,2),s!==null&&gu(s,a,2),xu(),sp(a,2)}if(a=mp(r),a===null&&Ed(e,t,r,hp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ed(e,t,r,null,n)}}function mp(e){return e=$t(e),gp(e)}var hp=null;function gp(e){if(hp=null,e=gt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hp=e,null}function _p(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Oe()){case ke:return 2;case Ae:return 8;case je:case Me:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var vp=!1,yp=null,bp=null,xp=null,Sp=new Map,Cp=new Map,wp=[],Tp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Ep(e,t){switch(e){case`focusin`:case`focusout`:yp=null;break;case`dragenter`:case`dragleave`:bp=null;break;case`mouseover`:case`mouseout`:xp=null;break;case`pointerover`:case`pointerout`:Sp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Cp.delete(t.pointerId)}}function Dp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=_t(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Op(e,t,n,r,i){switch(t){case`focusin`:return yp=Dp(yp,e,t,n,r,i),!0;case`dragenter`:return bp=Dp(bp,e,t,n,r,i),!0;case`mouseover`:return xp=Dp(xp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Sp.set(a,Dp(Sp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Cp.set(a,Dp(Cp.get(a)||null,e,t,n,r,i)),!0}return!1}function kp(e){var t=gt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,at(e.priority,function(){lp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,at(e.priority,function(){lp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qt=r,n.target.dispatchEvent(r),Qt=null}else return t=_t(n),t!==null&&cp(t),e.blockedOn=n,!1;t.shift()}return!0}function jp(e,t,n){Ap(e)&&n.delete(t)}function Mp(){vp=!1,yp!==null&&Ap(yp)&&(yp=null),bp!==null&&Ap(bp)&&(bp=null),xp!==null&&Ap(xp)&&(xp=null),Sp.forEach(jp),Cp.forEach(jp)}function Np(e,n){e.blockedOn===n&&(e.blockedOn=null,vp||(vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mp)))}var Pp=null;function Fp(e){Pp!==e&&(Pp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pp===e&&(Pp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(gp(r||n)===null)continue;break}var a=_t(n);a!==null&&(e.splice(t,3),t-=3,xs(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ip(e){function t(t){return Np(t,e)}yp!==null&&Np(yp,e),bp!==null&&Np(bp,e),xp!==null&&Np(xp,e),Sp.forEach(t),Cp.forEach(t);for(var n=0;n<wp.length;n++){var r=wp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wp.length&&(n=wp[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&wp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[ct]||null;if(typeof a==`function`)o||Fp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[ct]||null)s=o.formAction;else if(gp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Fp(n)}}}function Lp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Rp(e){this._internalRoot=e}zp.prototype.render=Rp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;ap(n,mu(),e,t,null,null)},zp.prototype.unmount=Rp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),xu(),t[lt]=null}};function zp(e){this._internalRoot=e}zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=it();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wp.length&&t!==0&&t<wp[n].priority;n++);wp.splice(n,0,e),n===0&&kp(e)}};var Bp=n.version;if(Bp!==`19.2.4`)throw Error(i(527,Bp,`19.2.4`));N.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:d(e),e=e===null?null:e.stateNode,e};var Vp={bundleType:0,version:`19.2.4`,rendererPackageName:`react-dom`,currentDispatcherRef:M,reconcilerVersion:`19.2.4`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{Ie=Hp.inject(Vp),Le=Hp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Ws,s=Gs,c=Ks;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=rp(e,1,!1,null,null,n,r,null,o,s,c,Lp),e[lt]=t.current,wd(e),new Rp(t)}})),y=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=v()}))(),b=u(p(),1),x=`modulepreload`,S=function(e,t){return new URL(e,t).href},C={};const w=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=S(t,n),t in C)return;C[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:x,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var T=`popstate`;function ee(e={}){function t(e,t){let{pathname:n=`/`,search:r=``,hash:i=``}=re(e.location.hash.substring(1));return!n.startsWith(`/`)&&!n.startsWith(`.`)&&(n=`/`+n),ne(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){let n=e.document.querySelector(`base`),r=``;if(n&&n.getAttribute(`href`)){let t=e.location.href,n=t.indexOf(`#`);r=n===-1?t:t.slice(0,n)}return r+`#`+(typeof t==`string`?t:k(t))}function r(e,t){D(e.pathname.charAt(0)===`/`,`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}return A(t,n,r,e)}function E(e,t){if(e===!1||e==null)throw Error(t)}function D(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function te(){return Math.random().toString(36).substring(2,10)}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function ne(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?re(t):t,state:n,key:t&&t.key||r||te()}}function k({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function re(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=ne(h.location,e,t);n&&n(r,e),l=u()+1;let d=O(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=ne(h.location,e,t);n&&n(r,e),l=u();let i=O(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return j(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(T,d),c=e,()=>{i.removeEventListener(T,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function j(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),E(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:k(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function M(e,t,n=`/`){return N(e,t,n,!1)}function N(e,t,n,r){let i=ve((typeof t==`string`?re(t):t).pathname||`/`,n);if(i==null)return null;let a=P(e);ae(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=_e(i);o=me(a[e],t,r)}return o}function ie(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function P(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;E(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=Ee([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(E(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),P(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:fe(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of F(e.path))a(e,t,!0,n)}),t}function F(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=F(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function ae(e){e.sort((e,t)=>e.score===t.score?pe(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var oe=/^:[\w-]+$/,I=3,se=2,ce=1,le=10,ue=-2,de=e=>e===`*`;function fe(e,t){let n=e.split(`/`),r=n.length;return n.some(de)&&(r+=ue),t&&(r+=se),n.filter(e=>!de(e)).reduce((e,t)=>e+(oe.test(t)?I:t===``?ce:le),r)}function pe(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function me(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=he({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=he({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Ee([a,u.pathname]),pathnameBase:De(Ee([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Ee([a,u.pathnameBase]))}return o}function he(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ge(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function ge(e,t=!1,n=!0){D(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function _e(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return D(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ve(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function be(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?re(e):e,a;return n?(n=n.replace(/\/\/+/g,`/`),a=n.startsWith(`/`)?xe(n.substring(1),`/`):xe(n,t)):a=t,{pathname:a,search:Oe(r),hash:ke(i)}}function xe(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function Se(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ce(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function we(e){let t=Ce(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Te(e,t,n,r=!1){let i;typeof e==`string`?i=re(e):(i={...e},E(!i.pathname||!i.pathname.includes(`?`),Se(`?`,`pathname`,`search`,i)),E(!i.pathname||!i.pathname.includes(`#`),Se(`#`,`pathname`,`hash`,i)),E(!i.search||!i.search.includes(`#`),Se(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=be(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Ee=e=>e.join(`/`).replace(/\/\/+/g,`/`),De=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),Oe=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,ke=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,Ae=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function je(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function Me(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var Ne=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function Pe(e,t){let n=e;if(typeof n!=`string`||!ye.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Ne)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=ve(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{D(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Fe=b.createContext(null);Fe.displayName=`DataRouter`;var Ie=b.createContext(null);Ie.displayName=`DataRouterState`;var Le=b.createContext(!1),Re=b.createContext({isTransitioning:!1});Re.displayName=`ViewTransition`;var ze=b.createContext(new Map);ze.displayName=`Fetchers`;var Be=b.createContext(null);Be.displayName=`Await`;var Ve=b.createContext(null);Ve.displayName=`Navigation`;var He=b.createContext(null);He.displayName=`Location`;var Ue=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ue.displayName=`Route`;var We=b.createContext(null);We.displayName=`RouteError`;var Ge=`REACT_ROUTER_ERROR`,Ke=`REDIRECT`,qe=`ROUTE_ERROR_RESPONSE`;function Je(e){if(e.startsWith(`${Ge}:${Ke}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function Ye(e){if(e.startsWith(`${Ge}:${qe}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new Ae(t.status,t.statusText,t.data)}catch{}}function Xe(e,{relative:t}={}){E(Ze(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=b.useContext(Ve),{hash:i,pathname:a,search:o}=at(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:Ee([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Ze(){return b.useContext(He)!=null}function R(){return E(Ze(),`useLocation() may be used only in the context of a <Router> component.`),b.useContext(He).location}var Qe=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function $e(e){b.useContext(Ve).static||b.useLayoutEffect(e)}function et(){let{isDataRoute:e}=b.useContext(Ue);return e?Ct():tt()}function tt(){E(Ze(),`useNavigate() may be used only in the context of a <Router> component.`);let e=b.useContext(Fe),{basename:t,navigator:n}=b.useContext(Ve),{matches:r}=b.useContext(Ue),{pathname:i}=R(),a=JSON.stringify(we(r)),o=b.useRef(!1);return $e(()=>{o.current=!0}),b.useCallback((r,s={})=>{if(D(o.current,Qe),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=Te(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Ee([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var nt=b.createContext(null);function rt(e){let t=b.useContext(Ue).outlet;return b.useMemo(()=>t&&b.createElement(nt.Provider,{value:e},t),[t,e])}function it(){let{matches:e}=b.useContext(Ue),t=e[e.length-1];return t?t.params:{}}function at(e,{relative:t}={}){let{matches:n}=b.useContext(Ue),{pathname:r}=R(),i=JSON.stringify(we(n));return b.useMemo(()=>Te(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function ot(e,t){return st(e,t)}function st(e,t,n,r,i){E(Ze(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=b.useContext(Ve),{matches:o}=b.useContext(Ue),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;Tt(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=R(),p;if(t){let e=typeof t==`string`?re(t):t;E(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=M(e,{pathname:h});D(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),D(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=mt(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Ee([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:Ee([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&_?b.createElement(He.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},_):_}function ct(){let e=z(),t=je(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=b.createElement(b.Fragment,null,b.createElement(`p`,null,` Hey developer `),b.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,b.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,b.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),b.createElement(b.Fragment,null,b.createElement(`h2`,null,`Unexpected Application Error!`),b.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?b.createElement(`pre`,{style:i},n):null,o)}var lt=b.createElement(ct,null),ut=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=Ye(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:b.createElement(Ue.Provider,{value:this.props.routeContext},b.createElement(We.Provider,{value:e,children:this.props.component}));return this.context?b.createElement(ft,{error:e},t):t}};ut.contextType=Le;var dt=new WeakMap;function ft({children:e,error:t}){let{basename:n}=b.useContext(Ve);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=Je(t.digest);if(e){let r=dt.get(t);if(r)throw r;let i=Pe(e.location,n);if(Ne&&!dt.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw dt.set(t,n),n}return b.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function pt({routeContext:e,match:t,children:n}){let r=b.useContext(Fe);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ue.Provider,{value:e},n)}function mt(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);E(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Me(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||lt,s&&(c<0&&i===0?(Tt(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?b.createElement(r.route.Component,null):r.route.element?r.route.element:e,b.createElement(pt,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?b.createElement(ut,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function ht(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gt(e){let t=b.useContext(Fe);return E(t,ht(e)),t}function _t(e){let t=b.useContext(Ie);return E(t,ht(e)),t}function vt(e){let t=b.useContext(Ue);return E(t,ht(e)),t}function yt(e){let t=vt(e),n=t.matches[t.matches.length-1];return E(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function bt(){return yt(`useRouteId`)}function xt(){return _t(`useNavigation`).navigation}function St(){let{matches:e,loaderData:t}=_t(`useMatches`);return b.useMemo(()=>e.map(e=>ie(e,t)),[e,t])}function z(){let e=b.useContext(We),t=_t(`useRouteError`),n=yt(`useRouteError`);return e===void 0?t.errors?.[n]:e}function Ct(){let{router:e}=gt(`useNavigate`),t=yt(`useNavigate`),n=b.useRef(!1);return $e(()=>{n.current=!0}),b.useCallback(async(r,i={})=>{D(n.current,Qe),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var wt={};function Tt(e,t,n){!t&&!wt[e]&&(wt[e]=!0,D(!1,n))}b.useOptimistic,b.memo(Et);function Et({routes:e,future:t,state:n,onError:r}){return st(e,void 0,n,r,t)}function Dt(e){return rt(e.context)}function B(e){E(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function Ot({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){E(!Ze(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=b.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=re(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=b.useMemo(()=>{let e=ve(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return D(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(Ve.Provider,{value:c},b.createElement(He.Provider,{children:t,value:m}))}function kt({children:e,location:t}){return ot(At(e),t)}function At(e,t=[]){let n=[];return b.Children.forEach(e,(e,r)=>{if(!b.isValidElement(e))return;let i=[...t,r];if(e.type===b.Fragment){n.push.apply(n,At(e.props.children,i));return}E(e.type===B,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),E(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=At(e.props.children,i)),n.push(a)}),n}var jt=`get`,Mt=`application/x-www-form-urlencoded`;function Nt(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function Pt(e){return Nt(e)&&e.tagName.toLowerCase()===`button`}function Ft(e){return Nt(e)&&e.tagName.toLowerCase()===`form`}function It(e){return Nt(e)&&e.tagName.toLowerCase()===`input`}function Lt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rt(e,t){return e.button===0&&(!t||t===`_self`)&&!Lt(e)}var zt=null;function Bt(){if(zt===null)try{new FormData(document.createElement(`form`),0),zt=!1}catch{zt=!0}return zt}var Vt=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function Ht(e){return e!=null&&!Vt.has(e)?(D(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mt}"`),null):e}function Ut(e,t){let n,r,i,a,o;if(Ft(e)){let o=e.getAttribute(`action`);r=o?ve(o,t):null,n=e.getAttribute(`method`)||jt,i=Ht(e.getAttribute(`enctype`))||Mt,a=new FormData(e)}else if(Pt(e)||It(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?ve(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||jt,i=Ht(e.getAttribute(`formenctype`))||Ht(o.getAttribute(`enctype`))||Mt,a=new FormData(o,e),!Bt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(Nt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=jt,r=null,i=Mt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Wt={"&":`\\u0026`,">":`\\u003e`,"<":`\\u003c`,"\u2028":`\\u2028`,"\u2029":`\\u2029`},Gt=/[&><\u2028\u2029]/g;function Kt(e){return e.replace(Gt,e=>Wt[e])}function qt(e,t){if(e===!1||e==null)throw Error(t)}function Jt(e,t,n,r){let i=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return n?i.pathname.endsWith(`/`)?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname===`/`?i.pathname=`_root.${r}`:t&&ve(i.pathname,t)===`/`?i.pathname=`${t.replace(/\/$/,``)}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,``)}.${r}`,i}async function Yt(e,t){if(e.id in t)return t[e.id];try{let n=await w(()=>import(e.module),[],import.meta.url);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V(e){return e!=null&&typeof e.page==`string`}function Xt(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function Zt(e,t,n){return nn((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Yt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Xt).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function Qt(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function $t(e,t,{includeHydrateFallback:n}={}){return en(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function en(e){return[...new Set(e)]}function tn(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function nn(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!V(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(tn(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function rn(){let e=b.useContext(Fe);return qt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function an(){let e=b.useContext(Ie);return qt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var on=b.createContext(void 0);on.displayName=`FrameworkContext`;function sn(){let e=b.useContext(on);return qt(e,`You must render this element inside a <HydratedRouter> element`),e}function cn(e,t){let n=b.useContext(on),[r,i]=b.useState(!1),[a,o]=b.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=b.useRef(null);b.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),b.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:ln(s,p),onBlur:ln(c,m),onMouseEnter:ln(l,p),onMouseLeave:ln(u,m),onTouchStart:ln(d,p)}]:[a,f,{}]:[!1,f,{}]}function ln(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function un({page:e,...t}){let{router:n}=rn(),r=b.useMemo(()=>M(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(fn,{page:e,matches:r,...t}):null}function dn(e){let{manifest:t,routeModules:n}=sn(),[r,i]=b.useState([]);return b.useEffect(()=>{let r=!1;return Zt(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function fn({page:e,matches:t,...n}){let r=R(),{future:i,manifest:a,routeModules:o}=sn(),{basename:s}=rn(),{loaderData:c,matches:l}=an(),u=b.useMemo(()=>Qt(e,t,l,a,r,`data`),[e,t,l,a,r]),d=b.useMemo(()=>Qt(e,t,l,a,r,`assets`),[e,t,l,a,r]),f=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=a.routes[e.route.id];!t||!t.hasLoader||(!u.some(t=>t.route.id===e.route.id)&&e.route.id in c&&o[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),n.size===0)return[];let d=Jt(e,s,i.unstable_trailingSlashAwareDataRequests,`data`);return l&&n.size>0&&d.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[d.pathname+d.search]},[s,i.unstable_trailingSlashAwareDataRequests,c,r,a,u,t,e,o]),p=b.useMemo(()=>$t(d,a),[d,a]),m=dn(d);return b.createElement(b.Fragment,null,f.map(e=>b.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),p.map(e=>b.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),m.map(({key:e,link:t})=>b.createElement(`link`,{key:e,nonce:n.nonce,...t,crossOrigin:t.crossOrigin??n.crossOrigin})))}function pn(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var mn=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{mn&&(window.__reactRouterVersion=`7.13.0`)}catch{}function hn({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=b.useRef();i.current??=ee({window:r,v5Compat:!0});let a=i.current,[o,s]=b.useState({action:a.action,location:a.location}),c=b.useCallback(e=>{n===!1?s(e):b.startTransition(()=>s(e))},[n]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.createElement(Ot,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function gn({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=b.useState({action:n.action,location:n.location}),o=b.useCallback(e=>{r===!1?a(e):b.startTransition(()=>a(e))},[r]);return b.useLayoutEffect(()=>n.listen(o),[n,o]),b.createElement(Ot,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}gn.displayName=`unstable_HistoryRouter`;var _n=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=b.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=b.useContext(Ve),g=typeof c==`string`&&_n.test(c),_=Pe(c,m);c=_.to;let v=Xe(c,{relative:r}),[y,x,S]=cn(n,f),C=Tn(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function w(t){e&&e(t),t.defaultPrevented||C(t)}let T=b.createElement(`a`,{...f,...S,href:_.absoluteURL||v,onClick:_.isExternal||i?e:w,ref:pn(p,x),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return y&&!g?b.createElement(b.Fragment,null,T,b.createElement(un,{page:v})):T});vn.displayName=`Link`;var yn=b.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=at(a,{relative:c.relative}),d=R(),f=b.useContext(Ie),{navigator:p,basename:m}=b.useContext(Ve),h=f!=null&&Fn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,_=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(_=_.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=ve(v,m)||v);let y=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=_===g||!r&&_.startsWith(g)&&_.charAt(y)===`/`,S=v!=null&&(v===g||!r&&v.startsWith(g)&&v.charAt(g.length)===`/`),C={isActive:x,isPending:S,isTransitioning:h},w=x?e:void 0,T;T=typeof n==`function`?n(C):[n,x?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let ee=typeof i==`function`?i(C):i;return b.createElement(vn,{...c,"aria-current":w,className:T,ref:l,style:ee,to:a,viewTransition:o},typeof s==`function`?s(C):s)});yn.displayName=`NavLink`;var bn=b.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=jt,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=b.useContext(Ve),g=On(),_=kn(s,{relative:l}),v=o.toLowerCase()===`get`?`get`:`post`,y=typeof s==`string`&&_n.test(s);return b.createElement(`form`,{ref:m,method:v,action:_,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?b.startTransition(()=>p()):p()},...p,"data-discover":!y&&e===`render`?`true`:void 0})});bn.displayName=`Form`;function xn({getKey:e,storageKey:t,...n}){let r=b.useContext(on),{basename:i}=b.useContext(Ve),a=R(),o=St();Nn({getKey:e,storageKey:t});let s=b.useMemo(()=>{if(!r||!e)return null;let t=Mn(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return b.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${Kt(JSON.stringify(t||An))}, ${Kt(JSON.stringify(s))})`}})}xn.displayName=`ScrollRestoration`;function Sn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cn(e){let t=b.useContext(Fe);return E(t,Sn(e)),t}function wn(e){let t=b.useContext(Ie);return E(t,Sn(e)),t}function Tn(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=et(),u=R(),d=at(e,{relative:a});return b.useCallback(f=>{if(Rt(f,t)){f.preventDefault();let t=n===void 0?k(u)===k(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?b.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}var En=0,Dn=()=>`__${String(++En)}__`;function On(){let{router:e}=Cn(`useSubmit`),{basename:t}=b.useContext(Ve),n=bt(),r=e.fetch,i=e.navigate;return b.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=Ut(e,t);a.navigate===!1?await r(a.fetcherKey||Dn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function kn(e,{relative:t}={}){let{basename:n}=b.useContext(Ve),r=b.useContext(Ue);E(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...at(e||`.`,{relative:t})},o=R();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:Ee([n,a.pathname])),k(a)}var An=`react-router-scroll-positions`,jn={};function Mn(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:ve(e.pathname,n)||e.pathname},t)),i??=e.key,i}function Nn({getKey:e,storageKey:t}={}){let{router:n}=Cn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=wn(`useScrollRestoration`),{basename:a}=b.useContext(Ve),o=R(),s=St(),c=xt();b.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),Pn(b.useCallback(()=>{if(c.state===`idle`){let t=Mn(o,s,a,e);jn[t]=window.scrollY}try{sessionStorage.setItem(t||An,JSON.stringify(jn))}catch(e){D(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(b.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||An);e&&(jn=JSON.parse(e))}catch{}},[t]),b.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(jn,()=>window.scrollY,e?(t,n)=>Mn(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),b.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{D(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function Pn(e,t){let{capture:n}=t||{};b.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function Fn(e,{relative:t}={}){let n=b.useContext(Re);E(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cn(`useViewTransitionState`),i=at(e,{relative:t});if(!n.isTransitioning)return!1;let a=ve(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ve(n.nextLocation.pathname,r)||n.nextLocation.pathname;return he(i.pathname,o)!=null||he(i.pathname,a)!=null}var In=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),Ln=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),Rn=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),zn=e=>{let t=Rn(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bn={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},Vn=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0;return!1},Hn=(0,b.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,b.createElement)(`svg`,{ref:c,...Bn,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:In(`lucide`,i),...!a&&!Vn(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,b.createElement)(e,t)),...Array.isArray(a)?a:[a]])),H=(e,t)=>{let n=(0,b.forwardRef)(({className:n,...r},i)=>(0,b.createElement)(Hn,{ref:i,iconNode:t,className:In(`lucide-${Ln(zn(e))}`,`lucide-${e}`,n),...r}));return n.displayName=zn(e),n},Un=H(`arrow-left`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]),Wn=H(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),Gn=H(`award`,[[`path`,{d:`m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526`,key:`1yiouv`}],[`circle`,{cx:`12`,cy:`8`,r:`6`,key:`1vp47v`}]]),Kn=H(`book-open`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),qn=H(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),Jn=H(`camera`,[[`path`,{d:`M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z`,key:`18u6gg`}],[`circle`,{cx:`12`,cy:`13`,r:`3`,key:`1vg3eu`}]]),Yn=H(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),Xn=H(`chevron-right`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),Zn=H(`circle-stop`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`rect`,{x:`9`,y:`9`,width:`6`,height:`6`,rx:`1`,key:`1ssd4o`}]]),Qn=H(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),$n=H(`compass`,[[`path`,{d:`m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z`,key:`9ktpf1`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),er=H(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),tr=H(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),nr=H(`feather`,[[`path`,{d:`M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z`,key:`18jl4k`}],[`path`,{d:`M16 8 2 22`,key:`vp34q`}],[`path`,{d:`M17.5 15H9`,key:`1oz8nu`}]]),rr=H(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),ir=H(`grip-vertical`,[[`circle`,{cx:`9`,cy:`12`,r:`1`,key:`1vctgf`}],[`circle`,{cx:`9`,cy:`5`,r:`1`,key:`hp0tcf`}],[`circle`,{cx:`9`,cy:`19`,r:`1`,key:`fkjjf6`}],[`circle`,{cx:`15`,cy:`12`,r:`1`,key:`1tmaij`}],[`circle`,{cx:`15`,cy:`5`,r:`1`,key:`19l28e`}],[`circle`,{cx:`15`,cy:`19`,r:`1`,key:`f4zoj3`}]]),ar=H(`headphones`,[[`path`,{d:`M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3`,key:`1xhozi`}]]),or=H(`heart`,[[`path`,{d:`M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5`,key:`mvr1a0`}]]),sr=H(`history`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M12 7v5l4 2`,key:`1fdv2h`}]]),cr=H(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`r6nss1`}]]),lr=H(`keyboard`,[[`path`,{d:`M10 8h.01`,key:`1r9ogq`}],[`path`,{d:`M12 12h.01`,key:`1mp3jc`}],[`path`,{d:`M14 8h.01`,key:`1primd`}],[`path`,{d:`M16 12h.01`,key:`1l6xoz`}],[`path`,{d:`M18 8h.01`,key:`emo2bl`}],[`path`,{d:`M6 8h.01`,key:`x9i8wu`}],[`path`,{d:`M7 16h10`,key:`wp8him`}],[`path`,{d:`M8 12h.01`,key:`czm47f`}],[`rect`,{width:`20`,height:`16`,x:`2`,y:`4`,rx:`2`,key:`18n3k1`}]]),ur=H(`loader-circle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),dr=H(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),fr=H(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),pr=H(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),mr=H(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),hr=H(`map`,[[`path`,{d:`M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z`,key:`169xi5`}],[`path`,{d:`M15 5.764v15`,key:`1pn4in`}],[`path`,{d:`M9 3.236v15`,key:`1uimfh`}]]),gr=H(`message-circle`,[[`path`,{d:`M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719`,key:`1sd12s`}]]),_r=H(`message-square-plus`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}],[`path`,{d:`M12 8v6`,key:`1ib9pf`}],[`path`,{d:`M9 11h6`,key:`1fldmi`}]]),vr=H(`message-square`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}]]),yr=H(`mic`,[[`path`,{d:`M12 19v3`,key:`npa21l`}],[`path`,{d:`M19 10v2a7 7 0 0 1-14 0v-2`,key:`1vc78b`}],[`rect`,{x:`9`,y:`2`,width:`6`,height:`13`,rx:`3`,key:`s6n7sd`}]]),br=H(`pen`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),xr=H(`play`,[[`path`,{d:`M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z`,key:`10ikf1`}]]),Sr=H(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Cr=H(`quote`,[[`path`,{d:`M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z`,key:`rib7q0`}],[`path`,{d:`M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z`,key:`1ymkrd`}]]),wr=H(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),Tr=H(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),Er=H(`send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),Dr=H(`share-2`,[[`circle`,{cx:`18`,cy:`5`,r:`3`,key:`gq8acd`}],[`circle`,{cx:`6`,cy:`12`,r:`3`,key:`w7nqdw`}],[`circle`,{cx:`18`,cy:`19`,r:`3`,key:`1xt0gg`}],[`line`,{x1:`8.59`,x2:`15.42`,y1:`13.51`,y2:`17.49`,key:`47mynk`}],[`line`,{x1:`15.41`,x2:`8.59`,y1:`6.51`,y2:`10.49`,key:`1n3mei`}]]),Or=H(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),kr=H(`star`,[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]]),Ar=H(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),jr=H(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Mr=H(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Nr=H(`volume-2`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`path`,{d:`M16 9a5 5 0 0 1 0 6`,key:`1q6k2b`}],[`path`,{d:`M19.364 18.364a9 9 0 0 0 0-12.728`,key:`ijwkga`}]]),Pr=H(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),Fr=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),U=s(((e,t)=>{t.exports=Fr()}))(),Ir=()=>{let e=R().pathname===`/guide`;return(0,U.jsxs)(`nav`,{className:`fixed bottom-0 left-0 right-0 max-w-md mx-auto h-16 bg-white border-t border-stone-200 flex justify-around items-center px-2 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-[900] ${e?`hidden`:``}`,children:[[{path:`/`,icon:cr,label:``},{path:`/plan`,icon:hr,label:``},{path:`/guide`,icon:$n,label:``,highlight:!0},{path:`/community`,icon:Mr,label:``},{path:`/profile`,icon:jr,label:``}].filter(e=>!e.highlight).map(e=>(0,U.jsx)(yn,{to:e.path,className:({isActive:e})=>`
            flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors
            ${e?`text-stone-900`:`text-stone-400 hover:text-stone-600`}
          `,children:({isActive:t})=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(e.icon,{size:24,strokeWidth:t?2.5:2}),(0,U.jsx)(`span`,{className:`text-[10px] font-medium`,children:e.label})]})},e.path)),!e&&(0,U.jsx)(`div`,{className:`absolute -top-6 left-1/2 transform -translate-x-1/2`,children:(0,U.jsx)(yn,{to:`/guide`,className:`w-14 h-14 rounded-full bg-stone-900 text-white flex items-center justify-center shadow-lg border-4 border-stone-50 transition-transform active:scale-95`,children:(0,U.jsx)($n,{size:24})})})]})},Lr=()=>(0,U.jsxs)(`div`,{className:`flex flex-col h-screen w-full max-w-md mx-auto bg-stone-50 shadow-2xl overflow-hidden relative`,children:[(0,U.jsx)(`div`,{className:`flex-1 overflow-hidden relative`,children:(0,U.jsx)(Dt,{})}),(0,U.jsx)(Ir,{})]});function Rr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function zr(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}const Br=e=>e?(...t)=>e(...t):(...e)=>fetch(...e);var Vr=class extends Error{constructor(e,t=`FunctionsError`,n){super(e),this.name=t,this.context=n}},Hr=class extends Vr{constructor(e){super(`Failed to send a request to the Edge Function`,`FunctionsFetchError`,e)}},Ur=class extends Vr{constructor(e){super(`Relay Error invoking the Edge Function`,`FunctionsRelayError`,e)}},Wr=class extends Vr{constructor(e){super(`Edge Function returned a non-2xx status code`,`FunctionsHttpError`,e)}},Gr;(function(e){e.Any=`any`,e.ApNortheast1=`ap-northeast-1`,e.ApNortheast2=`ap-northeast-2`,e.ApSouth1=`ap-south-1`,e.ApSoutheast1=`ap-southeast-1`,e.ApSoutheast2=`ap-southeast-2`,e.CaCentral1=`ca-central-1`,e.EuCentral1=`eu-central-1`,e.EuWest1=`eu-west-1`,e.EuWest2=`eu-west-2`,e.EuWest3=`eu-west-3`,e.SaEast1=`sa-east-1`,e.UsEast1=`us-east-1`,e.UsWest1=`us-west-1`,e.UsWest2=`us-west-2`})(Gr||={});var Kr=class{constructor(e,{headers:t={},customFetch:n,region:r=Gr.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=Br(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return zr(this,arguments,void 0,function*(e,t={}){let n,r;try{let{headers:i,method:a,body:o,signal:s,timeout:c}=t,l={},{region:u}=t;u||=this.region;let d=new URL(`${this.url}/${e}`);u&&u!==`any`&&(l[`x-region`]=u,d.searchParams.set(`forceFunctionRegion`,u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,`Content-Type`)||!i)?typeof Blob<`u`&&o instanceof Blob||o instanceof ArrayBuffer?(l[`Content-Type`]=`application/octet-stream`,f=o):typeof o==`string`?(l[`Content-Type`]=`text/plain`,f=o):typeof FormData<`u`&&o instanceof FormData?f=o:(l[`Content-Type`]=`application/json`,f=JSON.stringify(o)):f=o&&typeof o!=`string`&&!(typeof Blob<`u`&&o instanceof Blob)&&!(o instanceof ArrayBuffer)&&!(typeof FormData<`u`&&o instanceof FormData)?JSON.stringify(o):o;let p=s;c&&(r=new AbortController,n=setTimeout(()=>r.abort(),c),s?(p=r.signal,s.addEventListener(`abort`,()=>r.abort())):p=r.signal);let m=yield this.fetch(d.toString(),{method:a||`POST`,headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:p}).catch(e=>{throw new Hr(e)}),h=m.headers.get(`x-relay-error`);if(h&&h===`true`)throw new Ur(m);if(!m.ok)throw new Wr(m);let g=(m.headers.get(`Content-Type`)??`text/plain`).split(`;`)[0].trim(),_;return _=g===`application/json`?yield m.json():g===`application/octet-stream`||g===`application/pdf`?yield m.blob():g===`text/event-stream`?m:g===`multipart/form-data`?yield m.formData():yield m.text(),{data:_,error:null,response:m}}catch(e){return{data:null,error:e,response:e instanceof Wr||e instanceof Ur?e.context:void 0}}finally{n&&clearTimeout(n)}})}},qr=class extends Error{constructor(e){super(e.message),this.name=`PostgrestError`,this.details=e.details,this.hint=e.hint,this.code=e.code}},Jr=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError??!1,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle??!1,this.urlLengthLimit=e.urlLengthLimit??8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||([`GET`,`HEAD`].includes(this.method)?this.headers.set(`Accept-Profile`,this.schema):this.headers.set(`Content-Profile`,this.schema)),this.method!==`GET`&&this.method!==`HEAD`&&this.headers.set(`Content-Type`,`application/json`);let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,i=null,a=e.status,o=e.statusText;if(e.ok){if(n.method!==`HEAD`){let t=await e.text();t===``||(r=n.headers.get(`Accept`)===`text/csv`||n.headers.get(`Accept`)&&n.headers.get(`Accept`)?.includes(`application/vnd.pgrst.plan+text`)?t:JSON.parse(t))}let s=n.headers.get(`Prefer`)?.match(/count=(exact|planned|estimated)/),c=e.headers.get(`content-range`)?.split(`/`);s&&c&&c.length>1&&(i=parseInt(c[1])),n.isMaybeSingle&&n.method===`GET`&&Array.isArray(r)&&(r.length>1?(t={code:`PGRST116`,details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:`JSON object requested, multiple (or no) rows returned`},r=null,i=null,a=406,o=`Not Acceptable`):r=r.length===1?r[0]:null)}else{var s;let i=await e.text();try{t=JSON.parse(i),Array.isArray(t)&&e.status===404&&(r=[],t=null,a=200,o=`OK`)}catch{e.status===404&&i===``?(a=204,o=`No Content`):t={message:i}}if(t&&n.isMaybeSingle&&!(t==null||(s=t.details)==null)&&s.includes(`0 rows`)&&(t=null,a=200,o=`OK`),t&&n.shouldThrowOnError)throw new qr(t)}return{error:t,data:r,count:i,status:a,statusText:o}});return this.shouldThrowOnError||(i=i.catch(e=>{let t=``,n=``,r=``,i=e?.cause;if(i){let n=i?.message??``,r=i?.code??``;t=`${e?.name??`FetchError`}: ${e?.message}`,t+=`\n\nCaused by: ${i?.name??`Error`}: ${n}`,r&&(t+=` (${r})`),i?.stack&&(t+=`\n${i.stack}`)}else t=e?.stack??``;let a=this.url.toString().length;return e?.name===`AbortError`||e?.code===`ABORT_ERR`?(r=``,n=`Request was aborted (timeout or manual cancellation)`,a>this.urlLengthLimit&&(n+=`. Note: Your request URL is ${a} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(i?.name===`HeadersOverflowError`||i?.code===`UND_ERR_HEADERS_OVERFLOW`)&&(r=``,n=`HTTP headers exceeded server limits (typically 16KB)`,a>this.urlLengthLimit&&(n+=`. Your request URL is ${a} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${e?.name??`FetchError`}: ${e?.message}`,details:t,hint:n,code:r},data:null,count:null,status:0,statusText:``}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Yr=class extends Jr{select(e){let t=!1,n=(e??`*`).split(``).map(e=>/\s/.test(e)&&!t?``:(e===`"`&&(t=!t),e)).join(``);return this.url.searchParams.set(`select`,n),this.headers.append(`Prefer`,`return=representation`),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let a=i?`${i}.order`:`order`,o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:``}${e}.${t?`asc`:`desc`}${n===void 0?``:n?`.nullsfirst`:`.nullslast`}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=n===void 0?`limit`:`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=r===void 0?`offset`:`${r}.offset`,a=r===void 0?`limit`:`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this}maybeSingle(){return this.method===`GET`?this.headers.set(`Accept`,`application/json`):this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this.isMaybeSingle=!0,this}csv(){return this.headers.set(`Accept`,`text/csv`),this}geojson(){return this.headers.set(`Accept`,`application/geo+json`),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a=`text`}={}){let o=[e?`analyze`:null,t?`verbose`:null,n?`settings`:null,r?`buffers`:null,i?`wal`:null].filter(Boolean).join(`|`),s=this.headers.get(`Accept`)??`application/json`;return this.headers.set(`Accept`,`application/vnd.pgrst.plan+${a}; for="${s}"; options=${o};`),this}rollback(){return this.headers.append(`Prefer`,`tx=rollback`),this}returns(){return this}maxAffected(e){return this.headers.append(`Prefer`,`handling=strict`),this.headers.append(`Prefer`,`max-affected=${e}`),this}},Xr=RegExp(`[,()]`),Zr=class extends Yr{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(`,`)}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(`,`)}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(`,`)}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(`,`)}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(e=>typeof e==`string`&&Xr.test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(e=>typeof e==`string`&&Xr.test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t==`string`?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(`,`)}}`),this}textSearch(e,t,{config:n,type:r}={}){let i=``;r===`plain`?i=`pl`:r===`phrase`?i=`ph`:r===`websearch`&&(i=`w`);let a=n===void 0?``:`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:`or`;return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Qr=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},i=n?`HEAD`:`GET`,a=!1,o=(e??`*`).split(``).map(e=>/\s/.test(e)&&!a?``:(e===`"`&&(a=!a),e)).join(``),{url:s,headers:c}=this.cloneRequestState();return s.searchParams.set(`select`,o),r&&c.append(`Prefer`,`count=${r}`),new Zr({method:i,url:s,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){let{url:r,headers:i}=this.cloneRequestState();if(t&&i.append(`Prefer`,`count=${t}`),n||i.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);r.searchParams.set(`columns`,e.join(`,`))}}return new Zr({method:`POST`,url:r,headers:i,schema:this.schema,body:e,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){let{url:a,headers:o}=this.cloneRequestState();if(o.append(`Prefer`,`resolution=${n?`ignore`:`merge`}-duplicates`),t!==void 0&&a.searchParams.set(`on_conflict`,t),r&&o.append(`Prefer`,`count=${r}`),i||o.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);a.searchParams.set(`columns`,e.join(`,`))}}return new Zr({method:`POST`,url:a,headers:o,schema:this.schema,body:e,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){let{url:n,headers:r}=this.cloneRequestState();return t&&r.append(`Prefer`,`count=${t}`),new Zr({method:`PATCH`,url:n,headers:r,schema:this.schema,body:e,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){let{url:t,headers:n}=this.cloneRequestState();return e&&n.append(`Prefer`,`count=${e}`),new Zr({method:`DELETE`,url:t,headers:n,schema:this.schema,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}};function $r(e){"@babel/helpers - typeof";return $r=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},$r(e)}function ei(e,t){if($r(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if($r(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function ti(e){var t=ei(e,`string`);return $r(t)==`symbol`?t:t+``}function ni(e,t,n){return(t=ti(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?ri(Object(n),!0).forEach(function(t){ni(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ai=class e{constructor(e,{headers:t={},schema:n,fetch:r,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.urlLengthLimit=a;let o=r??globalThis.fetch;i!==void 0&&i>0?this.fetch=(e,t)=>{let n=new AbortController,r=setTimeout(()=>n.abort(),i),a=t?.signal;if(a){if(a.aborted)return clearTimeout(r),o(e,t);let i=()=>{clearTimeout(r),n.abort()};return a.addEventListener(`abort`,i,{once:!0}),o(e,ii(ii({},t),{},{signal:n.signal})).finally(()=>{clearTimeout(r),a.removeEventListener(`abort`,i)})}return o(e,ii(ii({},t),{},{signal:n.signal})).finally(()=>clearTimeout(r))}:this.fetch=o}from(e){if(!e||typeof e!=`string`||e.trim()===``)throw Error(`Invalid relation name: relation must be a non-empty string.`);return new Qr(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:n=!1,get:r=!1,count:i}={}){let a,o=new URL(`${this.url}/rpc/${e}`),s,c=e=>typeof e==`object`&&!!e&&(!Array.isArray(e)||e.some(c)),l=n&&Object.values(t).some(c);l?(a=`POST`,s=t):n||r?(a=n?`HEAD`:`GET`,Object.entries(t).filter(([e,t])=>t!==void 0).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(`,`)}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(a=`POST`,s=t);let u=new Headers(this.headers);return l?u.set(`Prefer`,i?`count=${i},return=minimal`:`return=minimal`):i&&u.set(`Prefer`,`count=${i}`),new Zr({method:a,url:o,headers:u,schema:this.schemaName,body:s,fetch:this.fetch??fetch,urlLengthLimit:this.urlLengthLimit})}},oi=class{constructor(){}static detectEnvironment(){if(typeof WebSocket<`u`)return{type:`native`,constructor:WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocket!==void 0)return{type:`native`,constructor:globalThis.WebSocket};if(typeof global<`u`&&global.WebSocket!==void 0)return{type:`native`,constructor:global.WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocketPair!==void 0&&globalThis.WebSocket===void 0)return{type:`cloudflare`,error:`Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.`,workaround:`Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.`};if(typeof globalThis<`u`&&globalThis.EdgeRuntime||typeof navigator<`u`&&navigator.userAgent?.includes(`Vercel-Edge`))return{type:`unsupported`,error:`Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.`,workaround:`Use serverless functions or a different deployment target for WebSocket functionality.`};let e=globalThis.process;if(e){let t=e.versions;if(t&&t.node){let e=t.node,n=parseInt(e.replace(/^v/,``).split(`.`)[0]);return n>=22?globalThis.WebSocket===void 0?{type:`unsupported`,error:`Node.js ${n} detected but native WebSocket not found.`,workaround:`Provide a WebSocket implementation via the transport option.`}:{type:`native`,constructor:globalThis.WebSocket}:{type:`unsupported`,error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:`unsupported`,error:`Unknown JavaScript runtime without WebSocket support.`,workaround:`Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.`}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||`WebSocket not supported in this environment.`;throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type===`native`||e.type===`ws`}catch{return!1}}};const si=`2.0.0`,ci=si,li=1e4;var ui;(function(e){e[e.connecting=0]=`connecting`,e[e.open=1]=`open`,e[e.closing=2]=`closing`,e[e.closed=3]=`closed`})(ui||={});var di;(function(e){e.closed=`closed`,e.errored=`errored`,e.joined=`joined`,e.joining=`joining`,e.leaving=`leaving`})(di||={});var fi;(function(e){e.close=`phx_close`,e.error=`phx_error`,e.join=`phx_join`,e.reply=`phx_reply`,e.leave=`phx_leave`,e.access_token=`access_token`})(fi||={});var pi;(function(e){e.websocket=`websocket`})(pi||={});var mi;(function(e){e.Connecting=`connecting`,e.Open=`open`,e.Closing=`closing`,e.Closed=`closed`})(mi||={});var hi=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT=`broadcast`,this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event==`string`)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){return this._isArrayBuffer(e.payload?.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){let t=e.payload?.payload??new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,t)}_encodeJsonUserBroadcastPush(e){let t=e.payload?.payload??{},n=new TextEncoder().encode(JSON.stringify(t)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,n)}_encodeUserBroadcastPush(e,t,n){let r=e.topic,i=e.ref??``,a=e.join_ref??``,o=e.payload.event,s=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},c=Object.keys(s).length===0?``:JSON.stringify(s);if(a.length>255)throw Error(`joinRef length ${a.length} exceeds maximum of 255`);if(i.length>255)throw Error(`ref length ${i.length} exceeds maximum of 255`);if(r.length>255)throw Error(`topic length ${r.length} exceeds maximum of 255`);if(o.length>255)throw Error(`userEvent length ${o.length} exceeds maximum of 255`);if(c.length>255)throw Error(`metadata length ${c.length} exceeds maximum of 255`);let l=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+r.length+o.length+c.length,u=new ArrayBuffer(this.HEADER_LENGTH+l),d=new DataView(u),f=0;d.setUint8(f++,this.KINDS.userBroadcastPush),d.setUint8(f++,a.length),d.setUint8(f++,i.length),d.setUint8(f++,r.length),d.setUint8(f++,o.length),d.setUint8(f++,c.length),d.setUint8(f++,t),Array.from(a,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(i,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(r,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(o,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(c,e=>d.setUint8(f++,e.charCodeAt(0)));var p=new Uint8Array(u.byteLength+n.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(n),u.byteLength),p.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if(typeof e==`string`){let[n,r,i,a,o]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:a,payload:o})}return t({})}_binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4),s=this.HEADER_LENGTH+4,c=n.decode(e.slice(s,s+r));s+=r;let l=n.decode(e.slice(s,s+i));s+=i;let u=n.decode(e.slice(s,s+a));s+=a;let d=e.slice(s,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,p={type:this.BROADCAST_EVENT,event:l,payload:f};return a>0&&(p.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){return e instanceof ArrayBuffer||e?.constructor?.name===`ArrayBuffer`}_pick(e,t){return!e||typeof e!=`object`?{}:Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e)))}},gi=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries+=1,this.callback()},this.timerCalc(this.tries+1))}},_i;(function(e){e.abstime=`abstime`,e.bool=`bool`,e.date=`date`,e.daterange=`daterange`,e.float4=`float4`,e.float8=`float8`,e.int2=`int2`,e.int4=`int4`,e.int4range=`int4range`,e.int8=`int8`,e.int8range=`int8range`,e.json=`json`,e.jsonb=`jsonb`,e.money=`money`,e.numeric=`numeric`,e.oid=`oid`,e.reltime=`reltime`,e.text=`text`,e.time=`time`,e.timestamp=`timestamp`,e.timestamptz=`timestamptz`,e.timetz=`timetz`,e.tsrange=`tsrange`,e.tstzrange=`tstzrange`})(_i||={});const vi=(e,t,n={})=>{let r=n.skipTypes??[];return t?Object.keys(t).reduce((n,i)=>(n[i]=yi(i,e,t,r),n),{}):{}},yi=(e,t,n,r)=>{let i=t.find(t=>t.name===e)?.type,a=n[e];return i&&!r.includes(i)?bi(i,a):xi(a)},bi=(e,t)=>{if(e.charAt(0)===`_`)return Ti(t,e.slice(1,e.length));switch(e){case _i.bool:return Si(t);case _i.float4:case _i.float8:case _i.int2:case _i.int4:case _i.int8:case _i.numeric:case _i.oid:return Ci(t);case _i.json:case _i.jsonb:return wi(t);case _i.timestamp:return Ei(t);case _i.abstime:case _i.date:case _i.daterange:case _i.int4range:case _i.int8range:case _i.money:case _i.reltime:case _i.text:case _i.time:case _i.timestamptz:case _i.timetz:case _i.tsrange:case _i.tstzrange:return xi(t);default:return xi(t)}};var xi=e=>e;const Si=e=>{switch(e){case`t`:return!0;case`f`:return!1;default:return e}},Ci=e=>{if(typeof e==`string`){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wi=e=>{if(typeof e==`string`)try{return JSON.parse(e)}catch{return e}return e},Ti=(e,t)=>{if(typeof e!=`string`)return e;let n=e.length-1,r=e[n];if(e[0]===`{`&&r===`}`){let r,i=e.slice(1,n);try{r=JSON.parse(`[`+i+`]`)}catch{r=i?i.split(`,`):[]}return r.map(e=>bi(t,e))}return e},Ei=e=>typeof e==`string`?e.replace(` `,`T`):e,Di=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,`http`),t.pathname=t.pathname.replace(/\/+$/,``).replace(/\/socket\/websocket$/i,``).replace(/\/socket$/i,``).replace(/\/websocket$/i,``),t.pathname===``||t.pathname===`/`?t.pathname=`/api/broadcast`:t.pathname+=`/api/broadcast`,t.href};var Oi=class{constructor(e,t,n={},r=li){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref=``,this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref=``,this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived(`timeout`)||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){return this._hasReceived(e)&&t(this.receivedResp?.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||=(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),setTimeout(()=>{this.trigger(`timeout`,{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}},ki;(function(e){e.SYNC=`sync`,e.JOIN=`join`,e.LEAVE=`leave`})(ki||={});var Ai=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:`presence_state`,diff:`presence_diff`};this.channel._on(r.state,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,t,n,r),this.pendingDiffs.forEach(t=>{this.state=e.syncDiff(this.state,t,n,r)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=e.syncDiff(this.state,t,n,r),i())}),this.onJoin((e,t,n)=>{this.channel._trigger(`presence`,{event:`join`,key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger(`presence`,{event:`leave`,key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger(`presence`,{event:`sync`})})}static syncState(e,t,n,r){let i=this.cloneDeep(e),a=this.transformState(t),o={},s={};return this.map(i,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{let n=i[e];if(n){let r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),c=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(o[e]=a),c.length>0&&(s[e]=c)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||=()=>{},r||=()=>{},this.map(i,(t,r)=>{let i=e[t]??[];if(e[t]=this.cloneDeep(r),i.length>0){let n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;let a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),i.length===0&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{let r=e[n];return`metas`in r?t[n]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}},ji;(function(e){e.ALL=`*`,e.INSERT=`INSERT`,e.UPDATE=`UPDATE`,e.DELETE=`DELETE`})(ji||={});var Mi;(function(e){e.BROADCAST=`broadcast`,e.PRESENCE=`presence`,e.POSTGRES_CHANGES=`postgres_changes`,e.SYSTEM=`system`})(Mi||={});var Ni;(function(e){e.SUBSCRIBED=`SUBSCRIBED`,e.TIMED_OUT=`TIMED_OUT`,e.CLOSED=`CLOSED`,e.CHANNEL_ERROR=`CHANNEL_ERROR`})(Ni||={});var Pi=class e{constructor(e,t={config:{}},n){if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=di.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,``),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:``,enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Oi(this,fi.join,this.params,this.timeout),this.rejoinTimer=new gi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive(`ok`,()=>{this.state=di.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log(`channel`,`close ${this.topic} ${this._joinRef()}`),this.state=di.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=di.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`timeout`,()=>{this._isJoining()&&(this.socket.log(`channel`,`timeout ${this.topic}`,this.joinPush.timeout),this.state=di.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`error`,e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=di.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fi.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Ai(this),this.broadcastEndpointURL=Di(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&this.params.config?.broadcast?.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){if(this.socket.isConnected()||this.socket.connect(),this.state==di.closed){let{config:{broadcast:r,presence:i,private:a}}=this.params,o=this.bindings.postgres_changes?.map(e=>e.filter)??[],s=!!this.bindings[Mi.PRESENCE]&&this.bindings[Mi.PRESENCE].length>0||this.params.config.presence?.enabled===!0,c={},l={broadcast:r,presence:Object.assign(Object.assign({},i),{enabled:s}),postgres_changes:o,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(e=>t?.(Ni.CHANNEL_ERROR,e)),this._onClose(()=>t?.(Ni.CLOSED)),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive(`ok`,async({postgres_changes:n})=>{if(this.socket._isManualToken()||this.socket.setAuth(),n===void 0){t?.(Ni.SUBSCRIBED);return}else{let r=this.bindings.postgres_changes,i=r?.length??0,a=[];for(let o=0;o<i;o++){let i=r[o],{filter:{event:s,schema:c,table:l,filter:u}}=i,d=n&&n[o];if(d&&d.event===s&&e.isFilterValueEqual(d.schema,c)&&e.isFilterValueEqual(d.table,l)&&e.isFilterValueEqual(d.filter,u))a.push(Object.assign(Object.assign({},i),{id:d.id}));else{this.unsubscribe(),this.state=di.errored,t?.(Ni.CHANNEL_ERROR,Error(`mismatch between server and client bindings for postgres changes`));return}}this.bindings.postgres_changes=a,t&&t(Ni.SUBSCRIBED);return}}).receive(`error`,e=>{this.state=di.errored,t?.(Ni.CHANNEL_ERROR,Error(JSON.stringify(Object.values(e).join(`, `)||`error`)))}).receive(`timeout`,()=>{t?.(Ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:`presence`,event:`track`,payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:`presence`,event:`untrack`},e)}on(e,t,n){return this.state===di.joined&&e===Mi.PRESENCE&&(this.socket.log(`channel`,`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){if(t==null)return Promise.reject(`Payload is required for httpSend()`);let r={apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);let i={method:`POST`,headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,n.timeout??this.timeout);if(a.status===202)return{success:!0};let o=a.statusText;try{let e=await a.json();o=e.error||e.message||o}catch{}return Promise.reject(Error(o))}async send(e,t={}){if(!this._canPush()&&e.type===`broadcast`){console.warn(`Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.`);let{event:n,payload:r}=e,i={apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let a={method:`POST`,headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,t.timeout??this.timeout);return await e.body?.cancel(),e.ok?`ok`:`error`}catch(e){return e.name===`AbortError`?`timed out`:`error`}}else return new Promise(n=>{let r=this._push(e.type,e,t.timeout||this.timeout);e.type===`broadcast`&&!this.params?.config?.broadcast?.ack&&n(`ok`),r.receive(`ok`,()=>n(`ok`)),r.receive(`error`,()=>n(`error`)),r.receive(`timeout`,()=>n(`timed out`))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=di.leaving;let t=()=>{this.socket.log(`channel`,`leave ${this.topic}`),this._trigger(fi.close,`leave`,this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Oi(this,fi.leave,{},e),n.receive(`ok`,()=>{t(),r(`ok`)}).receive(`timeout`,()=>{t(),r(`timed out`)}).receive(`error`,()=>{r(`error`)}),n.send(),this._canPush()||n.trigger(`ok`,{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=di.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){let r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Oi(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log(`channel`,`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;let a=e.toLocaleLowerCase(),{close:o,error:s,leave:c,join:l}=fi;if(n&&[o,s,c,l].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw`channel onMessage callbacks must return the payload, modified or unmodified`;[`insert`,`update`,`delete`].includes(a)?(r=this.bindings.postgres_changes)==null||r.filter(e=>e.filter?.event===`*`||(e.filter?.event)?.toLocaleLowerCase()===a).map(e=>e.callback(u,n)):(i=this.bindings[a])==null||i.filter(e=>{if([`broadcast`,`presence`,`postgres_changes`].includes(a))if(`id`in e){let n=e.id,r=e.filter?.event;return n&&t.ids?.includes(n)&&(r===`*`||r?.toLocaleLowerCase()===t.data?.type.toLocaleLowerCase())}else{let n=(e?.filter?.event)?.toLocaleLowerCase();return n===`*`||n===(t?.event)?.toLocaleLowerCase()}else return e.type.toLocaleLowerCase()===a}).map(e=>{if(typeof u==`object`&&`ids`in u){let e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,o={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===di.closed}_isJoined(){return this.state===di.joined}_isJoining(){return this.state===di.joining}_isLeaving(){return this.state===di.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(t=>!(t.type?.toLocaleLowerCase()===r&&e.isEqual(t.filter,n)))),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fi.close,{},e)}_onError(e){this._on(fi.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=di.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type===`INSERT`||e.type===`UPDATE`)&&(t.new=vi(e.columns,e.record)),(e.type===`UPDATE`||e.type===`DELETE`)&&(t.old=vi(e.columns,e.old_record)),t}},Fi=()=>{},Ii={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Li=[1e3,2e3,5e3,1e4],Ri=1e4,zi=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Bi=class{constructor(e,t){if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint=``,this.httpEndpoint=``,this.headers={},this.params={},this.timeout=li,this.transport=null,this.heartbeatIntervalMs=Ii.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fi,this.ref=0,this.reconnectTimer=null,this.vsn=ci,this.logger=Fi,this.conn=null,this.sendBuffer=[],this.serializer=new hi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState=`disconnected`,this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!t?.params?.apikey)throw Error(`API key is required to connect to Realtime`);this.apiKey=t.params.apikey,this.endPoint=`${e}/${pi.websocket}`,this.httpEndpoint=Di(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState(`connecting`),this.accessToken&&!this._authPromise&&this._setAuthSafely(`connect`),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=oi.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState(`disconnected`);let t=e.message;throw t.includes(`Node.js`)?Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState(`disconnecting`,!0),this.conn){let n=setTimeout(()=>{this._setConnectionState(`disconnected`)},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState(`disconnected`)},typeof this.conn.close==`function`&&(e?this.conn.close(e,t??``):this.conn.close()),this._teardownConnection()}else this._setConnectionState(`disconnected`)}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return t===`ok`&&this._remove(e),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return mi.Connecting;case ui.open:return mi.Open;case ui.closing:return mi.Closing;default:return mi.Closed}}isConnected(){return this.connectionState()===mi.Open}isConnecting(){return this._connectionState===`connecting`}isDisconnecting(){return this._connectionState===`disconnecting`}channel(e,t={config:{}}){let n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{let n=new Pi(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){let{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;(t=this.conn)==null||t.send(e)})};this.log(`push`,`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback(`disconnected`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log(`transport`,`heartbeat timeout. Attempting to re-establish connection`);try{this.heartbeatCallback(`timeout`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._wasManualDisconnect=!1,(e=this.conn)==null||e.close(1e3,`heartbeat timeout`),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)==null||e.scheduleTimeout()},Ii.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:`phoenix`,event:`heartbeat`,payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback(`sent`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._setAuthSafely(`heartbeat`)}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log(`transport`,`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if(e.topic===`phoenix`&&e.event===`phx_reply`&&e.ref&&e.ref===this.pendingHeartbeatRef){let t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(e.payload.status===`ok`?`ok`:`error`,t)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:t,event:n,payload:r,ref:i}=e,a=i?`(${i})`:``,o=r.status||``;this.log(`receive`,`${o} ${t} ${n} ${a}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks(`message`,e)})}_clearTimer(e){var t;e===`heartbeat`&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e===`reconnect`&&((t=this.reconnectTimer)==null||t.reset())}_clearAllTimers(){this._clearTimer(`heartbeat`),this._clearTimer(`reconnect`)}_setupConnectionHandlers(){this.conn&&(`binaryType`in this.conn&&(this.conn.binaryType=`arraybuffer`),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ui.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ui.open||this.conn.readyState===ui.connecting)try{this.conn.close()}catch(e){this.log(`error`,`Error closing connection`,e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState(`connected`),this.log(`transport`,`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log(`error`,`error waiting for auth on connect`,e),this.flushSendBuffer()}),this._clearTimer(`reconnect`),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks(`open`)}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log(`worker`,`starting worker for from ${this.workerUrl}`):this.log(`worker`,`starting default worker`);let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log(`worker`,`worker error`,e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{e.data.event===`keepAlive`&&this.sendHeartbeat()},this.workerRef.postMessage({event:`start`,interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&=(this.log(`worker`,`terminating worker`),this.workerRef.terminate(),void 0)}_onConnClose(e){var t;this._setConnectionState(`disconnected`),this.log(`transport`,`close`,e),this._triggerChanError(),this._clearTimer(`heartbeat`),this._wasManualDisconnect||(t=this.reconnectTimer)==null||t.scheduleTimeout(),this._triggerStateCallbacks(`close`,e)}_onConnError(e){this._setConnectionState(`disconnected`),this.log(`transport`,`${e}`),this._triggerChanError(),this._triggerStateCallbacks(`error`,e);try{this.heartbeatCallback(`error`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(fi.error))}_appendParams(e,t){return Object.keys(t).length===0?e:`${e}${e.match(/\?/)?`&`:`?`}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([zi],{type:`application/javascript`});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e===`connecting`?this._wasManualDisconnect=!1:e===`disconnecting`&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(e){this.log(`error`,`Error fetching access token from callback`,e),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let n={access_token:t,version:`realtime-js/2.95.3`};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(fi.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e=`general`){this._isManualToken()||this.setAuth().catch(t=>{this.log(`error`,`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(t){this.log(`error`,`error in ${e} callback`,t)}})}catch(t){this.log(`error`,`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new gi(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ii.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){switch(this.transport=e?.transport??null,this.timeout=e?.timeout??li,this.heartbeatIntervalMs=e?.heartbeatIntervalMs??Ii.HEARTBEAT_INTERVAL,this.worker=e?.worker??!1,this.accessToken=e?.accessToken??null,this.heartbeatCallback=e?.heartbeatCallback??Fi,this.vsn=e?.vsn??ci,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=e?.reconnectAfterMs??(e=>Li[e-1]||Ri),this.vsn){case`1.0.0`:this.encode=e?.encode??((e,t)=>t(JSON.stringify(e))),this.decode=e?.decode??((e,t)=>t(JSON.parse(e)));break;case si:this.encode=e?.encode??this.serializer.encode.bind(this.serializer),this.decode=e?.decode??this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<`u`&&!window.Worker)throw Error(`Web Worker is not supported`);this.workerUrl=e?.workerUrl}}},Vi=class extends Error{constructor(e,t){super(e),this.name=`IcebergError`,this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType===`CommitStateUnknownException`||[500,502,504].includes(t.status)&&t.icebergType?.includes(`CommitState`)===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Hi(e,t,n){let r=new URL(t,e);if(n)for(let[e,t]of Object.entries(n))t!==void 0&&r.searchParams.set(e,t);return r.toString()}async function Ui(e){return!e||e.type===`none`?{}:e.type===`bearer`?{Authorization:`Bearer ${e.token}`}:e.type===`header`?{[e.name]:e.value}:e.type===`custom`?await e.getHeaders():{}}function Wi(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){let s=Hi(e.baseUrl,r,i),c=await Ui(e.auth),l=await t(s,{method:n,headers:{...a?{"Content-Type":`application/json`}:{},...c,...o},body:a?JSON.stringify(a):void 0}),u=await l.text(),d=(l.headers.get(`content-type`)||``).includes(`application/json`),f=d&&u?JSON.parse(u):u;if(!l.ok){let e=d?f:void 0,t=e?.error;throw new Vi(t?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:l.status,headers:l.headers,data:f}}}}function Gi(e){return e.join(``)}var Ki=class{constructor(e,t=``){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:Gi(e.namespace)}:void 0;return(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:`POST`,path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:`DELETE`,path:`${this.prefix}/namespaces/${Gi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${Gi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:`HEAD`,path:`${this.prefix}/namespaces/${Gi(e.namespace)}`}),!0}catch(e){if(e instanceof Vi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(e){if(e instanceof Vi&&e.status===409)return;throw e}}};function qi(e){return e.join(``)}var Ji=class{constructor(e,t=``,n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n[`X-Iceberg-Access-Delegation`]=this.accessDelegation),(await this.client.request({method:`POST`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:`POST`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data[`metadata-location`],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:`DELETE`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t[`X-Iceberg-Access-Delegation`]=this.accessDelegation),(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t[`X-Iceberg-Access-Delegation`]=this.accessDelegation);try{return await this.client.request({method:`HEAD`,path:`${this.prefix}/namespaces/${qi(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(e){if(e instanceof Vi&&e.status===404)return!1;throw e}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Vi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Yi=class{constructor(e){let t=`v1`;e.catalogName&&(t+=`/${e.catalogName}`),this.client=Wi({baseUrl:e.baseUrl.endsWith(`/`)?e.baseUrl:`${e.baseUrl}/`,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(`,`),this.namespaceOps=new Ki(this.client,t),this.tableOps=new Ji(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xi=class extends Error{constructor(e,t=`storage`,n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t===`vectors`?`StorageVectorsError`:`StorageError`,this.status=n,this.statusCode=r}};function Zi(e){return typeof e==`object`&&!!e&&`__isStorageError`in e}var Qi=class extends Xi{constructor(e,t,n,r=`storage`){super(e,r,t,n),this.name=r===`vectors`?`StorageVectorsApiError`:`StorageApiError`,this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$i=class extends Xi{constructor(e,t,n=`storage`){super(e,n),this.name=n===`vectors`?`StorageVectorsUnknownError`:`StorageUnknownError`,this.originalError=t}},ea=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),ta=e=>{if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},na=e=>{if(Array.isArray(e))return e.map(e=>na(e));if(typeof e==`function`||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,n])=>{let r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,``));t[r]=na(n)}),t},ra=e=>!e||typeof e!=`string`||e.length===0||e.length>100||e.trim()!==e||e.includes(`/`)||e.includes(`\\`)?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},ia(e)}function aa(e,t){if(ia(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(ia(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function oa(e){var t=aa(e,`string`);return ia(t)==`symbol`?t:t+``}function sa(e,t,n){return(t=oa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?ca(Object(n),!0).forEach(function(t){sa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var la=e=>e.msg||e.message||e.error_description||(typeof e.error==`string`?e.error:e.error?.message)||JSON.stringify(e),ua=async(e,t,n,r)=>{if(e&&typeof e==`object`&&`status`in e&&`ok`in e&&typeof e.status==`number`&&!n?.noResolveJson){let n=e,i=n.status||500;if(typeof n.json==`function`)n.json().then(e=>{let n=e?.statusCode||e?.code||i+``;t(new Qi(la(e),i,n,r))}).catch(()=>{if(r===`vectors`){let e=i+``;t(new Qi(n.statusText||`HTTP ${i} error`,i,e,r))}else{let e=i+``;t(new Qi(n.statusText||`HTTP ${i} error`,i,e,r))}});else{let e=i+``;t(new Qi(n.statusText||`HTTP ${i} error`,i,e,r))}}else t(new $i(la(e),e,r))},da=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`||e===`HEAD`||!r?W(W({},i),n):(ta(r)?(i.headers=W({"Content-Type":`application/json`},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),W(W({},i),n))};async function fa(e,t,n,r,i,a,o){return new Promise((s,c)=>{e(n,da(t,r,i,a)).then(e=>{if(!e.ok)throw e;if(r?.noResolveJson)return e;if(o===`vectors`){let t=e.headers.get(`content-type`);if(e.headers.get(`content-length`)===`0`||e.status===204||!t||!t.includes(`application/json`))return{}}return e.json()}).then(e=>s(e)).catch(e=>ua(e,c,r,o))})}function pa(e=`storage`){return{get:async(t,n,r,i)=>fa(t,`GET`,n,r,i,void 0,e),post:async(t,n,r,i,a)=>fa(t,`POST`,n,i,a,r,e),put:async(t,n,r,i,a)=>fa(t,`PUT`,n,i,a,r,e),head:async(t,n,r,i)=>fa(t,`HEAD`,n,W(W({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,a)=>fa(t,`DELETE`,n,i,a,r,e)}}var{get:ma,post:ha,put:ga,head:_a,remove:va}=pa(`storage`),ya=pa(`vectors`),ba=class{constructor(e,t={},n,r=`storage`){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=ea(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Zi(e))return{data:null,error:e};throw e}}},xa=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zi(t))return{data:null,error:t};throw t}}},Sa=Symbol.toStringTag,Ca=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Sa]=`BlobDownloadBuilder`,this.promise=null}asStream(){return new xa(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||=this.execute(),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zi(t))return{data:null,error:t};throw t}}},wa={limit:100,offset:0,sortBy:{column:`name`,order:`asc`}},Ta={cacheControl:`3600`,contentType:`text/plain;charset=UTF-8`,upsert:!1},Ea=class extends ba{constructor(e,t={},n,r){super(e,t,r,`storage`),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let a,o=W(W({},Ta),r),s=W(W({},i.headers),e===`POST`&&{"x-upsert":String(o.upsert)}),c=o.metadata;typeof Blob<`u`&&n instanceof Blob?(a=new FormData,a.append(`cacheControl`,o.cacheControl),c&&a.append(`metadata`,i.encodeMetadata(c)),a.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(a=n,a.has(`cacheControl`)||a.append(`cacheControl`,o.cacheControl),c&&!a.has(`metadata`)&&a.append(`metadata`,i.encodeMetadata(c))):(a=n,s[`cache-control`]=`max-age=${o.cacheControl}`,s[`content-type`]=o.contentType,c&&(s[`x-metadata`]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<`u`&&a instanceof ReadableStream||a&&typeof a==`object`&&`pipe`in a&&typeof a.pipe==`function`)&&!o.duplex&&(o.duplex=`half`)),r?.headers&&(s=W(W({},s),r.headers));let l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=await(e==`PUT`?ga:ha)(i.fetch,`${i.url}/object/${u}`,a,W({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate(`POST`,e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;let a=i._removeEmptyFolders(e),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);return s.searchParams.set(`token`,t),i.handleOperation(async()=>{let e,t=W({upsert:Ta.upsert},r),o=W(W({},i.headers),{"x-upsert":String(t.upsert)});return typeof Blob<`u`&&n instanceof Blob?(e=new FormData,e.append(`cacheControl`,t.cacheControl),e.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(e=n,e.append(`cacheControl`,t.cacheControl)):(e=n,o[`cache-control`]=`max-age=${t.cacheControl}`,o[`content-type`]=t.contentType),{path:a,fullPath:(await ga(i.fetch,s.toString(),e,{headers:o})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e),i=W({},n.headers);t?.upsert&&(i[`x-upsert`]=`true`);let a=await ha(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),s=o.searchParams.get(`token`);if(!s)throw new Xi(`No token returned by API`);return{signedUrl:o.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate(`PUT`,e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await ha(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await ha(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),a=await ha(r.fetch,`${r.url}/object/sign/${i}`,W({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),o=n?.download?`&download=${n.download===!0?``:n.download}`:``;return{signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{let i=await ha(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?``:n.download}`:``;return i.map(e=>W(W({},e),{},{signedUrl:e.signedURL?encodeURI(`${r.url}${e.signedURL}${a}`):null}))})}download(e,t,n){let r=t?.transform===void 0?`object`:`render/image/authenticated`,i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:``,o=this._getFinalPath(e);return new Ca(()=>ma(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0},n),this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);return t.handleOperation(async()=>na(await ma(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await _a(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Zi(e)&&e instanceof $i){let t=e.originalError;if([400,404].includes(t?.status))return{data:!1,error:e}}throw e}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?``:t.download}`:``;i!==``&&r.push(i);let a=t?.transform===void 0?`object`:`render/image`,o=this.transformOptsToQueryString(t?.transform||{});o!==``&&r.push(o);let s=r.join(`&`);return s!==``&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await va(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{let i=W(W(W({},wa),t),{},{prefix:e||``});return await ha(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{let r=W({},e);return await ha(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<`u`?Buffer.from(e).toString(`base64`):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,``)}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,``).replace(/\/+/g,`/`)}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join(`&`)}},Da=`2.95.3`,Oa={"X-Client-Info":`storage-js/${Da}`},ka=class extends ba{constructor(e,t={},n,r){let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes(`storage.supabase.`)&&(i.hostname=i.hostname.replace(`supabase.`,`storage.supabase.`));let a=i.href.replace(/\/$/,``),o=W(W({},Oa),t);super(a,o,n,`storage`)}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=t.listBucketOptionsToQueryString(e);return await ma(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ma(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await ha(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await ga(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ha(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await va(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&(`limit`in e&&(t.limit=String(e.limit)),`offset`in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?`?`+new URLSearchParams(t).toString():``}},Aa=class extends ba{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=W(W({},Oa),t);super(r,i,n,`storage`)}async createBucket(e){var t=this;return t.handleOperation(async()=>await ha(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=new URLSearchParams;e?.limit!==void 0&&n.set(`limit`,e.limit.toString()),e?.offset!==void 0&&n.set(`offset`,e.offset.toString()),e?.sortColumn&&n.set(`sortColumn`,e.sortColumn),e?.sortOrder&&n.set(`sortOrder`,e.sortOrder),e?.search&&n.set(`search`,e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await ma(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await va(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!ra(e))throw new Xi(`Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.`);let n=new Yi({baseUrl:this.url,catalogName:e,auth:{type:`custom`,getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){let n=e[t];return typeof n==`function`?async(...t)=>{try{return{data:await n.apply(e,t),error:null}}catch(e){if(r)throw e;return{data:null,error:e}}}:n}})}},ja=class extends ba{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=W(W({},Oa),{},{"Content-Type":`application/json`},t);super(r,i,n,`vectors`)}async createIndex(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ya.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ya.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Ma=class extends ba{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=W(W({},Oa),{},{"Content-Type":`application/json`},t);super(r,i,n,`vectors`)}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw Error(`Vector batch size must be between 1 and 500 items`);return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw Error(`segmentCount must be between 1 and 16`);if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw Error(`Keys batch size must be between 1 and 500 items`);return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Na=class extends ba{constructor(e,t={},n){let r=e.replace(/\/$/,``),i=W(W({},Oa),{},{"Content-Type":`application/json`},t);super(r,i,n,`vectors`)}async createBucket(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ya.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Pa=class extends Na{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Fa(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Fa=class extends ja{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Ia(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ia=class extends Ma{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,W(W({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},La=class extends ka{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Ea(this.url,this.headers,e,this.fetch)}get vectors(){return new Pa(this.url+`/vector`,{headers:this.headers,fetch:this.fetch})}get analytics(){return new Aa(this.url+`/iceberg`,this.headers,this.fetch)}};const Ra=`2.95.3`,za=30*1e3,Ba=3*za,Va={"X-Client-Info":`gotrue-js/${Ra}`},Ha=`X-Supabase-Api-Version`,Ua={"2024-01-01":{timestamp:Date.parse(`2024-01-01T00:00:00.0Z`),name:`2024-01-01`}},Wa=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;var Ga=class extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name=`AuthError`,this.status=t,this.code=n}};function G(e){return typeof e==`object`&&!!e&&`__isAuthError`in e}var Ka=class extends Ga{constructor(e,t,n){super(e,t,n),this.name=`AuthApiError`,this.status=t,this.code=n}};function qa(e){return G(e)&&e.name===`AuthApiError`}var Ja=class extends Ga{constructor(e,t){super(e),this.name=`AuthUnknownError`,this.originalError=t}},Ya=class extends Ga{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}},Xa=class extends Ya{constructor(){super(`Auth session missing!`,`AuthSessionMissingError`,400,void 0)}};function Za(e){return G(e)&&e.name===`AuthSessionMissingError`}var Qa=class extends Ya{constructor(){super(`Auth session or user missing`,`AuthInvalidTokenResponseError`,500,void 0)}},$a=class extends Ya{constructor(e){super(e,`AuthInvalidCredentialsError`,400,void 0)}},eo=class extends Ya{constructor(e,t=null){super(e,`AuthImplicitGrantRedirectError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function to(e){return G(e)&&e.name===`AuthImplicitGrantRedirectError`}var no=class extends Ya{constructor(e,t=null){super(e,`AuthPKCEGrantCodeExchangeError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ro=class extends Ya{constructor(){super(`PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.`,`AuthPKCECodeVerifierMissingError`,400,`pkce_code_verifier_not_found`)}},io=class extends Ya{constructor(e,t){super(e,`AuthRetryableFetchError`,t,void 0)}};function ao(e){return G(e)&&e.name===`AuthRetryableFetchError`}var oo=class extends Ya{constructor(e,t,n){super(e,`AuthWeakPasswordError`,t,`weak_password`),this.reasons=n}},so=class extends Ya{constructor(e){super(e,`AuthInvalidJwtError`,400,`invalid_jwt`)}},K=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_`.split(``),co=` 	
\r=`.split(``),lo=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<co.length;t+=1)e[co[t].charCodeAt(0)]=-2;for(let t=0;t<K.length;t+=1)e[K[t].charCodeAt(0)]=t;return e})();function uo(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)n(K[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue<<=6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)n(K[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function fo(e,t,n){let r=lo[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(r===-2)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function po(e){let t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{go(e,r,n)};for(let t=0;t<e.length;t+=1)fo(e.charCodeAt(t),i,a);return t.join(``)}function mo(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ho(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let t=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|t)+65536,n+=1}mo(r,t)}}function go(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw Error(`Invalid UTF-8 sequence`);--t.utf8seq}else if(t.utf8seq>0){if(e<=127)throw Error(`Invalid UTF-8 sequence`);t.codepoint=t.codepoint<<6|e&63,--t.utf8seq,t.utf8seq===0&&n(t.codepoint)}}function _o(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)fo(e.charCodeAt(t),n,r);return new Uint8Array(t)}function vo(e){let t=[];return ho(e,e=>t.push(e)),new Uint8Array(t)}function yo(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>uo(e,n,r)),uo(null,n,r),t.join(``)}function bo(e){return Math.round(Date.now()/1e3)+e}function xo(){return Symbol(`auth-callback`)}const So=()=>typeof window<`u`&&typeof document<`u`;var Co={tested:!1,writable:!1};const wo=()=>{if(!So())return!1;try{if(typeof globalThis.localStorage!=`object`)return!1}catch{return!1}if(Co.tested)return Co.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Co.tested=!0,Co.writable=!0}catch{Co.tested=!0,Co.writable=!1}return Co.writable};function To(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]===`#`)try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch{}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}const Eo=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Do=e=>typeof e==`object`&&!!e&&`status`in e&&`ok`in e&&`json`in e&&typeof e.json==`function`,Oo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ko=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ao=async(e,t)=>{await e.removeItem(t)};var jo=class e{constructor(){this.promise=new e.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};jo.promiseConstructor=Promise;function Mo(e){let t=e.split(`.`);if(t.length!==3)throw new so(`Invalid JWT structure`);for(let e=0;e<t.length;e++)if(!Wa.test(t[e]))throw new so(`JWT not in base64url format`);return{header:JSON.parse(po(t[0])),payload:JSON.parse(po(t[1])),signature:_o(t[2]),raw:{header:t[0],payload:t[1]}}}async function No(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Po(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{let r=await e(i);if(!t(i,null,r)){n(r);return}}catch(e){if(!t(i,e)){r(e);return}}})()})}function Fo(e){return(`0`+e.toString(16)).substr(-2)}function Io(){let e=new Uint32Array(56);if(typeof crypto>`u`){let e=``;for(let t=0;t<56;t++)e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~`.charAt(Math.floor(Math.random()*66));return e}return crypto.getRandomValues(e),Array.from(e,Fo).join(``)}async function Lo(e){let t=new TextEncoder().encode(e),n=await crypto.subtle.digest(`SHA-256`,t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join(``)}async function Ro(e){if(!(typeof crypto<`u`&&crypto.subtle!==void 0&&typeof TextEncoder<`u`))return console.warn(`WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.`),e;let t=await Lo(e);return btoa(t).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=+$/,``)}async function zo(e,t,n=!1){let r=Io(),i=r;n&&(i+=`/PASSWORD_RECOVERY`),await Oo(e,`${t}-code-verifier`,i);let a=await Ro(r);return[a,r===a?`plain`:`s256`]}var Bo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vo(e){let t=e.headers.get(Ha);if(!t||!t.match(Bo))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ho(e){if(!e)throw Error(`Missing exp claim`);if(e<=Math.floor(Date.now()/1e3))throw Error(`JWT has expired`)}function Uo(e){switch(e){case`RS256`:return{name:`RSASSA-PKCS1-v1_5`,hash:{name:`SHA-256`}};case`ES256`:return{name:`ECDSA`,namedCurve:`P-256`,hash:{name:`SHA-256`}};default:throw Error(`Invalid alg claim`)}}var Wo=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Go(e){if(!Wo.test(e))throw Error(`@supabase/auth-js: Expected parameter to be UUID but is not`)}function Ko(){return new Proxy({},{get:(e,t)=>{if(t===`__isUserNotAvailableProxy`)return!0;if(typeof t==`symbol`){let e=t.toString();if(e===`Symbol(Symbol.toPrimitive)`||e===`Symbol(Symbol.toStringTag)`||e===`Symbol(util.inspect.custom)`)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qo(e,t){return new Proxy(e,{get:(e,n,r)=>{if(n===`__isInsecureUserWarningProxy`)return!0;if(typeof n==`symbol`){let t=n.toString();if(t===`Symbol(Symbol.toPrimitive)`||t===`Symbol(Symbol.toStringTag)`||t===`Symbol(util.inspect.custom)`||t===`Symbol(nodejs.util.inspect.custom)`)return Reflect.get(e,n,r)}return!t.value&&typeof n==`string`&&(console.warn(`Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server.`),t.value=!0),Reflect.get(e,n,r)}})}function Jo(e){return JSON.parse(JSON.stringify(e))}var Yo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xo=[502,503,504];async function Zo(e){if(!Do(e))throw new io(Yo(e),0);if(Xo.includes(e.status))throw new io(Yo(e),e.status);let t;try{t=await e.json()}catch(e){throw new Ja(Yo(e),e)}let n,r=Vo(e);if(r&&r.getTime()>=Ua[`2024-01-01`].timestamp&&typeof t==`object`&&t&&typeof t.code==`string`?n=t.code:typeof t==`object`&&t&&typeof t.error_code==`string`&&(n=t.error_code),n){if(n===`weak_password`)throw new oo(Yo(t),e.status,t.weak_password?.reasons||[]);if(n===`session_not_found`)throw new Xa}else if(typeof t==`object`&&t&&typeof t.weak_password==`object`&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0))throw new oo(Yo(t),e.status,t.weak_password.reasons);throw new Ka(Yo(t),e.status||500,n)}var Qo=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`?i:(i.headers=Object.assign({"Content-Type":`application/json;charset=UTF-8`},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function q(e,t,n,r){let i=Object.assign({},r?.headers);i[`X-Supabase-Api-Version`]||(i[Ha]=Ua[`2024-01-01`].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=r?.query??{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let o=await $o(e,t,n+(Object.keys(a).length?`?`+new URLSearchParams(a).toString():``),{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(o):{data:Object.assign({},o),error:null}}async function $o(e,t,n,r,i,a){let o=Qo(t,r,i,a),s;try{s=await e(n,Object.assign({},o))}catch(e){throw console.error(e),new io(Yo(e),0)}if(s.ok||await Zo(s),r?.noResolveJson)return s;try{return await s.json()}catch(e){await Zo(e)}}function es(e){let t=null;os(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=bo(e.expires_in)));let n=e.user??e;return{data:{session:t,user:n},error:null}}function ts(e){let t=es(e);return!t.error&&e.weak_password&&typeof e.weak_password==`object`&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message==`string`&&e.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0)&&(t.data.weak_password=e.weak_password),t}function ns(e){return{data:{user:e.user??e},error:null}}function rs(e){return{data:e,error:null}}function is(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Rr(e,[`action_link`,`email_otp`,`hashed_token`,`redirect_to`,`verification_type`]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},o)},error:null}}function as(e){return e}function os(e){return e.access_token&&e.refresh_token&&e.expires_in}const ss=[`global`,`local`,`others`];var cs=class{constructor({url:e=``,headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Eo(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=ss[0]){if(ss.indexOf(t)<0)throw Error(`@supabase/auth-js: Parameter scope must be one of ${ss.join(`, `)}`);try{return await q(this.fetch,`POST`,`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(G(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await q(this.fetch,`POST`,`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ns})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,n=Rr(e,[`options`]),r=Object.assign(Object.assign({},n),t);return`newEmail`in n&&(r.new_email=n?.newEmail,delete r.newEmail),await q(this.fetch,`POST`,`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:is,redirectTo:t?.redirectTo})}catch(e){if(G(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await q(this.fetch,`POST`,`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ns})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async listUsers(e){try{let t={nextPage:null,lastPage:0,total:0},n=await q(this.fetch,`GET`,`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:as});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(G(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){Go(e);try{return await q(this.fetch,`GET`,`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ns})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){Go(e);try{return await q(this.fetch,`PUT`,`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ns})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){Go(e);try{return await q(this.fetch,`DELETE`,`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ns})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){Go(e.userId);try{let{data:t,error:n}=await q(this.fetch,`GET`,`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(G(e))return{data:null,error:e};throw e}}async _deleteFactor(e){Go(e.userId),Go(e.id);try{return{data:await q(this.fetch,`DELETE`,`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(G(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){try{let t={nextPage:null,lastPage:0,total:0},n=await q(this.fetch,`GET`,`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:as});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(G(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await q(this.fetch,`POST`,`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(G(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await q(this.fetch,`GET`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(G(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await q(this.fetch,`PUT`,`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(G(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await q(this.fetch,`DELETE`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(G(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await q(this.fetch,`POST`,`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(G(e))return{data:null,error:e};throw e}}};function ls(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const us={debug:!!(globalThis&&wo()&&globalThis.localStorage&&globalThis.localStorage.getItem(`supabase.gotrue-js.locks.debug`)===`true`)};var ds=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},fs=class extends ds{};async function ps(e,t,n){us.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquire lock`,e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),us.debug&&console.log(`@supabase/gotrue-js: navigatorLock acquire timed out`,e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:`exclusive`,ifAvailable:!0}:{mode:`exclusive`,signal:r.signal},async r=>{if(r){us.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquired`,e,r.name);try{return await n()}finally{us.debug&&console.log(`@supabase/gotrue-js: navigatorLock: released`,e,r.name)}}else if(t===0)throw us.debug&&console.log(`@supabase/gotrue-js: navigatorLock: not immediately available`,e),new fs(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);else{if(us.debug)try{let e=await globalThis.navigator.locks.query();console.log(`@supabase/gotrue-js: Navigator LockManager state`,JSON.stringify(e,null,`  `))}catch(e){console.warn(`@supabase/gotrue-js: Error when querying Navigator LockManager state`,e)}return console.warn(`@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request`),await n()}}))}function ms(){if(typeof globalThis!=`object`)try{Object.defineProperty(Object.prototype,`__magic__`,{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<`u`&&(self.globalThis=self)}}function hs(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function gs(e){return parseInt(e,16)}function _s(e){let t=new TextEncoder().encode(e);return`0x`+Array.from(t,e=>e.toString(16).padStart(2,`0`)).join(``)}function vs(e){let{chainId:t,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:s,resources:c,scheme:l,uri:u,version:d}=e;if(!Number.isInteger(t))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw Error(`@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.`);if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw Error(`@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.`);if(d!==`1`)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(e.statement?.includes(`
`))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=hs(e.address),p=`${l?`${l}://${n}`:n} wants you to sign in with your Ethereum account:\n${f}\n\n${e.statement?`${e.statement}\n`:``}`,m=`URI: ${u}\nVersion: ${d}\nChain ID: ${t}${a?`\nNonce: ${a}`:``}\nIssued At: ${i.toISOString()}`;if(r&&(m+=`\nExpiration Time: ${r.toISOString()}`),o&&(m+=`\nNot Before: ${o.toISOString()}`),s&&(m+=`\nRequest ID: ${s}`),c){let e=`
Resources:`;for(let t of c){if(!t||typeof t!=`string`)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}m+=e}return`${p}\n${m}`}var ys=class extends Error{constructor({message:e,code:t,cause:n,name:r}){super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=r??(n instanceof Error?n.name:void 0)??`Unknown Error`,this.code=t}},bs=class extends ys{constructor(e,t){super({code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:t,message:e}),this.name=`WebAuthnUnknownError`,this.originalError=t}};function xs({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new ys({message:`Registration ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`ConstraintError`){if(n.authenticatorSelection?.requireResidentKey===!0)return new ys({message:`Discoverable credentials were required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT`,cause:e});if(t.mediation===`conditional`&&n.authenticatorSelection?.userVerification===`required`)return new ys({message:`User verification was required during automatic registration but it could not be performed`,code:`ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE`,cause:e});if(n.authenticatorSelection?.userVerification===`required`)return new ys({message:`User verification was required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT`,cause:e})}else if(e.name===`InvalidStateError`)return new ys({message:`The authenticator was previously registered`,code:`ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED`,cause:e});else if(e.name===`NotAllowedError`)return new ys({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`NotSupportedError`)return n.pubKeyCredParams.filter(e=>e.type===`public-key`).length===0?new ys({message:`No entry in pubKeyCredParams was of type "public-key"`,code:`ERROR_MALFORMED_PUBKEYCREDPARAMS`,cause:e}):new ys({message:`No available authenticator supported any of the specified pubKeyCredParams algorithms`,code:`ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(Os(t)){if(n.rp.id!==t)return new ys({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new ys({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`TypeError`){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new ys({message:`User ID was not between 1 and 64 characters`,code:`ERROR_INVALID_USER_ID_LENGTH`,cause:e})}else if(e.name===`UnknownError`)return new ys({message:`The authenticator was unable to process the specified options, or could not create a new credential`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new ys({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}function Ss({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new ys({message:`Authentication ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`NotAllowedError`)return new ys({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(Os(t)){if(n.rpId!==t)return new ys({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new ys({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`UnknownError`)return new ys({message:`The authenticator was unable to process the specified options, or could not create a new assertion signature`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new ys({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}const Cs=new class{createNewAbortSignal(){if(this.controller){let e=Error(`Cancelling existing WebAuthn API call for new one`);e.name=`AbortError`,this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error(`Manually cancelling existing WebAuthn API call`);e.name=`AbortError`,this.controller.abort(e),this.controller=void 0}}};function ws(e){if(!e)throw Error(`Credential creation options are required`);if(typeof PublicKeyCredential<`u`&&`parseCreationOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON==`function`)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=Rr(e,[`challenge`,`user`,`excludeCredentials`]),a=_o(t).buffer,o=Object.assign(Object.assign({},n),{id:_o(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];s.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:_o(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return s}function Ts(e){if(!e)throw Error(`Credential request options are required`);if(typeof PublicKeyCredential<`u`&&`parseRequestOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON==`function`)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=Rr(e,[`challenge`,`allowCredentials`]),i=_o(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=Array(n.length);for(let e=0;e<n.length;e++){let t=n[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:_o(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return a}function Es(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:yo(new Uint8Array(e.response.attestationObject)),clientDataJSON:yo(new Uint8Array(e.response.clientDataJSON))},type:`public-key`,clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:t.authenticatorAttachment??void 0}}function Ds(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e,n=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:yo(new Uint8Array(r.authenticatorData)),clientDataJSON:yo(new Uint8Array(r.clientDataJSON)),signature:yo(new Uint8Array(r.signature)),userHandle:r.userHandle?yo(new Uint8Array(r.userHandle)):void 0},type:`public-key`,clientExtensionResults:n,authenticatorAttachment:t.authenticatorAttachment??void 0}}function Os(e){return e===`localhost`||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ks(){return!!(So()&&`PublicKeyCredential`in window&&window.PublicKeyCredential&&`credentials`in navigator&&typeof(navigator==null?void 0:navigator.credentials)?.create==`function`&&typeof(navigator==null?void 0:navigator.credentials)?.get==`function`)}async function As(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bs(`Browser returned unexpected credential type`,t)}:{data:null,error:new bs(`Empty credential response`,t)}}catch(t){return{data:null,error:xs({error:t,options:e})}}}async function js(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bs(`Browser returned unexpected credential type`,t)}:{data:null,error:new bs(`Empty credential response`,t)}}catch(t){return{data:null,error:Ss({error:t,options:e})}}}const Ms={hints:[`security-key`],authenticatorSelection:{authenticatorAttachment:`cross-platform`,requireResidentKey:!1,userVerification:`preferred`,residentKey:`discouraged`},attestation:`direct`},Ns={userVerification:`preferred`,hints:[`security-key`],attestation:`direct`};function Ps(...e){let t=e=>typeof e==`object`&&!!e&&!Array.isArray(e),n=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(let i of e)if(i)for(let e in i){let a=i[e];if(a!==void 0)if(Array.isArray(a))r[e]=a;else if(n(a))r[e]=a;else if(t(a)){let n=r[e];t(n)?r[e]=Ps(n,a):r[e]=Ps(a)}else r[e]=a}return r}function Fs(e,t){return Ps(Ms,e,t||{})}function Is(e,t){return Ps(Ns,e,t||{})}var Ls=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:`webauthn`}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:r},i){try{let{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:o};let s=r??Cs.createNewAbortSignal();if(a.webauthn.type===`create`){let{user:e}=a.webauthn.credential_options.publicKey;if(!e.name){let t=n;if(t)e.name=`${e.id}:${t}`;else{let t=(await this.client.getUser()).data.user,n=t?.user_metadata?.name||t?.email||t?.id||`User`;e.name=`${e.id}:${n}`}}e.displayName||=e.name}switch(a.webauthn.type){case`create`:{let{data:t,error:n}=await As({publicKey:Fs(a.webauthn.credential_options.publicKey,i?.create),signal:s});return t?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:t}},error:null}:{data:null,error:n}}case`request`:{let t=Is(a.webauthn.credential_options.publicKey,i?.request),{data:n,error:r}=await js(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:t,signal:s}));return n?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}}}catch(e){return G(e)?{data:null,error:e}:{data:null,error:new Ja(`Unexpected error in challenge`,e)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new Ga(`rpId is required for WebAuthn authentication`)};try{if(!ks())return{data:null,error:new Ja(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:r},{request:i});if(!a)return{data:null,error:o};let{webauthn:s}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:s.type,rpId:t,rpOrigins:n,credential_response:s.credential_response}})}catch(e){return G(e)?{data:null,error:e}:{data:null,error:new Ja(`Unexpected error in authenticate`,e)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new Ga(`rpId is required for WebAuthn registration`)};try{if(!ks())return{data:null,error:new Ja(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>t.data?.all.find(t=>t.factor_type===`webauthn`&&t.friendly_name===e&&t.status!==`unverified`)).then(e=>e?this.client.mfa.unenroll({factorId:e?.id}):void 0),{data:null,error:o};let{data:s,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:r},{create:i});return s?this._verify({factorId:a.id,challengeId:s.challengeId,webauthn:{rpId:t,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:c}}catch(e){return G(e)?{data:null,error:e}:{data:null,error:new Ja(`Unexpected error in register`,e)}}}};ms();var Rs={url:`http://localhost:9999`,storageKey:`supabase.auth.token`,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Va,flowType:`implicit`,debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function zs(e,t,n){return await n()}var Bs={},Vs=class e{get jwks(){return Bs[this.storageKey]?.jwks??{keys:[]}}set jwks(e){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{jwks:e})}get jwks_cached_at(){return Bs[this.storageKey]?.cachedAt??-(2**53-1)}set jwks_cached_at(e){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{cachedAt:e})}constructor(t){var n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let r=Object.assign(Object.assign({},Rs),t);if(this.storageKey=r.storageKey,this.instanceID=e.nextInstanceID[this.storageKey]??0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug==`function`&&(this.logger=r.debug),this.instanceID>0&&So()){let e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new cs({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Eo(r.fetch),this.lock=r.lock||zs,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,this.lockAcquireTimeout=r.lockAcquireTimeout,r.lock?this.lock=r.lock:this.persistSession&&So()&&(globalThis==null?void 0:globalThis.navigator)?.locks?this.lock=ps:this.lock=zs,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=-(2**53-1)),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ls(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:wo()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ls(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ls(this.memoryStorage)),So()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error(`Failed to create a new BroadcastChannel, multi-tab state changes will not be available`,e)}(n=this.broadcastChannel)==null||n.addEventListener(`message`,async e=>{this._debug(`received broadcast notification from other tab or client`,e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(e){this._debug(`#broadcastChannel`,`error`,e)}})}this.initialize().catch(e=>{this._debug(`#initialize()`,`error`,e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ra}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise}async _initialize(){try{let e={},t=`none`;if(So()&&(e=To(window.location.href),this._isImplicitGrantCallback(e)?t=`implicit`:await this._isPKCECallback(e)&&(t=`pkce`)),So()&&this.detectSessionInUrl&&t!==`none`){let{data:n,error:r}=await this._getSessionFromURL(e,t);if(r){if(this._debug(`#_initialize()`,`error detecting session from URL`,r),to(r)){let e=r.details?.code;if(e===`identity_already_exists`||e===`identity_not_found`||e===`single_identity_not_deletable`)return{error:r}}return{error:r}}let{session:i,redirectType:a}=n;return this._debug(`#_initialize()`,`detected session in URL`,i,`redirect type`,a),await this._saveSession(i),setTimeout(async()=>{a===`recovery`?await this._notifyAllSubscribers(`PASSWORD_RECOVERY`,i):await this._notifyAllSubscribers(`SIGNED_IN`,i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return G(e)?this._returnResult({error:e}):this._returnResult({error:new Ja(`Unexpected error during initialization`,e)})}finally{await this._handleVisibilityChange(),this._debug(`#_initialize()`,`end`)}}async signInAnonymously(e){try{let{data:t,error:n}=await q(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{data:e?.options?.data??{},gotrue_meta_security:{captcha_token:e?.options?.captchaToken}},xform:es});if(n||!t)return this._returnResult({data:{user:null,session:null},error:n});let r=t.session,i=t.user;return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers(`SIGNED_IN`,r)),this._returnResult({data:{user:i,session:r},error:null})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e,a=null,o=null;this.flowType===`pkce`&&([a,o]=await zo(this.storage,this.storageKey)),t=await q(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:{email:n,password:r,data:i?.data??{},gotrue_meta_security:{captcha_token:i?.captchaToken},code_challenge:a,code_challenge_method:o},xform:es})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await q(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{phone:n,password:r,data:i?.data??{},channel:i?.channel??`sms`,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:es})}else throw new $a(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r||!n)return await Ao(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:r});let i=n.session,a=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,i)),this._returnResult({data:{user:a,session:i},error:null})}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e;t=await q(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ts})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await q(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ts})}else throw new $a(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){let e=new Qa;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){return await this._handleProviderSignIn(e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:e.options?.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case`ethereum`:return await this.signInWithEthereum(e);case`solana`:return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(So())if(typeof i==`object`)s=i;else{let e=window;if(`ethereum`in e&&typeof e.ethereum==`object`&&`request`in e.ethereum&&typeof e.ethereum.request==`function`)s=e.ethereum;else throw Error(`@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href),l=await s.request({method:`eth_requestAccounts`}).then(e=>e).catch(()=>{throw Error(`@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid`)});if(!l||l.length===0)throw Error(`@supabase/auth-js: No accounts available. Please ensure the wallet is connected.`);let u=hs(l[0]),d=o?.signInWithEthereum?.chainId;d||=gs(await s.request({method:`eth_chainId`})),t=vs({domain:c.host,address:u,statement:a,uri:c.href,version:`1`,chainId:d,nonce:o?.signInWithEthereum?.nonce,issuedAt:o?.signInWithEthereum?.issuedAt??new Date,expirationTime:o?.signInWithEthereum?.expirationTime,notBefore:o?.signInWithEthereum?.notBefore,requestId:o?.signInWithEthereum?.requestId,resources:o?.signInWithEthereum?.resources}),n=await s.request({method:`personal_sign`,params:[_s(t),u]})}try{let{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`ethereum`,message:t,signature:n},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:es});if(i)throw i;if(!r||!r.session||!r.user){let e=new Qa;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(So())if(typeof i==`object`)s=i;else{let e=window;if(`solana`in e&&typeof e.solana==`object`&&(`signIn`in e.solana&&typeof e.solana.signIn==`function`||`signMessage`in e.solana&&typeof e.solana.signMessage==`function`))s=e.solana;else throw Error(`@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href);if(`signIn`in s&&s.signIn){let e=await s.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},o?.signInWithSolana),{version:`1`,domain:c.host,uri:c.href}),a?{statement:a}:null)),r;if(Array.isArray(e)&&e[0]&&typeof e[0]==`object`)r=e[0];else if(e&&typeof e==`object`&&`signedMessage`in e&&`signature`in e)r=e;else throw Error(`@supabase/auth-js: Wallet method signIn() returned unrecognized value`);if(`signedMessage`in r&&`signature`in r&&(typeof r.signedMessage==`string`||r.signedMessage instanceof Uint8Array)&&r.signature instanceof Uint8Array)t=typeof r.signedMessage==`string`?r.signedMessage:new TextDecoder().decode(r.signedMessage),n=r.signature;else throw Error(`@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields`)}else{if(!(`signMessage`in s)||typeof s.signMessage!=`function`||!(`publicKey`in s)||typeof s!=`object`||!s.publicKey||!(`toBase58`in s.publicKey)||typeof s.publicKey.toBase58!=`function`)throw Error(`@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API`);t=[`${c.host} wants you to sign in with your Solana account:`,s.publicKey.toBase58(),...a?[``,a,``]:[``],`Version: 1`,`URI: ${c.href}`,`Issued At: ${o?.signInWithSolana?.issuedAt??new Date().toISOString()}`,...o?.signInWithSolana?.notBefore?[`Not Before: ${o.signInWithSolana.notBefore}`]:[],...o?.signInWithSolana?.expirationTime?[`Expiration Time: ${o.signInWithSolana.expirationTime}`]:[],...o?.signInWithSolana?.chainId?[`Chain ID: ${o.signInWithSolana.chainId}`]:[],...o?.signInWithSolana?.nonce?[`Nonce: ${o.signInWithSolana.nonce}`]:[],...o?.signInWithSolana?.requestId?[`Request ID: ${o.signInWithSolana.requestId}`]:[],...o?.signInWithSolana?.resources?.length?[`Resources`,...o.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join(`
`);let e=await s.signMessage(new TextEncoder().encode(t),`utf8`);if(!e||!(e instanceof Uint8Array))throw Error(`@supabase/auth-js: Wallet signMessage() API returned an recognized value`);n=e}}try{let{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`solana`,message:t,signature:yo(n)},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:es});if(i)throw i;if(!r||!r.session||!r.user){let e=new Qa;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let[t,n]=(await ko(this.storage,`${this.storageKey}-code-verifier`)??``).split(`/`);try{if(!t&&this.flowType===`pkce`)throw new ro;let{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:es});if(await Ao(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!r||!r.session||!r.user){let e=new Qa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:i})}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:n,token:r,access_token:i,nonce:a}=e,{data:o,error:s}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:es});if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!o||!o.session||!o.user){let e=new Qa;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers(`SIGNED_IN`,o.session)),this._returnResult({data:o,error:s})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){try{if(`email`in e){let{email:t,options:n}=e,r=null,i=null;this.flowType===`pkce`&&([r,i]=await zo(this.storage,this.storageKey));let{error:a}=await q(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{email:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},code_challenge:r,code_challenge_method:i},redirectTo:n?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if(`phone`in e){let{phone:t,options:n}=e,{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},channel:n?.channel??`sms`}});return this._returnResult({data:{user:null,session:null,messageId:r?.message_id},error:i})}throw new $a(`You must provide either an email or phone number.`)}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){try{let t,n;`options`in e&&(t=e.options?.redirectTo,n=e.options?.captchaToken);let{data:r,error:i}=await q(this.fetch,`POST`,`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:t,xform:es});if(i)throw i;if(!r)throw Error(`An error occurred on token verification.`);let a=r.session,o=r.user;return a?.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type==`recovery`?`PASSWORD_RECOVERY`:`SIGNED_IN`,a)),this._returnResult({data:{user:o,session:a},error:null})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){try{let t=null,n=null;this.flowType===`pkce`&&([t,n]=await zo(this.storage,this.storageKey));let r=await q(this.fetch,`POST`,`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},`providerId`in e?{provider_id:e.providerId}:null),`domain`in e?{domain:e.domain}:null),{redirect_to:e.options?.redirectTo??void 0}),e?.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:t,code_challenge_method:n}),headers:this.headers,xform:rs});return r.data?.url&&So()&&!e.options?.skipBrowserRedirect&&window.location.assign(r.data.url),this._returnResult(r)}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Xa;let{error:r}=await q(this.fetch,`GET`,`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if(`email`in e){let{email:n,type:r,options:i}=e,{error:a}=await q(this.fetch,`POST`,t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if(`phone`in e){let{phone:n,type:r,options:i}=e,{data:a,error:o}=await q(this.fetch,`POST`,t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new $a(`You must provide either an email or phone number and a type`)}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug(`#_acquireLock`,`begin`,e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug(`#_acquireLock`,`lock acquired for storage key`,this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch{}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug(`#_acquireLock`,`lock released for storage key`,this.storageKey),this.lockAcquired=!1}})}finally{this._debug(`#_acquireLock`,`end`)}}async _useSession(e){this._debug(`#_useSession`,`begin`);try{return await e(await this.__loadSession())}finally{this._debug(`#_useSession`,`end`)}}async __loadSession(){this._debug(`#__loadSession()`,`begin`),this.lockAcquired||this._debug(`#__loadSession()`,`used outside of an acquired lock!`,Error().stack);try{let e=null,t=await ko(this.storage,this.storageKey);if(this._debug(`#getSession()`,`session from storage`,t),t!==null&&(this._isValidSession(t)?e=t:(this._debug(`#getSession()`,`session from storage is not valid`),await this._removeSession())),!e)return{data:{session:null},error:null};let n=e.expires_at?e.expires_at*1e3-Date.now()<Ba:!1;if(this._debug(`#__loadSession()`,`session has${n?``:` not`} expired`,`expires_at`,e.expires_at),!n){if(this.userStorage){let t=await ko(this.userStorage,this.storageKey+`-user`);t?.user?e.user=t.user:e.user=Ko()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let t={value:this.suppressGetSessionWarning};e.user=qo(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug(`#__loadSession()`,`end`)}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await q(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:e,xform:ns}):await this._useSession(async e=>{let{data:t,error:n}=e;if(n)throw n;return!t.session?.access_token&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xa}:await q(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:t.session?.access_token??void 0,xform:ns})})}catch(e){if(G(e))return Za(e)&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{let{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Xa;let a=r.session,o=null,s=null;this.flowType===`pkce`&&e.email!=null&&([o,s]=await zo(this.storage,this.storageKey));let{data:c,error:l}=await q(this.fetch,`PUT`,`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:a.access_token,xform:ns});if(l)throw l;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers(`USER_UPDATED`,a),this._returnResult({data:{user:a.user},error:null})})}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xa;let t=Date.now()/1e3,n=t,r=!0,i=null,{payload:a}=Mo(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){let{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:r,error:a}=await this._getUser(e.access_token);if(a)return this._returnResult({data:{user:null,session:null},error:a});i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:`bearer`,expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers(`SIGNED_IN`,i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(e){if(G(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{if(!e){let{data:n,error:r}=t;if(r)throw r;e=n.session??void 0}if(!e?.refresh_token)throw new Xa;let{data:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!So())throw new eo(`No browser detected.`);if(e.error||e.error_description||e.error_code)throw new eo(e.error_description||`Error in URL with unspecified error_description`,{error:e.error||`unspecified_error`,code:e.error_code||`unspecified_code`});switch(t){case`implicit`:if(this.flowType===`pkce`)throw new no(`Not a valid PKCE flow url.`);break;case`pkce`:if(this.flowType===`implicit`)throw new eo(`Not a valid implicit grant flow url.`);break;default:}if(t===`pkce`){if(this._debug(`#_initialize()`,`begin`,`is PKCE flow`,!0),!e.code)throw new no(`No code detected.`);let{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;let r=new URL(window.location.href);return r.searchParams.delete(`code`),window.history.replaceState(window.history.state,``,r.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:o,expires_at:s,token_type:c}=e;if(!i||!o||!a||!c)throw new eo(`No session defined in URL`);let l=Math.round(Date.now()/1e3),u=parseInt(o),d=l+u;s&&(d=parseInt(s));let f=d-l;f*1e3<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);let p=d-u;l-p>=120?console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale`,p,d,l):l-p<0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew`,p,d,l);let{data:m,error:h}=await this._getUser(i);if(h)throw h;let g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:a,token_type:c,user:m.user};return window.location.hash=``,this._debug(`#_getSessionFromURL()`,`clearing window.location.hash`),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(e){if(G(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl==`function`?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await ko(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:`global`}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:`global`}){return await this._useSession(async t=>{let{data:n,error:r}=t;if(r&&!Za(r))return this._returnResult({error:r});let i=n.session?.access_token;if(i){let{error:t}=await this.admin.signOut(i,e);if(t&&!(qa(t)&&(t.status===404||t.status===401||t.status===403)||Za(t)))return this._returnResult({error:t})}return e!==`others`&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=xo(),n={id:t,callback:e,unsubscribe:()=>{this._debug(`#unsubscribe()`,`state change callback with id removed`,t),this.stateChangeEmitters.delete(t)}};return this._debug(`#onAuthStateChange()`,`registered callback with id`,t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{try{let{data:{session:n},error:r}=t;if(r)throw r;await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,n),this._debug(`INITIAL_SESSION`,`callback id`,e,`session`,n)}catch(t){await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,null),this._debug(`INITIAL_SESSION`,`callback id`,e,`error`,t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;this.flowType===`pkce`&&([n,r]=await zo(this.storage,this.storageKey,!0));try{return await q(this.fetch,`POST`,`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){try{let{data:e,error:t}=await this.getUser();if(t)throw t;return this._returnResult({data:{identities:e.user.identities??[]},error:null})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return`token`in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){try{let{data:t,error:n}=await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;let i=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,`GET`,i,{headers:this.headers,jwt:n.session?.access_token??void 0})});if(n)throw n;return So()&&!e.options?.skipBrowserRedirect&&window.location.assign(t?.url),this._returnResult({data:{provider:e.provider,url:t?.url},error:null})}catch(t){if(G(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{try{let{error:n,data:{session:r}}=t;if(n)throw n;let{options:i,provider:a,token:o,access_token:s,nonce:c}=e,{data:l,error:u}=await q(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:r?.access_token??void 0,body:{provider:a,id_token:o,access_token:s,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:es});return u?this._returnResult({data:{user:null,session:null},error:u}):!l||!l.session||!l.user?this._returnResult({data:{user:null,session:null},error:new Qa}):(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers(`USER_UPDATED`,l.session)),this._returnResult({data:l,error:u}))}catch(e){if(await Ao(this.storage,`${this.storageKey}-code-verifier`),G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;return await q(this.fetch,`DELETE`,`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:n.session?.access_token??void 0})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,`begin`);try{let n=Date.now();return await Po(async n=>(n>0&&await No(200*2**(n-1)),this._debug(t,`refreshing attempt`,n),await q(this.fetch,`POST`,`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:es})),(e,t)=>{let r=200*2**e;return t&&ao(t)&&Date.now()+r-n<3e4})}catch(e){if(this._debug(t,`error`,e),G(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,`end`)}}_isValidSession(e){return typeof e==`object`&&!!e&&`access_token`in e&&`refresh_token`in e&&`expires_at`in e}async _handleProviderSignIn(e,t){let n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug(`#_handleProviderSignIn()`,`provider`,e,`options`,t,`url`,n),So()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){let e=`#_recoverAndRefresh()`;this._debug(e,`begin`);try{let t=await ko(this.storage,this.storageKey);if(t&&this.userStorage){let e=await ko(this.userStorage,this.storageKey+`-user`);!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!e&&(e={user:t.user},await Oo(this.userStorage,this.storageKey+`-user`,e)),t.user=e?.user??Ko()}else if(t&&!t.user&&!t.user){let e=await ko(this.storage,this.storageKey+`-user`);e&&e?.user?(t.user=e.user,await Ao(this.storage,this.storageKey+`-user`),await Oo(this.storage,this.storageKey,t)):t.user=Ko()}if(this._debug(e,`session from storage`,t),!this._isValidSession(t)){this._debug(e,`session is not valid`),t!==null&&await this._removeSession();return}let n=(t.expires_at??1/0)*1e3-Date.now()<Ba;if(this._debug(e,`session has${n?``:` not`} expired with margin of ${Ba}s`),n){if(this.autoRefreshToken&&t.refresh_token){let{error:n}=await this._callRefreshToken(t.refresh_token);n&&(console.error(n),ao(n)||(this._debug(e,`refresh failed with a non-retryable error, removing the session`,n),await this._removeSession()))}}else if(t.user&&t.user.__isUserNotAvailableProxy===!0)try{let{data:n,error:r}=await this._getUser(t.access_token);!r&&n?.user?(t.user=n.user,await this._saveSession(t),await this._notifyAllSubscribers(`SIGNED_IN`,t)):this._debug(e,`could not get user data, skipping SIGNED_IN notification`)}catch(t){console.error(`Error getting user data:`,t),this._debug(e,`error getting user data, skipping SIGNED_IN notification`,t)}else await this._notifyAllSubscribers(`SIGNED_IN`,t)}catch(t){this._debug(e,`error`,t),console.error(t);return}finally{this._debug(e,`end`)}}async _callRefreshToken(e){var t,n;if(!e)throw new Xa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,`begin`);try{this.refreshingDeferred=new jo;let{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Xa;await this._saveSession(t.session),await this._notifyAllSubscribers(`TOKEN_REFRESHED`,t.session);let r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,`error`,e),G(e)){let n={data:null,error:e};return ao(e)||await this._removeSession(),(t=this.refreshingDeferred)==null||t.resolve(n),n}throw(n=this.refreshingDeferred)==null||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,`end`)}}async _notifyAllSubscribers(e,t,n=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,`begin`,t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,`end`)}}async _saveSession(e){this._debug(`#_saveSession()`,e),this.suppressGetSessionWarning=!0,await Ao(this.storage,`${this.storageKey}-code-verifier`);let t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Oo(this.userStorage,this.storageKey+`-user`,{user:t.user});let e=Object.assign({},t);delete e.user;let r=Jo(e);await Oo(this.storage,this.storageKey,r)}else{let e=Jo(t);await Oo(this.storage,this.storageKey,e)}}async _removeSession(){this._debug(`#_removeSession()`),this.suppressGetSessionWarning=!1,await Ao(this.storage,this.storageKey),await Ao(this.storage,this.storageKey+`-code-verifier`),await Ao(this.storage,this.storageKey+`-user`),this.userStorage&&await Ao(this.userStorage,this.storageKey+`-user`),await this._notifyAllSubscribers(`SIGNED_OUT`,null)}_removeVisibilityChangedCallback(){this._debug(`#_removeVisibilityChangedCallback()`);let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&So()&&window!=null&&window.removeEventListener&&window.removeEventListener(`visibilitychange`,e)}catch(e){console.error(`removing visibilitychange callback failed`,e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug(`#_startAutoRefresh()`);let e=setInterval(()=>this._autoRefreshTokenTick(),za);this.autoRefreshTicker=e,e&&typeof e==`object`&&typeof e.unref==`function`?e.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(e);let t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t==`object`&&typeof t.unref==`function`?t.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug(`#_stopAutoRefresh()`);let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);let t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug(`#_autoRefreshTokenTick()`,`begin`);try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug(`#_autoRefreshTokenTick()`,`no session`);return}let r=Math.floor((n.expires_at*1e3-e)/za);this._debug(`#_autoRefreshTokenTick()`,`access token expires in ${r} ticks, a tick lasts ${za}ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error(`Auto refresh tick failed with error. This is likely a transient error.`,e)}}finally{this._debug(`#_autoRefreshTokenTick()`,`end`)}})}catch(e){if(e.isAcquireTimeout||e instanceof ds)this._debug(`auto refresh token tick lock not available`);else throw e}}async _handleVisibilityChange(){if(this._debug(`#_handleVisibilityChange()`),!So()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug(`#visibilityChangedCallback`,`error`,e)}},window==null||window.addEventListener(`visibilitychange`,this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error(`_handleVisibilityChange`,e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,`visibilityState`,document.visibilityState),document.visibilityState===`visible`?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!==`visible`){this._debug(t,`acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting`);return}await this._recoverAndRefresh()}))):document.visibilityState===`hidden`&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){let r=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType===`pkce`){let[e,t]=await zo(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(n?.queryParams){let e=new URLSearchParams(n.queryParams);r.push(e.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join(`&`)}`}async _unenroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;return r?this._returnResult({data:null,error:r}):await q(this.fetch,`DELETE`,`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:n?.session?.access_token})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType===`phone`?{phone:e.phone}:e.factorType===`totp`?{issuer:e.issuer}:{}),{data:a,error:o}=await q(this.fetch,`POST`,`${this.url}/factors`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(e.factorType===`totp`&&a.type===`totp`&&a?.totp?.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),this._returnResult({data:a,error:null}))})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({challenge_id:e.challengeId},`webauthn`in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type===`create`?Es(e.webauthn.credential_response):Ds(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:o}=await q(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers(`MFA_CHALLENGE_VERIFIED`,a),this._returnResult({data:a,error:o}))})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=await q(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:n?.session?.access_token});if(i.error)return i;let{data:a}=i;if(a.type!==`webauthn`)return{data:a,error:null};switch(a.webauthn.type){case`create`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ws(a.webauthn.credential_options.publicKey)})})}),error:null};case`request`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ts(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let n={all:[],phone:[],totp:[],webauthn:[]};for(let t of e?.factors??[])n.all.push(t),t.status===`verified`&&n[t.factor_type].push(t);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(e){if(e)try{let{payload:t}=Mo(e),n=null;t.aal&&(n=t.aal);let r=n,{data:{user:i},error:a}=await this.getUser(e);if(a)return this._returnResult({data:null,error:a});((i?.factors)?.filter(e=>e.status===`verified`)??[]).length>0&&(r=`aal2`);let o=t.amr||[];return{data:{currentLevel:n,nextLevel:r,currentAuthenticationMethods:o},error:null}}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}let{data:{session:t},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!t)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:r}=Mo(t.access_token),i=null;r.aal&&(i=r.aal);let a=i;(t.user.factors?.filter(e=>e.status===`verified`)??[]).length>0&&(a=`aal2`);let o=r.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:o},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await q(this.fetch,`GET`,`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Xa})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Xa});let a=await q(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`approve`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&So()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Xa});let a=await q(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`deny`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&So()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await q(this.fetch,`GET`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Xa})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await q(this.fetch,`DELETE`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xa})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;let r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>r)return n;let{data:i,error:a}=await q(this.fetch,`GET`,`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(t=>t.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}let{header:r,payload:i,signature:a,raw:{header:o,payload:s}}=Mo(n);t?.allowExpired||Ho(i.exp);let c=!r.alg||r.alg.startsWith(`HS`)||!r.kid||!(`crypto`in globalThis&&`subtle`in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!c){let{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}let l=Uo(r.alg),u=await crypto.subtle.importKey(`jwk`,c,l,!0,[`verify`]);if(!await crypto.subtle.verify(l,u,a,vo(`${o}.${s}`)))throw new so(`Invalid JWT signature`);return{data:{claims:i,header:r,signature:a},error:null}}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}};Vs.nextInstanceID={};var Hs=Vs,Us=`2.95.3`,Ws=``;Ws=typeof Deno<`u`?`deno`:typeof document<`u`?`web`:typeof navigator<`u`&&navigator.product===`ReactNative`?`react-native`:`node`;var Gs={headers:{"X-Client-Info":`supabase-js-${Ws}/${Us}`}},Ks={schema:`public`},qs={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:`implicit`},Js={};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},Ys(e)}function Xs(e,t){if(Ys(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(Ys(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function Zs(e){var t=Xs(e,`string`);return Ys(t)==`symbol`?t:t+``}function Qs(e,t,n){return(t=Zs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?$s(Object(n),!0).forEach(function(t){Qs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ec=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),tc=()=>Headers,nc=(e,t,n)=>{let r=ec(n),i=tc();return async(n,a)=>{let o=await t()??e,s=new i(a?.headers);return s.has(`apikey`)||s.set(`apikey`,e),s.has(`Authorization`)||s.set(`Authorization`,`Bearer ${o}`),r(n,J(J({},a),{},{headers:s}))}};function rc(e){return e.endsWith(`/`)?e:e+`/`}function ic(e,t){let{db:n,auth:r,realtime:i,global:a}=e,{db:o,auth:s,realtime:c,global:l}=t,u={db:J(J({},o),n),auth:J(J({},s),r),realtime:J(J({},c),i),storage:{},global:J(J(J({},l),a),{},{headers:J(J({},l?.headers??{}),a?.headers??{})}),accessToken:async()=>``};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}function ac(e){let t=e?.trim();if(!t)throw Error(`supabaseUrl is required.`);if(!t.match(/^https?:\/\//i))throw Error(`Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.`);try{return new URL(rc(t))}catch{throw Error(`Invalid supabaseUrl: Provided URL is malformed.`)}}var oc=class extends Hs{constructor(e){super(e)}},sc=class{constructor(e,t,n){this.supabaseUrl=e,this.supabaseKey=t;let r=ac(e);if(!t)throw Error(`supabaseKey is required.`);this.realtimeUrl=new URL(`realtime/v1`,r),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace(`http`,`ws`),this.authUrl=new URL(`auth/v1`,r),this.storageUrl=new URL(`storage/v1`,r),this.functionsUrl=new URL(`functions/v1`,r);let i=`sb-${r.hostname.split(`.`)[0]}-auth-token`,a={db:Ks,realtime:Js,auth:J(J({},qs),{},{storageKey:i}),global:Gs},o=ic(n??{},a);this.storageKey=o.auth.storageKey??``,this.headers=o.global.headers??{},o.accessToken?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(o.auth??{},this.headers,o.global.fetch),this.fetch=nc(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(J({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn(`Failed to set initial Realtime auth token:`,e)),this.rest=new ai(new URL(`rest/v1`,r).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new La(this.storageUrl.href,this.headers,this.fetch,n?.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new Kr(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this;if(e.accessToken)return await e.accessToken();let{data:t}=await e.auth.getSession();return t.session?.access_token??e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:s,debug:c,throwOnError:l},u,d){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oc({url:this.authUrl.href,headers:J(J({},f),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:s,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>e.toLowerCase()===`authorization`)})}_initRealtimeClient(e){return new Bi(this.realtimeUrl.href,J(J({},e),{},{params:J(J({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,`CLIENT`,t?.access_token)})}_handleTokenChanged(e,t,n){(e===`TOKEN_REFRESHED`||e===`SIGNED_IN`)&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e===`SIGNED_OUT`&&(this.realtime.setAuth(),t==`STORAGE`&&this.auth.signOut(),this.changedAccessToken=void 0)}},cc=(e,t,n)=>new sc(e,t,n);function lc(){if(typeof window<`u`)return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}lc()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`);const uc=cc(`https://nuxszmwnagecghzusapq.supabase.co`,`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51eHN6bXduYWdlY2doenVzYXBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5NzgwMTksImV4cCI6MjA4NjU1NDAxOX0.zgozaJn2G9d9yCOghx5eHZ-GYbXP2zXi-OZ9aSoPgCw`);var dc=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`);const fc={getUserPlans:async e=>{if(!dc)return[];try{let{data:t,error:n}=await uc.from(`plans`).select(`*`).eq(`user_id`,e).order(`created_at`,{ascending:!1});if(n)throw n;return t?t.map(e=>({id:e.id,uid:e.user_id,title:e.title,destination:e.destination,days:e.days,startDate:e.start_date,image:e.image,status:e.status,createdAt:new Date(e.created_at).getTime()})):[]}catch(e){return console.error(`Failed to load user plans:`,e),[]}},savePlan:async(e,t)=>{if(dc)try{let{error:n}=await uc.from(`plans`).upsert({id:e.id,user_id:t,title:e.title,destination:e.destination,days:e.days,start_date:e.startDate,image:e.image,status:e.status,updated_at:new Date().toISOString(),created_at:e.createdAt?new Date(e.createdAt).toISOString():new Date().toISOString()},{onConflict:`id`});if(n)throw n}catch(e){console.error(`Error saving plan:`,e)}},deletePlan:async e=>{if(dc)try{let{error:t}=await uc.from(`plans`).delete().eq(`id`,e);if(t)throw t}catch(e){console.error(`Error deleting plan:`,e)}}};var pc=[{id:`1`,title:`...`,location:`British Museum, London `,author:`A`,avatar:`https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&q=80&w=100`,date:`2026.01.12`,intro:`AI`,cover:`https://images.unsplash.com/photo-1569407228235-9a744831a150?q=80&w=800&auto=format&fit=crop`,likes:128,timeline:[{time:`10:00`,location:``,image:`https://images.unsplash.com/photo-1569407228235-9a744831a150?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:``,color:`amber`},{time:`11:30`,location:``,image:`https://images.unsplash.com/photo-1628498396032-687922765d78?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:`66`},{time:`13:00`,location:``,image:`https://images.unsplash.com/photo-1605559911160-a60e261f01c0?auto=format&fit=crop&q=80&w=800`,content:``},{time:`14:30`,location:``,image:`https://images.unsplash.com/photo-1580136608260-4eb11f4b64fe?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:``,color:`blue`},{time:`16:00`,location:``,image:`https://images.unsplash.com/photo-1516815231560-8f41ec531527?auto=format&fit=crop&q=80&w=800`,content:`Hoa Hakananai'a`,ai_tip:``}]},{id:`2`,title:``,location:`The Palace Museum, Beijing `,author:``,avatar:`https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&q=80&w=100`,date:`2026.02.05`,intro:``,cover:`https://images.unsplash.com/photo-1508804185872-d7badad00f7d?q=80&w=800&auto=format&fit=crop`,likes:856,timeline:[{time:`08:30`,location:``,image:`https://images.unsplash.com/photo-1599571234909-29ed5d1321d6?q=80&w=800&auto=format&fit=crop`,content:``,ai_tip:``,color:`red`},{time:`09:45`,location:``,image:`https://images.unsplash.com/photo-1600612297714-9e783d944727?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:`10`},{time:`11:00`,location:``,image:`https://images.unsplash.com/photo-1629906798628-91216b206774?auto=format&fit=crop&q=80&w=800`,content:``},{time:`13:30`,location:``,image:`https://images.unsplash.com/photo-1698762747657-37c22783686f?auto=format&fit=crop&q=80&w=800`,content:``},{time:`16:00`,location:``,image:`https://images.unsplash.com/photo-1508804185872-d7badad00f7d?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:``}]},{id:`3`,title:``,location:`Kyoto, Japan `,author:``,avatar:`https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&q=80&w=100`,date:`2026.01.28`,intro:``,cover:`https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&q=80&w=800`,likes:128,timeline:[{time:`09:00`,location:``,image:`https://images.unsplash.com/photo-1624253321171-1be53e12f5f4?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:``,color:`yellow`},{time:`11:00`,location:``,image:`https://images.unsplash.com/photo-1578469550956-0e16b69c6a3d?auto=format&fit=crop&q=80&w=800`,content:`15`,ai_tip:`15`},{time:`13:30`,location:``,image:`https://images.unsplash.com/photo-1528164344705-47542687000d?auto=format&fit=crop&q=80&w=800`,content:``},{time:`15:00`,location:``,image:`https://images.unsplash.com/photo-1626507773232-a7224266c245?auto=format&fit=crop&q=80&w=800`,content:``},{time:`17:00`,location:``,image:`https://images.unsplash.com/photo-1478436127897-769e1b3f0f36?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:``}]},{id:`4`,title:``,location:`Rome, Italy `,author:`Alice Wang`,avatar:`https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=50&auto=format&fit=crop`,date:`2026.02.10`,intro:`AI`,cover:`https://images.unsplash.com/photo-1552832230-c0197dd311b5?auto=format&fit=crop&q=80&w=800`,likes:342,timeline:[{time:`09:30`,location:``,image:`https://images.unsplash.com/photo-1552832230-c0197dd311b5?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:`80 `,color:`blue`},{time:`11:00`,location:``,image:`https://images.unsplash.com/photo-1552832230-c0197dd311b5?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:``},{time:`13:00`,location:``,image:`https://images.unsplash.com/photo-1531572753322-ad063cecc140?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:``},{time:`14:00`,location:``,image:`https://images.unsplash.com/photo-1531572753322-ad063cecc140?auto=format&fit=crop&q=80&w=800`,content:` `,ai_tip:` `,color:`pink`},{time:`17:30`,location:``,image:`https://images.unsplash.com/photo-1525874684015-58379d421a52?auto=format&fit=crop&q=80&w=800`,content:` Gelato `}]},{id:`5`,title:``,location:`Louvre Museum, Paris `,author:`Art Lover`,avatar:`https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&q=80&w=100`,date:`2026.02.14`,intro:``,cover:`https://images.unsplash.com/photo-1478391679764-b2d8b3cd1e94?auto=format&fit=crop&q=80&w=800`,likes:520,timeline:[{time:`13:00`,location:``,image:`https://images.unsplash.com/photo-1478391679764-b2d8b3cd1e94?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:`60370`,color:`blue`},{time:`14:00`,location:``,image:`https://images.unsplash.com/photo-1478391679764-b2d8b3cd1e94?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:``},{time:`15:00`,location:``,image:`https://images.unsplash.com/photo-1599940824399-b87987ced72a?auto=format&fit=crop&q=80&w=800`,content:``},{time:`16:00`,location:``,image:`https://images.unsplash.com/photo-1544211186-0610f446152a?auto=format&fit=crop&q=80&w=800`,content:``,ai_tip:``},{time:`17:30`,location:``,image:`https://images.unsplash.com/photo-1605559911160-a60e261f01c0?auto=format&fit=crop&q=80&w=800`,content:``}]}];const mc={getAll:async()=>new Promise(e=>{setTimeout(()=>{e([...pc].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()))},100)}),getRecent:async(e=5)=>(await mc.getAll()).slice(0,e),getById:async e=>new Promise(t=>{setTimeout(()=>{t(pc.find(t=>t.id===e))},50)})};var hc=()=>(0,U.jsxs)(`div`,{className:`absolute top-0 left-0 w-full h-[600px] pointer-events-none z-0`,children:[(0,U.jsx)(`img`,{src:`https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?auto=format&fit=crop&q=80&w=1080`,alt:`Artistic Background`,className:`w-full h-full object-cover opacity-[0.15] mix-blend-multiply filter sepia-[0.3] blur-[1px]`}),(0,U.jsx)(`div`,{className:`absolute bottom-0 left-0 w-full h-2/3 bg-gradient-to-b from-transparent via-stone-50/60 to-stone-50`})]}),gc=()=>{let[e,t]=(0,b.useState)([]),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)(``);(0,b.useEffect)(()=>{let e=()=>{let e=new Date().getHours();a(e>=6&&e<11?``:e>=11&&e<13?``:e>=13&&e<18?``:e>=18&&e<23?``:``)};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[]),(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`),n=null;if(e)try{let t=JSON.parse(e);n=t.id||t.uid}catch(e){console.error(`Failed to parse user`,e)}(async()=>{if(n){let e=await fc.getUserPlans(n);if(e.length>0)t(e);else{let e=localStorage.getItem(`my_plans`);e&&t(JSON.parse(e).filter(e=>e.uid===n))}}else t([])})(),(async()=>{r(await mc.getRecent(5))})()},[]);let o=e=>{if(!e)return``;let t=new Date(e);return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}`};return(0,U.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800 relative overflow-hidden`,children:[(0,U.jsx)(hc,{}),(0,U.jsx)(`header`,{className:`px-6 py-4 flex justify-between items-start bg-transparent sticky top-0 z-10 pt-8 relative`,children:(0,U.jsxs)(`div`,{children:[(0,U.jsxs)(`p`,{className:`text-xs text-stone-500 font-medium mb-1`,children:[i,``]}),(0,U.jsxs)(`h1`,{className:`text-3xl font-bold font-serif tracking-tight text-stone-900 leading-tight`,children:[``,(0,U.jsx)(`br`,{}),``]})]})}),(0,U.jsxs)(`main`,{className:`flex-1 overflow-y-auto p-4 space-y-6 pb-24 relative z-10`,children:[(0,U.jsxs)(`section`,{className:`grid grid-cols-2 gap-4`,children:[(0,U.jsxs)(vn,{to:`/guide`,className:`bg-[#1C1C1E] p-5 rounded-[2rem] shadow-lg flex flex-col justify-between h-44 active:scale-[0.98] transition-transform relative overflow-hidden group`,children:[(0,U.jsx)(`div`,{className:`absolute top-0 right-0 w-32 h-32 bg-[#2C2C2E] rounded-full blur-2xl opacity-40 -translate-y-1/2 translate-x-1/4 pointer-events-none`}),(0,U.jsx)(`div`,{className:`absolute -bottom-8 -right-8 w-48 h-48 bg-[#2C2C2E] rounded-full blur-2xl opacity-60 pointer-events-none`}),(0,U.jsx)(`div`,{className:`absolute bottom-4 right-4 w-24 h-24 bg-[#3A3A3C] rounded-full blur-xl opacity-30 pointer-events-none`}),(0,U.jsx)(`div`,{className:`w-12 h-12 bg-[#3A3A3C] rounded-full flex items-center justify-center text-[#D4B996] mb-2 relative z-10 shadow-sm`,children:(0,U.jsx)(ar,{size:24,className:`opacity-90`})}),(0,U.jsxs)(`div`,{className:`relative z-10`,children:[(0,U.jsx)(`h3`,{className:`font-bold text-white text-xl tracking-wide`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-[#8E8E93] mt-1.5 font-medium`,children:``})]})]}),(0,U.jsxs)(vn,{to:`/plan`,className:`bg-white p-5 rounded-[2rem] shadow-sm border border-stone-100 flex flex-col justify-between h-44 active:scale-[0.98] transition-transform relative overflow-hidden`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-[#F2F2F7] rounded-full flex items-center justify-center text-[#1C1C1E] mb-2`,children:(0,U.jsx)(mr,{size:24})}),(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h3`,{className:`font-bold text-[#1C1C1E] text-xl tracking-wide`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-[#8E8E93] mt-1.5 font-medium`,children:`AI `})]})]})]}),(0,U.jsxs)(`section`,{children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,U.jsx)(`h3`,{className:`text-lg font-bold font-serif text-stone-900`,children:``}),(0,U.jsxs)(vn,{to:`/plan`,className:`text-sm text-stone-500 flex items-center hover:text-stone-800 transition-colors`,children:[``,(0,U.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:`ml-0.5`,children:(0,U.jsx)(`path`,{d:`m9 18 6-6-6-6`})})]})]}),e.length>0?(0,U.jsx)(`div`,{className:`space-y-4`,children:e.slice(0,2).map(e=>(0,U.jsxs)(`div`,{className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4 active:scale-[0.99] transition-transform`,children:[(0,U.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,U.jsx)(`img`,{alt:e.destination,className:`w-full h-full object-cover`,src:e.image,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,U.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:[e.days,``]})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-lg leading-tight mb-1 line-clamp-1`,children:e.title}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,U.jsx)(mr,{size:12,className:`mr-1`}),(0,U.jsx)(`span`,{children:e.destination})]})]}),(0,U.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,U.jsxs)(`span`,{className:`text-xs text-stone-400 font-medium flex items-center`,children:[(0,U.jsx)(qn,{size:12,className:`mr-1`}),o(e.startDate)]}),(0,U.jsx)(`span`,{className:`bg-blue-50 text-blue-600 text-xs px-2 py-1 rounded-full font-medium`,children:e.status===`upcoming`?``:``})]})]})]},e.id))}):(0,U.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 text-center flex flex-col items-center justify-center`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center mb-3 text-stone-400`,children:(0,U.jsx)(hr,{size:24})}),(0,U.jsx)(`p`,{className:`text-stone-600 font-medium text-sm mb-1`,children:``}),(0,U.jsx)(`p`,{className:`text-stone-400 text-xs mb-4`,children:` AI `}),(0,U.jsxs)(vn,{to:`/plan`,className:`px-4 py-2 bg-stone-900 text-white rounded-full text-xs font-medium flex items-center hover:bg-stone-800 transition-colors`,children:[(0,U.jsx)(Sr,{size:14,className:`mr-1.5`}),``]})]})]}),(0,U.jsxs)(`section`,{children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,U.jsx)(`h3`,{className:`text-lg font-bold font-serif text-stone-900`,children:``}),(0,U.jsxs)(vn,{to:`/community`,className:`text-sm text-stone-500 flex items-center hover:text-stone-800 transition-colors`,children:[``,(0,U.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:`ml-0.5`,children:(0,U.jsx)(`path`,{d:`m9 18 6-6-6-6`})})]})]}),(0,U.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,U.jsxs)(`div`,{className:`space-y-3`,children:[(0,U.jsxs)(`div`,{className:`bg-stone-800 rounded-2xl p-4 text-white relative overflow-hidden`,children:[(0,U.jsx)(Cr,{size:24,className:`text-stone-600 mb-2`}),(0,U.jsx)(`p`,{className:`text-sm font-serif leading-relaxed mb-4 relative z-10`,children:`""`}),(0,U.jsx)(`div`,{className:`flex justify-end`,children:(0,U.jsx)(nr,{size:20,className:`text-stone-600`})}),(0,U.jsx)(`div`,{className:`absolute -bottom-4 -right-4 w-20 h-20 bg-stone-700 rounded-full opacity-20`})]}),n.filter((e,t)=>t%2!=0).map(e=>(0,U.jsxs)(vn,{to:`/travelogue/${e.id}`,className:`bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-100 block active:scale-[0.98] transition-transform`,children:[(0,U.jsxs)(`div`,{className:`h-32 bg-stone-200 relative`,children:[(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-br from-orange-400 to-red-500 opacity-0 group-hover:opacity-10 transition-opacity`}),(0,U.jsx)(`img`,{src:e.cover,alt:e.title,className:`w-full h-full object-cover relative z-10`})]}),(0,U.jsxs)(`div`,{className:`p-3`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-sm mb-2 line-clamp-2`,children:e.title}),(0,U.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-1.5`,children:[(0,U.jsx)(`img`,{src:e.avatar,className:`w-4 h-4 rounded-full`,alt:`Avatar`}),(0,U.jsx)(`span`,{className:`text-[10px] text-stone-500 truncate max-w-[60px]`,children:e.author})]}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-400 space-x-1`,children:[(0,U.jsx)(or,{size:10}),(0,U.jsx)(`span`,{className:`text-[10px]`,children:e.likes})]})]})]})]},e.id))]}),(0,U.jsx)(`div`,{className:`space-y-3`,children:n.filter((e,t)=>t%2==0).map(e=>(0,U.jsxs)(vn,{to:`/travelogue/${e.id}`,className:`bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-100 h-auto flex flex-col active:scale-[0.98] transition-transform`,children:[(0,U.jsx)(`div`,{className:`flex-1 bg-stone-200 min-h-[120px] relative`,children:(0,U.jsx)(`img`,{src:e.cover,alt:e.title,className:`w-full h-full object-cover relative z-10`})}),(0,U.jsxs)(`div`,{className:`p-3`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-sm mb-2 line-clamp-2`,children:e.title}),(0,U.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-1.5`,children:[(0,U.jsx)(`img`,{src:e.avatar,className:`w-4 h-4 rounded-full`,alt:`Avatar`}),(0,U.jsx)(`span`,{className:`text-[10px] text-stone-500 truncate max-w-[60px]`,children:e.author})]}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-400 space-x-1`,children:[(0,U.jsx)(or,{size:10}),(0,U.jsx)(`span`,{className:`text-[10px]`,children:e.likes})]})]})]})]},e.id))})]})]})]})]})};function _c(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_c(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function vc(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_c(e))&&(r&&(r+=` `),r+=t);return r}const yc=6048e5,bc=6e4,xc=36e5,Sc=3600*24;Sc*7,Sc*365.2425;const Cc=Symbol.for(`constructDateFrom`);function wc(e,t){return typeof e==`function`?e(t):e&&typeof e==`object`&&Cc in e?e[Cc](t):e instanceof Date?new e.constructor(t):new Date(t)}function Y(e,t){return wc(t||e,e)}function Tc(e,t,n){let r=Y(e,n?.in);return isNaN(t)?wc(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ec(e,t,n){let r=Y(e,n?.in);if(isNaN(t))return wc(n?.in||e,NaN);if(!t)return r;let i=r.getDate(),a=wc(n?.in||e,r.getTime());return a.setMonth(r.getMonth()+t+1,0),i>=a.getDate()?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function Dc(e,t,n){return wc(n?.in||e,+Y(e)+t)}function Oc(e,t,n){return Dc(e,t*xc,n)}var kc={};function Ac(){return kc}function jc(e,t){let n=Ac(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Y(e,t?.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Mc(e,t){return jc(e,{...t,weekStartsOn:1})}function Nc(e,t){let n=Y(e,t?.in),r=n.getFullYear(),i=wc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let a=Mc(i),o=wc(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let s=Mc(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Pc(e){let t=Y(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-+n}function Fc(e,...t){let n=wc.bind(null,e||t.find(e=>typeof e==`object`));return t.map(n)}function Ic(e,t){let n=Y(e,t?.in);return n.setHours(0,0,0,0),n}function Lc(e,t,n){let[r,i]=Fc(n?.in,e,t),a=Ic(r),o=Ic(i),s=+a-Pc(a),c=+o-Pc(o);return Math.round((s-c)/864e5)}function Rc(e,t){let n=Nc(e,t),r=wc(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Mc(r)}function zc(e,t,n){let r=Y(e,n?.in);return r.setTime(r.getTime()+t*bc),r}function Bc(e,t,n){return Ec(e,t*3,n)}function Vc(e,t,n){return Dc(e,t*1e3,n)}function Hc(e,t,n){return Tc(e,t*7,n)}function Uc(e,t,n){return Ec(e,t*12,n)}function Wc(e,t){let n,r=t?.in;return e.forEach(e=>{!r&&typeof e==`object`&&(r=wc.bind(null,e));let t=Y(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),wc(r,n||NaN)}function Gc(e,t){let n,r=t?.in;return e.forEach(e=>{!r&&typeof e==`object`&&(r=wc.bind(null,e));let t=Y(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),wc(r,n||NaN)}function Kc(e,t,n){let[r,i]=Fc(n?.in,e,t);return+Ic(r)==+Ic(i)}function qc(e){return e instanceof Date||typeof e==`object`&&Object.prototype.toString.call(e)===`[object Date]`}function Jc(e){return!(!qc(e)&&typeof e!=`number`||isNaN(+Y(e)))}function Yc(e,t,n){let[r,i]=Fc(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return a*12+o}function Xc(e,t){let n=Y(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function Zc(e,t,n){let[r,i]=Fc(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),o=Xc(r)-Xc(i);return a*4+o}function Qc(e,t,n){let[r,i]=Fc(n?.in,e,t);return r.getFullYear()-i.getFullYear()}function $c(e,t,n){let[r,i]=Fc(n?.in,e,t),a=el(r,i),o=Math.abs(Lc(r,i));r.setDate(r.getDate()-a*o);let s=a*(o-Number(el(r,i)===-a));return s===0?0:s}function el(e,t){let n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function tl(e,t){let n=Y(e,t?.in);return n.setHours(23,59,59,999),n}function nl(e,t){let n=Y(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function rl(e,t){let n=Y(e,t?.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function il(e,t){let n=Y(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function al(e,t){let n=Y(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function ol(e,t){let n=Y(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function sl(e,t){let n=Ac(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Y(e,t?.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}var cl={lessThanXSeconds:{one:`less than a second`,other:`less than {{count}} seconds`},xSeconds:{one:`1 second`,other:`{{count}} seconds`},halfAMinute:`half a minute`,lessThanXMinutes:{one:`less than a minute`,other:`less than {{count}} minutes`},xMinutes:{one:`1 minute`,other:`{{count}} minutes`},aboutXHours:{one:`about 1 hour`,other:`about {{count}} hours`},xHours:{one:`1 hour`,other:`{{count}} hours`},xDays:{one:`1 day`,other:`{{count}} days`},aboutXWeeks:{one:`about 1 week`,other:`about {{count}} weeks`},xWeeks:{one:`1 week`,other:`{{count}} weeks`},aboutXMonths:{one:`about 1 month`,other:`about {{count}} months`},xMonths:{one:`1 month`,other:`{{count}} months`},aboutXYears:{one:`about 1 year`,other:`about {{count}} years`},xYears:{one:`1 year`,other:`{{count}} years`},overXYears:{one:`over 1 year`,other:`over {{count}} years`},almostXYears:{one:`almost 1 year`,other:`almost {{count}} years`}};const ll=(e,t,n)=>{let r,i=cl[e];return r=typeof i==`string`?i:t===1?i.one:i.other.replace(`{{count}}`,t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?`in `+r:r+` ago`:r};function ul(e){return(t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const dl={date:ul({formats:{full:`EEEE, MMMM do, y`,long:`MMMM do, y`,medium:`MMM d, y`,short:`MM/dd/yyyy`},defaultWidth:`full`}),time:ul({formats:{full:`h:mm:ss a zzzz`,long:`h:mm:ss a z`,medium:`h:mm:ss a`,short:`h:mm a`},defaultWidth:`full`}),dateTime:ul({formats:{full:`{{date}} 'at' {{time}}`,long:`{{date}} 'at' {{time}}`,medium:`{{date}}, {{time}}`,short:`{{date}}, {{time}}`},defaultWidth:`full`})};var fl={lastWeek:`'last' eeee 'at' p`,yesterday:`'yesterday at' p`,today:`'today at' p`,tomorrow:`'tomorrow at' p`,nextWeek:`eeee 'at' p`,other:`P`};const pl=(e,t,n,r)=>fl[e];function ml(e){return(t,n)=>{let r=n?.context?String(n.context):`standalone`,i;if(r===`formatting`&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}let a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const hl={ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+`st`;case 2:return n+`nd`;case 3:return n+`rd`}return n+`th`},era:ml({values:{narrow:[`B`,`A`],abbreviated:[`BC`,`AD`],wide:[`Before Christ`,`Anno Domini`]},defaultWidth:`wide`}),quarter:ml({values:{narrow:[`1`,`2`,`3`,`4`],abbreviated:[`Q1`,`Q2`,`Q3`,`Q4`],wide:[`1st quarter`,`2nd quarter`,`3rd quarter`,`4th quarter`]},defaultWidth:`wide`,argumentCallback:e=>e-1}),month:ml({values:{narrow:[`J`,`F`,`M`,`A`,`M`,`J`,`J`,`A`,`S`,`O`,`N`,`D`],abbreviated:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],wide:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`]},defaultWidth:`wide`}),day:ml({values:{narrow:[`S`,`M`,`T`,`W`,`T`,`F`,`S`],short:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],abbreviated:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],wide:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`]},defaultWidth:`wide`}),dayPeriod:ml({values:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`}},defaultWidth:`wide`,formattingValues:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`}},defaultFormattingWidth:`wide`})};function gl(e){return(t,n={})=>{let r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;let o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?vl(s,e=>e.test(o)):_l(s,e=>e.test(o)),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;let u=t.slice(o.length);return{value:l,rest:u}}}function _l(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function vl(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function yl(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;let s=t.slice(i.length);return{value:o,rest:s}}}const bl={code:`en-US`,formatDistance:ll,formatLong:dl,formatRelative:pl,localize:hl,match:{ordinalNumber:yl({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:gl({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:`any`}),quarter:gl({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:`any`,valueCallback:e=>e+1}),month:gl({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:`any`}),day:gl({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:`any`}),dayPeriod:gl({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:`any`,parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:`any`})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function xl(e,t){let n=Y(e,t?.in);return Lc(n,ol(n))+1}function Sl(e,t){let n=Y(e,t?.in),r=Mc(n)-+Rc(n);return Math.round(r/yc)+1}function Cl(e,t){let n=Y(e,t?.in),r=n.getFullYear(),i=Ac(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=wc(t?.in||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);let s=jc(o,t),c=wc(t?.in||e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);let l=jc(c,t);return+n>=+s?r+1:+n>=+l?r:r-1}function wl(e,t){let n=Ac(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Cl(e,t),a=wc(t?.in||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),jc(a,t)}function Tl(e,t){let n=Y(e,t?.in),r=jc(n,t)-+wl(n,t);return Math.round(r/yc)+1}function El(e,t){return(e<0?`-`:``)+Math.abs(e).toString().padStart(t,`0`)}const Dl={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return El(t===`yy`?r%100:r,t.length)},M(e,t){let n=e.getMonth();return t===`M`?String(n+1):El(n+1,2)},d(e,t){return El(e.getDate(),t.length)},a(e,t){let n=e.getHours()/12>=1?`pm`:`am`;switch(t){case`a`:case`aa`:return n.toUpperCase();case`aaa`:return n;case`aaaaa`:return n[0];case`aaaa`:default:return n===`am`?`a.m.`:`p.m.`}},h(e,t){return El(e.getHours()%12||12,t.length)},H(e,t){return El(e.getHours(),t.length)},m(e,t){return El(e.getMinutes(),t.length)},s(e,t){return El(e.getSeconds(),t.length)},S(e,t){let n=t.length,r=e.getMilliseconds();return El(Math.trunc(r*10**(n-3)),t.length)}};var Ol={am:`am`,pm:`pm`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`};const kl={G:function(e,t,n){let r=e.getFullYear()>0?1:0;switch(t){case`G`:case`GG`:case`GGG`:return n.era(r,{width:`abbreviated`});case`GGGGG`:return n.era(r,{width:`narrow`});case`GGGG`:default:return n.era(r,{width:`wide`})}},y:function(e,t,n){if(t===`yo`){let t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:`year`})}return Dl.y(e,t)},Y:function(e,t,n,r){let i=Cl(e,r),a=i>0?i:1-i;return t===`YY`?El(a%100,2):t===`Yo`?n.ordinalNumber(a,{unit:`year`}):El(a,t.length)},R:function(e,t){return El(Nc(e),t.length)},u:function(e,t){return El(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case`Q`:return String(r);case`QQ`:return El(r,2);case`Qo`:return n.ordinalNumber(r,{unit:`quarter`});case`QQQ`:return n.quarter(r,{width:`abbreviated`,context:`formatting`});case`QQQQQ`:return n.quarter(r,{width:`narrow`,context:`formatting`});case`QQQQ`:default:return n.quarter(r,{width:`wide`,context:`formatting`})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case`q`:return String(r);case`qq`:return El(r,2);case`qo`:return n.ordinalNumber(r,{unit:`quarter`});case`qqq`:return n.quarter(r,{width:`abbreviated`,context:`standalone`});case`qqqqq`:return n.quarter(r,{width:`narrow`,context:`standalone`});case`qqqq`:default:return n.quarter(r,{width:`wide`,context:`standalone`})}},M:function(e,t,n){let r=e.getMonth();switch(t){case`M`:case`MM`:return Dl.M(e,t);case`Mo`:return n.ordinalNumber(r+1,{unit:`month`});case`MMM`:return n.month(r,{width:`abbreviated`,context:`formatting`});case`MMMMM`:return n.month(r,{width:`narrow`,context:`formatting`});case`MMMM`:default:return n.month(r,{width:`wide`,context:`formatting`})}},L:function(e,t,n){let r=e.getMonth();switch(t){case`L`:return String(r+1);case`LL`:return El(r+1,2);case`Lo`:return n.ordinalNumber(r+1,{unit:`month`});case`LLL`:return n.month(r,{width:`abbreviated`,context:`standalone`});case`LLLLL`:return n.month(r,{width:`narrow`,context:`standalone`});case`LLLL`:default:return n.month(r,{width:`wide`,context:`standalone`})}},w:function(e,t,n,r){let i=Tl(e,r);return t===`wo`?n.ordinalNumber(i,{unit:`week`}):El(i,t.length)},I:function(e,t,n){let r=Sl(e);return t===`Io`?n.ordinalNumber(r,{unit:`week`}):El(r,t.length)},d:function(e,t,n){return t===`do`?n.ordinalNumber(e.getDate(),{unit:`date`}):Dl.d(e,t)},D:function(e,t,n){let r=xl(e);return t===`Do`?n.ordinalNumber(r,{unit:`dayOfYear`}):El(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case`E`:case`EE`:case`EEE`:return n.day(r,{width:`abbreviated`,context:`formatting`});case`EEEEE`:return n.day(r,{width:`narrow`,context:`formatting`});case`EEEEEE`:return n.day(r,{width:`short`,context:`formatting`});case`EEEE`:default:return n.day(r,{width:`wide`,context:`formatting`})}},e:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case`e`:return String(a);case`ee`:return El(a,2);case`eo`:return n.ordinalNumber(a,{unit:`day`});case`eee`:return n.day(i,{width:`abbreviated`,context:`formatting`});case`eeeee`:return n.day(i,{width:`narrow`,context:`formatting`});case`eeeeee`:return n.day(i,{width:`short`,context:`formatting`});case`eeee`:default:return n.day(i,{width:`wide`,context:`formatting`})}},c:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case`c`:return String(a);case`cc`:return El(a,t.length);case`co`:return n.ordinalNumber(a,{unit:`day`});case`ccc`:return n.day(i,{width:`abbreviated`,context:`standalone`});case`ccccc`:return n.day(i,{width:`narrow`,context:`standalone`});case`cccccc`:return n.day(i,{width:`short`,context:`standalone`});case`cccc`:default:return n.day(i,{width:`wide`,context:`standalone`})}},i:function(e,t,n){let r=e.getDay(),i=r===0?7:r;switch(t){case`i`:return String(i);case`ii`:return El(i,t.length);case`io`:return n.ordinalNumber(i,{unit:`day`});case`iii`:return n.day(r,{width:`abbreviated`,context:`formatting`});case`iiiii`:return n.day(r,{width:`narrow`,context:`formatting`});case`iiiiii`:return n.day(r,{width:`short`,context:`formatting`});case`iiii`:default:return n.day(r,{width:`wide`,context:`formatting`})}},a:function(e,t,n){let r=e.getHours()/12>=1?`pm`:`am`;switch(t){case`a`:case`aa`:return n.dayPeriod(r,{width:`abbreviated`,context:`formatting`});case`aaa`:return n.dayPeriod(r,{width:`abbreviated`,context:`formatting`}).toLowerCase();case`aaaaa`:return n.dayPeriod(r,{width:`narrow`,context:`formatting`});case`aaaa`:default:return n.dayPeriod(r,{width:`wide`,context:`formatting`})}},b:function(e,t,n){let r=e.getHours(),i;switch(i=r===12?Ol.noon:r===0?Ol.midnight:r/12>=1?`pm`:`am`,t){case`b`:case`bb`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`});case`bbb`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`}).toLowerCase();case`bbbbb`:return n.dayPeriod(i,{width:`narrow`,context:`formatting`});case`bbbb`:default:return n.dayPeriod(i,{width:`wide`,context:`formatting`})}},B:function(e,t,n){let r=e.getHours(),i;switch(i=r>=17?Ol.evening:r>=12?Ol.afternoon:r>=4?Ol.morning:Ol.night,t){case`B`:case`BB`:case`BBB`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`});case`BBBBB`:return n.dayPeriod(i,{width:`narrow`,context:`formatting`});case`BBBB`:default:return n.dayPeriod(i,{width:`wide`,context:`formatting`})}},h:function(e,t,n){if(t===`ho`){let t=e.getHours()%12;return t===0&&(t=12),n.ordinalNumber(t,{unit:`hour`})}return Dl.h(e,t)},H:function(e,t,n){return t===`Ho`?n.ordinalNumber(e.getHours(),{unit:`hour`}):Dl.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return t===`Ko`?n.ordinalNumber(r,{unit:`hour`}):El(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t===`ko`?n.ordinalNumber(r,{unit:`hour`}):El(r,t.length)},m:function(e,t,n){return t===`mo`?n.ordinalNumber(e.getMinutes(),{unit:`minute`}):Dl.m(e,t)},s:function(e,t,n){return t===`so`?n.ordinalNumber(e.getSeconds(),{unit:`second`}):Dl.s(e,t)},S:function(e,t){return Dl.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(r===0)return`Z`;switch(t){case`X`:return jl(r);case`XXXX`:case`XX`:return Ml(r);case`XXXXX`:case`XXX`:default:return Ml(r,`:`)}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`x`:return jl(r);case`xxxx`:case`xx`:return Ml(r);case`xxxxx`:case`xxx`:default:return Ml(r,`:`)}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`O`:case`OO`:case`OOO`:return`GMT`+Al(r,`:`);case`OOOO`:default:return`GMT`+Ml(r,`:`)}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`z`:case`zz`:case`zzz`:return`GMT`+Al(r,`:`);case`zzzz`:default:return`GMT`+Ml(r,`:`)}},t:function(e,t,n){return El(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return El(+e,t.length)}};function Al(e,t=``){let n=e>0?`-`:`+`,r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+El(a,2)}function jl(e,t){return e%60==0?(e>0?`-`:`+`)+El(Math.abs(e)/60,2):Ml(e,t)}function Ml(e,t=``){let n=e>0?`-`:`+`,r=Math.abs(e),i=El(Math.trunc(r/60),2),a=El(r%60,2);return n+i+t+a}var Nl=(e,t)=>{switch(e){case`P`:return t.date({width:`short`});case`PP`:return t.date({width:`medium`});case`PPP`:return t.date({width:`long`});case`PPPP`:default:return t.date({width:`full`})}},Pl=(e,t)=>{switch(e){case`p`:return t.time({width:`short`});case`pp`:return t.time({width:`medium`});case`ppp`:return t.time({width:`long`});case`pppp`:default:return t.time({width:`full`})}};const Fl={p:Pl,P:(e,t)=>{let n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Nl(e,t);let a;switch(r){case`P`:a=t.dateTime({width:`short`});break;case`PP`:a=t.dateTime({width:`medium`});break;case`PPP`:a=t.dateTime({width:`long`});break;case`PPPP`:default:a=t.dateTime({width:`full`});break}return a.replace(`{{date}}`,Nl(r,t)).replace(`{{time}}`,Pl(i,t))}};var Il=/^D+$/,Ll=/^Y+$/,Rl=[`D`,`DD`,`YY`,`YYYY`];function zl(e){return Il.test(e)}function Bl(e){return Ll.test(e)}function Vl(e,t,n){let r=Hl(e,t,n);if(console.warn(r),Rl.includes(e))throw RangeError(r)}function Hl(e,t,n){let r=e[0]===`Y`?`years`:`days of the month`;return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Ul=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wl=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gl=/^'([^]*?)'?$/,Kl=/''/g,ql=/[a-zA-Z]/;function Jl(e,t,n){let r=Ac(),i=n?.locale??r.locale??bl,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Y(e,n?.in);if(!Jc(s))throw RangeError(`Invalid time value`);let c=t.match(Wl).map(e=>{let t=e[0];if(t===`p`||t===`P`){let n=Fl[t];return n(e,i.formatLong)}return e}).join(``).match(Ul).map(e=>{if(e===`''`)return{isToken:!1,value:`'`};let t=e[0];if(t===`'`)return{isToken:!1,value:Yl(e)};if(kl[t])return{isToken:!0,value:e};if(t.match(ql))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));let l={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(r=>{if(!r.isToken)return r.value;let a=r.value;(!n?.useAdditionalWeekYearTokens&&Bl(a)||!n?.useAdditionalDayOfYearTokens&&zl(a))&&Vl(a,t,String(e));let o=kl[a[0]];return o(s,a,i.localize,l)}).join(``)}function Yl(e){let t=e.match(Gl);return t?t[1].replace(Kl,`'`):e}function Xl(e,t){return Y(e,t?.in).getDate()}function Zl(e,t){return Y(e,t?.in).getDay()}function Ql(e,t){let n=Y(e,t?.in),r=n.getFullYear(),i=n.getMonth(),a=wc(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function $l(){return Object.assign({},Ac())}function eu(e,t){return Y(e,t?.in).getHours()}function tu(e,t){let n=Y(e,t?.in).getDay();return n===0?7:n}function nu(e,t){return Y(e,t?.in).getMinutes()}function ru(e,t){return Y(e,t?.in).getMonth()}function iu(e){return Y(e).getSeconds()}function au(e){return+Y(e)}function X(e,t){return Y(e,t?.in).getFullYear()}function ou(e,t){return+Y(e)>+Y(t)}function su(e,t){return+Y(e)<+Y(t)}function cu(e,t){return+Y(e)==+Y(t)}function lu(e,t){let n=uu(t)?new t(0):wc(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function uu(e){return typeof e==`function`&&e.prototype?.constructor===e}var du=10,fu=class{subPriority=0;validate(e,t){return!0}},pu=class extends fu{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}},mu=class extends fu{priority=du;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>wc(t,e))}set(e,t){return t.timestampIsSet?e:wc(e,lu(e,this.context))}},hu=class{run(e,t,n,r){let i=this.parse(e,t,n,r);return i?{setter:new pu(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}},gu=class extends hu{priority=140;parse(e,t,n){switch(t){case`G`:case`GG`:case`GGG`:return n.era(e,{width:`abbreviated`})||n.era(e,{width:`narrow`});case`GGGGG`:return n.era(e,{width:`narrow`});case`GGGG`:default:return n.era(e,{width:`wide`})||n.era(e,{width:`abbreviated`})||n.era(e,{width:`narrow`})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`R`,`u`,`t`,`T`]};const _u={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},vu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function yu(e,t){return e&&{value:t(e.value),rest:e.rest}}function bu(e,t){let n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function xu(e,t){let n=t.match(e);if(!n)return null;if(n[0]===`Z`)return{value:0,rest:t.slice(1)};let r=n[1]===`+`?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*xc+a*bc+o*1e3),rest:t.slice(n[0].length)}}function Su(e){return bu(_u.anyDigitsSigned,e)}function Cu(e,t){switch(e){case 1:return bu(_u.singleDigit,t);case 2:return bu(_u.twoDigits,t);case 3:return bu(_u.threeDigits,t);case 4:return bu(_u.fourDigits,t);default:return bu(RegExp(`^\\d{1,`+e+`}`),t)}}function wu(e,t){switch(e){case 1:return bu(_u.singleDigitSigned,t);case 2:return bu(_u.twoDigitsSigned,t);case 3:return bu(_u.threeDigitsSigned,t);case 4:return bu(_u.fourDigitsSigned,t);default:return bu(RegExp(`^-?\\d{1,`+e+`}`),t)}}function Tu(e){switch(e){case`morning`:return 4;case`evening`:return 17;case`pm`:case`noon`:case`afternoon`:return 12;case`am`:case`midnight`:case`night`:default:return 0}}function Eu(e,t){let n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{let t=r+50,n=Math.trunc(t/100)*100,a=e>=t%100;i=e+n-(a?100:0)}return n?i:1-i}function Du(e){return e%400==0||e%4==0&&e%100!=0}var Ou=class extends hu{priority=130;incompatibleTokens=[`Y`,`R`,`u`,`w`,`I`,`i`,`e`,`c`,`t`,`T`];parse(e,t,n){let r=e=>({year:e,isTwoDigitYear:t===`yy`});switch(t){case`y`:return yu(Cu(4,e),r);case`yo`:return yu(n.ordinalNumber(e,{unit:`year`}),r);default:return yu(Cu(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){let r=e.getFullYear();if(n.isTwoDigitYear){let t=Eu(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}let i=!(`era`in t)||t.era===1?n.year:1-n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}},ku=class extends hu{priority=130;parse(e,t,n){let r=e=>({year:e,isTwoDigitYear:t===`YY`});switch(t){case`Y`:return yu(Cu(4,e),r);case`Yo`:return yu(n.ordinalNumber(e,{unit:`year`}),r);default:return yu(Cu(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){let i=Cl(e,r);if(n.isTwoDigitYear){let t=Eu(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),jc(e,r)}let a=!(`era`in t)||t.era===1?n.year:1-n.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),jc(e,r)}incompatibleTokens=[`y`,`R`,`u`,`Q`,`q`,`M`,`L`,`I`,`d`,`D`,`i`,`t`,`T`]},Au=class extends hu{priority=130;parse(e,t){return wu(t===`R`?4:t.length,e)}set(e,t,n){let r=wc(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Mc(r)}incompatibleTokens=[`G`,`y`,`Y`,`u`,`Q`,`q`,`M`,`L`,`w`,`d`,`D`,`e`,`c`,`t`,`T`]},ju=class extends hu{priority=130;parse(e,t){return wu(t===`u`?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`G`,`y`,`Y`,`R`,`w`,`I`,`i`,`e`,`c`,`t`,`T`]},Mu=class extends hu{priority=120;parse(e,t,n){switch(t){case`Q`:case`QQ`:return Cu(t.length,e);case`Qo`:return n.ordinalNumber(e,{unit:`quarter`});case`QQQ`:return n.quarter(e,{width:`abbreviated`,context:`formatting`})||n.quarter(e,{width:`narrow`,context:`formatting`});case`QQQQQ`:return n.quarter(e,{width:`narrow`,context:`formatting`});case`QQQQ`:default:return n.quarter(e,{width:`wide`,context:`formatting`})||n.quarter(e,{width:`abbreviated`,context:`formatting`})||n.quarter(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`M`,`L`,`w`,`I`,`d`,`D`,`i`,`e`,`c`,`t`,`T`]},Nu=class extends hu{priority=120;parse(e,t,n){switch(t){case`q`:case`qq`:return Cu(t.length,e);case`qo`:return n.ordinalNumber(e,{unit:`quarter`});case`qqq`:return n.quarter(e,{width:`abbreviated`,context:`standalone`})||n.quarter(e,{width:`narrow`,context:`standalone`});case`qqqqq`:return n.quarter(e,{width:`narrow`,context:`standalone`});case`qqqq`:default:return n.quarter(e,{width:`wide`,context:`standalone`})||n.quarter(e,{width:`abbreviated`,context:`standalone`})||n.quarter(e,{width:`narrow`,context:`standalone`})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`Q`,`M`,`L`,`w`,`I`,`d`,`D`,`i`,`e`,`c`,`t`,`T`]},Pu=class extends hu{incompatibleTokens=[`Y`,`R`,`q`,`Q`,`L`,`w`,`I`,`D`,`i`,`e`,`c`,`t`,`T`];priority=110;parse(e,t,n){let r=e=>e-1;switch(t){case`M`:return yu(bu(_u.month,e),r);case`MM`:return yu(Cu(2,e),r);case`Mo`:return yu(n.ordinalNumber(e,{unit:`month`}),r);case`MMM`:return n.month(e,{width:`abbreviated`,context:`formatting`})||n.month(e,{width:`narrow`,context:`formatting`});case`MMMMM`:return n.month(e,{width:`narrow`,context:`formatting`});case`MMMM`:default:return n.month(e,{width:`wide`,context:`formatting`})||n.month(e,{width:`abbreviated`,context:`formatting`})||n.month(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},Fu=class extends hu{priority=110;parse(e,t,n){let r=e=>e-1;switch(t){case`L`:return yu(bu(_u.month,e),r);case`LL`:return yu(Cu(2,e),r);case`Lo`:return yu(n.ordinalNumber(e,{unit:`month`}),r);case`LLL`:return n.month(e,{width:`abbreviated`,context:`standalone`})||n.month(e,{width:`narrow`,context:`standalone`});case`LLLLL`:return n.month(e,{width:`narrow`,context:`standalone`});case`LLLL`:default:return n.month(e,{width:`wide`,context:`standalone`})||n.month(e,{width:`abbreviated`,context:`standalone`})||n.month(e,{width:`narrow`,context:`standalone`})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`Q`,`M`,`w`,`I`,`D`,`i`,`e`,`c`,`t`,`T`]};function Iu(e,t,n){let r=Y(e,n?.in),i=Tl(r,n)-t;return r.setDate(r.getDate()-i*7),Y(r,n?.in)}var Lu=class extends hu{priority=100;parse(e,t,n){switch(t){case`w`:return bu(_u.week,e);case`wo`:return n.ordinalNumber(e,{unit:`week`});default:return Cu(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return jc(Iu(e,n,r),r)}incompatibleTokens=[`y`,`R`,`u`,`q`,`Q`,`M`,`L`,`I`,`d`,`D`,`i`,`t`,`T`]};function Ru(e,t,n){let r=Y(e,n?.in),i=Sl(r,n)-t;return r.setDate(r.getDate()-i*7),r}var zu=class extends hu{priority=100;parse(e,t,n){switch(t){case`I`:return bu(_u.week,e);case`Io`:return n.ordinalNumber(e,{unit:`week`});default:return Cu(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Mc(Ru(e,n))}incompatibleTokens=[`y`,`Y`,`u`,`q`,`Q`,`M`,`L`,`w`,`d`,`D`,`e`,`c`,`t`,`T`]},Bu=[31,28,31,30,31,30,31,31,30,31,30,31],Vu=[31,29,31,30,31,30,31,31,30,31,30,31],Hu=class extends hu{priority=90;subPriority=1;parse(e,t,n){switch(t){case`d`:return bu(_u.date,e);case`do`:return n.ordinalNumber(e,{unit:`date`});default:return Cu(t.length,e)}}validate(e,t){let n=Du(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=Vu[r]:t>=1&&t<=Bu[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`Q`,`w`,`I`,`D`,`i`,`e`,`c`,`t`,`T`]},Uu=class extends hu{priority=90;subpriority=1;parse(e,t,n){switch(t){case`D`:case`DD`:return bu(_u.dayOfYear,e);case`Do`:return n.ordinalNumber(e,{unit:`date`});default:return Cu(t.length,e)}}validate(e,t){return Du(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=[`Y`,`R`,`q`,`Q`,`M`,`L`,`w`,`I`,`d`,`E`,`i`,`e`,`c`,`t`,`T`]};function Wu(e,t,n){let r=Ac(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Y(e,n?.in),o=a.getDay(),s=(t%7+7)%7,c=7-i;return Tc(a,t<0||t>6?t-(o+c)%7:(s+c)%7-(o+c)%7,n)}var Gu=class extends hu{priority=90;parse(e,t,n){switch(t){case`E`:case`EE`:case`EEE`:return n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`EEEEE`:return n.day(e,{width:`narrow`,context:`formatting`});case`EEEEEE`:return n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`EEEE`:default:return n.day(e,{width:`wide`,context:`formatting`})||n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=Wu(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=[`D`,`i`,`e`,`c`,`t`,`T`]},Ku=class extends hu{priority=90;parse(e,t,n,r){let i=e=>{let t=Math.floor((e-1)/7)*7;return(e+r.weekStartsOn+6)%7+t};switch(t){case`e`:case`ee`:return yu(Cu(t.length,e),i);case`eo`:return yu(n.ordinalNumber(e,{unit:`day`}),i);case`eee`:return n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`eeeee`:return n.day(e,{width:`narrow`,context:`formatting`});case`eeeeee`:return n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`});case`eeee`:default:return n.day(e,{width:`wide`,context:`formatting`})||n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=Wu(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=[`y`,`R`,`u`,`q`,`Q`,`M`,`L`,`I`,`d`,`D`,`E`,`i`,`c`,`t`,`T`]},qu=class extends hu{priority=90;parse(e,t,n,r){let i=e=>{let t=Math.floor((e-1)/7)*7;return(e+r.weekStartsOn+6)%7+t};switch(t){case`c`:case`cc`:return yu(Cu(t.length,e),i);case`co`:return yu(n.ordinalNumber(e,{unit:`day`}),i);case`ccc`:return n.day(e,{width:`abbreviated`,context:`standalone`})||n.day(e,{width:`short`,context:`standalone`})||n.day(e,{width:`narrow`,context:`standalone`});case`ccccc`:return n.day(e,{width:`narrow`,context:`standalone`});case`cccccc`:return n.day(e,{width:`short`,context:`standalone`})||n.day(e,{width:`narrow`,context:`standalone`});case`cccc`:default:return n.day(e,{width:`wide`,context:`standalone`})||n.day(e,{width:`abbreviated`,context:`standalone`})||n.day(e,{width:`short`,context:`standalone`})||n.day(e,{width:`narrow`,context:`standalone`})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=Wu(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=[`y`,`R`,`u`,`q`,`Q`,`M`,`L`,`I`,`d`,`D`,`E`,`i`,`e`,`t`,`T`]};function Ju(e,t,n){let r=Y(e,n?.in);return Tc(r,t-tu(r,n),n)}var Yu=class extends hu{priority=90;parse(e,t,n){let r=e=>e===0?7:e;switch(t){case`i`:case`ii`:return Cu(t.length,e);case`io`:return n.ordinalNumber(e,{unit:`day`});case`iii`:return yu(n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`}),r);case`iiiii`:return yu(n.day(e,{width:`narrow`,context:`formatting`}),r);case`iiiiii`:return yu(n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`}),r);case`iiii`:default:return yu(n.day(e,{width:`wide`,context:`formatting`})||n.day(e,{width:`abbreviated`,context:`formatting`})||n.day(e,{width:`short`,context:`formatting`})||n.day(e,{width:`narrow`,context:`formatting`}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=Ju(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=[`y`,`Y`,`u`,`q`,`Q`,`M`,`L`,`w`,`d`,`D`,`E`,`e`,`c`,`t`,`T`]},Xu=class extends hu{priority=80;parse(e,t,n){switch(t){case`a`:case`aa`:case`aaa`:return n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`aaaaa`:return n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`aaaa`:default:return n.dayPeriod(e,{width:`wide`,context:`formatting`})||n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`})}}set(e,t,n){return e.setHours(Tu(n),0,0,0),e}incompatibleTokens=[`b`,`B`,`H`,`k`,`t`,`T`]},Zu=class extends hu{priority=80;parse(e,t,n){switch(t){case`b`:case`bb`:case`bbb`:return n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`bbbbb`:return n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`bbbb`:default:return n.dayPeriod(e,{width:`wide`,context:`formatting`})||n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`})}}set(e,t,n){return e.setHours(Tu(n),0,0,0),e}incompatibleTokens=[`a`,`B`,`H`,`k`,`t`,`T`]},Qu=class extends hu{priority=80;parse(e,t,n){switch(t){case`B`:case`BB`:case`BBB`:return n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`BBBBB`:return n.dayPeriod(e,{width:`narrow`,context:`formatting`});case`BBBB`:default:return n.dayPeriod(e,{width:`wide`,context:`formatting`})||n.dayPeriod(e,{width:`abbreviated`,context:`formatting`})||n.dayPeriod(e,{width:`narrow`,context:`formatting`})}}set(e,t,n){return e.setHours(Tu(n),0,0,0),e}incompatibleTokens=[`a`,`b`,`t`,`T`]},$u=class extends hu{priority=70;parse(e,t,n){switch(t){case`h`:return bu(_u.hour12h,e);case`ho`:return n.ordinalNumber(e,{unit:`hour`});default:return Cu(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){let r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):!r&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=[`H`,`K`,`k`,`t`,`T`]},ed=class extends hu{priority=70;parse(e,t,n){switch(t){case`H`:return bu(_u.hour23h,e);case`Ho`:return n.ordinalNumber(e,{unit:`hour`});default:return Cu(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=[`a`,`b`,`h`,`K`,`k`,`t`,`T`]},td=class extends hu{priority=70;parse(e,t,n){switch(t){case`K`:return bu(_u.hour11h,e);case`Ko`:return n.ordinalNumber(e,{unit:`hour`});default:return Cu(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=[`h`,`H`,`k`,`t`,`T`]},nd=class extends hu{priority=70;parse(e,t,n){switch(t){case`k`:return bu(_u.hour24h,e);case`ko`:return n.ordinalNumber(e,{unit:`hour`});default:return Cu(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){let r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=[`a`,`b`,`h`,`H`,`K`,`t`,`T`]},rd=class extends hu{priority=60;parse(e,t,n){switch(t){case`m`:return bu(_u.minute,e);case`mo`:return n.ordinalNumber(e,{unit:`minute`});default:return Cu(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=[`t`,`T`]},id=class extends hu{priority=50;parse(e,t,n){switch(t){case`s`:return bu(_u.second,e);case`so`:return n.ordinalNumber(e,{unit:`second`});default:return Cu(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=[`t`,`T`]},ad=class extends hu{priority=30;parse(e,t){return yu(Cu(t.length,e),e=>Math.trunc(e*10**(-t.length+3)))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=[`t`,`T`]},od=class extends hu{priority=10;parse(e,t){switch(t){case`X`:return xu(vu.basicOptionalMinutes,e);case`XX`:return xu(vu.basic,e);case`XXXX`:return xu(vu.basicOptionalSeconds,e);case`XXXXX`:return xu(vu.extendedOptionalSeconds,e);case`XXX`:default:return xu(vu.extended,e)}}set(e,t,n){return t.timestampIsSet?e:wc(e,e.getTime()-Pc(e)-n)}incompatibleTokens=[`t`,`T`,`x`]},sd=class extends hu{priority=10;parse(e,t){switch(t){case`x`:return xu(vu.basicOptionalMinutes,e);case`xx`:return xu(vu.basic,e);case`xxxx`:return xu(vu.basicOptionalSeconds,e);case`xxxxx`:return xu(vu.extendedOptionalSeconds,e);case`xxx`:default:return xu(vu.extended,e)}}set(e,t,n){return t.timestampIsSet?e:wc(e,e.getTime()-Pc(e)-n)}incompatibleTokens=[`t`,`T`,`X`]},cd=class extends hu{priority=40;parse(e){return Su(e)}set(e,t,n){return[wc(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens=`*`},ld=class extends hu{priority=20;parse(e){return Su(e)}set(e,t,n){return[wc(e,n),{timestampIsSet:!0}]}incompatibleTokens=`*`};const ud={G:new gu,y:new Ou,Y:new ku,R:new Au,u:new ju,Q:new Mu,q:new Nu,M:new Pu,L:new Fu,w:new Lu,I:new zu,d:new Hu,D:new Uu,E:new Gu,e:new Ku,c:new qu,i:new Yu,a:new Xu,b:new Zu,B:new Qu,h:new $u,H:new ed,K:new td,k:new nd,m:new rd,s:new id,S:new ad,X:new od,x:new sd,t:new cd,T:new ld};var dd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pd=/^'([^]*?)'?$/,md=/''/g,hd=/\S/,gd=/[a-zA-Z]/;function _d(e,t,n,r){let i=()=>wc(r?.in||n,NaN),a=$l(),o=r?.locale??a.locale??bl,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!t)return e?i():Y(n,r?.in);let l={firstWeekContainsDate:s,weekStartsOn:c,locale:o},u=[new mu(r?.in,n)],d=t.match(fd).map(e=>{let t=e[0];if(t in Fl){let n=Fl[t];return n(e,o.formatLong)}return e}).join(``).match(dd),f=[];for(let n of d){!r?.useAdditionalWeekYearTokens&&Bl(n)&&Vl(n,t,e),!r?.useAdditionalDayOfYearTokens&&zl(n)&&Vl(n,t,e);let a=n[0],s=ud[a];if(s){let{incompatibleTokens:t}=s;if(Array.isArray(t)){let e=f.find(e=>t.includes(e.token)||e.token===a);if(e)throw RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${n}\` at the same time`)}else if(s.incompatibleTokens===`*`&&f.length>0)throw RangeError(`The format string mustn't contain \`${n}\` and any other token at the same time`);f.push({token:a,fullToken:n});let r=s.run(e,n,o.match,l);if(!r)return i();u.push(r.setter),e=r.rest}else{if(a.match(gd))throw RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");if(n===`''`?n=`'`:a===`'`&&(n=vd(n)),e.indexOf(n)===0)e=e.slice(n.length);else return i()}}if(e.length>0&&hd.test(e))return i();let p=u.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>u.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]),m=Y(n,r?.in);if(isNaN(+m))return i();let h={};for(let e of p){if(!e.validate(m,l))return i();let t=e.set(m,h,l);Array.isArray(t)?(m=t[0],Object.assign(h,t[1])):m=t}return m}function vd(e){return e.match(pd)[1].replace(md,`'`)}function yd(e,t,n){let[r,i]=Fc(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function bd(e,t,n){let[r,i]=Fc(n?.in,e,t);return+rl(r)==+rl(i)}function xd(e,t,n){let[r,i]=Fc(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function Z(e,t,n){let r=+Y(e,n?.in),[i,a]=[+Y(t.start,n?.in),+Y(t.end,n?.in)].sort((e,t)=>e-t);return r>=i&&r<=a}function Sd(e,t,n){return Tc(e,-t,n)}function Cd(e,t){let n=()=>wc(t?.in,NaN),r=t?.additionalDigits??2,i=Od(e),a;if(i.date){let e=kd(i.date,r);a=Ad(e.restDateString,e.year)}if(!a||isNaN(+a))return n();let o=+a,s=0,c;if(i.time&&(s=Md(i.time),isNaN(s)))return n();if(i.timezone){if(c=Pd(i.timezone),isNaN(c))return n()}else{let e=new Date(o+s),n=Y(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return Y(o+s+c,t?.in)}var wd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Td=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ed=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Dd=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Od(e){let t={},n=e.split(wd.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],wd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wd.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){let e=wd.timezone.exec(r);e?(t.time=r.replace(e[1],``),t.timezone=e[1]):t.time=r}return t}function kd(e,t){let n=RegExp(`^(?:(\\d{4}|[+-]\\d{`+(4+t)+`})|(\\d{2}|[+-]\\d{`+(2+t)+`})$)`),r=e.match(n);if(!r)return{year:NaN,restDateString:``};let i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function Ad(e,t){if(t===null)return new Date(NaN);let n=e.match(Td);if(!n)return new Date(NaN);let r=!!n[4],i=jd(n[1]),a=jd(n[2])-1,o=jd(n[3]),s=jd(n[4]),c=jd(n[5])-1;if(r)return Bd(t,s,c)?Fd(t,s,c):new Date(NaN);{let e=new Date(0);return!Rd(t,a,o)||!zd(t,i)?new Date(NaN):(e.setUTCFullYear(t,a,Math.max(i,o)),e)}}function jd(e){return e?parseInt(e):1}function Md(e){let t=e.match(Ed);if(!t)return NaN;let n=Nd(t[1]),r=Nd(t[2]),i=Nd(t[3]);return Vd(n,r,i)?n*xc+r*bc+i*1e3:NaN}function Nd(e){return e&&parseFloat(e.replace(`,`,`.`))||0}function Pd(e){if(e===`Z`)return 0;let t=e.match(Dd);if(!t)return 0;let n=t[1]===`+`?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Hd(r,i)?n*(r*xc+i*bc):NaN}function Fd(e,t,n){let r=new Date(0);r.setUTCFullYear(e,0,4);let i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var Id=[31,null,31,30,31,30,31,31,30,31,30,31];function Ld(e){return e%400==0||e%4==0&&e%100!=0}function Rd(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Id[t]||(Ld(e)?29:28))}function zd(e,t){return t>=1&&t<=(Ld(e)?366:365)}function Bd(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Vd(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Hd(e,t){return t>=0&&t<=59}function Ud(e,t,n){let r=Y(e,n?.in),i=r.getFullYear(),a=r.getDate(),o=wc(n?.in||e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);let s=Ql(o);return r.setMonth(t,Math.min(a,s)),r}function Wd(e,t,n){let r=Y(e,n?.in);return r.setHours(t),r}function Gd(e,t,n){let r=Y(e,n?.in);return r.setMinutes(t),r}function Kd(e,t,n){let r=Y(e,n?.in),i=t-(Math.trunc(r.getMonth()/3)+1);return Ud(r,r.getMonth()+i*3)}function qd(e,t,n){let r=Y(e,n?.in);return r.setSeconds(t),r}function Jd(e,t,n){let r=Y(e,n?.in);return isNaN(+r)?wc(n?.in||e,NaN):(r.setFullYear(t),r)}function Yd(e,t,n){return Ec(e,-t,n)}function Xd(e,t,n){return Bc(e,-t,n)}function Zd(e,t,n){return Hc(e,-t,n)}function Qd(e,t,n){return Uc(e,-t,n)}function $d(){return typeof window<`u`}function ef(e){return rf(e)?(e.nodeName||``).toLowerCase():`#document`}function tf(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nf(e){return((rf(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function rf(e){return $d()?e instanceof Node||e instanceof tf(e).Node:!1}function af(e){return $d()?e instanceof Element||e instanceof tf(e).Element:!1}function of(e){return $d()?e instanceof HTMLElement||e instanceof tf(e).HTMLElement:!1}function sf(e){return!$d()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof tf(e).ShadowRoot}var cf=new Set([`inline`,`contents`]);function lf(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=Sf(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!cf.has(i)}var uf=new Set([`table`,`td`,`th`]);function df(e){return uf.has(ef(e))}var ff=[`:popover-open`,`:modal`];function pf(e){return ff.some(t=>{try{return e.matches(t)}catch{return!1}})}var mf=[`transform`,`translate`,`scale`,`rotate`,`perspective`],hf=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],gf=[`paint`,`layout`,`strict`,`content`];function _f(e){let t=yf(),n=af(e)?Sf(e):e;return mf.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||hf.some(e=>(n.willChange||``).includes(e))||gf.some(e=>(n.contain||``).includes(e))}function vf(e){let t=wf(e);for(;of(t)&&!xf(t);){if(_f(t))return t;if(pf(t))return null;t=wf(t)}return null}function yf(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var bf=new Set([`html`,`body`,`#document`]);function xf(e){return bf.has(ef(e))}function Sf(e){return tf(e).getComputedStyle(e)}function Cf(e){return af(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wf(e){if(ef(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||sf(e)&&e.host||nf(e);return sf(t)?t.host:t}function Tf(e){let t=wf(e);return xf(t)?e.ownerDocument?e.ownerDocument.body:e.body:of(t)&&lf(t)?t:Tf(t)}function Ef(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=Tf(e),i=r===e.ownerDocument?.body,a=tf(r);if(i){let e=Df(a);return t.concat(a,a.visualViewport||[],lf(r)?r:[],e&&n?Ef(e):[])}return t.concat(r,Ef(r,[],n))}function Df(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var Of=Math.min,kf=Math.max,Af=Math.round,jf=Math.floor,Mf=e=>({x:e,y:e}),Nf={left:`right`,right:`left`,bottom:`top`,top:`bottom`},Pf={start:`end`,end:`start`};function Ff(e,t,n){return kf(e,Of(t,n))}function If(e,t){return typeof e==`function`?e(t):e}function Lf(e){return e.split(`-`)[0]}function Rf(e){return e.split(`-`)[1]}function zf(e){return e===`x`?`y`:`x`}function Bf(e){return e===`y`?`height`:`width`}var Vf=new Set([`top`,`bottom`]);function Hf(e){return Vf.has(Lf(e))?`y`:`x`}function Uf(e){return zf(Hf(e))}function Wf(e,t,n){n===void 0&&(n=!1);let r=Rf(e),i=Uf(e),a=Bf(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=$f(o)),[o,$f(o)]}function Gf(e){let t=$f(e);return[Kf(e),t,Kf(t)]}function Kf(e){return e.replace(/start|end/g,e=>Pf[e])}var qf=[`left`,`right`],Jf=[`right`,`left`],Yf=[`top`,`bottom`],Xf=[`bottom`,`top`];function Zf(e,t,n){switch(e){case`top`:case`bottom`:return n?t?Jf:qf:t?qf:Jf;case`left`:case`right`:return t?Yf:Xf;default:return[]}}function Qf(e,t,n,r){let i=Rf(e),a=Zf(Lf(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(Kf)))),a}function $f(e){return e.replace(/left|right|bottom|top/g,e=>Nf[e])}function ep(e){return{top:0,right:0,bottom:0,left:0,...e}}function tp(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:ep(e)}function np(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var rp=typeof document<`u`?b.useLayoutEffect:function(){},ip={...b}.useInsertionEffect||(e=>e());function ap(e){let t=b.useRef(()=>{});return ip(()=>{t.current=e}),b.useCallback(function(){var e=[...arguments];return t.current==null?void 0:t.current(...e)},[])}var op=u(_(),1);function sp(e,t,n){let{reference:r,floating:i}=e,a=Hf(t),o=Uf(t),s=Bf(o),c=Lf(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Rf(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}async function cp(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=If(t,e),p=tp(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=np(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=np(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var lp=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=sp(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:{...o,detectOverflow:o.detectOverflow??cp},elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=sp(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}},up=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=If(e,t)||{};if(l==null)return{};let d=tp(u),f={x:n,y:r},p=Uf(i),m=Bf(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,ee=Of(d[_],T),E=Of(d[v],T),D=ee,te=C-h[m]-E,O=C/2-h[m]/2+w,ne=Ff(D,O,te),k=!c.arrow&&Rf(i)!=null&&O!==ne&&a.reference[m]/2-(O<D?ee:E)-h[m]/2<0,re=k?O<D?O-D:O-te:0;return{[p]:f[p]+re,data:{[p]:ne,centerOffset:O-ne-re,...k&&{alignmentOffset:re}},reset:k}}}),dp=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=If(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=Lf(r),_=Hf(o),v=Lf(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[$f(o)]:Gf(o)),x=p!==`none`;!d&&x&&b.push(...Qf(o,m,p,y));let S=[o,...b],C=await s.detectOverflow(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=Wf(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==Hf(t))||T.every(e=>Hf(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=Hf(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}},fp=new Set([`left`,`top`]);async function pp(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Lf(n),s=Rf(n),c=Hf(n)===`y`,l=fp.has(o)?-1:1,u=a&&c?-1:1,d=If(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var mp=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await pp(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}};function hp(e){let t=Sf(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=of(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Af(n)!==a||Af(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function gp(e){return af(e)?e:e.contextElement}function _p(e){let t=gp(e);if(!of(t))return Mf(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=hp(t),o=(a?Af(n.width):n.width)/r,s=(a?Af(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var vp=Mf(0);function yp(e){let t=tf(e);return!yf()||!t.visualViewport?vp:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bp(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tf(e)?!1:t}function xp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=gp(e),o=Mf(1);t&&(r?af(r)&&(o=_p(r)):o=_p(e));let s=bp(a,n,r)?yp(a):Mf(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=tf(a),t=r&&af(r)?tf(r):r,n=e,i=Df(n);for(;i&&r&&t!==n;){let e=_p(i),t=i.getBoundingClientRect(),r=Sf(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=tf(i),i=Df(n)}}return np({width:u,height:d,x:c,y:l})}function Sp(e,t){let n=Cf(e).scrollLeft;return t?t.left+n:xp(nf(e)).left+n}function Cp(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-Sp(e,n),y:n.top+t.scrollTop}}function wp(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=nf(r),s=t?pf(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=Mf(1),u=Mf(0),d=of(r);if((d||!d&&!a)&&((ef(r)!==`body`||lf(o))&&(c=Cf(r)),of(r))){let e=xp(r);l=_p(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?Cp(o,c):Mf(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function Tp(e){return Array.from(e.getClientRects())}function Ep(e){let t=nf(e),n=Cf(e),r=e.ownerDocument.body,i=kf(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=kf(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+Sp(e),s=-n.scrollTop;return Sf(r).direction===`rtl`&&(o+=kf(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var Dp=25;function Op(e,t){let n=tf(e),r=nf(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=yf();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=Sp(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=Dp&&(a-=o)}else l<=Dp&&(a+=l);return{width:a,height:o,x:s,y:c}}var kp=new Set([`absolute`,`fixed`]);function Ap(e,t){let n=xp(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=of(e)?_p(e):Mf(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function jp(e,t,n){let r;if(t===`viewport`)r=Op(e,n);else if(t===`document`)r=Ep(nf(e));else if(af(t))r=Ap(t,n);else{let n=yp(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return np(r)}function Mp(e,t){let n=wf(e);return n===t||!af(n)||xf(n)?!1:Sf(n).position===`fixed`||Mp(n,t)}function Np(e,t){let n=t.get(e);if(n)return n;let r=Ef(e,[],!1).filter(e=>af(e)&&ef(e)!==`body`),i=null,a=Sf(e).position===`fixed`,o=a?wf(e):e;for(;af(o)&&!xf(o);){let t=Sf(o),n=_f(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&kp.has(i.position)||lf(o)&&!n&&Mp(e,o))?r=r.filter(e=>e!==o):i=t,o=wf(o)}return t.set(e,r),r}function Pp(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?pf(t)?[]:Np(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=jp(t,n,i);return e.top=kf(r.top,e.top),e.right=Of(r.right,e.right),e.bottom=Of(r.bottom,e.bottom),e.left=kf(r.left,e.left),e},jp(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Fp(e){let{width:t,height:n}=hp(e);return{width:t,height:n}}function Ip(e,t,n){let r=of(t),i=nf(t),a=n===`fixed`,o=xp(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=Mf(0);function l(){c.x=Sp(i)}if(r||!r&&!a)if((ef(t)!==`body`||lf(i))&&(s=Cf(t)),r){let e=xp(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?Cp(i,s):Mf(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function Lp(e){return Sf(e).position===`static`}function Rp(e,t){if(!of(e)||Sf(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return nf(e)===n&&(n=n.ownerDocument.body),n}function zp(e,t){let n=tf(e);if(pf(e))return n;if(!of(e)){let t=wf(e);for(;t&&!xf(t);){if(af(t)&&!Lp(t))return t;t=wf(t)}return n}let r=Rp(e,t);for(;r&&df(r)&&Lp(r);)r=Rp(r,t);return r&&xf(r)&&Lp(r)&&!_f(r)?n:r||vf(e)||n}var Bp=async function(e){let t=this.getOffsetParent||zp,n=this.getDimensions,r=await n(e.floating);return{reference:Ip(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Vp(e){return Sf(e).direction===`rtl`}var Hp={convertOffsetParentRelativeRectToViewportRelativeRect:wp,getDocumentElement:nf,getClippingRect:Pp,getOffsetParent:zp,getElementRects:Bp,getClientRects:Tp,getDimensions:Fp,getScale:_p,isElement:af,isRTL:Vp};function Up(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wp(e,t){let n=null,r,i=nf(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=jf(d),h=jf(i.clientWidth-(u+f)),g=jf(i.clientHeight-(d+p)),_=jf(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:kf(0,Of(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!Up(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function Gp(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=gp(e),u=i||a?[...l?Ef(l):[],...Ef(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?Wp(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?xp(e):null;c&&g();function g(){let t=xp(e);h&&!Up(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var Kp=mp,qp=dp,Jp=up,Yp=(e,t,n)=>{let r=new Map,i={platform:Hp,...n},a={...i.platform,_c:r};return lp(e,t,{...i,platform:a})},Xp=typeof document<`u`?b.useLayoutEffect:function(){};function Zp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e==`function`&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e==`object`){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Zp(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let n=i[r];if(!(n===`_owner`&&e.$$typeof)&&!Zp(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Qp(e){return typeof window>`u`?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $p(e,t){let n=Qp(e);return Math.round(t*n)/n}function em(e){let t=b.useRef(e);return Xp(()=>{t.current=e}),t}function tm(e){e===void 0&&(e={});let{placement:t=`bottom`,strategy:n=`absolute`,middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=e,[u,d]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=b.useState(r);Zp(f,r)||p(r);let[m,h]=b.useState(null),[g,_]=b.useState(null),v=b.useCallback(e=>{e!==C.current&&(C.current=e,h(e))},[]),y=b.useCallback(e=>{e!==w.current&&(w.current=e,_(e))},[]),x=a||m,S=o||g,C=b.useRef(null),w=b.useRef(null),T=b.useRef(u),ee=c!=null,E=em(c),D=em(i),te=em(l),O=b.useCallback(()=>{if(!C.current||!w.current)return;let e={placement:t,strategy:n,middleware:f};D.current&&(e.platform=D.current),Yp(C.current,w.current,e).then(e=>{let t={...e,isPositioned:te.current!==!1};ne.current&&!Zp(T.current,t)&&(T.current=t,op.flushSync(()=>{d(t)}))})},[f,t,n,D,te]);Xp(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[l]);let ne=b.useRef(!1);Xp(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Xp(()=>{if(x&&(C.current=x),S&&(w.current=S),x&&S){if(E.current)return E.current(x,S,O);O()}},[x,S,O,E,ee]);let k=b.useMemo(()=>({reference:C,floating:w,setReference:v,setFloating:y}),[v,y]),re=b.useMemo(()=>({reference:x,floating:S}),[x,S]),A=b.useMemo(()=>{let e={position:n,left:0,top:0};if(!re.floating)return e;let t=$p(re.floating,u.x),r=$p(re.floating,u.y);return s?{...e,transform:`translate(`+t+`px, `+r+`px)`,...Qp(re.floating)>=1.5&&{willChange:`transform`}}:{position:n,left:t,top:r}},[n,s,re.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:O,refs:k,elements:re,floatingStyles:A}),[u,O,k,re,A])}var nm=e=>{function t(e){return{}.hasOwnProperty.call(e,`current`)}return{name:`arrow`,options:e,fn(n){let{element:r,padding:i}=typeof e==`function`?e(n):e;return r&&t(r)?r.current==null?{}:Jp({element:r.current,padding:i}).fn(n):r?Jp({element:r,padding:i}).fn(n):{}}}},rm=(e,t)=>({...Kp(e),options:[e,t]}),im=(e,t)=>({...qp(e),options:[e,t]}),am=(e,t)=>({...nm(e),options:[e,t]});_();var om=`ArrowLeft`,sm=`ArrowRight`,cm=`ArrowUp`,lm=`ArrowDown`,um=[om,sm],dm=[cm,lm];[...um,...dm];var fm={...b},pm=!1,mm=0,hm=()=>`floating-ui-`+Math.random().toString(36).slice(2,6)+ mm++;function gm(){let[e,t]=b.useState(()=>pm?hm():void 0);return rp(()=>{e??t(hm())},[]),b.useEffect(()=>{pm=!0},[]),e}var _m=fm.useId||gm,vm=b.forwardRef(function(e,t){let{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i,shift:a}},width:o=14,height:s=7,tipRadius:c=0,strokeWidth:l=0,staticOffset:u,stroke:d,d:f,style:{transform:p,...m}={},...h}=e,g=_m(),[_,v]=b.useState(!1);if(rp(()=>{r&&Sf(r).direction===`rtl`&&v(!0)},[r]),!r)return null;let[y,x]=n.split(`-`),S=y===`top`||y===`bottom`,C=u;(S&&a!=null&&a.x||!S&&a!=null&&a.y)&&(C=null);let w=l*2,T=w/2,ee=o/2*(c/-8+1),E=s/2*c/4,D=!!f,te=C&&x===`end`?`bottom`:`top`,O=C&&x===`end`?`right`:`left`;C&&_&&(O=x===`end`?`left`:`right`);let ne=i?.x==null?``:C||i.x,k=i?.y==null?``:C||i.y,re=f||`M0,0`+(` H`+o)+(` L`+(o-ee)+`,`+(s-E))+(` Q`+o/2+`,`+s+` `+ee+`,`+(s-E))+` Z`,A={top:D?`rotate(180deg)`:``,left:D?`rotate(90deg)`:`rotate(-90deg)`,bottom:D?``:`rotate(180deg)`,right:D?`rotate(-90deg)`:`rotate(90deg)`}[y];return(0,U.jsxs)(`svg`,{...h,"aria-hidden":!0,ref:t,width:D?o:o+w,height:o,viewBox:`0 0 `+o+` `+(s>o?s:o),style:{position:`absolute`,pointerEvents:`none`,[O]:ne,[te]:k,[y]:S||D?`100%`:`calc(100% - `+w/2+`px)`,transform:[A,p].filter(e=>!!e).join(` `),...m},children:[w>0&&(0,U.jsx)(`path`,{clipPath:`url(#`+g+`)`,fill:`none`,stroke:d,strokeWidth:w+(f?0:1),d:re}),(0,U.jsx)(`path`,{stroke:w&&!f?h.fill:`none`,d:re}),(0,U.jsx)(`clipPath`,{id:g,children:(0,U.jsx)(`rect`,{x:-T,y:T*(D?-1:1),width:o+w,height:o})})]})});function ym(){let e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}var bm=b.createContext(null),xm=b.createContext(null),Sm=()=>b.useContext(bm)?.id||null,Cm=()=>b.useContext(xm);function wm(e){let{open:t=!1,onOpenChange:n,elements:r}=e,i=_m(),a=b.useRef({}),[o]=b.useState(()=>ym()),s=Sm()!=null,[c,l]=b.useState(r.reference),u=ap((e,t,r)=>{a.current.openEvent=e?t:void 0,o.emit(`openchange`,{open:e,event:t,reason:r,nested:s}),n?.(e,t,r)}),d=b.useMemo(()=>({setPositionReference:l}),[]),f=b.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return b.useMemo(()=>({dataRef:a,open:t,onOpenChange:u,elements:f,events:o,floatingId:i,refs:d}),[t,u,f,o,i,d])}function Tm(e){e===void 0&&(e={});let{nodeId:t}=e,n=wm({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,o]=b.useState(null),[s,c]=b.useState(null),l=i?.domReference||a,u=b.useRef(null),d=Cm();rp(()=>{l&&(u.current=l)},[l]);let f=tm({...e,elements:{...i,...s&&{reference:s}}}),p=b.useCallback(e=>{let t=af(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),f.refs.setReference(t)},[f.refs]),m=b.useCallback(e=>{(af(e)||e===null)&&(u.current=e,o(e)),(af(f.refs.reference.current)||f.refs.reference.current===null||e!==null&&!af(e))&&f.refs.setReference(e)},[f.refs]),h=b.useMemo(()=>({...f.refs,setReference:m,setPositionReference:p,domReference:u}),[f.refs,m,p]),g=b.useMemo(()=>({...f.elements,domReference:l}),[f.elements,l]),_=b.useMemo(()=>({...f,...r,refs:h,elements:g,nodeId:t}),[f,h,g,t,r]);return rp(()=>{r.dataRef.current.floatingContext=_;let e=d?.nodesRef.current.find(e=>e.id===t);e&&(e.context=_)}),b.useMemo(()=>({...f,context:_,refs:h,elements:g}),[f,h,g,_])}var Em=c({default:()=>Dm}),Dm,Om=o((()=>{throw Dm={},Error(`Could not resolve "date-fns-tz" imported by "react-datepicker". Is it installed?`)})),km=u(_()),Am=function(e,t){return Am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Am(e,t)};function jm(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);Am(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Mm=function(){return Mm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mm.apply(this,arguments)};function Nm(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Pm=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,a=e.className,o=e.children,s=e.inline,c=n?`Choose Time`:`Choose Date${i?` and Time`:``}`;return b.createElement(`div`,{className:a,"aria-label":c,role:s?void 0:`dialog`,"aria-modal":s?void 0:`true`,translate:`no`},o)},Fm=function(e,t){var n=(0,b.useRef)(null),r=(0,b.useRef)(e);(0,b.useEffect)(function(){r.current=e},[e]);var i=(0,b.useCallback)(function(e){var i,a=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(a)&&(t&&a instanceof HTMLElement&&a.classList.contains(t)||(i=r.current)==null||i.call(r,e))},[t]);return(0,b.useEffect)(function(){return document.addEventListener(`mousedown`,i),function(){document.removeEventListener(`mousedown`,i)}},[i]),n},Im=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,o=e.ignoreClass,s=Fm(n,o);return b.createElement(`div`,{className:r,style:a,ref:function(e){s.current=e,i&&(i.current=e)}},t)},Lm=null,Rm=!1;function zm(){if(Rm)return Lm;Rm=!0;try{Lm=(Om(),d(Em))}catch{Lm=null}return Lm}function Bm(e,t){if(!t)return e;var n=zm();return n?n.toZonedTime(e,t):e}function Vm(e,t){if(!t)return e;var n=zm();return n?n.fromZonedTime(e,t):e}var Q;(function(e){e.ArrowUp=`ArrowUp`,e.ArrowDown=`ArrowDown`,e.ArrowLeft=`ArrowLeft`,e.ArrowRight=`ArrowRight`,e.PageUp=`PageUp`,e.PageDown=`PageDown`,e.Home=`Home`,e.End=`End`,e.Enter=`Enter`,e.Space=` `,e.Tab=`Tab`,e.Escape=`Escape`,e.Backspace=`Backspace`,e.X=`x`})(Q||={});function Hm(){return typeof window<`u`?window:globalThis}var Um=12;function Wm(e){if(e==null)return new Date;var t=typeof e==`string`?Cd(e):Y(e);return qm(t)?t:new Date}function Gm(e,t,n,r,i){i===void 0&&(i=Wm());for(var a=yh(n)||yh(vh()),o=Array.isArray(t)?t:[t],s=0,c=o;s<c.length;s++){var l=c[s],u=_d(e,l,i,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(qm(u)&&(!r||e===Ym(u,l,n)))return u}if(!r&&e&&e.length>=8){var d=new Date(e);if(Jc(d))return d}return null}function Km(e,t){if(t===void 0&&(t=Wm()),!e)return null;var n=e.match(/\b(1\d{3}|2\d{3})\b/);if(!n||!n[1])return null;var r=parseInt(n[1],10),i=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),a=i&&i[1]?parseInt(i[1],10)-1:t.getMonth();return new Date(r,a,1)}function qm(e){return Jc(e)}function Jm(e){return e==null?null:qc(e)&&Jc(e)?e:null}function Ym(e,t,n){if(n===`en`)return Jl(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?yh(n):void 0;return n&&!r&&console.warn(`A locale object was not found for the provided string ["${n}"].`),r||=yh(vh()),Jl(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Xm(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Ym(e,i,r)||``}var Zm=` - `;function Qm(e,t,n){if(!e&&!t)return``;var r=e?Xm(e,n):``,i=t?Xm(t,n):``;return`${r}${n.rangeSeparator||Zm}${i}`}function $m(e,t){if(!e?.length)return``;var n=e[0]?Xm(e[0],t):``;return e.length===1?n:e.length===2&&e[1]?`${n}, ${Xm(e[1],t)}`:`${n} (+${e.length-1})`}function eh(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,a=i===void 0?0:i,o=t.second;return Wd(Gd(qd(e,o===void 0?0:o),a),r)}function th(e){return Sl(e)}function nh(e,t){return Ym(e,`ddd`,t)}function rh(e){return Ic(e)}function ih(e,t,n){return jc(e,{locale:yh(t||vh()),weekStartsOn:n})}function ah(e){return il(e)}function oh(e){return ol(e)}function sh(e){return rl(e)}function ch(){return Ic(Wm())}function lh(e){return tl(e)}function uh(e){return sl(e)}function dh(e){return nl(e)}function fh(e,t){return e&&t?xd(e,t):!e&&!t}function ph(e,t){return e&&t?yd(e,t):!e&&!t}function mh(e,t){return e&&t?bd(e,t):!e&&!t}function hh(e,t){return e&&t?Kc(e,t):!e&&!t}function gh(e,t){return e&&t?cu(e,t):!e&&!t}function _h(e,t,n){var r,i=Ic(t),a=tl(n);try{r=Z(e,{start:i,end:a})}catch{r=!1}return r}function vh(){return Hm().__localeId__}function yh(e){if(typeof e==`string`){var t=Hm();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function bh(e,t,n){return t(Ym(e,`EEEE`,n))}function xh(e,t){return Ym(e,`EEEEEE`,t)}function Sh(e,t){return Ym(e,`EEE`,t)}function Ch(e,t){return Ym(Ud(Wm(),e),`LLLL`,t)}function wh(e,t){return Ym(Ud(Wm(),e),`LLL`,t)}function Th(e,t){return Ym(Kd(Wm(),e),`QQQ`,t)}function Eh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.excludeDateIntervals,s=n.includeDates,c=n.includeDateIntervals,l=n.filterDate;return n.disabled?!0:Fh(e,{minDate:r,maxDate:i})||a&&a.some(function(t){return t instanceof Date?hh(e,t):hh(e,t.date)})||o&&o.some(function(t){var n=t.start,r=t.end;return Z(e,{start:n,end:r})})||s&&!s.some(function(t){return hh(e,t)})||c&&!c.some(function(t){var n=t.start,r=t.end;return Z(e,{start:n,end:r})})||l&&!l(Wm(e))||!1}function Dh(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(t){var n=t.start,r=t.end;return Z(e,{start:n,end:r})}):r&&r.some(function(t){return t instanceof Date?hh(e,t):hh(e,t.date??new Date)})||!1}function Oh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;return Fh(e,{minDate:r?il(r):void 0,maxDate:i?nl(i):void 0})||a?.some(function(t){return ph(e,t instanceof Date?t:t.date)})||o&&!o.some(function(t){return ph(e,t)})||s&&!s(Wm(e))||!1}function kh(e,t,n,r){var i=X(e),a=ru(e),o=X(t),s=ru(t),c=X(r);return i===o&&i===c?a<=n&&n<=s:i<o?c===i&&a<=n||c===o&&s>=n||c<o&&c>i:!1}function Ah(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates;return Fh(e,{minDate:r,maxDate:i})||a&&a.some(function(t){return ph(t instanceof Date?t:t.date,e)})||o&&!o.some(function(t){return ph(t,e)})||!1}function jh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;return n.disabled?!0:Fh(e,{minDate:r,maxDate:i})||a?.some(function(t){return mh(e,t instanceof Date?t:t.date)})||o&&!o.some(function(t){return mh(e,t)})||s&&!s(Wm(e))||!1}function Mh(e,t,n){if(!t||!n||!Jc(t)||!Jc(n))return!1;var r=X(t),i=X(n);return r<=e&&i>=e}function Nh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,s=n.filterDate;if(n.disabled)return!0;var c=new Date(e,0,1);return Fh(c,{minDate:r?ol(r):void 0,maxDate:i?al(i):void 0})||a?.some(function(e){return fh(c,e instanceof Date?e:e.date)})||o&&!o.some(function(e){return fh(c,e)})||s&&!s(Wm(c))||!1}function Ph(e,t,n,r){var i=X(e),a=Xc(e),o=X(t),s=Xc(t),c=X(r);return i===o&&i===c?a<=n&&n<=s:i<o?c===i&&a<=n||c===o&&s>=n||c<o&&c>i:!1}function Fh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate;return(r&&Lc(e,r)<0||i&&Lc(e,i)>0)??!1}function Ih(e,t){return t.some(function(t){return eu(t)===eu(e)&&nu(t)===nu(e)&&iu(t)===iu(e)})}function Lh(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&Ih(e,r)||i&&!Ih(e,i)||a&&!a(e)||!1}function Rh(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw Error(`Both minTime and maxTime props required`);var i=Wm();i=Wd(i,eu(e)),i=Gd(i,nu(e)),i=qd(i,iu(e));var a=Wm();a=Wd(a,eu(n)),a=Gd(a,nu(n)),a=qd(a,iu(n));var o=Wm();o=Wd(o,eu(r)),o=Gd(o,nu(r)),o=qd(o,iu(r));var s;try{s=!Z(i,{start:a,end:o})}catch{s=!1}return s}function zh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=Yd(e,1);return r&&Yc(r,a)>0||i&&i.every(function(e){return Yc(e,a)>0})||!1}function Bh(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=Ec(e,1);return r&&Yc(a,r)>0||i&&i.every(function(e){return Yc(a,e)>0})||!1}function Vh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=Xd(ol(e),1);return r&&Zc(r,a)>0||i&&i.every(function(e){return Zc(e,a)>0})||!1}function Hh(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=Bc(al(e),1);return r&&Zc(a,r)>0||i&&i.every(function(e){return Zc(a,e)>0})||!1}function Uh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=Qd(e,1);return r&&Qc(r,a)>0||i&&i.every(function(e){return Qc(e,a)>0})||!1}function Wh(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,a=i===void 0?Um:i,o=eg(oh(Qd(e,a)),a).endPeriod,s=r&&X(r);return s&&s>o||!1}function Gh(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=Uc(e,1);return r&&Qc(a,r)>0||i&&i.every(function(e){return Qc(a,e)>0})||!1}function Kh(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,a=i===void 0?Um:i,o=eg(Uc(e,a),a).startPeriod,s=r&&X(r);return s&&s<o||!1}function qh(e){var t=e.minDate,n=e.includeDates;return n&&t?Gc(n.filter(function(e){return Lc(e,t)>=0})):n?Gc(n):t}function Jh(e){var t=e.maxDate,n=e.includeDates;return n&&t?Wc(n.filter(function(e){return Lc(e,t)<=0})):n?Wc(n):t}function Yh(e,t){e===void 0&&(e=[]),t===void 0&&(t=`react-datepicker__day--highlighted`);for(var n=new Map,r=0,i=e.length;r<i;r++){var a=e[r];if(qc(a)){var o=Ym(a,`MM.dd.yyyy`),s=n.get(o)||[];s.includes(t)||(s.push(t),n.set(o,s))}else if(typeof a==`object`){var c=Object.keys(a)[0]??``,l=a[c];if(typeof c==`string`&&Array.isArray(l))for(var u=0,d=l.length;u<d;u++){var f=l[u];if(f){var o=Ym(f,`MM.dd.yyyy`),s=n.get(o)||[];s.includes(c)||(s.push(c),n.set(o,s))}}}}return n}function Xh(e,t){return e.length===t.length?e.every(function(e,n){return e===t[n]}):!1}function Zh(e,t){e===void 0&&(e=[]),t===void 0&&(t=`react-datepicker__day--holidays`);var n=new Map;return e.forEach(function(e){var r=e.date,i=e.holidayName;if(qc(r)){var a=Ym(r,`MM.dd.yyyy`),o=n.get(a)||{className:``,holidayNames:[]};if(!(`className`in o&&o.className===t&&Xh(o.holidayNames,[i]))){o.className=t;var s=o.holidayNames;o.holidayNames=s?Nm(Nm([],s,!0),[i],!1):[i],n.set(a,o)}}}),n}function Qh(e,t,n,r,i){for(var a=i.length,o=[],s=0;s<a;s++){var c=e,l=i[s];l&&(c=Oc(c,eu(l)),c=zc(c,nu(l)),c=Vc(c,iu(l)));var u=zc(e,(n+1)*r);ou(c,t)&&su(c,u)&&l!=null&&o.push(l)}return o}function $h(e){return e<10?`0${e}`:`${e}`}function eg(e,t){t===void 0&&(t=Um);var n=Math.ceil(X(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function tg(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((n-+t)/36e5)}function ng(e){var t=e.getSeconds(),n=e.getMilliseconds();return Y(e.getTime()-t*1e3-n)}function rg(e,t){return ng(e).getTime()===ng(t).getTime()}function ig(e){if(!qc(e))throw Error(`Invalid date`);var t=new Date(e);return t.setHours(0,0,0,0),t}function ag(e,t){if(!qc(e)||!qc(t))throw Error(`Invalid date received`);return su(ig(e),ig(t))}function og(e){return e.key===Q.Space}var sg=function(e){jm(t,e);function t(t){var n=e.call(this,t)||this;return n.inputRef=b.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var i=n.props.date,a=i instanceof Date&&!isNaN(+i)?i:new Date;if(e?.includes(`:`)){var o=e.split(`:`),s=o[0],c=o[1];a.setHours(Number(s)),a.setMinutes(Number(c))}(r=(t=n.props).onChange)==null||r.call(t,a)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,i=t.timeString,a=t.customTimeInput;return a?(0,b.cloneElement)(a,{date:r,value:e,onChange:n.onTimeChange}):b.createElement(`input`,{type:`time`,className:`react-datepicker-time__input`,placeholder:`Time`,name:`time-input`,ref:n.inputRef,onClick:function(){var e;(e=n.inputRef.current)==null||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||i)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(e,t){return e.timeString===t.time?null:{time:e.timeString}},t.prototype.render=function(){return b.createElement(`div`,{className:`react-datepicker__input-time-container`},b.createElement(`div`,{className:`react-datepicker-time__caption`},this.props.timeInputLabel),b.createElement(`div`,{className:`react-datepicker-time__input-container`},b.createElement(`div`,{className:`react-datepicker-time__input`},this.renderTimeInput())))},t}(b.Component),cg=function(e){jm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=(0,b.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===Q.Space&&(e.preventDefault(),e.key=Q.Enter),(r=(n=t.props).handleOnKeyDown)==null||r.call(n,e)},t.isSameDay=function(e){return hh(t.props.day,e)},t.isKeyboardSelected=function(){if(t.props.disabledKeyboardNavigation)return!1;var e=t.props.selectsMultiple?t.props.selectedDates?.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected),n=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!e&&t.isSameDayOrWeek(t.props.preSelection)&&!n},t.isDisabled=function(e){return e===void 0&&(e=t.props.day),Eh(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Dh(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return hh(t.props.day,ih(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&hh(e,ih(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var i=Ym(n,`MM.dd.yyyy`);return r.get(i)},t.getHolidaysClass=function(){var e=t.props,n=e.day,r=e.holidays;if(!r)return[void 0];var i=Ym(n,`MM.dd.yyyy`);return r.has(i)?[r.get(i)?.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!r||!i?!1:_h(n,r,i)},t.isInSelectingRange=function(){var e=t.props,n=e.day,r=e.selectsStart,i=e.selectsEnd,a=e.selectsRange,o=e.selectsDisabledDaysInRange,s=e.startDate,c=e.swapRange,l=e.endDate,u=t.props.selectingDate??t.props.preSelection;if(t.isAfterMonth()||t.isBeforeMonth()||!(r||i||a)||!u||!o&&t.isDisabled())return!1;if(r&&l&&(su(u,l)||gh(u,l)))return _h(n,u,l);if(i&&s&&(ou(u,s)||gh(u,s)))return _h(n,s,u);if(a&&s&&!l){if(gh(u,s)||ou(u,s))return _h(n,s,u);if(c&&su(u,s))return _h(n,u,s)}return!1},t.isSelectingRangeStart=function(){if(!t.isInSelectingRange())return!1;var e=t.props,n=e.day,r=e.startDate,i=e.selectsStart,a=e.swapRange,o=e.selectsRange,s=t.props.selectingDate??t.props.preSelection;return i?hh(n,s):o&&a&&r&&s?hh(n,su(s,r)?s:r):hh(n,r)},t.isSelectingRangeEnd=function(){if(!t.isInSelectingRange())return!1;var e=t.props,n=e.day,r=e.endDate,i=e.selectsEnd,a=e.selectsRange,o=e.swapRange,s=e.startDate,c=t.props.selectingDate??t.props.preSelection;return i?hh(n,c):a&&o&&s&&c?hh(n,su(c,s)?s:c):a?hh(n,c):hh(n,r)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!r||!i?!1:hh(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!r||!i?!1:hh(i,n)},t.isWeekend=function(){var e=Zl(t.props.day);return e===0||e===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===ru(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(ru(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Wm())},t.isSelected=function(){return t.props.selectsMultiple?t.props.selectedDates?.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){return vc(`react-datepicker__day`,t.props.dayClassName?t.props.dayClassName(e):void 0,`react-datepicker__day--`+nh(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,i=r===void 0?`Choose`:r,a=e.ariaLabelPrefixWhenDisabled,o=a===void 0?`Not available`:a;return`${t.isDisabled()||t.isExcluded()?o:i} ${Ym(n,`PPPP`,t.props.locale)}`},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,i=r===void 0?new Map:r,a=e.excludeDates,o=Ym(n,`MM.dd.yyyy`),s=[];return i.has(o)&&s.push.apply(s,i.get(o).holidayNames),t.isExcluded()&&s.push(a?.filter(function(e){return e instanceof Date?hh(e,n):hh(e?.date,n)}).map(function(e){if(!(e instanceof Date))return e?.message})),s.join(`, `)},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(e)&&hh(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&((e=t.dayEl.current)==null||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Xl(t.props.day),t.props.day):Xl(t.props.day)},t.render=function(){return b.createElement(`div`,{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:`gridcell`,title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?`date`:void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==``&&b.createElement(`span`,{className:`overlay`},t.getTitle()))},t}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){return(this.props.containerRef?.current)?.contains(document.activeElement)&&document.activeElement?.classList.contains(`react-datepicker__day`)},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(b.Component),lg=function(e){jm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,b.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===Q.Space&&(e.preventDefault(),e.key=Q.Enter),(r=(n=t.props).handleOnKeyDown)==null||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!hh(t.props.date,t.props.selected)&&hh(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||hh(t.props.date,t.props.selected)&&hh(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;t.getTabIndex()===0&&!e?.isInputFocused&&hh(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains(`react-datepicker__week-number`)&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(t,`defaultProps`,{get:function(){return{ariaLabelPrefix:`week `}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,i=e.ariaLabelPrefix,a=i===void 0?t.defaultProps.ariaLabelPrefix:i,o=e.onClick,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!r,"react-datepicker__week-number--selected":!!o&&hh(this.props.date,this.props.selected)};return b.createElement(`div`,{ref:this.weekNumberEl,className:vc(s),"aria-label":`${a} ${this.props.weekNumber}`,onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:`gridcell`},n)},t}(b.Component),ug=function(e){jm(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return Eh(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,i){for(var a,o,s=new Date(e),c=0;c<7;c++){var l=new Date(e);if(l.setDate(l.getDate()+c),!n.isDisabled(l)){s=l;break}}typeof n.props.onWeekSelect==`function`&&n.props.onWeekSelect(s,r,i),n.props.showWeekPicker&&n.handleDayClick(s,i),(n.props.shouldCloseOnSelect??t.defaultProps.shouldCloseOnSelect)&&((o=(a=n.props).setOpen)==null||o.call(a,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):th(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Tc(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Tc(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],i=n.formatWeekNumber(e);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,i):void 0;r.push(b.createElement(lg,Mm({key:`W`},t.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:a})))}return r.concat([0,1,2,3,4,5,6].map(function(r){var i=Tc(e,r);return b.createElement(cg,Mm({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:i.valueOf(),day:i,onClick:n.handleDayClick.bind(n,i),onMouseEnter:n.handleDayMouseEnter.bind(n,i)}))}))},n.startOfWeek=function(){return ih(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!hh(n.startOfWeek(),n.props.selected)&&hh(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,`defaultProps`,{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":hh(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return b.createElement(`div`,{className:vc(e,t),role:`row`},this.renderDays())},t}(b.Component),dg,fg=6,pg={TWO_COLUMNS:`two_columns`,THREE_COLUMNS:`three_columns`,FOUR_COLUMNS:`four_columns`},mg=(dg={},dg[pg.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},dg[pg.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},dg[pg.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},dg),hg=1;function gg(e,t){return e?pg.FOUR_COLUMNS:t?pg.TWO_COLUMNS:pg.THREE_COLUMNS}var _g=function(e){jm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Nm([],Array(12),!0).map(function(){return(0,b.createRef)()}),t.QUARTER_REFS=Nm([],[,,,,],!0).map(function(){return(0,b.createRef)()}),t.isDisabled=function(e){return Eh(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(e){return Dh(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,i;(i=(r=t.props).onDayClick)==null||i.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;(r=(n=t.props).onDayMouseEnter)==null||r.call(n,e)},t.handleMouseLeave=function(){var e,n;(n=(e=t.props).onMouseLeave)==null||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:ph(Ud(r,e),i)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:mh(Kd(r,e),i)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:ph(Ud(r,e),a)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:mh(Kd(r,e),a)},t.isInSelectingRangeMonth=function(e){var n=t.props,r=n.day,i=n.selectsStart,a=n.selectsEnd,o=n.selectsRange,s=n.startDate,c=n.endDate,l=t.props.selectingDate??t.props.preSelection;return!(i||a||o)||!l?!1:i&&c?kh(l,c,e,r):a&&s||o&&s&&!c?kh(s,l,e,r):!1},t.isSelectingMonthRangeStart=function(e){if(!t.isInSelectingRangeMonth(e))return!1;var n=t.props,r=n.day,i=n.startDate,a=n.selectsStart,o=Ud(r,e),s=t.props.selectingDate??t.props.preSelection;return a?ph(o,s):ph(o,i)},t.isSelectingMonthRangeEnd=function(e){if(!t.isInSelectingRangeMonth(e))return!1;var n=t.props,r=n.day,i=n.endDate,a=n.selectsEnd,o=n.selectsRange,s=Ud(r,e),c=t.props.selectingDate??t.props.preSelection;return a||o?ph(s,c):ph(s,i)},t.isInSelectingRangeQuarter=function(e){var n=t.props,r=n.day,i=n.selectsStart,a=n.selectsEnd,o=n.selectsRange,s=n.startDate,c=n.endDate,l=t.props.selectingDate??t.props.preSelection;return!(i||a||o)||!l?!1:i&&c?Ph(l,c,e,r):a&&s||o&&s&&!c?Ph(s,l,e,r):!1},t.isWeekInMonth=function(e){var n=t.props.day,r=Tc(e,6);return ph(e,n)||ph(r,n)},t.isCurrentMonth=function(e,t){return X(e)===X(Wm())&&t===ru(Wm())},t.isCurrentQuarter=function(e,t){return X(e)===X(Wm())&&t===Xc(Wm())},t.isSelectedMonth=function(e,t,n){return ru(n)===t&&X(e)===X(n)},t.isSelectMonthInList=function(e,n,r){return r.some(function(r){return t.isSelectedMonth(e,n,r)})},t.isSelectedQuarter=function(e,t,n){return Xc(n)===t&&X(e)===X(n)},t.isSelectQuarterInList=function(e,n,r){return r.some(function(r){return t.isSelectedQuarter(e,n,r)})},t.isMonthSelected=function(){var e=t.props,n=e.day,r=e.selected,i=e.selectedDates,a=e.selectsMultiple,o=ru(n);return a?i?.some(function(e){return t.isSelectedMonth(n,o,e)}):!!r&&t.isSelectedMonth(n,o,r)},t.isQuarterSelected=function(){var e=t.props,n=e.day,r=e.selected,i=e.selectedDates,a=e.selectsMultiple,o=Xc(n);return a?i?.some(function(e){return t.isSelectedQuarter(n,o,e)}):!!r&&t.isSelectedQuarter(n,o,r)},t.renderWeeks=function(){if(!qm(t.props.day))return[];for(var e=[],n=t.props.fixedHeight,r=0,i=!1,a=ih(ah(t.props.day),t.props.locale,t.props.calendarStartDay),o=function(e){return t.props.showWeekPicker?ih(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection},s=t.props.selected?function(e){return t.props.showWeekPicker?ih(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,c=t.props.preSelection?o(t.props.preSelection):void 0;e.push(b.createElement(ug,Mm({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:a,month:ru(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:s,preSelection:c,showWeekNumber:t.props.showWeekNumbers}))),!i;){r++,a=Hc(a,1);var l=n&&r>=fg,u=!n&&!t.isWeekInMonth(a);if(l||u)if(t.props.peekNextMonth)i=!0;else break}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),i=r.isDisabled,a=r.labelDate;i||t.handleDayClick(ah(a),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,i=n.labelDate;r||t.handleDayMouseEnter(ah(i))},t.handleMonthNavigation=function(e,n){var r,i,a;(i=(r=t.props).setPreSelection)==null||i.call(r,n),(a=t.MONTH_REFS[e]?.current)==null||a.focus()},t.handleKeyboardNavigation=function(e,n,r){var i=t.props,a=i.selected,o=i.preSelection,s=i.setPreSelection,c=i.minDate,l=i.maxDate,u=i.showFourColumnMonthYearPicker,d=i.showTwoColumnMonthYearPicker;if(o){var f=gg(u,d),p=t.getVerticalOffset(f),m=mg[f]?.grid,h=function(e,t,n){var r=t,i=n;switch(e){case Q.ArrowRight:r=Ec(t,hg),i=n===11?0:n+hg;break;case Q.ArrowLeft:r=Yd(t,hg),i=n===0?11:n-hg;break;case Q.ArrowUp:r=Yd(t,p),i=(m?.[0])?.includes(n)?n+12-p:n-p;break;case Q.ArrowDown:r=Ec(t,p),i=(m?.[m.length-1])?.includes(n)?n-12+p:n+p;break}return{newCalculatedDate:r,newCalculatedMonth:i}},g=function(e,n,r){for(var i=40,a=e,o=!1,s=0,u=h(a,n,r),d=u.newCalculatedDate,f=u.newCalculatedMonth;!o;){if(s>=i){d=n,f=r;break}if(c&&d<c){a=Q.ArrowRight;var p=h(a,d,f);d=p.newCalculatedDate,f=p.newCalculatedMonth}if(l&&d>l){a=Q.ArrowLeft;var p=h(a,d,f);d=p.newCalculatedDate,f=p.newCalculatedMonth}if(Ah(d,t.props)){var p=h(a,d,f);d=p.newCalculatedDate,f=p.newCalculatedMonth}else o=!0;s++}return{newCalculatedDate:d,newCalculatedMonth:f}};if(n===Q.Enter){t.isMonthDisabled(r)||(t.onMonthClick(e,r),s?.(a));return}var _=g(n,o,r),v=_.newCalculatedDate,y=_.newCalculatedMonth;switch(n){case Q.ArrowRight:case Q.ArrowLeft:case Q.ArrowUp:case Q.ArrowDown:t.handleMonthNavigation(y,v);break}}},t.getVerticalOffset=function(e){return mg[e]?.verticalNavigationOffset??0},t.onMonthKeyDown=function(e,n){var r=t.props,i=r.disabledKeyboardNavigation,a=r.handleOnMonthKeyDown,o=e.key;o!==Q.Tab&&e.preventDefault(),i||t.handleKeyboardNavigation(e,o,n),a&&a(e)},t.onQuarterClick=function(e,n){var r=Kd(t.props.day,n);jh(r,t.props)||t.handleDayClick(sh(r),e)},t.onQuarterMouseEnter=function(e){var n=Kd(t.props.day,e);jh(n,t.props)||t.handleDayMouseEnter(sh(n))},t.handleQuarterNavigation=function(e,n){var r,i,a;t.isDisabled(n)||t.isExcluded(n)||((i=(r=t.props).setPreSelection)==null||i.call(r,n),(a=t.QUARTER_REFS[e-1]?.current)==null||a.focus())},t.onQuarterKeyDown=function(e,n){var r,i,a=e.key;if(!t.props.disabledKeyboardNavigation)switch(a){case Q.Enter:t.onQuarterClick(e,n),(i=(r=t.props).setPreSelection)==null||i.call(r,t.props.selected);break;case Q.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(n===4?1:n+1,Bc(t.props.preSelection,1));break;case Q.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(n===1?4:n-1,Xd(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(e){var n=t.props,r=n.day,i=n.disabled,a=n.minDate,o=n.maxDate,s=n.excludeDates,c=n.includeDates,l=Ud(r,e);return i?{isDisabled:!0,labelDate:Ud(r,e)}:{isDisabled:((a||o||s||c)&&Oh(l,t.props))??!1,labelDate:l}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,o=n.preSelection,s=n.monthClassName,c=s?s(Ud(r,e)):void 0,l=t.getSelection();return vc(`react-datepicker__month-text`,`react-datepicker__month-${e}`,c,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":l?t.isSelectMonthInList(r,e,l):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&o&&t.isSelectedMonth(r,e,o)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":i&&a?kh(i,a,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(t.props.preSelection==null)return`-1`;var n=ru(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e===n&&!(r||t.props.disabledKeyboardNavigation)?`0`:`-1`},t.getQuarterTabIndex=function(e){if(t.props.preSelection==null)return`-1`;var n=Xc(t.props.preSelection),r=jh(t.props.day,t.props);return e===n&&!(r||t.props.disabledKeyboardNavigation)?`0`:`-1`},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,i=r===void 0?`Choose`:r,a=n.disabledDayAriaLabelPrefix,o=a===void 0?`Not available`:a,s=n.day,c=n.locale,l=Ud(s,e);return`${t.isDisabled(l)||t.isExcluded(l)?o:i} ${Ym(l,`MMMM yyyy`,c)}`},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,o=n.minDate,s=n.maxDate,c=n.excludeDates,l=n.includeDates,u=n.filterDate,d=n.preSelection,f=n.disabledKeyboardNavigation,p=n.disabled,m=(o||s||c||l||u||p)&&jh(Kd(r,e),t.props),h=t.getSelection();return vc(`react-datepicker__quarter-text`,`react-datepicker__quarter-${e}`,{"react-datepicker__quarter-text--disabled":m,"react-datepicker__quarter-text--selected":h?t.isSelectQuarterInList(r,e,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!f&&d&&t.isSelectedQuarter(r,e,d)&&!t.isQuarterSelected()&&!m,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":i&&a?Ph(i,a,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,i=n.renderMonthContent,a=n.locale,o=n.day,s=wh(e,a),c=Ch(e,a);return i?i(e,s,c,o):r?c:s},t.getQuarterContent=function(e){var n=t.props,r=n.renderQuarterContent,i=n.locale,a=Th(e,i);return r?.(e,a)??a},t.renderMonths=function(){var e=t.props,n=e.showTwoColumnMonthYearPicker,r=e.showFourColumnMonthYearPicker,i=e.day,a=e.selected;return(mg[gg(r,n)]?.grid)?.map(function(e,n){return b.createElement(`div`,{className:`react-datepicker__month-wrapper`,key:n},e.map(function(e,n){return b.createElement(`div`,{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){og(n)&&(n.preventDefault(),n.key=Q.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:`option`,"aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(i,e)?`date`:void 0,"aria-selected":a?t.isSelectedMonth(i,e,a):void 0},t.getMonthContent(e))}))})},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return b.createElement(`div`,{className:`react-datepicker__quarter-wrapper`},[1,2,3,4].map(function(e,i){return b.createElement(`div`,{key:i,ref:t.QUARTER_REFS[i],role:`option`,onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?`date`:void 0},t.getQuarterContent(e))}))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,i=e.selectsEnd,a=e.showMonthYearPicker,o=e.showQuarterYearPicker,s=e.showWeekPicker;return vc(`react-datepicker__month`,{"react-datepicker__month--selecting-range":n&&(r||i)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":o},{"react-datepicker__weekPicker":s})},t}return t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;if(e.selectsMultiple)return n;if(t)return[t]},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,i=e.ariaLabelPrefix,a=i===void 0?`Month `:i,o=a?a.trim()+` `:``,s=qm(r)?`${o}${Ym(r,`MMMM, yyyy`,this.props.locale)}`:``;return t||n?b.createElement(`div`,{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":s,role:`listbox`},t?this.renderMonths():this.renderQuarters()):b.createElement(`div`,{role:`table`},this.props.dayNamesHeader&&b.createElement(`div`,{role:`rowgroup`},this.props.dayNamesHeader),this.props.monthHeader&&b.createElement(`div`,{role:`rowgroup`},this.props.monthHeader),b.createElement(`div`,{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":s,role:`rowgroup`},this.renderWeeks()),this.props.monthFooter&&b.createElement(`div`,{role:`rowgroup`},this.props.monthFooter))},t}(b.Component),vg=function(e){jm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(e){return t.props.month===e},t.handleOptionKeyDown=function(e,n){var r;switch(n.key){case`Enter`:n.preventDefault(),t.onChange(e);break;case`Escape`:n.preventDefault(),t.props.onCancel();break;case`ArrowUp`:case`ArrowDown`:n.preventDefault();var i=(e+(n.key===`ArrowUp`?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(r=t.monthOptionButtonsRef[i])==null||r.focus();break}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(e,n){return b.createElement(`div`,{ref:function(e){t.monthOptionButtonsRef[n]=e,t.isSelectedMonth(n)&&e?.focus()},role:`button`,tabIndex:0,className:t.isSelectedMonth(n)?`react-datepicker__month-option react-datepicker__month-option--selected_month`:`react-datepicker__month-option`,key:e,onClick:t.onChange.bind(t,n),onKeyDown:t.handleOptionKeyDown.bind(t,n),"aria-selected":t.isSelectedMonth(n)?`true`:void 0},t.isSelectedMonth(n)?b.createElement(`span`,{className:`react-datepicker__month-option--selected`},``):``,e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return t.prototype.render=function(){return b.createElement(Im,{className:`react-datepicker__month-dropdown`,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),yg=function(e){jm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(e,t){return b.createElement(`option`,{key:e,value:t},e)})},t.renderSelectMode=function(e){return b.createElement(`select`,{value:t.props.month,className:`react-datepicker__month-select`,onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return b.createElement(`button`,{key:`read`,type:`button`,style:{visibility:e?`visible`:`hidden`},className:`react-datepicker__month-read-view`,onClick:t.toggleDropdown},b.createElement(`span`,{className:`react-datepicker__month-read-view--down-arrow`}),b.createElement(`span`,{className:`react-datepicker__month-read-view--selected-month`},n[t.props.month]))},t.renderDropdown=function(e){return b.createElement(vg,Mm({key:`dropdown`},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return t.prototype.render=function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(t){return wh(t,e.props.locale)}:function(t){return Ch(t,e.props.locale)}),n;switch(this.props.dropdownMode){case`scroll`:n=this.renderScrollMode(t);break;case`select`:n=this.renderSelectMode(t);break}return b.createElement(`div`,{className:`react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--${this.props.dropdownMode}`},n)},t}(b.Component),bg=5;function xg(e,t,n){for(var r=[],i=e??Qd(n,bg),a=t??Uc(n,bg),o=ah(i),s=ah(a);!ou(o,s);)r.push(Wm(o)),o=Ec(o,1);return r}var Sg=function(e){jm(t,e);function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var t=au(e),r=fh(n.props.date,e)&&ph(n.props.date,e);return b.createElement(`div`,{className:r?`react-datepicker__month-year-option--selected_month-year`:`react-datepicker__month-year-option`,key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?`true`:void 0},r?b.createElement(`span`,{className:`react-datepicker__month-year-option--selected`},``):``,Ym(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:xg(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var e=vc({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return b.createElement(Im,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),Cg=5,wg=function(e){jm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate??Qd(t.props.date,Cg),n=t.props.maxDate??Uc(t.props.date,Cg),r=ah(e),i=ah(n),a=[];!ou(r,i);){var o=au(r);a.push(b.createElement(`option`,{key:o,value:o},Ym(r,t.props.dateFormat,t.props.locale))),r=Ec(r,1)}return a},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement(`select`,{value:au(ah(t.props.date)),className:`react-datepicker__month-year-select`,onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=Ym(t.props.date,t.props.dateFormat,t.props.locale);return b.createElement(`div`,{key:`read`,style:{visibility:e?`visible`:`hidden`},className:`react-datepicker__month-year-read-view`,onClick:t.toggleDropdown},b.createElement(`span`,{className:`react-datepicker__month-year-read-view--down-arrow`}),b.createElement(`span`,{className:`react-datepicker__month-year-read-view--selected-month-year`},n))},t.renderDropdown=function(){return b.createElement(Sg,Mm({key:`dropdown`},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=Wm(e);fh(t.props.date,n)&&ph(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return t.prototype.render=function(){var e;switch(this.props.dropdownMode){case`scroll`:e=this.renderScrollMode();break;case`select`:e=this.renderSelectMode();break}return b.createElement(`div`,{className:`react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--${this.props.dropdownMode}`},e)},t}(b.Component),Tg=function(e){jm(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=(n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(n.header?.clientHeight??0):n.list.clientHeight,n.centerLi))??0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&Rh(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Lh(e,n.props)||(r=(t=n.props).onChange)==null||r.call(t,e)},n.isSelectedTime=function(e){var t=Jm(n.props.selected);return t&&rg(t,e)},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&Rh(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Lh(e,n.props)},n.liClasses=function(e){var r=[`react-datepicker__time-list-item`,n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&r.push(`react-datepicker__time-list-item--selected`),n.isDisabledTime(e)&&r.push(`react-datepicker__time-list-item--disabled`),n.props.injectTimes&&(eu(e)*3600+nu(e)*60+iu(e))%((n.props.intervals??t.defaultProps.intervals)*60)!=0&&r.push(`react-datepicker__time-list-item--injected`),r.join(` `)},n.handleOnKeyDown=function(e,t){var r,i;e.key===Q.Space&&(e.preventDefault(),e.key=Q.Enter),(e.key===Q.ArrowUp||e.key===Q.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===Q.ArrowDown||e.key===Q.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===Q.Enter&&n.handleClick(t),(i=(r=n.props).handleOnKeyDown)==null||i.call(r,e)},n.renderTimes=function(){for(var e=[],r=typeof n.props.format==`string`?n.props.format:`p`,i=n.props.intervals??t.defaultProps.intervals,a=Jm(n.props.selected)||Jm(n.props.openToDate)||Wm(),o=rh(a),s=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),c=60*tg(a)/i,l=0;l<c;l++){var u=zc(o,l*i);if(e.push(u),s){var d=Qh(o,u,l,i,s);e=e.concat(d)}}var f=e.reduce(function(e,t){return t.getTime()<=a.getTime()?t:e},e[0]);return e.map(function(e){return b.createElement(`li`,{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===f&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===f?0:-1,role:`option`,"aria-selected":n.isSelectedTime(e)?`true`:void 0,"aria-disabled":n.isDisabledTime(e)?`true`:void 0},Ym(e,r,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?b.createElement(b.Fragment,null):b.createElement(`div`,{className:`react-datepicker__header react-datepicker__header--time ${n.props.showTimeSelectOnly?`react-datepicker__header--time--only`:``}`,ref:function(e){n.header=e}},b.createElement(`div`,{className:`react-datepicker-time__header`},n.props.timeCaption))},n}return Object.defineProperty(t,`defaultProps`,{get:function(){return{intervals:30,todayButton:null,timeCaption:`Time`,showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;(e=this.resizeObserver)==null||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var e=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==e&&this.setState({height:e})}},t.prototype.render=function(){var e=this,n=this.state.height;return b.createElement(`div`,{className:`react-datepicker__time-container ${this.props.todayButton??t.defaultProps.todayButton?`react-datepicker__time-container--with-today-button`:``}`},this.renderTimeCaption(),b.createElement(`div`,{className:`react-datepicker__time`},b.createElement(`div`,{className:`react-datepicker__time-box`},b.createElement(`ul`,{className:`react-datepicker__time-list`,ref:function(t){e.list=t},style:n?{height:n}:{},role:`listbox`,"aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(b.Component),Eg=3,Dg=function(e){jm(t,e);function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=Nm([],Array(n.props.yearItemNumber),!0).map(function(){return(0,b.createRef)()}),n.isDisabled=function(e){return Eh(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return Dh(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){return n.props.selectingDate??n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t;(t=n.YEAR_REFS[e]?.current)==null||t.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,i,a,o=n.props,s=o.date,c=o.yearItemNumber;if(!(s===void 0||c===void 0)){var l=eg(s,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||((i=(r=n.props).setPreSelection)==null||i.call(r,t),e-l<0?n.updateFocusOnPaginate(c-(l-e)):e-l>=c?n.updateFocusOnPaginate(Math.abs(c-(e-l))):(a=n.YEAR_REFS[e-l]?.current)==null||a.focus())}},n.isSameDay=function(e,t){return hh(e,t)},n.isCurrentYear=function(e){return e===X(Wm())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&fh(Jd(Wm(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&fh(Jd(Wm(),e),n.props.endDate)},n.isInRange=function(e){return Mh(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,i=t.selectsEnd,a=t.selectsRange,o=t.startDate,s=t.endDate;return!(r||i||a)||!n.selectingDate()?!1:r&&s?Mh(e,n.selectingDate(),s):i&&o||a&&o&&!s?Mh(e,o,n.selectingDate()):!1},n.isSelectingRangeStart=function(e){if(!n.isInSelectingRange(e))return!1;var t=n.props,r=t.startDate,i=t.selectsStart,a=Jd(Wm(),e);return i?fh(a,n.selectingDate()??null):fh(a,r??null)},n.isSelectingRangeEnd=function(e){if(!n.isInSelectingRange(e))return!1;var t=n.props,r=t.endDate,i=t.selectsEnd,a=t.selectsRange,o=Jd(Wm(),e);return i||a?fh(o,n.selectingDate()??null):fh(o,r??null)},n.isKeyboardSelected=function(e){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var t=n.props,r=t.minDate,i=t.maxDate,a=t.excludeDates,o=t.includeDates,s=t.filterDate,c=t.selected,l=oh(Jd(n.props.date,e)),u=(r||i||a||o||s)&&Nh(e,n.props),d=!!c&&hh(l,oh(c)),f=hh(l,oh(n.props.preSelection));return!n.props.inline&&!d&&f&&!u}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,i=t.selected,a=t.selectedDates;return r?a?.some(function(t){return e===X(t)}):!!i&&e===X(i)},n.onYearClick=function(e,t){var r=n.props.date;r!==void 0&&n.handleYearClick(oh(Jd(r,t)),e)},n.onYearKeyDown=function(e,t){var r,i,a=e.key,o=n.props,s=o.date,c=o.yearItemNumber,l=o.handleOnKeyDown;if(a!==Q.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(a){case Q.Enter:if(n.props.selected==null)break;n.onYearClick(e,t),(i=(r=n.props).setPreSelection)==null||i.call(r,n.props.selected);break;case Q.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(t+1,Uc(n.props.preSelection,1));break;case Q.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(t-1,Qd(n.props.preSelection,1));break;case Q.ArrowUp:if(s===void 0||c===void 0||n.props.preSelection==null)break;var u=eg(s,c).startPeriod,d=Eg,f=t-d;if(f<u){var p=c%d;t>=u&&t<u+p?d=p:d+=p,f=t-d}n.handleYearNavigation(f,Qd(n.props.preSelection,d));break;case Q.ArrowDown:if(s===void 0||c===void 0||n.props.preSelection==null)break;var m=eg(s,c).endPeriod,d=Eg,f=t+d;if(f>m){var p=c%d;t<=m&&t>m-p?d=p:d+=p,f=t+d}n.handleYearNavigation(f,Uc(n.props.preSelection,d));break}l&&l(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,i=t.disabled,a=t.minDate,o=t.maxDate,s=t.excludeDates,c=t.includeDates,l=t.filterDate,u=t.yearClassName;return vc(`react-datepicker__year-text`,`react-datepicker__year-${e}`,r?u?.(Jd(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(a||o||s||c||l||i)&&Nh(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return`-1`;var t=X(n.props.preSelection),r=Nh(e,n.props);return e===t&&!r?`0`:`-1`},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,i=n.yearItemNumber,a=n.onYearMouseEnter,o=n.onYearMouseLeave;if(r===void 0)return null;for(var s=eg(r,i),c=s.startPeriod,l=s.endPeriod,u=function(n){t.push(b.createElement(`div`,{ref:d.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){og(t)&&(t.preventDefault(),t.key=Q.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(d.getYearTabIndex(n)),className:d.getYearClassNames(n),onMouseEnter:d.props.usePointerEvent?void 0:function(e){return a(e,n)},onPointerEnter:d.props.usePointerEvent?function(e){return a(e,n)}:void 0,onMouseLeave:d.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerLeave:d.props.usePointerEvent?function(e){return o(e,n)}:void 0,key:n,"aria-current":d.isCurrentYear(n)?`date`:void 0},d.getYearContent(n)))},d=this,f=c;f<=l;f++)u(f);return b.createElement(`div`,{className:`react-datepicker__year`},b.createElement(`div`,{className:`react-datepicker__year-wrapper`,onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(b.Component);function Og(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var o=e+t-a,s=!0;n&&(s=X(n)<=o),r&&s&&(s=X(r)>=o),s&&i.push(o)}return i}var kg=function(e){jm(t,e);function t(t){var n=e.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(e,t){var r;switch(t.key){case`Enter`:t.preventDefault(),n.onChange(e);break;case`Escape`:t.preventDefault(),n.props.onCancel();break;case`ArrowUp`:case`ArrowDown`:t.preventDefault();var i=e+(t.key===`ArrowUp`?1:-1);n.yearOptionButtonsRef[i]&&((r=n.yearOptionButtonsRef[i])==null||r.focus());break}},n.renderOptions=function(){n.yearOptionButtonsRef={};var e=n.props.year,t=n.state.yearsList.map(function(t){return b.createElement(`div`,{ref:function(r){n.yearOptionButtonsRef[t]=r,t===e&&r?.focus()},role:`button`,tabIndex:0,className:e===t?`react-datepicker__year-option react-datepicker__year-option--selected_year`:`react-datepicker__year-option`,key:t,onClick:n.onChange.bind(n,t),onKeyDown:n.handleOptionKeyDown.bind(n,t),"aria-selected":e===t?`true`:void 0},e===t?b.createElement(`span`,{className:`react-datepicker__year-option--selected`},``):``,t)}),r=n.props.minDate?X(n.props.minDate):null,i=n.props.maxDate?X(n.props.maxDate):null;return(!i||!n.state.yearsList.find(function(e){return e===i}))&&t.unshift(b.createElement(`div`,{className:`react-datepicker__year-option`,key:`upcoming`,onClick:n.incrementYears},b.createElement(`a`,{className:`react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming`}))),(!r||!n.state.yearsList.find(function(e){return e===r}))&&t.push(b.createElement(`div`,{className:`react-datepicker__year-option`,key:`previous`,onClick:n.decrementYears},b.createElement(`a`,{className:`react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous`}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,a=r||(i?10:5);return n.state={yearsList:Og(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,b.createRef)(),n}return t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=vc({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return b.createElement(Im,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),Ag=function(e){jm(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?X(t.props.minDate):1900,n=t.props.maxDate?X(t.props.maxDate):2100,r=[],i=e;i<=n;i++)r.push(b.createElement(`option`,{key:i,value:i},i));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement(`select`,{value:t.props.year,className:`react-datepicker__year-select`,onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return b.createElement(`button`,{key:`read`,type:`button`,style:{visibility:e?`visible`:`hidden`},className:`react-datepicker__year-read-view`,onClick:t.toggleDropdown},b.createElement(`span`,{className:`react-datepicker__year-read-view--down-arrow`}),b.createElement(`span`,{className:`react-datepicker__year-read-view--selected-year`},t.props.year))},t.renderDropdown=function(){return b.createElement(kg,Mm({key:`dropdown`},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,n){var r;(r=t.onSelect)==null||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,i;(i=(r=t.props).onSelect)==null||i.call(r,e,n)},t.setOpen=function(){var e,n;(n=(e=t.props).setOpen)==null||n.call(e,!0)},t}return t.prototype.render=function(){var e;switch(this.props.dropdownMode){case`scroll`:e=this.renderScrollMode();break;case`select`:e=this.renderSelectMode();break}return b.createElement(`div`,{className:`react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--${this.props.dropdownMode}`},e)},t}(b.Component),jg=[`react-datepicker__year-select`,`react-datepicker__month-select`,`react-datepicker__month-year-select`],Mg=`react-datepicker-ignore-onclickoutside`,Ng=function(e){var t=(e.className||``).split(/\s+/);return jg.some(function(e){return t.indexOf(e)>=0})},Pg=function(e){jm(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;Ng(e.target)&&((n=(t=r.props).onDropdownFocus)==null||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,i=e.openToDate,a=qh(r.props),o=Jh(r.props),s=Wm();return i||n||t||(a&&su(s,a)?a:o&&ou(s,o)?o:s)},r.increaseMonth=function(){r.setState(function(e){var t=e.date;return{date:Ec(t,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(e){var t=e.date;return{date:Yd(t,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:Jd(Wm(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,i,a;(n=(t=r.props).onYearChange)==null||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),(a=(i=r.props).setOpen)==null||a.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!Eh(e,r.props))return e;for(var t=ah(e),n=$c(dh(e),t),i=null,a=0;a<=n;a++){var o=Tc(t,a);if(!Eh(o,r.props)){i=o;break}}return i},r.handleMonthChange=function(e){var t,n,i=r.getEnabledPreSelectionDateForMonth(e)??e;r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect(i),(n=(t=r.props).setOpen)==null||n.call(t,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(e){var t,n;(n=(t=r.props).onMonthChange)==null||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState(function(t){var n=t.date;return{date:Jd(n,Number(e))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(e){r.setState(function(t){var n=t.date;return{date:Ud(n,Number(e))}},function(){var e,t;r.handleMonthChange(r.state.date),(t=(e=r.props).onMonthSelectedInChange)==null||t.call(e,0)})},r.changeMonthYear=function(e){r.setState(function(t){var n=t.date;return{date:Jd(Ud(n,ru(e)),X(e))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(e,t){if(e===void 0&&(e=r.state.date),t===void 0&&(t=0),!qm(e))return[];var n=r.props.disabled,i=ih(e,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(b.createElement(`div`,{key:`W`,className:`react-datepicker__day-name ${n?`react-datepicker__day-name--disabled`:``}`,role:`columnheader`},b.createElement(`span`,{className:`react-datepicker__sr-only`},`Week number`),b.createElement(`span`,{"aria-hidden":`true`},r.props.weekLabel||`#`))),a.concat([0,1,2,3,4,5,6].map(function(e){var a=Tc(i,e),o=r.formatWeekday(a,r.props.locale),s=Ym(a,`EEEE`,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(a):void 0;if(r.props.renderCustomDayName){var l=r.props.renderCustomDayName({day:a,shortName:o,fullName:s,locale:r.props.locale,customDayNameCount:t});return b.createElement(`div`,{key:e,role:`columnheader`,className:vc(`react-datepicker__day-name`,c,n?`react-datepicker__day-name--disabled`:``)},l)}return b.createElement(`div`,{key:e,role:`columnheader`,className:vc(`react-datepicker__day-name`,c,n?`react-datepicker__day-name--disabled`:``)},b.createElement(`span`,{className:`react-datepicker__sr-only`},s),b.createElement(`span`,{"aria-hidden":`true`},o))}))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?bh(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?Sh(e,t):xh(e,t)},r.decreaseYear=function(){r.setState(function(e){var n=e.date;return{date:Qd(n,r.props.showYearPicker?r.props.yearItemNumber??t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){if(!r.props.renderCustomHeader){var e=r.props.monthsShown??t.defaultProps.monthsShown,n=r.props.showPreviousMonths?e-1:0,i=r.props.monthSelectedIn??n,a=Yd(r.state.date,i),o;switch(!0){case r.props.disabled:o=!0;break;case r.props.showMonthYearPicker:o=Uh(r.state.date,r.props);break;case r.props.showYearPicker:o=Wh(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=Vh(r.state.date,r.props);break;default:o=zh(a,r.props);break}if(!(!(r.props.forceShowMonthNavigation??t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=[`react-datepicker__navigation-icon`,`react-datepicker__navigation-icon--previous`],c=[`react-datepicker__navigation`,`react-datepicker__navigation--previous`],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(c.push(`react-datepicker__navigation--previous--disabled`),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.previousMonthButtonLabel,p=f===void 0?t.defaultProps.previousMonthButtonLabel:f,m=d.previousYearButtonLabel,h=m===void 0?t.defaultProps.previousYearButtonLabel:m,g=r.props,_=g.previousMonthAriaLabel,v=_===void 0?typeof p==`string`?p:`Previous Month`:_,y=g.previousYearAriaLabel,x=y===void 0?typeof h==`string`?h:`Previous Year`:y;return b.createElement(`button`,{type:`button`,className:c.join(` `),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?x:v},b.createElement(`span`,{className:s.join(` `)},u?h:p))}}},r.increaseYear=function(){r.setState(function(e){var n=e.date;return{date:Uc(n,r.props.showYearPicker?r.props.yearItemNumber??t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.disabled:e=!0;break;case r.props.showMonthYearPicker:e=Gh(r.state.date,r.props);break;case r.props.showYearPicker:e=Kh(r.state.date,r.props);break;case r.props.showQuarterYearPicker:e=Hh(r.state.date,r.props);break;default:e=Bh(r.state.date,r.props);break}if(!(!(r.props.forceShowMonthNavigation??t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&e||r.props.showTimeSelectOnly)){var n=[`react-datepicker__navigation`,`react-datepicker__navigation--next`],i=[`react-datepicker__navigation-icon`,`react-datepicker__navigation-icon--next`];r.props.showTimeSelect&&n.push(`react-datepicker__navigation--next--with-time`),r.props.todayButton&&n.push(`react-datepicker__navigation--next--with-today-button`);var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(n.push(`react-datepicker__navigation--next--disabled`),a=void 0);var o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,s=r.props,c=s.nextMonthButtonLabel,l=c===void 0?t.defaultProps.nextMonthButtonLabel:c,u=s.nextYearButtonLabel,d=u===void 0?t.defaultProps.nextYearButtonLabel:u,f=r.props,p=f.nextMonthAriaLabel,m=p===void 0?typeof l==`string`?l:`Next Month`:p,h=f.nextYearAriaLabel,g=h===void 0?typeof d==`string`?d:`Next Year`:h;return b.createElement(`button`,{type:`button`,className:n.join(` `),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":o?g:m},b.createElement(`span`,{className:i.join(` `)},o?d:l))}}},r.renderCurrentMonth=function(e){e===void 0&&(e=r.state.date);var t=[`react-datepicker__current-month`];return r.props.showYearDropdown&&t.push(`react-datepicker__current-month--hasYearDropdown`),r.props.showMonthDropdown&&t.push(`react-datepicker__current-month--hasMonthDropdown`),r.props.showMonthYearDropdown&&t.push(`react-datepicker__current-month--hasMonthYearDropdown`),b.createElement(`h2`,{className:t.join(` `)},qm(e)?Ym(e,r.props.dateFormat,r.props.locale):``)},r.renderYearDropdown=function(e){if(e===void 0&&(e=!1),!(!r.props.showYearDropdown||e))return b.createElement(Ag,Mm({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:X(r.state.date)}))},r.renderMonthDropdown=function(e){if(e===void 0&&(e=!1),!(!r.props.showMonthDropdown||e))return b.createElement(yg,Mm({},t.defaultProps,r.props,{month:ru(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(e===void 0&&(e=!1),!(!r.props.showMonthYearDropdown||e))return b.createElement(wg,Mm({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(ch(),e),r.props.setPreSelection&&r.props.setPreSelection(ch())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return b.createElement(`div`,{className:`react-datepicker__today-button`,onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(e,t){return t===void 0&&(t=0),b.createElement(`div`,{className:`react-datepicker__day-names`,role:`row`},r.header(e,t))},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i,i=b.createElement(`div`,{className:vc(`react-datepicker__header`,{"react-datepicker__header--has-time-select":r.props.showTimeSelect,"react-datepicker__header--middle":r.props.monthHeaderPosition===`middle`,"react-datepicker__header--bottom":r.props.monthHeaderPosition===`bottom`})},r.renderCurrentMonth(t),b.createElement(`div`,{className:`react-datepicker__header__dropdown react-datepicker__header__dropdown--${r.props.dropdownMode}`,onFocus:r.handleDropdownFocus},r.renderMonthDropdown(n!==0),r.renderMonthYearDropdown(n!==0),r.renderYearDropdown(n!==0)));return r.props.monthHeaderPosition===`top`?i:b.createElement(`div`,{className:`react-datepicker__header-wrapper`},r.renderPreviousButton()||null,r.renderNextButton()||null,i)},r.renderCustomHeader=function(e){var t,n=e.monthDate,i=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=r.props,o=a.showYearPicker,s=a.yearItemNumber,c;if(o){var l=eg(n,s);c={startYear:l.startPeriod,endYear:l.endPeriod}}var u=zh(r.state.date,r.props),d=Bh(r.state.date,r.props),f=Uh(r.state.date,r.props),p=Gh(r.state.date,r.props);return b.createElement(`div`,{className:`react-datepicker__header react-datepicker__header--custom`,onFocus:r.props.onDropdownFocus},(t=r.props).renderCustomHeader?.call(t,Mm(Mm(Mm({},r.state),o&&{visibleYearsRange:c}),{customHeaderCount:i,monthDate:n,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:p})))},r.renderYearHeader=function(e){var n=e.monthDate,i=r.props,a=i.showYearPicker,o=i.yearItemNumber,s=eg(n,o===void 0?t.defaultProps.yearItemNumber:o),c=s.startPeriod,l=s.endPeriod;return b.createElement(`div`,{className:`react-datepicker__header react-datepicker-year-header`},a?`${c} - ${l}`:X(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,i={monthDate:t,i:n===void 0?0:n};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(i);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}},r.renderMonths=function(){if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var e=[],n=r.props.monthsShown??t.defaultProps.monthsShown,i=r.props.showPreviousMonths?n-1:0,a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Uc(r.state.date,i):Yd(r.state.date,i),o=r.props.monthSelectedIn??i,s=0;s<n;++s){var c=s-o+i,l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Uc(a,c):Ec(a,c),u=`month-${s}`,d=s<n-1,f=s>0;e.push(b.createElement(`div`,{key:u,ref:function(e){r.monthContainer=e??void 0},className:`react-datepicker__month-container`},r.props.monthHeaderPosition===`top`&&r.renderHeader({monthDate:l,i:s}),b.createElement(_g,Mm({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:l,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:s,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:d,monthShowsDuplicateDaysStart:f,dayNamesHeader:r.renderDayNamesHeader(l,s),monthHeader:r.props.monthHeaderPosition===`middle`?r.renderHeader({monthDate:l,i:s}):void 0,monthFooter:r.props.monthHeaderPosition===`bottom`?r.renderHeader({monthDate:l,i:s}):void 0}))))}return e}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return b.createElement(`div`,{className:`react-datepicker__year--container`},r.renderHeader({monthDate:r.state.date}),b.createElement(Dg,Mm({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return b.createElement(Tg,Mm({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){if(r.props.showTimeInput){if(r.props.selectsRange){var e=r.props,n=e.startDate,i=e.endDate,a=n?new Date(n):void 0,o=a&&qm(a)&&n?`${$h(a.getHours())}:${$h(a.getMinutes())}`:``,s=i?new Date(i):void 0,c=s&&qm(s)&&i?`${$h(s.getHours())}:${$h(s.getMinutes())}`:``;return b.createElement(b.Fragment,null,b.createElement(sg,Mm({},t.defaultProps,r.props,{date:a,timeString:o,onChange:function(e){var t,n;(n=(t=r.props).onTimeChange)==null||n.call(t,e,`start`)},timeInputLabel:(r.props.timeInputLabel??`Time`)+` (Start)`})),b.createElement(sg,Mm({},t.defaultProps,r.props,{date:s,timeString:c,onChange:function(e){var t,n;(n=(t=r.props).onTimeChange)==null||n.call(t,e,`end`)},timeInputLabel:(r.props.timeInputLabel??`Time`)+` (End)`})))}var l=r.props.selected?new Date(r.props.selected):void 0,u=l&&qm(l)&&r.props.selected?`${$h(l.getHours())}:${$h(l.getMinutes())}`:``;return b.createElement(sg,Mm({},t.defaultProps,r.props,{date:l,timeString:u,onChange:function(e){var t,n;(n=(t=r.props).onTimeChange)==null||n.call(t,e)}}))}},r.renderAriaLiveRegion=function(){if(!qm(r.state.date))return b.createElement(`span`,{role:`alert`,"aria-live":`polite`,className:`react-datepicker__aria-live`});var e=eg(r.state.date,r.props.yearItemNumber??t.defaultProps.yearItemNumber),n=e.startPeriod,i=e.endPeriod,a=r.props.showYearPicker?`${n} - ${i}`:r.props.showMonthYearPicker||r.props.showQuarterYearPicker?X(r.state.date):`${Ch(ru(r.state.date),r.props.locale)} ${X(r.state.date)}`;return b.createElement(`span`,{role:`alert`,"aria-live":`polite`,className:`react-datepicker__aria-live`},r.state.isRenderAriaLiveMessage&&a)},r.renderChildren=function(){if(r.props.children)return b.createElement(`div`,{className:`react-datepicker__children-container`},r.props.children)},r.containerRef=(0,b.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,`defaultProps`,{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:Mg,timeCaption:`Time`,previousYearButtonLabel:`Previous Year`,nextYearButtonLabel:`Next Year`,previousMonthButtonLabel:`Previous Month`,nextMonthButtonLabel:`Next Month`,yearItemNumber:Um,monthHeaderPosition:`top`}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){e.setState({monthContainer:e.monthContainer})})())},t.prototype.componentDidUpdate=function(e){var t=this;if(this.props.preSelection&&qm(this.props.preSelection)&&(!hh(this.props.preSelection,e.preSelection)||this.props.monthSelectedIn!==e.monthSelectedIn)){var n=!ph(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!hh(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var e=this.props.container||Pm;return b.createElement(Im,{onClickOutside:this.handleClickOutside,style:{display:`contents`},ignoreClass:this.props.outsideClickIgnoreClass},b.createElement(`div`,{style:{display:`contents`},ref:this.containerRef},b.createElement(e,{className:vc(`react-datepicker`,this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition===`top`&&this.renderPreviousButton(),this.props.monthHeaderPosition===`top`&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(b.Component),Fg=function(e){var t=e.icon,n=e.className,r=n===void 0?``:n,i=e.onClick,a=`react-datepicker__calendar-icon`;if(typeof t==`string`)return b.createElement(`i`,{className:`${a} ${t} ${r}`,"aria-hidden":`true`,onClick:i});if(b.isValidElement(t)){var o=t;return b.cloneElement(o,{className:`${o.props.className||``} ${a} ${r}`,onClick:function(e){typeof o.props.onClick==`function`&&o.props.onClick(e),typeof i==`function`&&i(e)}})}return b.createElement(`svg`,{className:`${a} ${r}`,xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 448 512`,onClick:i},b.createElement(`path`,{d:`M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z`}))},Ig=function(e){jm(t,e);function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement(`div`),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement(`div`),this.portalRoot.setAttribute(`id`,this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return km.createPortal(this.props.children,this.el)},t}(b.Component),Lg=`[tabindex], a, button, input, select, textarea`,Rg=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},zg=function(e){jm(t,e);function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){return Array.prototype.slice.call(n.tabLoopRef.current?.querySelectorAll(Lg),1,-1).filter(Rg)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,b.createRef)(),n}return t.prototype.render=function(){return this.props.enableTabLoop??t.defaultProps.enableTabLoop?b.createElement(`div`,{className:`react-datepicker__tab-loop`,ref:this.tabLoopRef},b.createElement(`div`,{className:`react-datepicker__tab-loop__start`,tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,b.createElement(`div`,{className:`react-datepicker__tab-loop__end`,tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(b.Component);function Bg(e){function t(t){var n=typeof t.hidePopper==`boolean`?t.hidePopper:!0,r=(0,b.useRef)(null),i=Tm(Mm({open:!n,whileElementsMounted:Gp,placement:t.popperPlacement,middleware:Nm([im({padding:15}),rm(10),am({element:r})],t.popperModifiers??[],!0)},t.popperProps)),a=Mm(Mm({},t),{hidePopper:n,popperProps:Mm(Mm({},i),{arrowRef:r})});return b.createElement(e,Mm({},a))}return t.displayName=`withFloating(${e.displayName||e.name||`Component`})`,t}var Vg=Bg(function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,i=r===void 0?!0:r,a=e.popperComponent,o=e.targetComponent,s=e.enableTabLoop,c=e.popperOnKeyDown,l=e.portalId,u=e.portalHost,d=e.popperProps,f=e.showArrow,p=e.popperTargetRef,m=e.monthHeaderPosition;(0,b.useEffect)(function(){p?.current&&d.refs.setPositionReference(p.current)},[p,d.refs]);var h=void 0;if(!i){var g=vc(`react-datepicker-popper`,!f&&`react-datepicker-popper-offset`,m===`middle`&&`react-datepicker-popper--header-middle`,m===`bottom`&&`react-datepicker-popper--header-bottom`,t);h=b.createElement(zg,{enableTabLoop:s},b.createElement(`div`,{ref:d.refs.setFloating,style:d.floatingStyles,className:g,"data-placement":d.placement,onKeyDown:c},a,f&&b.createElement(vm,{ref:d.arrowRef,context:d.context,fill:`currentColor`,strokeWidth:1,height:8,width:16,style:{transform:`translateY(-1px)`},className:`react-datepicker__triangle`})))}e.popperContainer&&(h=(0,b.createElement)(e.popperContainer,{},h)),l&&!i&&(h=b.createElement(Ig,{portalId:l,portalHost:u},h));var _=vc(`react-datepicker-wrapper`,n);return b.createElement(b.Fragment,null,b.createElement(`div`,{ref:d.refs.setReference,className:_},o),h)});function Hg(e,t){return e&&t?ru(e)!==ru(t)||X(e)!==X(t):e!==t}var Ug=`Date input not valid.`,Wg=function(e){jm(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){var e=r.props.timeZone,t=r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Wm();return e?Bm(t,e):t},r.modifyHolidays=function(){return r.props.holidays?.reduce(function(e,t){var n=Gm(t.date,`yyyy-MM-dd`,void 0,!1);return n?Nm(Nm([],e,!0),[Mm(Mm({},t),{date:n})],!1):e},[])},r.calcInitialState=function(){var e=r.props.timeZone,t=r.getPreSelection(),n=qh(r.props),i=Jh(r.props),a=n&&su(t,rh(n))?n:i&&ou(t,lh(i))?i:t,o=r.props.selectsRange?r.props.startDate:r.props.selected;return o&&e&&(o=Bm(o,e)),{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:o??a,highlightDates:Yh(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var e=r.props,n=e.locale,i=e.startDate,a=e.endDate,o=e.rangeSeparator,s=e.selected,c=e.selectedDates,l=e.selectsMultiple,u=e.selectsRange,d=e.formatMultipleDates,f=e.value,p=r.props.dateFormat??t.defaultProps.dateFormat,m=r.state.inputValue;return typeof f==`string`?f:typeof m==`string`?m:u?Qm(i,a,{dateFormat:p,locale:n,rangeSeparator:o}):l?d?d(c??[],function(e){return Xm(e,{dateFormat:p,locale:n})}):$m(c??[],{dateFormat:p,locale:n}):Xm(s,{dateFormat:p,locale:n})},r.resetHiddenStatus=function(){r.setState(Mm(Mm({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Mm(Mm({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState===`hidden`&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;(t=(e=r.input)?.focus)==null||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;(t=(e=r.input)?.blur)==null||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(e,t){t===void 0&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Kg},function(){e||r.setState(function(e){return{focused:t?e.focused:!1}},function(){!t&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return qc(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,i=r.state.wasHidden,a=i?r.state.open:!0;i&&r.resetHiddenStatus(),r.state.preventFocus||((n=(t=r.props).onFocus)==null||n.call(t,e),a&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(Mm(Mm({},r.state),{inputValue:null}))},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((n=(t=r.props).onBlur)==null||n.call(t,e));var i=r.state.inputValue;typeof i==`string`&&i.length>0&&!/[a-zA-Z0-9]/.test(i)&&r.props.selected&&r.setSelected(null,void 0,!0),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;(n=(t=r.props).onClickOutside)==null||n.call(t,e),!r.props.inline&&!e.defaultPrevented&&r.setOpen(!1),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),!o||typeof o.isDefaultPrevented!=`function`||o.isDefaultPrevented()))){r.setState({inputValue:o?.target instanceof HTMLInputElement?o.target.value:null,lastPreSelectChange:Gg});var s=r.props,c=s.selectsRange,l=s.startDate,u=s.endDate,d=r.props.dateFormat??t.defaultProps.dateFormat,f=r.props.strictParsing??t.defaultProps.strictParsing,p=o?.target instanceof HTMLInputElement?o.target.value:``;if(c){var m=r.props.rangeSeparator,h=m.trim(),g=p.split(d.includes(h)?m:h,2).map(function(e){return e.trim()}),_=g[0],v=g[1],y=Gm(_??``,d,r.props.locale,f),b=y?Gm(v??``,d,r.props.locale,f):null,x=Jm(l)?.getTime()!==y?.getTime(),S=Jm(u)?.getTime()!==b?.getTime();if(!x&&!S||y&&Eh(y,r.props)||b&&Eh(b,r.props))return;y&&r.setState({preSelection:y}),(n=(e=r.props).onChange)==null||n.call(e,[y,b],o)}else{var C=Gm(p,d,r.props.locale,f,r.props.selected??void 0);if(C||!p)r.setSelected(C,o,!0);else if(!r.props.inline){var w=Km(p,r.state.preSelection??void 0);w&&(!r.props.minDate||!su(w,r.props.minDate))&&(!r.props.maxDate||!ou(w,r.props.maxDate))&&r.setState({preSelection:w})}}}},r.handleSelect=function(e,n,i){if(!r.props.readOnly){var a=r.props,o=a.selectsRange,s=a.startDate,c=a.endDate,l=a.locale,u=a.swapRange,d=r.props.dateFormat??t.defaultProps.dateFormat,f=!o||s&&!c&&(u||!ag(e,s));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&f&&r.sendFocusBackToInput(),r.props.onChangeRaw){var p=Xm(e,{dateFormat:d,locale:l});r.props.onChangeRaw(n,{date:e,formattedDate:p})}r.setSelected(e,n,!1,i),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(e):f&&r.setOpen(!1)}},r.setSelected=function(e,t,n,i){var a,o,s=r.props.timeZone,c=e;if(c&&s&&(c=Vm(c,s)),r.props.showYearPicker){if(c!==null&&Nh(X(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&Oh(c,r.props))return}else if(c!==null&&Eh(c,r.props))return;var l=r.props,u=l.onChange,d=l.selectsRange,f=l.startDate,p=l.endDate,m=l.selectsMultiple,h=l.selectedDates,g=l.minTime,_=l.swapRange;if(!gh(r.props.selected,c)||r.props.allowSameDay||d||m)if(c!==null&&(r.props.selected&&(!n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=eh(c,{hour:eu(r.props.selected),minute:nu(r.props.selected),second:iu(r.props.selected)})),!n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&g&&(c=eh(c,{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:i})),d){var v=u,y=!f&&!p,b=f&&!p,x=!f&&!!p,S=f&&p;y?v?.([c,null],t):b?c===null?v?.([null,null],t):ag(c,f)?_?v?.([c,f],t):v?.([c,null],t):v?.([f,c],t):x&&(c&&ag(c,p)?v?.([c,p],t):v?.([c,null],t)),S&&v?.([c,null],t)}else if(m){var C=u;if(c!==null)if(!h?.length)C?.([c],t);else if(h.some(function(e){return hh(e,c)})){var w=h.filter(function(e){return!hh(e,c)});C?.(w,t)}else C?.(Nm(Nm([],h,!0),[c],!1),t)}else u?.(c,t);n||((o=(a=r.props).onSelect)==null||o.call(a,c,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){if(!r.props.readOnly){var t=qc(r.props.minDate),n=qc(r.props.maxDate),i=!0;if(e){var a=rh(e);if(t&&n)i=_h(e,r.props.minDate,r.props.maxDate);else if(t){var o=rh(r.props.minDate);i=ou(e,o)||gh(a,o)}else if(n){var s=lh(r.props.maxDate);i=su(e,s)||gh(a,s)}}i&&r.setState({preSelection:e})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e,t){var n,i;if(!r.props.selectsMultiple){var a=r.props,o=a.selectsRange,s=a.startDate,c=a.endDate,l=a.onChange,u=a.timeZone;if(o){var d=l;if(t===`start`){if(s){var f=eh(s,{hour:eu(e),minute:nu(e)});r.setState({preSelection:f}),u&&(f=Vm(f,u)),d?.([f,c?u?Vm(c,u):c:null],void 0)}}else if(t===`end`){if(c){var p=eh(c,{hour:eu(e),minute:nu(e)});r.setState({preSelection:p}),u&&(p=Vm(p,u)),d?.([s?u?Vm(s,u):s:null,p],void 0)}}else if(s&&!c){var f=eh(s,{hour:eu(e),minute:nu(e)});r.setState({preSelection:f}),u&&(f=Vm(f,u)),d?.([f,null],void 0)}else if(s&&c){var p=eh(c,{hour:eu(e),minute:nu(e)});r.setState({preSelection:p}),u&&(p=Vm(p,u)),d?.([u?Vm(s,u):s,p],void 0)}else{var m=eh(r.getPreSelection(),{hour:eu(e),minute:nu(e)});r.setState({preSelection:m})}}else{var h=r.props.selected?r.props.selected:r.getPreSelection(),m=r.props.selected?e:eh(h,{hour:eu(e),minute:nu(e)});r.setState({preSelection:m}),m&&u&&(m=Vm(m,u)),(i=(n=r.props).onChange)==null||i.call(n,m)}r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(t=(e=r.props).onInputClick)==null||t.call(e)},r.handleTimeOnlyArrowKey=function(e){var n,i,a=Jm(r.props.selected)||r.state.preSelection||Wm(),o=r.props.timeIntervals??30,s=r.props.dateFormat??t.defaultProps.dateFormat,c=Array.isArray(s)?s[0]:s,l=rh(a),u=eu(a)*60+nu(a),d=1440-o,f;if(e===Q.ArrowUp){var p=Math.max(0,u-o);f=zc(l,p)}else{var p=Math.min(d,u+o);f=zc(l,p)}var m=Ym(f,c||t.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:f,inputValue:m}),!(r.props.selectsRange||r.props.selectsMultiple)){var h=r.props.selected?r.props.selected:r.getPreSelection(),g=r.props.selected?f:eh(h,{hour:eu(f),minute:nu(f)});(i=(n=r.props).onChange)==null||i.call(n,g),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(f)})}},r.handleTimeOnlyEnterKey=function(e){var n=e.target.value,i=r.props.dateFormat??t.defaultProps.dateFormat,a=r.props.timeFormat||`p`,o=r.state.preSelection||Jm(r.props.selected)||Wm(),s=Gm(n,i,r.props.locale,r.props.strictParsing??!1,o),c=o;if(s&&qm(s))c=s;else{var l=r.calendar?.containerRef.current instanceof Element&&r.calendar.containerRef.current.querySelector(`.react-datepicker__time-list-item[tabindex='0']`);if(l instanceof HTMLElement){var u=l.textContent?.trim();if(u){var d=Gm(u,a,r.props.locale,!1,o);d&&qm(d)&&(c=d)}}}r.handleTimeChange(c),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(e){if(r.calendar?.containerRef.current){for(var t=r.calendar.containerRef.current,n=Array.from(t.querySelectorAll(`.react-datepicker__time-list-item`)),i=null,a=1/0,o=r.props.timeFormat||`p`,s=0,c=n;s<c.length;s++){var l=c[s],u=l.textContent?.trim();if(u){var d=Gm(u,o,r.props.locale,!1,e);if(d&&qm(d)){if(rg(d,e)){i=l;break}var f=Math.abs(d.getTime()-e.getTime());f<a&&(a=f,i=l)}}}i&&(n.forEach(function(e){e.setAttribute(`tabindex`,`-1`)}),i.setAttribute(`tabindex`,`0`),i.scrollIntoView({behavior:`smooth`,block:`center`}))}},r.onInputKeyDown=function(e){var t,n,i,a,o;(n=(t=r.props).onKeyDown)==null||n.call(t,e);var s=e.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(s===Q.ArrowDown||s===Q.ArrowUp||s===Q.Enter)&&((i=r.onInputClick)==null||i.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(s===Q.ArrowDown||s===Q.ArrowUp){e.preventDefault(),r.handleTimeOnlyArrowKey(s);return}if(s===Q.Enter){e.preventDefault(),r.handleTimeOnlyEnterKey(e);return}}if(r.state.open){if(s===Q.ArrowDown||s===Q.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?`.react-datepicker__time-list-item[tabindex='0']`:r.props.showWeekPicker&&r.props.showWeekNumbers?`.react-datepicker__week-number[tabindex="0"]`:r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?`.react-datepicker__month-text[tabindex="0"]`:`.react-datepicker__day[tabindex="0"]`,l=r.calendar?.containerRef.current instanceof Element&&r.calendar.containerRef.current.querySelector(c);l instanceof HTMLElement&&l.focus({preventScroll:!0});return}var u=Wm(r.state.preSelection);s===Q.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Kg?(r.handleSelect(u,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(u)):r.setOpen(!1)):s===Q.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):s===Q.Tab&&r.setOpen(!1),r.inputOk()||(o=(a=r.props).onInputError)==null||o.call(a,{code:1,msg:Ug})}},r.onPortalKeyDown=function(e){e.key===Q.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(e){var t,n,i,a,o,s,c=r.props,l=c.minDate,u=c.maxDate,d=c.disabledKeyboardNavigation,f=c.showWeekPicker,p=c.shouldCloseOnSelect,m=c.locale,h=c.calendarStartDay,g=c.adjustDateOnChange,_=c.inline;if((n=(t=r.props).onKeyDown)==null||n.call(t,e),!d){var v=e.key,y=e.shiftKey,b=Wm(r.state.preSelection),x=function(e,t){var n=t;switch(e){case Q.ArrowRight:n=f?Hc(t,1):Tc(t,1);break;case Q.ArrowLeft:n=f?Zd(t,1):Sd(t,1);break;case Q.ArrowUp:n=Zd(t,1);break;case Q.ArrowDown:n=Hc(t,1);break;case Q.PageUp:n=y?Qd(t,1):Yd(t,1);break;case Q.PageDown:n=y?Uc(t,1):Ec(t,1);break;case Q.Home:n=ih(t,m,h);break;case Q.End:n=uh(t);break}return n},S=function(e,t){for(var n=40,i=e,a=!1,o=0,s=x(e,t);!a;){if(o>=n){s=t;break}l&&s<l&&(i=Q.ArrowRight,s=Eh(l,r.props)?x(i,s):l),u&&s>u&&(i=Q.ArrowLeft,s=Eh(u,r.props)?x(i,s):u),Eh(s,r.props)?((i===Q.PageUp||i===Q.Home)&&(i=Q.ArrowRight),(i===Q.PageDown||i===Q.End)&&(i=Q.ArrowLeft),s=x(i,s)):a=!0,o++}return s};if(v===Q.Enter){e.preventDefault(),r.handleSelect(b,e),!p&&r.setPreSelection(b);return}else if(v===Q.Escape){e.preventDefault(),r.setOpen(!1),r.inputOk()||(a=(i=r.props).onInputError)==null||a.call(i,{code:1,msg:Ug});return}var C=null;switch(v){case Q.ArrowLeft:case Q.ArrowRight:case Q.ArrowUp:case Q.ArrowDown:case Q.PageUp:case Q.PageDown:case Q.Home:case Q.End:C=S(v,b);break}if(!C){(s=(o=r.props).onInputError)==null||s.call(o,{code:1,msg:Ug});return}e.preventDefault(),r.setState({lastPreSelectChange:Kg}),g&&r.setSelected(C),r.setPreSelection(C),_&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(e){e.key===Q.Escape&&(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,i=t.onChange;n?i?.([null,null],e):i?.(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){typeof r.props.closeOnScroll==`boolean`&&r.props.closeOnScroll?(e.target===document||e.target===document.documentElement||e.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll==`function`&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.handleMonthSelectedInChange=function(e){r.setState({monthSelectedIn:e})},r.renderCalendar=function(){return!r.props.inline&&!r.isCalendarOpen()?null:b.createElement(Pg,Mm({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:r.props.dateFormatCalendar??t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Zh(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:r.props.dropdownMode??t.defaultProps.dropdownMode,onMonthSelectedInChange:r.handleMonthSelectedInChange}),r.props.children)},r.renderAriaLiveRegion=function(){var e=r.props.locale,n=r.props.dateFormat??t.defaultProps.dateFormat,i=r.props.showTimeInput||r.props.showTimeSelect?`PPPPp`:`PPPP`,a=r.props.selectsRange?`Selected start date: ${Xm(r.props.startDate,{dateFormat:i,locale:e})}. ${r.props.endDate?`End date: `+Xm(r.props.endDate,{dateFormat:i,locale:e}):``}`:r.props.showTimeSelectOnly?`Selected time: ${Xm(r.props.selected,{dateFormat:n,locale:e})}`:r.props.showYearPicker?`Selected year: ${Xm(r.props.selected,{dateFormat:`yyyy`,locale:e})}`:r.props.showMonthYearPicker?`Selected month: ${Xm(r.props.selected,{dateFormat:`MMMM yyyy`,locale:e})}`:r.props.showQuarterYearPicker?`Selected quarter: ${Xm(r.props.selected,{dateFormat:`yyyy, QQQ`,locale:e})}`:`Selected date: ${Xm(r.props.selected,{dateFormat:i,locale:e})}`;return b.createElement(`span`,{role:`alert`,"aria-live":`polite`,className:`react-datepicker__aria-live`},a)},r.renderDateInput=function(){var e,n,i=vc(r.props.className,(e={},e[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,e)),a=r.props.customInput||b.createElement(`input`,{type:`text`}),o=r.props.customInputRef||`ref`,s={},c=r.props[`aria-describedby`]??r.props.ariaDescribedBy,l=r.props[`aria-invalid`]??r.props.ariaInvalid,u=r.props[`aria-label`]??r.props.ariaLabel,d=r.props[`aria-labelledby`]??r.props.ariaLabelledBy,f=r.props[`aria-required`]??r.props.ariaRequired;return c!=null&&(s[`aria-describedby`]=c),l!=null&&(s[`aria-invalid`]=l),u!=null&&(s[`aria-label`]=u),d!=null&&(s[`aria-labelledby`]=d),f!=null&&(s[`aria-required`]=f),(0,b.cloneElement)(a,Mm((n={},n[o]=function(e){r.input=e},n.value=r.getInputValue(),n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=vc(a.props.className,i),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n),s))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,i=e.selected,a=e.startDate,o=e.endDate,s=e.clearButtonTitle,c=e.clearButtonClassName,l=c===void 0?``:c,u=e.ariaLabelClose,d=u===void 0?`Close`:u,f=e.selectedDates,p=e.readOnly;return t&&!p&&(i!=null||a!=null||o!=null||f?.length)?b.createElement(`button`,{type:`button`,className:vc(`react-datepicker__close-icon`,l,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":d,onClick:r.onClearClick,title:s,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,`defaultProps`,{get:function(){return{allowSameDay:!1,dateFormat:`MM/dd/yyyy`,dateFormatCalendar:`LLLL yyyy`,disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:`scroll`,preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:Mg,readOnly:!1,rangeSeparator:Zm,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:`Time`,previousMonthAriaLabel:`Previous Month`,previousMonthButtonLabel:`Previous Month`,nextMonthAriaLabel:`Next Month`,nextMonthButtonLabel:`Next Month`,previousYearAriaLabel:`Previous Year`,previousYearButtonLabel:`Previous Year`,nextYearAriaLabel:`Next Year`,nextYearButtonLabel:`Next Year`,timeInputLabel:`Time`,enableTabLoop:!0,yearItemNumber:Um,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener(`scroll`,this.onScroll,!0),document.addEventListener(`visibilitychange`,this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,i,a;this.props.selectsRange&&Hg(e.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):Hg(e.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&t.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Yh(this.props.highlightDates)}),!t.focused&&!gh(e.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((r=(n=this.props).onCalendarOpen)==null||r.call(n)),t.open===!0&&this.state.open===!1&&((a=(i=this.props).onCalendarClose)==null||a.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener(`scroll`,this.onScroll,!0),document.removeEventListener(`visibilitychange`,this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,i=e.calendarIconClassName,a=e.toggleCalendarOnIconClick,o=this.state.open;return r&&console.warn(`calendarIconClassname props is deprecated. should use calendarIconClassName props.`),b.createElement(`div`,{className:`react-datepicker__input-container${t?` react-datepicker__view-calendar-icon`:``}`},t&&b.createElement(Fg,Mm({icon:n,className:vc(i,!i&&r,o&&`react-datepicker-ignore-onclickoutside`)},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?b.createElement(zg,{enableTabLoop:this.props.enableTabLoop},b.createElement(`div`,{className:`react-datepicker__portal`,tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=b.createElement(Ig,Mm({portalId:this.props.portalId},this.props),t)),b.createElement(b.Fragment,null,this.renderInputContainer(),t)}return b.createElement(Vg,Mm({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t}(b.Component),Gg=`input`,Kg=`navigate`;const qg=`https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?auto=format&fit=crop&q=80&w=200`;var Jg=[`https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1566127444979-b3d2b654e3d7?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1549289524-1e85c7b6c299?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1555992336-fb9d29493b13?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1533105079780-92b9be482077?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1604580864964-c8d03b3068e2?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1548013146-72479768bada?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1599707367072-cd6ad663325d?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1576504677634-06b2130bd1f3?auto=format&fit=crop&q=80&w=200`,`https://images.unsplash.com/photo-1525641855721-6f4963066356?auto=format&fit=crop&q=80&w=200`],Yg=()=>Jg[Math.floor(Math.random()*Jg.length)];const Xg=async(e,t)=>{if(`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))try{let{data:n,error:r}=await uc.auth.signInWithPassword({email:e,password:t});if(r)return{success:!1,message:r.message};if(n.user)return{success:!0,data:{id:n.user.id,name:n.user.user_metadata.name||e.split(`@`)[0],email:n.user.email||``,avatar:n.user.user_metadata.avatar_url||Yg(),token:n.session?.access_token}}}catch(e){return console.error(`Supabase Login Error:`,e),{success:!1,message:``}}return new Promise(n=>{setTimeout(()=>{if(t.length<6){n({success:!1,message:`6`});return}n({success:!0,data:{id:`user-`+Date.now(),name:e.split(`@`)[0],email:e,avatar:Yg(),token:`mock-jwt-token-`+Date.now()}})},1500)})},Zg=async(e,t,n)=>{if(`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`))try{let{data:r,error:i}=await uc.auth.signUp({email:e,password:t,options:{data:{name:n,avatar_url:Yg()}}});if(i)return{success:!1,message:i.message};if(r.user)return r.session?{success:!0,data:{id:r.user.id,name:n,email:e,avatar:r.user.user_metadata.avatar_url||Yg(),token:r.session?.access_token}}:{success:!1,message:``}}catch(e){return console.error(`Supabase Register Error:`,e),{success:!1,message:``}}return new Promise(r=>{setTimeout(()=>{if(t.length<6){r({success:!1,message:`6`});return}r({success:!0,data:{id:`user-`+Date.now(),name:n||``,email:e,avatar:Yg(),token:`mock-jwt-token-`+Date.now()}})},1500)})};var Qg=()=>{let e=et(),[t,n]=(0,b.useState)(null),[r,i]=(0,b.useState)([]),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)([null,null]),[l,u]=s,[d,f]=(0,b.useState)(0),[p,m]=(0,b.useState)([]),[h,g]=(0,b.useState)(`all`);b.useEffect(()=>{let e=localStorage.getItem(`museum_user`),t=null;if(e)try{let r=JSON.parse(e);t=r.id||r.uid,n(r)}catch(e){console.error(`Failed to parse user`,e)}(async()=>{if(t){let e=await fc.getUserPlans(t);if(e.length>0)i(e);else{let e=localStorage.getItem(`my_plans`);e&&i(JSON.parse(e).filter(e=>e.uid===t))}}else i([])})()},[]);let _=e=>{if(!e)return``;let t=new Date(e);return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}`};b.useEffect(()=>{if(l&&u){let e=Math.abs(u.getTime()-l.getTime()),t=Math.ceil(e/(1e3*60*60*24))+1;f(t>0?t:0)}else f(0)},[l,u]);let v=()=>{if(!t){e(`/auth`);return}if(!a.trim()){alert(``);return}if(!l||!u){alert(``);return}if(p.length===0){alert(``);return}e(`/plan/edit`,{state:{destination:a,days:d,preferences:p,startDate:l?l.toISOString():null}})},y=[{id:`history`,label:``,icon:``},{id:`art`,label:``,icon:``},{id:`nature`,label:``,icon:``},{id:`family`,label:``,icon:``}],x=e=>{p.includes(e)?m(p.filter(t=>t!==e)):m([...p,e])},S=(()=>{if(!r)return[];if(h===`all`)return r;let e=new Date;return e.setHours(0,0,0,0),r.filter(t=>t.startDate?new Date(t.startDate)>=e:!1)})();return(0,U.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800 relative overflow-hidden`,children:[(0,U.jsx)(hc,{}),(0,U.jsx)(`header`,{className:`px-6 pt-8 pb-4 bg-transparent sticky top-0 z-10 relative`,children:(0,U.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h1`,{className:`text-2xl font-bold font-serif tracking-wide text-stone-900`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mt-1`,children:``})]}),(0,U.jsx)(vn,{to:`/profile`,className:`w-10 h-10 rounded-full bg-stone-200 overflow-hidden border-2 border-white shadow-sm active:scale-95 transition-transform block`,children:(0,U.jsx)(`img`,{src:t?.avatar||`https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?auto=format&fit=crop&q=80&w=200`,alt:`Avatar`,className:`w-full h-full object-cover`,onError:e=>{e.target.src=qg}})})]})}),(0,U.jsxs)(`main`,{className:`flex-1 px-4 py-2 overflow-y-auto pb-20 relative z-10`,children:[(0,U.jsxs)(`section`,{className:`bg-white rounded-3xl p-5 shadow-sm border border-stone-100 mb-6`,children:[(0,U.jsxs)(`h2`,{className:`text-lg font-bold text-stone-900 mb-4 flex items-center`,children:[(0,U.jsx)($n,{className:`w-5 h-5 mr-2 text-amber-500`}),``]}),(0,U.jsxs)(`div`,{className:`mb-4`,children:[(0,U.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-1.5 uppercase tracking-wider`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(mr,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 w-5 h-5`}),(0,U.jsx)(`input`,{type:`text`,value:a,onChange:e=>o(e.target.value),placeholder:`()`,className:`w-full pl-10 pr-4 py-3 bg-stone-50 border-none rounded-xl focus:ring-2 focus:ring-amber-200 text-stone-800 placeholder-stone-400 font-medium`})]})]}),(0,U.jsxs)(`div`,{className:`mb-6`,children:[(0,U.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider`,children:``}),(0,U.jsxs)(`div`,{className:`bg-stone-50 rounded-2xl p-3 border border-stone-100`,children:[(0,U.jsxs)(`div`,{className:`relative w-full`,children:[(0,U.jsx)(`div`,{className:`absolute left-3 top-1/2 -translate-y-1/2 z-10 pointer-events-none text-stone-400`,children:(0,U.jsx)(qn,{size:18})}),(0,U.jsx)(Wg,{selectsRange:!0,startDate:l,endDate:u,onChange:e=>{c(e)},placeholderText:``,className:`w-full bg-white rounded-xl border border-stone-200 pl-10 pr-4 py-3 text-sm text-stone-700 focus:ring-2 focus:ring-amber-200 focus:outline-none shadow-sm font-medium`,wrapperClassName:`w-full`,dateFormat:`yyyy/MM/dd`,minDate:new Date,isClearable:!0})]}),d>0&&(0,U.jsxs)(`div`,{className:`mt-3 bg-white rounded-xl p-2 flex items-center justify-center space-x-2 border border-stone-100 shadow-sm animate-in fade-in slide-in-from-top-1`,children:[(0,U.jsx)(`span`,{className:`text-xs text-stone-500`,children:``}),(0,U.jsx)(`span`,{className:`text-xl font-bold text-stone-900`,children:d}),(0,U.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]})]})]}),(0,U.jsxs)(`div`,{className:`mb-6`,children:[(0,U.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-1.5 uppercase tracking-wider`,children:` ()`}),(0,U.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:y.map(e=>(0,U.jsxs)(`button`,{onClick:()=>x(e.label),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center border ${p.includes(e.label)?`bg-amber-100 text-amber-800 border-amber-200`:`bg-stone-50 text-stone-600 border-transparent hover:bg-stone-100`}`,children:[(0,U.jsx)(`span`,{className:`mr-1.5`,children:e.icon}),e.label]},e.id))})]}),(0,U.jsxs)(`button`,{onClick:v,className:`w-full relative group overflow-hidden rounded-2xl h-14 flex items-center justify-center bg-stone-900 text-white shadow-lg active:scale-[0.98] transition-transform`,children:[(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-r from-violet-600 to-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity`}),(0,U.jsxs)(`div`,{className:`relative flex items-center font-bold`,children:[(0,U.jsx)(Or,{size:18,className:`mr-2 text-amber-300`}),`AI `]})]})]}),(0,U.jsxs)(`section`,{children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,U.jsx)(`h3`,{className:`text-lg font-bold font-serif text-stone-900`,children:``}),(0,U.jsxs)(`div`,{className:`flex space-x-4 text-sm`,children:[(0,U.jsx)(`button`,{onClick:()=>g(`all`),className:`font-bold transition-colors ${h===`all`?`text-stone-900`:`text-stone-400`}`,children:``}),(0,U.jsx)(`button`,{onClick:()=>g(`upcoming`),className:`font-bold transition-colors ${h===`upcoming`?`text-stone-900`:`text-stone-400`}`,children:``})]})]}),(0,U.jsx)(`div`,{className:`space-y-4`,children:S.length>0?S.map(e=>(0,U.jsxs)(`div`,{className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4`,children:[(0,U.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,U.jsx)(`img`,{src:e.image,alt:e.destination,className:`w-full h-full object-cover ${e.status===`completed`?`grayscale`:``}`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,U.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:[e.days,``]})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-lg leading-tight mb-1`,children:e.title}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,U.jsx)(mr,{size:12,className:`mr-1`}),(0,U.jsx)(`span`,{children:e.destination})]})]}),(0,U.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,U.jsx)(`span`,{className:`text-xs text-stone-400 font-medium`,children:_(e.startDate)}),(0,U.jsx)(`span`,{className:`text-xs px-2 py-1 rounded-full font-medium ${e.status===`upcoming`?`bg-blue-50 text-blue-600`:e.status===`completed`?`bg-stone-100 text-stone-500`:`bg-amber-50 text-amber-600`}`,children:e.status===`upcoming`?``:e.status===`completed`?``:``})]})]})]},e.id)):(0,U.jsxs)(`div`,{className:`bg-white rounded-2xl p-8 shadow-sm border border-stone-100 text-center flex flex-col items-center justify-center animate-in fade-in zoom-in duration-500`,children:[(0,U.jsx)(`div`,{className:`w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mb-4 text-stone-400`,children:(0,U.jsx)(hr,{size:32,strokeWidth:1.5})}),(0,U.jsx)(`h3`,{className:`text-lg font-bold text-stone-800 mb-2`,children:t?``:``}),(0,U.jsx)(`p`,{className:`text-stone-500 text-xs mb-6 leading-relaxed max-w-xs`,children:t?`
 AI `:`
`}),t?(0,U.jsxs)(`button`,{onClick:()=>document.querySelector(`input`)?.focus(),className:`px-6 py-2.5 bg-stone-900 text-white rounded-xl font-medium shadow-lg shadow-stone-900/10 hover:bg-stone-800 active:scale-95 transition-all flex items-center text-sm`,children:[(0,U.jsx)(Sr,{size:16,className:`mr-1.5`}),``]}):(0,U.jsx)(vn,{to:`/auth`,className:`px-6 py-2.5 bg-amber-600 text-white rounded-xl font-medium shadow-lg shadow-amber-900/10 hover:bg-amber-500 active:scale-95 transition-all flex items-center text-sm`,children:``})]})})]})]})]})};function $g(){var e=[...arguments];return(0,b.useMemo)(()=>t=>{e.forEach(e=>e(t))},e)}var e_=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function t_(e){let t=Object.prototype.toString.call(e);return t===`[object Window]`||t===`[object global]`}function n_(e){return`nodeType`in e}function r_(e){return e?t_(e)?e:n_(e)?e.ownerDocument?.defaultView??window:window:window}function i_(e){let{Document:t}=r_(e);return e instanceof t}function a_(e){return t_(e)?!1:e instanceof r_(e).HTMLElement}function o_(e){return e instanceof r_(e).SVGElement}function s_(e){return e?t_(e)?e.document:n_(e)?i_(e)?e:a_(e)||o_(e)?e.ownerDocument:document:document:document}var c_=e_?b.useLayoutEffect:b.useEffect;function l_(e){let t=(0,b.useRef)(e);return c_(()=>{t.current=e}),(0,b.useCallback)(function(){var e=[...arguments];return t.current==null?void 0:t.current(...e)},[])}function u_(){let e=(0,b.useRef)(null);return[(0,b.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,b.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[])]}function d_(e,t){t===void 0&&(t=[e]);let n=(0,b.useRef)(e);return c_(()=>{n.current!==e&&(n.current=e)},t),n}function f_(e,t){let n=(0,b.useRef)();return(0,b.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function p_(e){let t=l_(e),n=(0,b.useRef)(null);return[n,(0,b.useCallback)(e=>{e!==n.current&&t?.(e,n.current),n.current=e},[])]}function m_(e){let t=(0,b.useRef)();return(0,b.useEffect)(()=>{t.current=e},[e]),t.current}var h_={};function g_(e,t){return(0,b.useMemo)(()=>{if(t)return t;let n=h_[e]==null?0:h_[e]+1;return h_[e]=n,e+`-`+n},[e,t])}function __(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>{let r=Object.entries(n);for(let[n,i]of r){let r=t[n];r!=null&&(t[n]=r+e*i)}return t},{...t})}}var v_=__(1),y_=__(-1);function b_(e){return`clientX`in e&&`clientY`in e}function x_(e){if(!e)return!1;let{KeyboardEvent:t}=r_(e.target);return t&&e instanceof t}function S_(e){if(!e)return!1;let{TouchEvent:t}=r_(e.target);return t&&e instanceof t}function C_(e){if(S_(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return b_(e)?{x:e.clientX,y:e.clientY}:null}var w_=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return`translate3d(`+(t?Math.round(t):0)+`px, `+(n?Math.round(n):0)+`px, 0)`}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return`scaleX(`+t+`) scaleY(`+n+`)`}},Transform:{toString(e){if(e)return[w_.Translate.toString(e),w_.Scale.toString(e)].join(` `)}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+` `+n+`ms `+r}}}),T_=`a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]`;function E_(e){return e.matches(T_)?e:e.querySelector(T_)}var D_={display:`none`};function O_(e){let{id:t,value:n}=e;return b.createElement(`div`,{id:t,style:D_},n)}function k_(e){let{id:t,announcement:n,ariaLiveType:r=`assertive`}=e;return b.createElement(`div`,{id:t,style:{position:`fixed`,top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:`hidden`,clip:`rect(0 0 0 0)`,clipPath:`inset(100%)`,whiteSpace:`nowrap`},role:`status`,"aria-live":r,"aria-atomic":!0},n)}function A_(){let[e,t]=(0,b.useState)(``);return{announce:(0,b.useCallback)(e=>{e!=null&&t(e)},[]),announcement:e}}var j_=_(),M_=(0,b.createContext)(null);function N_(e){let t=(0,b.useContext)(M_);(0,b.useEffect)(()=>{if(!t)throw Error(`useDndMonitor must be used within a children of <DndContext>`);return t(e)},[e,t])}function P_(){let[e]=(0,b.useState)(()=>new Set),t=(0,b.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,b.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>e[n]?.call(e,r))},[e]),t]}var F_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},I_={onDragStart(e){let{active:t}=e;return`Picked up draggable item `+t.id+`.`},onDragOver(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was moved over droppable area `+n.id+`.`:`Draggable item `+t.id+` is no longer over a droppable area.`},onDragEnd(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was dropped over droppable area `+n.id:`Draggable item `+t.id+` was dropped.`},onDragCancel(e){let{active:t}=e;return`Dragging was cancelled. Draggable item `+t.id+` was dropped.`}};function L_(e){let{announcements:t=I_,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=F_}=e,{announce:a,announcement:o}=A_(),s=g_(`DndLiveRegion`),[c,l]=(0,b.useState)(!1);if((0,b.useEffect)(()=>{l(!0)},[]),N_((0,b.useMemo)(()=>({onDragStart(e){let{active:n}=e;a(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&a(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;a(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;a(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;a(t.onDragCancel({active:n,over:r}))}}),[a,t])),!c)return null;let u=b.createElement(b.Fragment,null,b.createElement(O_,{id:r,value:i.draggable}),b.createElement(k_,{id:s,announcement:o}));return n?(0,j_.createPortal)(u,n):u}var R_;(function(e){e.DragStart=`dragStart`,e.DragMove=`dragMove`,e.DragEnd=`dragEnd`,e.DragCancel=`dragCancel`,e.DragOver=`dragOver`,e.RegisterDroppable=`registerDroppable`,e.SetDroppableDisabled=`setDroppableDisabled`,e.UnregisterDroppable=`unregisterDroppable`})(R_||={});function z_(){}function B_(e,t){return(0,b.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function V_(){var e=[...arguments];return(0,b.useMemo)(()=>[...e].filter(e=>e!=null),[...e])}var H_=Object.freeze({x:0,y:0});function U_(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function W_(e,t){let n=C_(e);if(!n)return`0 0`;let r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+`% `+r.y+`%`}function G_(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function K_(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function q_(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function J_(e,t){if(!e||e.length===0)return null;let[n]=e;return t?n[t]:n}var Y_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=q_(t),a=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=q_(r),o=i.reduce((e,t,r)=>e+U_(n[r],t),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(G_)};function X_(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){let n=t.width*t.height,r=e.width*e.height,i=o*s,a=i/(n+r-i);return Number(a.toFixed(4))}return 0}var Z_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=[];for(let e of r){let{id:r}=e,a=n.get(r);if(a){let n=X_(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(K_)};function Q_(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function $_(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:H_}function ev(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}var tv=ev(1);function nv(e){if(e.startsWith(`matrix3d(`)){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(`matrix(`)){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function rv(e,t,n){let r=nv(t);if(!r)return e;let{scaleX:i,scaleY:a,x:o,y:s}=r,c=e.left-o-(1-i)*parseFloat(n),l=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(` `)+1)),u=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c}}var iv={ignoreTransform:!1};function av(e,t){t===void 0&&(t=iv);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=r_(e).getComputedStyle(e);t&&(n=rv(n,t,r))}let{top:r,left:i,width:a,height:o,bottom:s,right:c}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:c}}function ov(e){return av(e,{ignoreTransform:!0})}function sv(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function cv(e,t){return t===void 0&&(t=r_(e).getComputedStyle(e)),t.position===`fixed`}function lv(e,t){t===void 0&&(t=r_(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return[`overflow`,`overflowX`,`overflowY`].some(e=>{let r=t[e];return typeof r==`string`?n.test(r):!1})}function uv(e,t){let n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(i_(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!a_(i)||o_(i)||n.includes(i))return n;let a=r_(e).getComputedStyle(i);return i!==e&&lv(i,a)&&n.push(i),cv(i,a)?n:r(i.parentNode)}return e?r(e):n}function dv(e){let[t]=uv(e,1);return t??null}function fv(e){return!e_||!e?null:t_(e)?e:n_(e)?i_(e)||e===s_(e).scrollingElement?window:a_(e)?e:null:null}function pv(e){return t_(e)?e.scrollX:e.scrollLeft}function mv(e){return t_(e)?e.scrollY:e.scrollTop}function hv(e){return{x:pv(e),y:mv(e)}}var gv;(function(e){e[e.Forward=1]=`Forward`,e[e.Backward=-1]=`Backward`})(gv||={});function _v(e){return!e_||!e?!1:e===document.scrollingElement}function vv(e){let t={x:0,y:0},n=_v(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}var yv={x:.2,y:.2};function bv(e,t,n,r,i){let{top:a,left:o,right:s,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=yv);let{isTop:l,isBottom:u,isLeft:d,isRight:f}=vv(e),p={x:0,y:0},m={x:0,y:0},h={height:t.height*i.y,width:t.width*i.x};return!l&&a<=t.top+h.height?(p.y=gv.Backward,m.y=r*Math.abs((t.top+h.height-a)/h.height)):!u&&c>=t.bottom-h.height&&(p.y=gv.Forward,m.y=r*Math.abs((t.bottom-h.height-c)/h.height)),!f&&s>=t.right-h.width?(p.x=gv.Forward,m.x=r*Math.abs((t.right-h.width-s)/h.width)):!d&&o<=t.left+h.width&&(p.x=gv.Backward,m.x=r*Math.abs((t.left+h.width-o)/h.width)),{direction:p,speed:m}}function xv(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Sv(e){return e.reduce((e,t)=>v_(e,hv(t)),H_)}function Cv(e){return e.reduce((e,t)=>e+pv(t),0)}function wv(e){return e.reduce((e,t)=>e+mv(t),0)}function Tv(e,t){if(t===void 0&&(t=av),!e)return;let{top:n,left:r,bottom:i,right:a}=t(e);dv(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:`center`,inline:`center`})}var Ev=[[`x`,[`left`,`right`],Cv],[`y`,[`top`,`bottom`],wv]],Dv=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=uv(t),r=Sv(n);this.rect={...e},this.width=e.width,this.height=e.height;for(let[e,t,i]of Ev)for(let a of t)Object.defineProperty(this,a,{get:()=>{let t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,`rect`,{enumerable:!1})}},Ov=class{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>this.target?.removeEventListener(...e))},this.target=e}add(e,t,n){var r;(r=this.target)==null||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}};function kv(e){let{EventTarget:t}=r_(e);return e instanceof t?e:s_(e)}function Av(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return typeof t==`number`?Math.sqrt(n**2+r**2)>t:`x`in t&&`y`in t?n>t.x&&r>t.y:`x`in t?n>t.x:`y`in t?r>t.y:!1}var jv;(function(e){e.Click=`click`,e.DragStart=`dragstart`,e.Keydown=`keydown`,e.ContextMenu=`contextmenu`,e.Resize=`resize`,e.SelectionChange=`selectionchange`,e.VisibilityChange=`visibilitychange`})(jv||={});function Mv(e){e.preventDefault()}function Nv(e){e.stopPropagation()}var Pv;(function(e){e.Space=`Space`,e.Down=`ArrowDown`,e.Right=`ArrowRight`,e.Left=`ArrowLeft`,e.Up=`ArrowUp`,e.Esc=`Escape`,e.Enter=`Enter`,e.Tab=`Tab`})(Pv||={});var Fv={start:[Pv.Space,Pv.Enter],cancel:[Pv.Esc],end:[Pv.Space,Pv.Enter,Pv.Tab]},Iv=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Pv.Right:return{...n,x:n.x+25};case Pv.Left:return{...n,x:n.x-25};case Pv.Down:return{...n,y:n.y+25};case Pv.Up:return{...n,y:n.y-25}}},Lv=class{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new Ov(s_(t)),this.windowListeners=new Ov(r_(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jv.Resize,this.handleCancel),this.windowListeners.add(jv.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jv.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&Tv(n),t(H_)}handleKeyDown(e){if(x_(e)){let{active:t,context:n,options:r}=this.props,{keyboardCodes:i=Fv,coordinateGetter:a=Iv,scrollBehavior:o=`smooth`}=r,{code:s}=e;if(i.end.includes(s)){this.handleEnd(e);return}if(i.cancel.includes(s)){this.handleCancel(e);return}let{collisionRect:c}=n.current,l=c?{x:c.left,y:c.top}:H_;this.referenceCoordinates||=l;let u=a(e,{active:t,context:n.current,currentCoordinates:l});if(u){let t=y_(u,l),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(let n of i){let i=e.code,{isTop:a,isRight:s,isLeft:c,isBottom:l,maxScroll:d,minScroll:f}=vv(n),p=xv(n),m={x:Math.min(i===Pv.Right?p.right-p.width/2:p.right,Math.max(i===Pv.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(i===Pv.Down?p.bottom-p.height/2:p.bottom,Math.max(i===Pv.Down?p.top:p.top+p.height/2,u.y))},h=i===Pv.Right&&!s||i===Pv.Left&&!c,g=i===Pv.Down&&!l||i===Pv.Up&&!a;if(h&&m.x!==u.x){let e=n.scrollLeft+t.x,a=i===Pv.Right&&e<=d.x||i===Pv.Left&&e>=f.x;if(a&&!t.y){n.scrollTo({left:e,behavior:o});return}a?r.x=n.scrollLeft-e:r.x=i===Pv.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}else if(g&&m.y!==u.y){let e=n.scrollTop+t.y,a=i===Pv.Down&&e<=d.y||i===Pv.Up&&e>=f.y;if(a&&!t.x){n.scrollTo({top:e,behavior:o});return}a?r.y=n.scrollTop-e:r.y=i===Pv.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,v_(y_(u,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Lv.activators=[{eventName:`onKeyDown`,handler:(e,t,n)=>{let{keyboardCodes:r=Fv,onActivation:i}=t,{active:a}=n,{code:o}=e.nativeEvent;if(r.start.includes(o)){let t=a.activatorNode.current;return t&&e.target!==t?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Rv(e){return!!(e&&`distance`in e)}function zv(e){return!!(e&&`delay`in e)}var Bv=class{constructor(e,t,n){n===void 0&&(n=kv(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:r}=e,{target:i}=r;this.props=e,this.events=t,this.document=s_(i),this.documentListeners=new Ov(this.document),this.listeners=new Ov(n),this.windowListeners=new Ov(r_(i)),this.initialCoordinates=C_(r)??H_,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(jv.Resize,this.handleCancel),this.windowListeners.add(jv.DragStart,Mv),this.windowListeners.add(jv.VisibilityChange,this.handleCancel),this.windowListeners.add(jv.ContextMenu,Mv),this.documentListeners.add(jv.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(zv(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Rv(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(jv.Click,Nv,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jv.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){let{activated:t,initialCoordinates:n,props:r}=this,{onMove:i,options:{activationConstraint:a}}=r;if(!n)return;let o=C_(e)??H_,s=y_(n,o);if(!t&&a){if(Rv(a)){if(a.tolerance!=null&&Av(s,a.tolerance))return this.handleCancel();if(Av(s,a.distance))return this.handleStart()}if(zv(a)&&Av(s,a.tolerance))return this.handleCancel();this.handlePending(a,s);return}e.cancelable&&e.preventDefault(),i(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Pv.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}},Vv={cancel:{name:`pointercancel`},move:{name:`pointermove`},end:{name:`pointerup`}},Hv=class extends Bv{constructor(e){let{event:t}=e,n=s_(t.target);super(e,Vv,n)}};Hv.activators=[{eventName:`onPointerDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];var Uv={move:{name:`mousemove`},end:{name:`mouseup`}},Wv;(function(e){e[e.RightClick=2]=`RightClick`})(Wv||={});var Gv=class extends Bv{constructor(e){super(e,Uv,s_(e.event.target))}};Gv.activators=[{eventName:`onMouseDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Wv.RightClick?!1:(r?.({event:n}),!0)}}];var Kv={cancel:{name:`touchcancel`},move:{name:`touchmove`},end:{name:`touchend`}},qv=class extends Bv{constructor(e){super(e,Kv)}static setup(){return window.addEventListener(Kv.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Kv.move.name,e)};function e(){}}};qv.activators=[{eventName:`onTouchStart`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t,{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Jv;(function(e){e[e.Pointer=0]=`Pointer`,e[e.DraggableRect=1]=`DraggableRect`})(Jv||={});var Yv;(function(e){e[e.TreeOrder=0]=`TreeOrder`,e[e.ReversedTreeOrder=1]=`ReversedTreeOrder`})(Yv||={});function Xv(e){let{acceleration:t,activator:n=Jv.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=Yv.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:u,delta:d,threshold:f}=e,p=Qv({delta:d,disabled:!a}),[m,h]=u_(),g=(0,b.useRef)({x:0,y:0}),_=(0,b.useRef)({x:0,y:0}),v=(0,b.useMemo)(()=>{switch(n){case Jv.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Jv.DraggableRect:return i}},[n,i,c]),y=(0,b.useRef)(null),x=(0,b.useCallback)(()=>{let e=y.current;if(!e)return;let t=g.current.x*_.current.x,n=g.current.y*_.current.y;e.scrollBy(t,n)},[]),S=(0,b.useMemo)(()=>s===Yv.TreeOrder?[...l].reverse():l,[s,l]);(0,b.useEffect)(()=>{if(!a||!l.length||!v){h();return}for(let e of S){if(r?.(e)===!1)continue;let n=u[l.indexOf(e)];if(!n)continue;let{direction:i,speed:a}=bv(e,n,v,t,f);for(let e of[`x`,`y`])p[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0){h(),y.current=e,m(x,o),g.current=a,_.current=i;return}}g.current={x:0,y:0},_.current={x:0,y:0},h()},[t,x,r,h,a,o,JSON.stringify(v),JSON.stringify(p),m,l,S,u,JSON.stringify(f)])}var Zv={x:{[gv.Backward]:!1,[gv.Forward]:!1},y:{[gv.Backward]:!1,[gv.Forward]:!1}};function Qv(e){let{delta:t,disabled:n}=e,r=m_(t);return f_(e=>{if(n||!r||!e)return Zv;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[gv.Backward]:e.x[gv.Backward]||i.x===-1,[gv.Forward]:e.x[gv.Forward]||i.x===1},y:{[gv.Backward]:e.y[gv.Backward]||i.y===-1,[gv.Forward]:e.y[gv.Forward]||i.y===1}}},[n,t,r])}function $v(e,t){let n=t==null?void 0:e.get(t),r=n?n.node.current:null;return f_(e=>t==null?null:r??e??null,[r,t])}function ey(e,t){return(0,b.useMemo)(()=>e.reduce((e,n)=>{let{sensor:r}=n,i=r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}));return[...e,...i]},[]),[e,t])}var ty;(function(e){e[e.Always=0]=`Always`,e[e.BeforeDragging=1]=`BeforeDragging`,e[e.WhileDragging=2]=`WhileDragging`})(ty||={});var ny;(function(e){e.Optimized=`optimized`})(ny||={});var ry=new Map;function iy(e,t){let{dragging:n,dependencies:r,config:i}=t,[a,o]=(0,b.useState)(null),{frequency:s,measure:c,strategy:l}=i,u=(0,b.useRef)(e),d=g(),f=d_(d),p=(0,b.useCallback)(function(e){e===void 0&&(e=[]),!f.current&&o(t=>t===null?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),m=(0,b.useRef)(null),h=f_(t=>{if(d&&!n)return ry;if(!t||t===ry||u.current!==e||a!=null){let t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}let e=n.node.current,r=e?new Dv(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,a,n,d,c]);return(0,b.useEffect)(()=>{u.current=e},[e]),(0,b.useEffect)(()=>{d||p()},[n,d]),(0,b.useEffect)(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),(0,b.useEffect)(()=>{d||typeof s!=`number`||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},s))},[s,d,p,...r]),{droppableRects:h,measureDroppableContainers:p,measuringScheduled:a!=null};function g(){switch(l){case ty.Always:return!1;case ty.BeforeDragging:return n;default:return!n}}}function ay(e,t){return f_(n=>e?n||(typeof t==`function`?t(e):e):null,[t,e])}function oy(e,t){return ay(e,t)}function sy(e){let{callback:t,disabled:n}=e,r=l_(t),i=(0,b.useMemo)(()=>{if(n||typeof window>`u`||window.MutationObserver===void 0)return;let{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,b.useEffect)(()=>()=>i?.disconnect(),[i]),i}function cy(e){let{callback:t,disabled:n}=e,r=l_(t),i=(0,b.useMemo)(()=>{if(n||typeof window>`u`||window.ResizeObserver===void 0)return;let{ResizeObserver:e}=window;return new e(r)},[n]);return(0,b.useEffect)(()=>()=>i?.disconnect(),[i]),i}function ly(e){return new Dv(av(e),e)}function uy(e,t,n){t===void 0&&(t=ly);let[r,i]=(0,b.useState)(null);function a(){i(r=>{if(!e)return null;if(e.isConnected===!1)return r??n??null;let i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i})}let o=sy({callback(t){if(e)for(let n of t){let{type:t,target:r}=n;if(t===`childList`&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),s=cy({callback:a});return c_(()=>{a(),e?(s?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[e]),r}function dy(e){return $_(e,ay(e))}var fy=[];function py(e){let t=(0,b.useRef)(e),n=f_(n=>e?n&&n!==fy&&e&&t.current&&e.parentNode===t.current.parentNode?n:uv(e):fy,[e]);return(0,b.useEffect)(()=>{t.current=e},[e]),n}function my(e){let[t,n]=(0,b.useState)(null),r=(0,b.useRef)(e),i=(0,b.useCallback)(e=>{let t=fv(e.target);t&&n(e=>e?(e.set(t,hv(t)),new Map(e)):null)},[]);return(0,b.useEffect)(()=>{let t=r.current;if(e!==t){a(t);let o=e.map(e=>{let t=fv(e);return t?(t.addEventListener(`scroll`,i,{passive:!0}),[t,hv(t)]):null}).filter(e=>e!=null);n(o.length?new Map(o):null),r.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{fv(e)?.removeEventListener(`scroll`,i)})}},[i,e]),(0,b.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>v_(e,t),H_):Sv(e):H_,[e,t])}function hy(e,t){t===void 0&&(t=[]);let n=(0,b.useRef)(null);return(0,b.useEffect)(()=>{n.current=null},t),(0,b.useEffect)(()=>{let t=e!==H_;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?y_(e,n.current):H_}function gy(e){(0,b.useEffect)(()=>{if(!e_)return;let t=e.map(e=>{let{sensor:t}=e;return t.setup==null?void 0:t.setup()});return()=>{for(let e of t)e?.()}},e.map(e=>{let{sensor:t}=e;return t}))}function _y(e,t){return(0,b.useMemo)(()=>e.reduce((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e},{}),[e,t])}function vy(e){return(0,b.useMemo)(()=>e?sv(e):null,[e])}var yy=[];function by(e,t){t===void 0&&(t=av);let[n]=e,r=vy(n?r_(n):null),[i,a]=(0,b.useState)(yy);function o(){a(()=>e.length?e.map(e=>_v(e)?r:new Dv(t(e),e)):yy)}let s=cy({callback:o});return c_(()=>{s?.disconnect(),o(),e.forEach(e=>s?.observe(e))},[e]),i}function xy(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return a_(t)?t:e}function Sy(e){let{measure:t}=e,[n,r]=(0,b.useState)(null),i=cy({callback:(0,b.useCallback)(e=>{for(let{target:n}of e)if(a_(n)){r(e=>{let r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[a,o]=p_((0,b.useCallback)(e=>{let n=xy(e);i?.disconnect(),n&&i?.observe(n),r(n?t(n):null)},[t,i]));return(0,b.useMemo)(()=>({nodeRef:a,rect:n,setRef:o}),[n,a,o])}var Cy=[{sensor:Hv,options:{}},{sensor:Lv,options:{}}],wy={current:{}},Ty={draggable:{measure:ov},droppable:{measure:ov,strategy:ty.WhileDragging,frequency:ny.Optimized},dragOverlay:{measure:av}},Ey=class extends Map{get(e){return e==null?void 0:super.get(e)??void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){return this.get(e)?.node.current??void 0}},Dy={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ey,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:z_},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ty,measureDroppableContainers:z_,windowRect:null,measuringScheduled:!1},Oy={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:``},dispatch:z_,draggableNodes:new Map,over:null,measureDroppableContainers:z_},ky=(0,b.createContext)(Oy),Ay=(0,b.createContext)(Dy);function jy(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ey}}}function My(e,t){switch(t.type){case R_.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case R_.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case R_.DragEnd:case R_.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case R_.RegisterDroppable:{let{element:n}=t,{id:r}=n,i=new Ey(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case R_.SetDroppableDisabled:{let{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;let o=new Ey(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case R_.UnregisterDroppable:{let{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let a=new Ey(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Ny(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:i}=(0,b.useContext)(ky),a=m_(r),o=m_(n?.id);return(0,b.useEffect)(()=>{if(!t&&!r&&a&&o!=null){if(!x_(a)||document.activeElement===a.target)return;let e=i.get(o);if(!e)return;let{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(let e of[t.current,n.current]){if(!e)continue;let t=E_(e);if(t){t.focus();break}}})}},[r,t,i,o,a]),null}function Py(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}function Fy(e){return(0,b.useMemo)(()=>({draggable:{...Ty.draggable,...e?.draggable},droppable:{...Ty.droppable,...e?.droppable},dragOverlay:{...Ty.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Iy(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e,a=(0,b.useRef)(!1),{x:o,y:s}=typeof i==`boolean`?{x:i,y:i}:i;c_(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!r)return;let e=t?.node.current;if(!e||e.isConnected===!1)return;let i=$_(n(e),r);if(o||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){let t=dv(e);t&&t.scrollBy({top:i.y,left:i.x})}},[t,o,s,r,n])}var Ly=(0,b.createContext)({...H_,scaleX:1,scaleY:1}),Ry;(function(e){e[e.Uninitialized=0]=`Uninitialized`,e[e.Initializing=1]=`Initializing`,e[e.Initialized=2]=`Initialized`})(Ry||={});var zy=(0,b.memo)(function(e){let{id:t,accessibility:n,autoScroll:r=!0,children:i,sensors:a=Cy,collisionDetection:o=Z_,measuring:s,modifiers:c,...l}=e,[u,d]=(0,b.useReducer)(My,void 0,jy),[f,p]=P_(),[m,h]=(0,b.useState)(Ry.Uninitialized),g=m===Ry.Initialized,{draggable:{active:_,nodes:v,translate:y},droppable:{containers:x}}=u,S=_==null?null:v.get(_),C=(0,b.useRef)({initial:null,translated:null}),w=(0,b.useMemo)(()=>_==null?null:{id:_,data:S?.data??wy,rect:C},[_,S]),T=(0,b.useRef)(null),[ee,E]=(0,b.useState)(null),[D,te]=(0,b.useState)(null),O=d_(l,Object.values(l)),ne=g_(`DndDescribedBy`,t),k=(0,b.useMemo)(()=>x.getEnabled(),[x]),re=Fy(s),{droppableRects:A,measureDroppableContainers:j,measuringScheduled:M}=iy(k,{dragging:g,dependencies:[y.x,y.y],config:re.droppable}),N=$v(v,_),ie=(0,b.useMemo)(()=>D?C_(D):null,[D]),P=Ne(),F=oy(N,re.draggable.measure);Iy({activeNode:_==null?null:v.get(_),config:P.layoutShiftCompensation,initialRect:F,measure:re.draggable.measure});let ae=uy(N,re.draggable.measure,F),oe=uy(N?N.parentElement:null),I=(0,b.useRef)({activatorEvent:null,active:null,activeNode:N,collisionRect:null,collisions:null,droppableRects:A,draggableNodes:v,draggingNode:null,draggingNodeRect:null,droppableContainers:x,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),se=x.getNodeFor(I.current.over?.id),ce=Sy({measure:re.dragOverlay.measure}),le=ce.nodeRef.current??N,ue=g?ce.rect??ae:null,de=!!(ce.nodeRef.current&&ce.rect),fe=dy(de?null:ae),pe=vy(le?r_(le):null),me=py(g?se??N:null),he=by(me),ge=Py(c,{transform:{x:y.x-fe.x,y:y.y-fe.y,scaleX:1,scaleY:1},activatorEvent:D,active:w,activeNodeRect:ae,containerNodeRect:oe,draggingNodeRect:ue,over:I.current.over,overlayNodeRect:ce.rect,scrollableAncestors:me,scrollableAncestorRects:he,windowRect:pe}),_e=ie?v_(ie,y):null,ve=my(me),ye=hy(ve),be=hy(ve,[ae]),xe=v_(ge,ye),Se=ue?tv(ue,ge):null,Ce=w&&Se?o({active:w,collisionRect:Se,droppableRects:A,droppableContainers:k,pointerCoordinates:_e}):null,we=J_(Ce,`id`),[Te,Ee]=(0,b.useState)(null),De=Q_(de?ge:v_(ge,be),Te?.rect??null,ae),Oe=(0,b.useRef)(null),ke=(0,b.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(T.current==null)return;let i=v.get(T.current);if(!i)return;let a=e.nativeEvent;Oe.current=new n({active:T.current,activeNode:i,event:a,options:r,context:I,onAbort(e){if(!v.get(e))return;let{onDragAbort:t}=O.current,n={id:e};t?.(n),f({type:`onDragAbort`,event:n})},onPending(e,t,n,r){if(!v.get(e))return;let{onDragPending:i}=O.current,a={id:e,constraint:t,initialCoordinates:n,offset:r};i?.(a),f({type:`onDragPending`,event:a})},onStart(e){let t=T.current;if(t==null)return;let n=v.get(t);if(!n)return;let{onDragStart:r}=O.current,i={activatorEvent:a,active:{id:t,data:n.data,rect:C}};(0,j_.unstable_batchedUpdates)(()=>{r?.(i),h(Ry.Initializing),d({type:R_.DragStart,initialCoordinates:e,active:t}),f({type:`onDragStart`,event:i}),E(Oe.current),te(a)})},onMove(e){d({type:R_.DragMove,coordinates:e})},onEnd:o(R_.DragEnd),onCancel:o(R_.DragCancel)});function o(e){return async function(){let{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=I.current,o=null;if(t&&i){let{cancelDrop:s}=O.current;o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===R_.DragEnd&&typeof s==`function`&&await Promise.resolve(s(o))&&(e=R_.DragCancel)}T.current=null,(0,j_.unstable_batchedUpdates)(()=>{d({type:e}),h(Ry.Uninitialized),Ee(null),E(null),te(null),Oe.current=null;let t=e===R_.DragEnd?`onDragEnd`:`onDragCancel`;if(o){let e=O.current[t];e?.(o),f({type:t,event:o})}})}}},[v]),Ae=ey(a,(0,b.useCallback)((e,t)=>(n,r)=>{let i=n.nativeEvent,a=v.get(r);if(T.current!==null||!a||i.dndKit||i.defaultPrevented)return;let o={active:a};e(n,t.options,o)===!0&&(i.dndKit={capturedBy:t.sensor},T.current=r,ke(n,t))},[v,ke]));gy(a),c_(()=>{ae&&m===Ry.Initializing&&h(Ry.Initialized)},[ae,m]),(0,b.useEffect)(()=>{let{onDragMove:e}=O.current,{active:t,activatorEvent:n,collisions:r,over:i}=I.current;if(!t||!n)return;let a={active:t,activatorEvent:n,collisions:r,delta:{x:xe.x,y:xe.y},over:i};(0,j_.unstable_batchedUpdates)(()=>{e?.(a),f({type:`onDragMove`,event:a})})},[xe.x,xe.y]),(0,b.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=I.current;if(!e||T.current==null||!t||!i)return;let{onDragOver:a}=O.current,o=r.get(we),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};(0,j_.unstable_batchedUpdates)(()=>{Ee(s),a?.(c),f({type:`onDragOver`,event:c})})},[we]),c_(()=>{I.current={activatorEvent:D,active:w,activeNode:N,collisionRect:Se,collisions:Ce,droppableRects:A,draggableNodes:v,draggingNode:le,draggingNodeRect:ue,droppableContainers:x,over:Te,scrollableAncestors:me,scrollAdjustedTranslate:xe},C.current={initial:ue,translated:Se}},[w,N,Ce,Se,v,le,ue,A,x,Te,me,xe]),Xv({...P,delta:y,draggingRect:Se,pointerCoordinates:_e,scrollableAncestors:me,scrollableAncestorRects:he});let je=(0,b.useMemo)(()=>({active:w,activeNode:N,activeNodeRect:ae,activatorEvent:D,collisions:Ce,containerNodeRect:oe,dragOverlay:ce,draggableNodes:v,droppableContainers:x,droppableRects:A,over:Te,measureDroppableContainers:j,scrollableAncestors:me,scrollableAncestorRects:he,measuringConfiguration:re,measuringScheduled:M,windowRect:pe}),[w,N,ae,D,Ce,oe,ce,v,x,A,Te,j,me,he,re,M,pe]),Me=(0,b.useMemo)(()=>({activatorEvent:D,activators:Ae,active:w,activeNodeRect:ae,ariaDescribedById:{draggable:ne},dispatch:d,draggableNodes:v,over:Te,measureDroppableContainers:j}),[D,Ae,w,ae,d,ne,v,Te,j]);return b.createElement(M_.Provider,{value:p},b.createElement(ky.Provider,{value:Me},b.createElement(Ay.Provider,{value:je},b.createElement(Ly.Provider,{value:De},i)),b.createElement(Ny,{disabled:n?.restoreFocus===!1})),b.createElement(L_,{...n,hiddenTextDescribedById:ne}));function Ne(){let e=ee?.autoScrollEnabled===!1,t=typeof r==`object`?r.enabled===!1:r===!1,n=g&&!e&&!t;return typeof r==`object`?{...r,enabled:n}:{enabled:n}}}),By=(0,b.createContext)(null),Vy=`button`,Hy=`Draggable`;function Uy(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e,a=g_(Hy),{activators:o,activatorEvent:s,active:c,activeNodeRect:l,ariaDescribedById:u,draggableNodes:d,over:f}=(0,b.useContext)(ky),{role:p=Vy,roleDescription:m=`draggable`,tabIndex:h=0}=i??{},g=c?.id===t,_=(0,b.useContext)(g?Ly:By),[v,y]=p_(),[x,S]=p_(),C=_y(o,t),w=d_(n);return c_(()=>(d.set(t,{id:t,key:a,node:v,activatorNode:x,data:w}),()=>{let e=d.get(t);e&&e.key===a&&d.delete(t)}),[d,t]),{active:c,activatorEvent:s,activeNodeRect:l,attributes:(0,b.useMemo)(()=>({role:p,tabIndex:h,"aria-disabled":r,"aria-pressed":g&&p===Vy?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,p,h,g,m,u.draggable]),isDragging:g,listeners:r?void 0:C,node:v,over:f,setNodeRef:y,setActivatorNodeRef:S,transform:_}}function Wy(){return(0,b.useContext)(Ay)}var Gy=`Droppable`,Ky={timeout:25};function qy(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e,a=g_(Gy),{active:o,dispatch:s,over:c,measureDroppableContainers:l}=(0,b.useContext)(ky),u=(0,b.useRef)({disabled:n}),d=(0,b.useRef)(!1),f=(0,b.useRef)(null),p=(0,b.useRef)(null),{disabled:m,updateMeasurementsFor:h,timeout:g}={...Ky,...i},_=d_(h??r),v=cy({callback:(0,b.useCallback)(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(_.current)?_.current:[_.current]),p.current=null},g)},[g]),disabled:m||!o}),[y,x]=p_((0,b.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),d.current=!1),e&&v.observe(e))},[v])),S=d_(t);return(0,b.useEffect)(()=>{!v||!y.current||(v.disconnect(),d.current=!1,v.observe(y.current))},[y,v]),(0,b.useEffect)(()=>(s({type:R_.RegisterDroppable,element:{id:r,key:a,disabled:n,node:y,rect:f,data:S}}),()=>s({type:R_.UnregisterDroppable,key:a,id:r})),[r]),(0,b.useEffect)(()=>{n!==u.current.disabled&&(s({type:R_.SetDroppableDisabled,id:r,key:a,disabled:n}),u.current.disabled=n)},[r,a,n,s]),{active:o,rect:f,isOver:c?.id===r,node:y,over:c,setNodeRef:x}}function Jy(e){let{animation:t,children:n}=e,[r,i]=(0,b.useState)(null),[a,o]=(0,b.useState)(null),s=m_(n);return!n&&!r&&s&&i(s),c_(()=>{if(!a)return;let e=r?.key,n=r?.props.id;if(e==null||n==null){i(null);return}Promise.resolve(t(n,a)).then(()=>{i(null)})},[t,r,a]),b.createElement(b.Fragment,null,n,r?(0,b.cloneElement)(r,{ref:o}):null)}var Yy={x:0,y:0,scaleX:1,scaleY:1};function Xy(e){let{children:t}=e;return b.createElement(ky.Provider,{value:Oy},b.createElement(Ly.Provider,{value:Yy},t))}var Zy={position:`fixed`,touchAction:`none`},Qy=e=>x_(e)?`transform 250ms ease`:void 0,$y=(0,b.forwardRef)((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:o,rect:s,style:c,transform:l,transition:u=Qy}=e;if(!s)return null;let d=i?l:{...l,scaleX:1,scaleY:1},f={...Zy,width:s.width,height:s.height,top:s.top,left:s.left,transform:w_.Transform.toString(d),transformOrigin:i&&r?W_(r,s):void 0,transition:typeof u==`function`?u(r):u,...c};return b.createElement(n,{className:o,style:f,ref:t},a)}),eb=e=>t=>{let{active:n,dragOverlay:r}=t,i={},{styles:a,className:o}=e;if(a!=null&&a.active)for(let[e,t]of Object.entries(a.active))t!==void 0&&(i[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,t));if(a!=null&&a.dragOverlay)for(let[e,t]of Object.entries(a.dragOverlay))t!==void 0&&r.node.style.setProperty(e,t);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(let[e,t]of Object.entries(i))n.node.style.setProperty(e,t);o!=null&&o.active&&n.node.classList.remove(o.active)}},tb={duration:250,easing:`ease`,keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:w_.Transform.toString(t)},{transform:w_.Transform.toString(n)}]},sideEffects:eb({styles:{active:{opacity:`0`}}})};function nb(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return l_((e,a)=>{if(t===null)return;let o=n.get(e);if(!o)return;let s=o.node.current;if(!s)return;let c=xy(a);if(!c)return;let{transform:l}=r_(a).getComputedStyle(a),u=nv(l);if(!u)return;let d=typeof t==`function`?t:rb(t);return Tv(s,i.draggable.measure),d({active:{id:e,data:o.data,node:s,rect:i.draggable.measure(s)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:i,transform:u})})}function rb(e){let{duration:t,easing:n,sideEffects:r,keyframes:i}={...tb,...e};return e=>{let{active:a,dragOverlay:o,transform:s,...c}=e;if(!t)return;let l={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},u={scaleX:s.scaleX===1?1:a.rect.width*s.scaleX/o.rect.width,scaleY:s.scaleY===1?1:a.rect.height*s.scaleY/o.rect.height},d={x:s.x-l.x,y:s.y-l.y,...u},f=i({...c,active:a,dragOverlay:o,transform:{initial:s,final:d}}),[p]=f,m=f[f.length-1];if(JSON.stringify(p)===JSON.stringify(m))return;let h=r?.({active:a,dragOverlay:o,...c}),g=o.node.animate(f,{duration:t,easing:n,fill:`forwards`});return new Promise(e=>{g.onfinish=()=>{h?.(),e()}})}}var ib=0;function ab(e){return(0,b.useMemo)(()=>{if(e!=null)return ib++,ib},[e])}var ob=b.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:s=`div`,className:c,zIndex:l=999}=e,{activatorEvent:u,active:d,activeNodeRect:f,containerNodeRect:p,draggableNodes:m,droppableContainers:h,dragOverlay:g,over:_,measuringConfiguration:v,scrollableAncestors:y,scrollableAncestorRects:x,windowRect:S}=Wy(),C=(0,b.useContext)(Ly),w=ab(d?.id),T=Py(o,{activatorEvent:u,active:d,activeNodeRect:f,containerNodeRect:p,draggingNodeRect:g.rect,over:_,overlayNodeRect:g.rect,scrollableAncestors:y,scrollableAncestorRects:x,transform:C,windowRect:S}),ee=ay(f),E=nb({config:r,draggableNodes:m,droppableContainers:h,measuringConfiguration:v}),D=ee?g.setRef:void 0;return b.createElement(Xy,null,b.createElement(Jy,{animation:E},d&&w?b.createElement($y,{key:w,id:d.id,ref:D,as:s,activatorEvent:u,adjustScale:t,className:c,transition:a,rect:ee,style:{zIndex:l,...i},transform:T},n):null))});function sb(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function cb(e,t){return e.reduce((e,n,r)=>{let i=t.get(n);return i&&(e[r]=i),e},Array(e.length))}function lb(e){return e!==null&&e>=0}function ub(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function db(e){return typeof e==`boolean`?{draggable:e,droppable:e}:e}var fb=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e,a=sb(t,r,n),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},pb={scaleX:1,scaleY:1},mb=e=>{let{activeIndex:t,activeNodeRect:n,index:r,rects:i,overIndex:a}=e,o=i[t]??n;if(!o)return null;if(r===t){let e=i[a];return e?{x:0,y:t<a?e.top+e.height-(o.top+o.height):e.top-o.top,...pb}:null}let s=hb(i,r,t);return r>t&&r<=a?{x:0,y:-o.height-s,...pb}:r<t&&r>=a?{x:0,y:o.height+s,...pb}:{x:0,y:0,...pb}};function hb(e,t,n){let r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}var gb=`Sortable`,_b=b.createContext({activeIndex:-1,containerId:gb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:fb,disabled:{draggable:!1,droppable:!1}});function vb(e){let{children:t,id:n,items:r,strategy:i=fb,disabled:a=!1}=e,{active:o,dragOverlay:s,droppableRects:c,over:l,measureDroppableContainers:u}=Wy(),d=g_(gb,n),f=s.rect!==null,p=(0,b.useMemo)(()=>r.map(e=>typeof e==`object`&&`id`in e?e.id:e),[r]),m=o!=null,h=o?p.indexOf(o.id):-1,g=l?p.indexOf(l.id):-1,_=(0,b.useRef)(p),v=!ub(p,_.current),y=g!==-1&&h===-1||v,x=db(a);c_(()=>{v&&m&&u(p)},[v,p,m,u]),(0,b.useEffect)(()=>{_.current=p},[p]);let S=(0,b.useMemo)(()=>({activeIndex:h,containerId:d,disabled:x,disableTransforms:y,items:p,overIndex:g,useDragOverlay:f,sortedRects:cb(p,c),strategy:i}),[h,d,x.draggable,x.droppable,y,p,g,c,f,i]);return b.createElement(_b.Provider,{value:S},t)}var yb=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return sb(n,r,i).indexOf(t)},bb=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:c,transition:l}=e;return!l||!r||s!==a&&i===o?!1:n?!0:o!==i&&t===c},xb={duration:200,easing:`ease`},Sb=`transform`,Cb=w_.Transition.toString({property:Sb,duration:0,easing:`linear`}),wb={roleDescription:`sortable`};function Tb(e){let{disabled:t,index:n,node:r,rect:i}=e,[a,o]=(0,b.useState)(null),s=(0,b.useRef)(n);return c_(()=>{if(!t&&n!==s.current&&r.current){let e=i.current;if(e){let t=av(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==s.current&&(s.current=n)},[t,n,r,i]),(0,b.useEffect)(()=>{a&&o(null)},[a]),a}function Eb(e){let{animateLayoutChanges:t=bb,attributes:n,disabled:r,data:i,getNewIndex:a=yb,id:o,strategy:s,resizeObserverConfig:c,transition:l=xb}=e,{items:u,containerId:d,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:h,overIndex:g,useDragOverlay:_,strategy:v}=(0,b.useContext)(_b),y=Db(r,p),x=u.indexOf(o),S=(0,b.useMemo)(()=>({sortable:{containerId:d,index:x,items:u},...i}),[d,i,x,u]),C=(0,b.useMemo)(()=>u.slice(u.indexOf(o)),[u,o]),{rect:w,node:T,isOver:ee,setNodeRef:E}=qy({id:o,data:S,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:D,activatorEvent:te,activeNodeRect:O,attributes:ne,setNodeRef:k,listeners:re,isDragging:A,over:j,setActivatorNodeRef:M,transform:N}=Uy({id:o,data:S,attributes:{...wb,...n},disabled:y.draggable}),ie=$g(E,k),P=!!D,F=P&&!m&&lb(f)&&lb(g),ae=!_&&A,oe=F?(ae&&F?N:null)??(s??v)({rects:h,activeNodeRect:O,activeIndex:f,overIndex:g,index:x}):null,I=lb(f)&&lb(g)?a({id:o,items:u,activeIndex:f,overIndex:g}):x,se=D?.id,ce=(0,b.useRef)({activeId:se,items:u,newIndex:I,containerId:d}),le=u!==ce.current.items,ue=t({active:D,containerId:d,isDragging:A,isSorting:P,id:o,index:x,items:u,newIndex:ce.current.newIndex,previousItems:ce.current.items,previousContainerId:ce.current.containerId,transition:l,wasDragging:ce.current.activeId!=null}),de=Tb({disabled:!ue,index:x,node:T,rect:w});return(0,b.useEffect)(()=>{P&&ce.current.newIndex!==I&&(ce.current.newIndex=I),d!==ce.current.containerId&&(ce.current.containerId=d),u!==ce.current.items&&(ce.current.items=u)},[P,I,d,u]),(0,b.useEffect)(()=>{if(se===ce.current.activeId)return;if(se!=null&&ce.current.activeId==null){ce.current.activeId=se;return}let e=setTimeout(()=>{ce.current.activeId=se},50);return()=>clearTimeout(e)},[se]),{active:D,activeIndex:f,attributes:ne,data:S,rect:w,index:x,newIndex:I,items:u,isOver:ee,isSorting:P,isDragging:A,listeners:re,node:T,overIndex:g,over:j,setNodeRef:ie,setActivatorNodeRef:M,setDroppableNodeRef:E,setDraggableNodeRef:k,transform:de??oe,transition:fe()};function fe(){if(de||le&&ce.current.newIndex===x)return Cb;if(!(ae&&!x_(te)||!l)&&(P||ue))return w_.Transition.toString({...l,property:Sb})}}function Db(e,t){return typeof e==`boolean`?{draggable:e,droppable:!1}:{draggable:e?.draggable??t.draggable,droppable:e?.droppable??t.droppable}}function Ob(e){if(!e)return!1;let t=e.data.current;return!!(t&&`sortable`in t&&typeof t.sortable==`object`&&`containerId`in t.sortable&&`items`in t.sortable&&`index`in t.sortable)}var kb=[Pv.Down,Pv.Right,Pv.Up,Pv.Left],Ab=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(kb.includes(e.code)){if(e.preventDefault(),!n||!r)return;let t=[];a.getEnabled().forEach(n=>{if(!n||n!=null&&n.disabled)return;let a=i.get(n.id);if(a)switch(e.code){case Pv.Down:r.top<a.top&&t.push(n);break;case Pv.Up:r.top>a.top&&t.push(n);break;case Pv.Left:r.left>a.left&&t.push(n);break;case Pv.Right:r.left<a.left&&t.push(n);break}});let c=Y_({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null}),l=J_(c,`id`);if(l===o?.id&&c.length>1&&(l=c[1].id),l!=null){let e=a.get(n.id),t=a.get(l),o=t?i.get(t.id):null,c=t?.node.current;if(c&&o&&e&&t){let n=uv(c).some((e,t)=>s[t]!==e),i=jb(e,t),a=Mb(e,t),l=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},u={x:o.left,y:o.top};return l.x&&l.y?u:y_(u,l)}}}};function jb(e,t){return!Ob(e)||!Ob(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Mb(e,t){return!Ob(e)||!Ob(t)||!jb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var Nb=({spot:e,title:t=``,onClose:n,onSave:r})=>{let[i,a]=(0,b.useState)(e.name),[o,s]=(0,b.useState)(e.duration.toString());return(0,U.jsx)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in`,children:(0,U.jsxs)(`div`,{className:`bg-white rounded-3xl w-full max-w-xs shadow-2xl p-6 animate-in zoom-in-95 duration-200`,children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-center mb-6`,children:[(0,U.jsx)(`h3`,{className:`text-xl font-bold text-stone-900`,children:t}),(0,U.jsx)(`button`,{onClick:n,className:`text-stone-400 hover:text-stone-600 bg-stone-100 p-2 rounded-full`,children:(0,U.jsx)(Pr,{size:18})})]}),(0,U.jsxs)(`div`,{className:`space-y-4`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-1.5 uppercase tracking-wider`,children:``}),(0,U.jsx)(`input`,{type:`text`,value:i,onChange:e=>a(e.target.value),className:`w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 text-stone-900 focus:ring-2 focus:ring-amber-200 focus:outline-none font-medium`,placeholder:``})]}),(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`label`,{className:`block text-xs font-bold text-stone-500 mb-1.5 uppercase tracking-wider`,children:` ()`}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(Qn,{size:16,className:`absolute left-4 top-1/2 -translate-y-1/2 text-stone-400`}),(0,U.jsx)(`input`,{type:`number`,value:o,onChange:e=>s(e.target.value),step:`0.5`,min:`0.5`,className:`w-full bg-stone-50 border border-stone-200 rounded-xl pl-10 pr-4 py-3 text-stone-900 focus:ring-2 focus:ring-amber-200 focus:outline-none font-medium`})]})]}),(0,U.jsxs)(`button`,{onClick:()=>{let t=parseFloat(o);if(!i.trim()){alert(``);return}if(isNaN(t)||t<=0){alert(``);return}r(e.id,i,t),n()},className:`w-full bg-stone-900 text-white font-bold py-4 rounded-xl shadow-lg active:scale-[0.98] transition-all flex items-center justify-center mt-2`,children:[(0,U.jsx)(wr,{size:18,className:`mr-2`}),``]})]})]})})},Pb=({spot:e,onDelete:t,onEdit:n})=>{let{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:s,isDragging:c}=Eb({id:e.id});return(0,U.jsxs)(`div`,{ref:a,style:{transform:w_.Transform.toString(o),transition:s,zIndex:c?10:1,opacity:c?.3:1},className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex items-center space-x-3 mb-3 touch-manipulation group`,children:[(0,U.jsx)(`div`,{...r,...i,className:`text-stone-300 cursor-grab active:cursor-grabbing p-1 hover:text-stone-500`,children:(0,U.jsx)(ir,{size:20})}),(0,U.jsx)(`div`,{className:`w-16 h-16 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0`,children:(0,U.jsx)(`img`,{src:e.image,alt:e.name,className:`w-full h-full object-cover`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}})}),(0,U.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-base truncate`,children:e.name}),(0,U.jsxs)(`div`,{className:`flex items-center space-x-2 mt-1`,children:[(0,U.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,U.jsx)(Qn,{size:12,className:`mr-1`}),(0,U.jsxs)(`span`,{children:[` `,e.duration,` `]})]}),e.tag&&(0,U.jsx)(`span`,{className:`bg-amber-100 text-amber-700 text-[10px] px-1.5 py-0.5 rounded-md font-medium`,children:e.tag})]})]}),(0,U.jsx)(`button`,{onClick:()=>n(e),className:`p-2 text-stone-300 hover:text-amber-500 transition-colors mr-1`,children:(0,U.jsx)(br,{size:18})}),(0,U.jsx)(`button`,{onClick:()=>t(e.id),className:`p-2 text-stone-300 hover:text-red-400 transition-colors`,children:(0,U.jsx)(Ar,{size:18})})]})},Fb=({id:e,date:t,spots:n,onDelete:r,onAdd:i,onEdit:a})=>{let{setNodeRef:o}=Eb({id:e});return(0,U.jsxs)(`div`,{ref:o,className:`mb-6`,children:[(0,U.jsx)(`div`,{className:`flex items-center space-x-2 mb-3 px-1`,children:(0,U.jsxs)(`div`,{className:`text-stone-900 font-bold text-lg flex items-center`,children:[(0,U.jsx)(qn,{size:18,className:`mr-2 text-amber-500`}),t]})}),(0,U.jsxs)(`div`,{className:`bg-stone-100/50 rounded-3xl p-3 min-h-[100px] border border-stone-200/50`,children:[(0,U.jsx)(vb,{id:e,items:n.map(e=>e.id),strategy:mb,children:n.length===0?(0,U.jsx)(`div`,{className:`h-20 mb-2 flex flex-col items-center justify-center text-stone-400 text-xs border-2 border-dashed border-stone-200 rounded-2xl`,children:(0,U.jsx)(`span`,{children:``})}):n.map(e=>(0,U.jsx)(Pb,{spot:e,onDelete:r,onEdit:a},e.id))}),(0,U.jsxs)(`button`,{onClick:()=>i(e),className:`w-full py-3 rounded-xl border-2 border-dashed border-stone-200 text-stone-400 flex items-center justify-center hover:bg-white hover:border-amber-300 hover:text-amber-500 transition-all active:scale-[0.98]`,children:[(0,U.jsx)(Sr,{size:18}),(0,U.jsx)(`span`,{className:`ml-1.5 text-xs font-bold`,children:``})]})]})]})},Ib=()=>{let e=et(),t=R().state,n={:[{id:`1`,name:``,image:`https://images.unsplash.com/photo-1599661046289-e31897846e41?auto=format&fit=crop&q=80&w=800`,duration:4,tag:``},{id:`2`,name:``,image:`https://images.unsplash.com/photo-1508804185872-d7badad00f7d?auto=format&fit=crop&q=80&w=800`,duration:1.5},{id:`3`,name:``,image:`https://images.unsplash.com/photo-1545063328-c8e3fafa16f9?auto=format&fit=crop&q=80&w=800`,duration:2},{id:`4`,name:``,image:`https://images.unsplash.com/photo-1598327772641-7299a4c8405d?auto=format&fit=crop&q=80&w=800`,duration:3,tag:``},{id:`5`,name:``,image:`https://images.unsplash.com/photo-1565060169689-5f2b2e143c68?auto=format&fit=crop&q=80&w=800`,duration:4,tag:``},{id:`6`,name:``,image:`https://images.unsplash.com/photo-1528695782088-3486241a8775?auto=format&fit=crop&q=80&w=800`,duration:4,tag:``},{id:`7`,name:``,image:`https://images.unsplash.com/photo-1600619842852-c62d0801a613?auto=format&fit=crop&q=80&w=800`,duration:3},{id:`8`,name:``,image:`https://images.unsplash.com/photo-1626507422634-97216a759088?auto=format&fit=crop&q=80&w=800`,duration:2}],default:[{id:`101`,name:``,image:`https://images.unsplash.com/photo-1552832230-c0197dd311b5?auto=format&fit=crop&q=80&w=800`,duration:3,tag:``},{id:`102`,name:``,image:`https://images.unsplash.com/photo-1496568816309-51d7c20e3b21?auto=format&fit=crop&q=80&w=800`,duration:2},{id:`103`,name:``,image:`https://images.unsplash.com/photo-1502602898657-3e91760cbb34?auto=format&fit=crop&q=80&w=800`,duration:2.5}]},[r,i]=(0,b.useState)({}),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)(null),[l,u]=(0,b.useState)(null),[d,f]=(0,b.useState)(null),[p,m]=(0,b.useState)(null),[h,g]=(0,b.useState)(!1),[_,v]=(0,b.useState)(!1),y=V_(B_(Hv,{activationConstraint:{distance:8}}),B_(Lv,{coordinateGetter:Ab}));(0,b.useEffect)(()=>{if(!t){o(``),i({"day-0":n.default});return}let{destination:e,preferences:r,days:a,startDate:s}=t;c(s),o(`${e}${r.length>0?r.join(``):``}${a}`);let l=n[e]||n.Beijing||n.default,u=[...l,...l,...l],d={};for(let e=0;e<a;e++){let t=Math.floor(Math.random()*2)+2,n=u.splice(0,t).map(t=>({...t,id:`spot-${e}-${t.id}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}));d[`day-${e}`]=n}i(d)},[t]),(0,b.useEffect)(()=>{let e=e=>{h&&(e.preventDefault(),e.returnValue=``)};return window.addEventListener(`beforeunload`,e),()=>{window.removeEventListener(`beforeunload`,e)}},[h]);let x=()=>{h?v(!0):e(`/plan`)},S=e=>e in r?e:Object.keys(r).find(t=>r[t].find(t=>t.id===e)),C=e=>{u(e.active.id)},w=e=>{let{active:t,over:n}=e,a=n?.id;if(!a||t.id===a)return;let o=S(t.id),s=S(a);if(!o||!s||o===s)return;let c=r[o].find(e=>e.id===t.id);c&&r[s].reduce((e,t)=>e+t.duration,0)+c.duration>24||i(e=>{g(!0);let r=e[o],i=e[s],c=r.findIndex(e=>e.id===t.id),l=i.findIndex(e=>e.id===a),u;if(a in e)u=i.length+1;else{let e=n&&t.rect.current.translated&&t.rect.current.translated.top>n.rect.top+n.rect.height?1:0;u=l>=0?l+e:i.length+1}return{...e,[o]:[...e[o].filter(e=>e.id!==t.id)],[s]:[...e[s].slice(0,u),r[c],...e[s].slice(u,e[s].length)]}})},T=e=>{let{active:t,over:n}=e,a=S(t.id),o=S(n?.id);if(a&&o&&a===o){let e=r[a].findIndex(e=>e.id===t.id),s=r[o].findIndex(e=>e.id===n.id);e!==s&&(g(!0),i(t=>({...t,[a]:sb(t[a],e,s)})))}u(null)},ee=e=>{let t=S(e);t&&(g(!0),i(n=>({...n,[t]:n[t].filter(t=>t.id!==e)})))},E=e=>{m(e)},D=(e,t,n)=>{if(!p)return;if((r[p]||[]).reduce((e,t)=>e+t.duration,0)+n>24){alert(`24`);return}let a={id:`new-${Date.now()}`,name:t,image:`https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=400&auto=format&fit=crop`,duration:n,tag:``};i(e=>({...e,[p]:[...e[p],a]})),g(!0),m(null)},te=(e,t,n)=>{let a=S(e);if(a){if(r[a].filter(t=>t.id!==e).reduce((e,t)=>e+t.duration,0)+n>24){alert(`24`);return}i(r=>({...r,[a]:r[a].map(r=>r.id===e?{...r,name:t,duration:n}:r)})),g(!0)}},O={sideEffects:eb({styles:{active:{opacity:`0.5`}}})},ne=e=>{if(!s)return` ${e+1} `;let t=new Date(s);return t.setDate(t.getDate()+e),`${t.getMonth()+1}${t.getDate()} ${[``,``,``,``,``,``,``][t.getDay()]}`};return(0,U.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800`,children:[(0,U.jsxs)(`header`,{className:`px-4 py-4 bg-white sticky top-0 z-20 border-b border-stone-100 flex items-center justify-between shadow-sm`,children:[(0,U.jsx)(`button`,{onClick:x,className:`w-10 h-10 rounded-full bg-stone-50 flex items-center justify-center text-stone-600 active:scale-95 transition-transform`,children:(0,U.jsx)(Un,{size:20})}),(0,U.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,U.jsx)(`h1`,{className:`text-base font-bold text-stone-900 truncate max-w-[200px]`,children:a}),(0,U.jsxs)(`div`,{className:`flex items-center text-[10px] text-stone-400 mt-0.5`,children:[(0,U.jsx)(mr,{size:10,className:`mr-0.5`}),t?.destination||``]})]}),(0,U.jsx)(`button`,{onClick:async()=>{let n=localStorage.getItem(`museum_user`),i=null;if(n)try{let e=JSON.parse(n);i=e.id||e.uid}catch(e){console.error(`Failed to parse user for plan saving`,e)}let o={id:Date.now().toString(),uid:i||void 0,title:a,destination:t?.destination||``,days:t?.days||0,startDate:s,image:r[`day-0`]?.[0]?.image||`https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=400&auto=format&fit=crop`,status:`upcoming`,createdAt:Date.now()};i&&await fc.savePlan(o,i);let c=localStorage.getItem(`my_plans`),l=c?JSON.parse(c):[];localStorage.setItem(`my_plans`,JSON.stringify([o,...l])),g(!1),e(`/plan`)},className:`text-sm font-bold text-amber-600 bg-amber-50 px-3 py-1.5 rounded-full hover:bg-amber-100 transition-colors`,children:``})]}),(0,U.jsxs)(`main`,{className:`flex-1 px-4 py-6 overflow-y-auto pb-20`,children:[(0,U.jsxs)(zy,{sensors:y,collisionDetection:Y_,onDragStart:C,onDragOver:w,onDragEnd:T,children:[(0,U.jsx)(`div`,{className:`space-y-2`,children:Object.keys(r).sort().map((e,t)=>(0,U.jsx)(Fb,{id:e,dayIndex:t,date:ne(t),spots:r[e],onDelete:ee,onAdd:()=>E(e),onEdit:f},e))}),(0,U.jsx)(ob,{dropAnimation:O,children:l?(0,U.jsxs)(`div`,{className:`bg-white rounded-2xl p-3 shadow-xl border-2 border-amber-400 flex items-center space-x-3 opacity-90 scale-105`,children:[(0,U.jsx)(`div`,{className:`w-16 h-16 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0`,children:(0,U.jsx)(`div`,{className:`w-full h-full bg-stone-300`})}),(0,U.jsx)(`div`,{className:`flex-1`,children:(0,U.jsx)(`h4`,{className:`font-bold text-stone-900`,children:`...`})})]}):null})]}),(0,U.jsx)(`div`,{className:`h-10`}),d&&(0,U.jsx)(Nb,{spot:d,onClose:()=>f(null),onSave:te}),p&&(0,U.jsx)(Nb,{title:``,spot:{id:`new-temp`,name:``,image:``,duration:1.5,tag:``},onClose:()=>m(null),onSave:D}),_&&(0,U.jsx)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in`,children:(0,U.jsxs)(`div`,{className:`bg-white rounded-3xl w-full max-w-xs shadow-2xl p-6 animate-in zoom-in-95 duration-200`,children:[(0,U.jsx)(`h3`,{className:`text-xl font-bold text-stone-900 mb-2`,children:``}),(0,U.jsx)(`p`,{className:`text-sm text-stone-500 mb-6`,children:``}),(0,U.jsxs)(`div`,{className:`flex space-x-3`,children:[(0,U.jsx)(`button`,{onClick:()=>v(!1),className:`flex-1 bg-stone-100 text-stone-600 font-bold py-3 rounded-xl hover:bg-stone-200 transition-colors`,children:``}),(0,U.jsx)(`button`,{onClick:()=>e(`/plan`),className:`flex-1 bg-red-500 text-white font-bold py-3 rounded-xl shadow-md hover:bg-red-600 transition-colors`,children:``})]})]})})]})]})};function Lb(e,t){let n=(0,b.useRef)(t);(0,b.useEffect)(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function Rb(e){return Object.freeze({__version:1,map:e})}function zb(e,t){return Object.freeze({...e,...t})}const Bb=(0,b.createContext)(null);function Vb(){let e=(0,b.use)(Bb);if(e==null)throw Error(`No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>`);return e}_();function Hb(e){function t(t,n){let{instance:r,context:i}=e(t).current;(0,b.useImperativeHandle)(n,()=>r);let{children:a}=t;return a==null?null:b.createElement(Bb,{value:i},a)}return(0,b.forwardRef)(t)}function Ub(e){function t(t,n){let{instance:r}=e(t).current;return(0,b.useImperativeHandle)(n,()=>r),null}return(0,b.forwardRef)(t)}function Wb(e,t){let n=(0,b.useRef)(void 0);(0,b.useEffect)(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Gb(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}var Kb=s(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?r(e):typeof define==`function`&&define.amd?define([`exports`],r):(n=typeof globalThis<`u`?globalThis:n||self,r(n.leaflet={}))})(e,(function(e){var t=`1.9.4`;function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n],i)e[t]=i[t];return e}var r=Object.create||(function(){function e(){}return function(t){return e.prototype=t,new e}})();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function o(e){return`_leaflet_id`in e||(e._leaflet_id=++a),e._leaflet_id}function s(e,t,n){var r,i,a,o=function(){r=!1,i&&=(a.apply(n,i),!1)};return a=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)},a}function c(e,t,n){var r=t[1],i=t[0],a=r-i;return e===r&&n?e:((e-i)%a+a)%a+i}function l(){return!1}function u(e,t){if(t===!1)return e;var n=10**(t===void 0?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,``)}function f(e){return d(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,`options`)||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function m(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+`=`+encodeURIComponent(e[i]));return(!t||t.indexOf(`?`)===-1?`?`:`&`)+r.join(`&`)}var h=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(h,function(e,n){var r=t[n];if(r===void 0)throw Error(`No value provided for variable `+e);return typeof r==`function`&&(r=r(t)),r})}var _=Array.isArray||function(e){return Object.prototype.toString.call(e)===`[object Array]`};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y=`data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=`;function b(e){return window[`webkit`+e]||window[`moz`+e]||window[`ms`+e]}var x=0;function S(e){var t=+new Date,n=Math.max(0,16-(t-x));return x=t+n,window.setTimeout(e,n)}var C=window.requestAnimationFrame||b(`RequestAnimationFrame`)||S,w=window.cancelAnimationFrame||b(`CancelAnimationFrame`)||b(`CancelRequestAnimationFrame`)||function(e){window.clearTimeout(e)};function T(e,t,n){if(n&&C===S)e.call(t);else return C.call(window,i(e,t))}function ee(e){e&&w.call(window,e)}var E={__proto__:null,extend:n,create:r,bind:i,get lastId(){return a},stamp:o,throttle:s,wrapNum:c,falseFn:l,formatNum:u,trim:d,splitWords:f,setOptions:p,getParamString:m,template:g,isArray:_,indexOf:v,emptyImageUrl:y,requestFn:C,cancelFn:w,requestAnimFrame:T,cancelAnimFrame:ee};function D(){}D.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,a=r(i);for(var o in a.constructor=t,t.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&o!==`prototype`&&o!==`__super__`&&(t[o]=this[o]);return e.statics&&n(t,e.statics),e.includes&&(te(e.includes),n.apply(null,[a].concat(e.includes))),n(a,e),delete a.statics,delete a.includes,a.options&&(a.options=i.options?r(i.options):{},n(a.options,e.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},t},D.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},D.mergeOptions=function(e){return n(this.prototype.options,e),this},D.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n=typeof e==`function`?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function te(e){if(!(typeof L>`u`||!L||!L.Mixin)){e=_(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn(`Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.`,Error().stack)}}var O={on:function(e,t,n){if(typeof e==`object`)for(var r in e)this._on(r,e[r],t);else{e=f(e);for(var i=0,a=e.length;i<a;i++)this._on(e[i],t,n)}return this},off:function(e,t,n){if(!arguments.length)delete this._events;else if(typeof e==`object`)for(var r in e)this._off(r,e[r],t);else{e=f(e);for(var i=arguments.length===1,a=0,o=e.length;a<o;a++)i?this._off(e[a]):this._off(e[a],t,n)}return this},_on:function(e,t,n,r){if(typeof t!=`function`){console.warn(`wrong listener type: `+typeof t);return}if(this._listens(e,t,n)===!1){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}},_off:function(e,t,n){var r,i,a;if(this._events&&(r=this._events[e],r)){if(arguments.length===1){if(this._firingCount)for(i=0,a=r.length;i<a;i++)r[i].fn=l;delete this._events[e];return}if(typeof t!=`function`){console.warn(`wrong listener type: `+typeof t);return}var o=this._listens(e,t,n);if(o!==!1){var s=r[o];this._firingCount&&(s.fn=l,this._events[e]=r=r.slice()),r.splice(o,1)}}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var c=a[o],l=c.fn;c.once&&this.off(e,l,c.ctx),l.call(c.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){typeof e!=`string`&&console.warn(`"string" type argument expected`);var i=t;typeof t!=`function`&&(r=!!t,i=void 0,n=void 0);var a=this._events&&this._events[e];if(a&&a.length&&this._listens(e,i,n)!==!1)return!0;if(r){for(var o in this._eventParents)if(this._eventParents[o].listens(e,t,n,r))return!0}return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,a=r.length;i<a;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if(typeof e==`object`)for(var r in e)this._on(r,e[r],t,!0);else{e=f(e);for(var i=0,a=e.length;i<a;i++)this._on(e[i],t,n,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var ne=D.extend(O);function k(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var re=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};k.prototype={clone:function(){return new k(this.x,this.y)},add:function(e){return this.clone()._add(A(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(A(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new k(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new k(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(e){e=A(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=A(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=A(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return`Point(`+u(this.x)+`, `+u(this.y)+`)`}};function A(e,t,n){return e instanceof k?e:_(e)?new k(e[0],e[1]):e==null?e:typeof e==`object`&&`x`in e&&`y`in e?new k(e.x,e.y):new k(e,t,n)}function j(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}j.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof k||typeof e[0]==`number`||`x`in e)t=n=A(e);else if(e=M(e),t=e.min,n=e.max,!t||!n)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=n.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(e){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return e=typeof e[0]==`number`||e instanceof k?A(e):M(e),e instanceof j?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return a&&o},overlaps:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>t.x&&r.x<n.x,o=i.y>t.y&&r.y<n.y;return a&&o},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return M(A(t.x-r,t.y-i),A(n.x+r,n.y+i))},equals:function(e){return e?(e=M(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function M(e,t){return!e||e instanceof j?e:new j(e,t)}function N(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}N.prototype={extend:function(e){var t=this._southWest,n=this._northEast,r,i;if(e instanceof P)r=e,i=e;else if(e instanceof N){if(r=e._southWest,i=e._northEast,!r||!i)return this}else return e?this.extend(F(e)||ie(e)):this;return!t&&!n?(this._southWest=new P(r.lat,r.lng),this._northEast=new P(i.lat,i.lng)):(t.lat=Math.min(r.lat,t.lat),t.lng=Math.min(r.lng,t.lng),n.lat=Math.max(i.lat,n.lat),n.lng=Math.max(i.lng,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new N(new P(t.lat-r,t.lng-i),new P(n.lat+r,n.lng+i))},getCenter:function(){return new P((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new P(this.getNorth(),this.getWest())},getSouthEast:function(){return new P(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e=typeof e[0]==`number`||e instanceof P||`lat`in e?F(e):ie(e);var t=this._southWest,n=this._northEast,r,i;return e instanceof N?(r=e.getSouthWest(),i=e.getNorthEast()):r=i=e,r.lat>=t.lat&&i.lat<=n.lat&&r.lng>=t.lng&&i.lng<=n.lng},intersects:function(e){e=ie(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return a&&o},overlaps:function(e){e=ie(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>t.lat&&r.lat<n.lat,o=i.lng>t.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(`,`)},equals:function(e,t){return e?(e=ie(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(e,t){return e instanceof N?e:new N(e,t)}function P(e,t,n){if(isNaN(e)||isNaN(t))throw Error(`Invalid LatLng object: (`+e+`, `+t+`)`);this.lat=+e,this.lng=+t,n!==void 0&&(this.alt=+n)}P.prototype={equals:function(e,t){return e?(e=F(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(t===void 0?1e-9:t)):!1},toString:function(e){return`LatLng(`+u(this.lat,e)+`, `+u(this.lng,e)+`)`},distanceTo:function(e){return oe.distance(this,F(e))},wrap:function(){return oe.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return ie([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new P(this.lat,this.lng,this.alt)}};function F(e,t,n){return e instanceof P?e:_(e)&&typeof e[0]!=`object`?e.length===3?new P(e[0],e[1],e[2]):e.length===2?new P(e[0],e[1]):null:e==null?e:typeof e==`object`&&`lat`in e?new P(e.lat,`lng`in e?e.lng:e.lon,e.alt):t===void 0?null:new P(e,t,n)}var ae={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*2**e},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new j(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?c(e.lng,this.wrapLng,!0):e.lng,n=this.wrapLat?c(e.lat,this.wrapLat,!0):e.lat,r=e.alt;return new P(n,t,r)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(r===0&&i===0)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new N(new P(a.lat-r,a.lng-i),new P(o.lat-r,o.lng-i))}},oe=n({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,c=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*c}}),I=6378137,se={R:I,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new k(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new P((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(function(){var e=I*Math.PI;return new j([-e,-e],[e,e])})()};function ce(e,t,n,r){if(_(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=n,this._d=r}ce.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t||=1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t||=1,new k((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function le(e,t,n,r){return new ce(e,t,n,r)}var ue=n({},oe,{code:`EPSG:3857`,projection:se,transformation:function(){var e=.5/(Math.PI*se.R);return le(e,.5,-e,.5)}()}),de=n({},ue,{code:`EPSG:900913`});function fe(e){return document.createElementNS(`http://www.w3.org/2000/svg`,e)}function pe(e,t){var n=``,r,i,a,o,s,c;for(r=0,a=e.length;r<a;r++){for(s=e[r],i=0,o=s.length;i<o;i++)c=s[i],n+=(i?`L`:`M`)+c.x+` `+c.y;n+=t?R.svg?`z`:`x`:``}return n||`M0 0`}var me=document.documentElement.style,he=`ActiveXObject`in window,ge=he&&!document.addEventListener,_e=`msLaunchUri`in navigator&&!(`documentMode`in document),ve=Ze(`webkit`),ye=Ze(`android`),be=Ze(`android 2`)||Ze(`android 3`),xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=ye&&Ze(`Google`)&&xe<537&&!(`AudioNode`in window),Ce=!!window.opera,we=!_e&&Ze(`chrome`),Te=Ze(`gecko`)&&!ve&&!Ce&&!he,Ee=!we&&Ze(`safari`),De=Ze(`phantom`),Oe=`OTransition`in me,ke=navigator.platform.indexOf(`Win`)===0,Ae=he&&`transition`in me,je=`WebKitCSSMatrix`in window&&`m11`in new window.WebKitCSSMatrix&&!be,Me=`MozPerspective`in me,Ne=!window.L_DISABLE_3D&&(Ae||je||Me)&&!Oe&&!De,Pe=typeof orientation<`u`||Ze(`mobile`),Fe=Pe&&ve,Ie=Pe&&je,Le=!window.PointerEvent&&window.MSPointerEvent,Re=!!(window.PointerEvent||Le),ze=`ontouchstart`in window||!!window.TouchEvent,Be=!window.L_NO_TOUCH&&(ze||Re),Ve=Pe&&Ce,He=Pe&&Te,Ue=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,We=function(){var e=!1;try{var t=Object.defineProperty({},`passive`,{get:function(){e=!0}});window.addEventListener(`testPassiveEventSupport`,l,t),window.removeEventListener(`testPassiveEventSupport`,l,t)}catch{}return e}(),Ge=function(){return!!document.createElement(`canvas`).getContext}(),Ke=!!(document.createElementNS&&fe(`svg`).createSVGRect),qe=!!Ke&&(function(){var e=document.createElement(`div`);return e.innerHTML=`<svg/>`,(e.firstChild&&e.firstChild.namespaceURI)===`http://www.w3.org/2000/svg`})(),Je=!Ke&&function(){try{var e=document.createElement(`div`);e.innerHTML=`<v:shape adj="1"/>`;var t=e.firstChild;return t.style.behavior=`url(#default#VML)`,t&&typeof t.adj==`object`}catch{return!1}}(),Ye=navigator.platform.indexOf(`Mac`)===0,Xe=navigator.platform.indexOf(`Linux`)===0;function Ze(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var R={ie:he,ielt9:ge,edge:_e,webkit:ve,android:ye,android23:be,androidStock:Se,opera:Ce,chrome:we,gecko:Te,safari:Ee,phantom:De,opera12:Oe,win:ke,ie3d:Ae,webkit3d:je,gecko3d:Me,any3d:Ne,mobile:Pe,mobileWebkit:Fe,mobileWebkit3d:Ie,msPointer:Le,pointer:Re,touch:Be,touchNative:ze,mobileOpera:Ve,mobileGecko:He,retina:Ue,passiveEvents:We,canvas:Ge,svg:Ke,vml:Je,inlineSvg:qe,mac:Ye,linux:Xe},Qe=R.msPointer?`MSPointerDown`:`pointerdown`,$e=R.msPointer?`MSPointerMove`:`pointermove`,et=R.msPointer?`MSPointerUp`:`pointerup`,tt=R.msPointer?`MSPointerCancel`:`pointercancel`,nt={touchstart:Qe,touchmove:$e,touchend:et,touchcancel:tt},rt={touchstart:pt,touchmove:ft,touchend:ft,touchcancel:ft},it={},at=!1;function ot(e,t,n){return t===`touchstart`&&dt(),rt[t]?(n=rt[t].bind(this,n),e.addEventListener(nt[t],n,!1),n):(console.warn(`wrong event specified:`,t),l)}function st(e,t,n){if(!nt[t]){console.warn(`wrong event specified:`,t);return}e.removeEventListener(nt[t],n,!1)}function ct(e){it[e.pointerId]=e}function lt(e){it[e.pointerId]&&(it[e.pointerId]=e)}function ut(e){delete it[e.pointerId]}function dt(){at||=(document.addEventListener(Qe,ct,!0),document.addEventListener($e,lt,!0),document.addEventListener(et,ut,!0),document.addEventListener(tt,ut,!0),!0)}function ft(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||`mouse`)){for(var n in t.touches=[],it)t.touches.push(it[n]);t.changedTouches=[t],e(t)}}function pt(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&on(t),ft(e,t)}function mt(e){var t={},n,r;for(r in e)n=e[r],t[r]=n&&n.bind?n.bind(e):n;return e=t,t.type=`dblclick`,t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var ht=200;function gt(e,t){e.addEventListener(`dblclick`,t);var n=0,r;function i(e){if(e.detail!==1){r=e.detail;return}if(!(e.pointerType===`mouse`||e.sourceCapabilities&&!e.sourceCapabilities.firesTouchEvents)){var i=cn(e);if(!(i.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})&&!i.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var a=Date.now();a-n<=ht?(r++,r===2&&t(mt(e))):r=1,n=a}}}return e.addEventListener(`click`,i),{dblclick:t,simDblclick:i}}function _t(e,t){e.removeEventListener(`dblclick`,t.dblclick),e.removeEventListener(`click`,t.simDblclick)}var vt=Nt([`transform`,`webkitTransform`,`OTransform`,`MozTransform`,`msTransform`]),yt=Nt([`webkitTransition`,`transition`,`OTransition`,`MozTransition`,`msTransition`]),bt=yt===`webkitTransition`||yt===`OTransition`?yt+`End`:`transitionend`;function xt(e){return typeof e==`string`?document.getElementById(e):e}function St(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||n===`auto`)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return n===`auto`?null:n}function z(e,t,n){var r=document.createElement(e);return r.className=t||``,n&&n.appendChild(r),r}function Ct(e){var t=e.parentNode;t&&t.removeChild(e)}function wt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Tt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Et(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Dt(e,t){if(e.classList!==void 0)return e.classList.contains(t);var n=At(e);return n.length>0&&RegExp(`(^|\\s)`+t+`(\\s|$)`).test(n)}function B(e,t){if(e.classList!==void 0)for(var n=f(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!Dt(e,t)){var a=At(e);kt(e,(a?a+` `:``)+t)}}function Ot(e,t){e.classList===void 0?kt(e,d((` `+At(e)+` `).replace(` `+t+` `,` `))):e.classList.remove(t)}function kt(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function At(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function jt(e,t){`opacity`in e.style?e.style.opacity=t:`filter`in e.style&&Mt(e,t)}function Mt(e,t){var n=!1,r=`DXImageTransform.Microsoft.Alpha`;try{n=e.filters.item(r)}catch{if(t===1)return}t=Math.round(t*100),n?(n.Enabled=t!==100,n.Opacity=t):e.style.filter+=` progid:`+r+`(opacity=`+t+`)`}function Nt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Pt(e,t,n){var r=t||new k(0,0);e.style[vt]=(R.ie3d?`translate(`+r.x+`px,`+r.y+`px)`:`translate3d(`+r.x+`px,`+r.y+`px,0)`)+(n?` scale(`+n+`)`:``)}function Ft(e,t){e._leaflet_pos=t,R.any3d?Pt(e,t):(e.style.left=t.x+`px`,e.style.top=t.y+`px`)}function It(e){return e._leaflet_pos||new k(0,0)}var Lt,Rt,zt;if(`onselectstart`in document)Lt=function(){V(window,`selectstart`,on)},Rt=function(){Zt(window,`selectstart`,on)};else{var Bt=Nt([`userSelect`,`WebkitUserSelect`,`OUserSelect`,`MozUserSelect`,`msUserSelect`]);Lt=function(){if(Bt){var e=document.documentElement.style;zt=e[Bt],e[Bt]=`none`}},Rt=function(){Bt&&(document.documentElement.style[Bt]=zt,zt=void 0)}}function Vt(){V(window,`dragstart`,on)}function Ht(){Zt(window,`dragstart`,on)}var Ut,Wt;function Gt(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Kt(),Ut=e,Wt=e.style.outlineStyle,e.style.outlineStyle=`none`,V(window,`keydown`,Kt))}function Kt(){Ut&&(Ut.style.outlineStyle=Wt,Ut=void 0,Wt=void 0,Zt(window,`keydown`,Kt))}function qt(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Jt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Yt={__proto__:null,TRANSFORM:vt,TRANSITION:yt,TRANSITION_END:bt,get:xt,getStyle:St,create:z,remove:Ct,empty:wt,toFront:Tt,toBack:Et,hasClass:Dt,addClass:B,removeClass:Ot,setClass:kt,getClass:At,setOpacity:jt,testProp:Nt,setTransform:Pt,setPosition:Ft,getPosition:It,get disableTextSelection(){return Lt},get enableTextSelection(){return Rt},disableImageDrag:Vt,enableImageDrag:Ht,preventOutline:Gt,restoreOutline:Kt,getSizedParentNode:qt,getScale:Jt};function V(e,t,n,r){if(t&&typeof t==`object`)for(var i in t)en(e,i,t[i],n);else{t=f(t);for(var a=0,o=t.length;a<o;a++)en(e,t[a],n,r)}return this}var Xt=`_leaflet_events`;function Zt(e,t,n,r){if(arguments.length===1)Qt(e),delete e[Xt];else if(t&&typeof t==`object`)for(var i in t)tn(e,i,t[i],n);else if(t=f(t),arguments.length===2)Qt(e,function(e){return v(t,e)!==-1});else for(var a=0,o=t.length;a<o;a++)tn(e,t[a],n,r);return this}function Qt(e,t){for(var n in e[Xt]){var r=n.split(/\d/)[0];(!t||t(r))&&tn(e,r,null,null,n)}}var $t={mouseenter:`mouseover`,mouseleave:`mouseout`,wheel:!(`onwheel`in window)&&`mousewheel`};function en(e,t,n,r){var i=t+o(n)+(r?`_`+o(r):``);if(e[Xt]&&e[Xt][i])return this;var a=function(t){return n.call(r||e,t||window.event)},s=a;!R.touchNative&&R.pointer&&t.indexOf(`touch`)===0?a=ot(e,t,a):R.touch&&t===`dblclick`?a=gt(e,a):`addEventListener`in e?t===`touchstart`||t===`touchmove`||t===`wheel`||t===`mousewheel`?e.addEventListener($t[t]||t,a,R.passiveEvents?{passive:!1}:!1):t===`mouseenter`||t===`mouseleave`?(a=function(t){t||=window.event,fn(e,t)&&s(t)},e.addEventListener($t[t],a,!1)):e.addEventListener(t,s,!1):e.attachEvent(`on`+t,a),e[Xt]=e[Xt]||{},e[Xt][i]=a}function tn(e,t,n,r,i){i||=t+o(n)+(r?`_`+o(r):``);var a=e[Xt]&&e[Xt][i];if(!a)return this;!R.touchNative&&R.pointer&&t.indexOf(`touch`)===0?st(e,t,a):R.touch&&t===`dblclick`?_t(e,a):`removeEventListener`in e?e.removeEventListener($t[t]||t,a,!1):e.detachEvent(`on`+t,a),e[Xt][i]=null}function nn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function rn(e){return en(e,`wheel`,nn),this}function an(e){return V(e,`mousedown touchstart dblclick contextmenu`,nn),e._leaflet_disable_click=!0,this}function on(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function sn(e){return on(e),nn(e),this}function cn(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function ln(e,t){if(!t)return new k(e.clientX,e.clientY);var n=Jt(t),r=n.boundingClientRect;return new k((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var un=R.linux&&R.chrome?window.devicePixelRatio:R.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function dn(e){return R.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/un:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function fn(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch{return!1}return n!==e}var pn={__proto__:null,on:V,off:Zt,stopPropagation:nn,disableScrollPropagation:rn,disableClickPropagation:an,preventDefault:on,stop:sn,getPropagationPath:cn,getMousePosition:ln,getWheelDelta:dn,isExternalTarget:fn,addListener:V,removeListener:Zt},mn=ne.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=It(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire(`start`),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=this._duration*1e3;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Ft(this._el,n),this.fire(`step`)},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire(`end`)},_easeOut:function(e){return 1-(1-e)**this._easeOutPower}}),hn=ne.extend({options:{crs:ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(F(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yt&&R.any3d&&!R.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),V(this._proxy,bt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(F(e),t,this.options.maxBounds),r||={},this._stop(),this._loaded&&!r.reset&&r!==!0&&(r.animate!==void 0&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom===t?this._tryAnimatedPan(e,r.pan):this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e||=R.any3d?this.options.zoomDelta:1,this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e||=R.any3d?this.options.zoomDelta:1,this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),a=(e instanceof k?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t||={},e=e.getBounds?e.getBounds():ie(e);var n=A(t.paddingTopLeft||t.padding||[0,0]),r=A(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if(i=typeof t.maxZoom==`number`?Math.min(t.maxZoom,i):i,i===1/0)return{center:e.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(e,t){if(e=ie(e),!e.isValid())throw Error(`Bounds are not valid.`);var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=A(e).round(),t||={},!e.x&&!e.y)return this.fire(`moveend`);if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new mn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire(`movestart`),t.animate!==!1){B(this._mapPane,`leaflet-pan-anim`);var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire(`move`).fire(`moveend`);return this},flyTo:function(e,t,n){if(n||={},n.animate===!1||!R.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),a=this.getSize(),o=this._zoom;e=F(e),t=t===void 0?o:t;var s=Math.max(a.x,a.y),c=s*this.getZoomScale(o,t),l=i.distanceTo(r)||1,u=1.42,d=u*u;function f(e){var t=e?-1:1,n=e?c:s,r=(c*c-s*s+t*d*d*l*l)/(2*n*d*l),i=Math.sqrt(r*r+1)-r;return i<1e-9?-18:Math.log(i)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}function h(e){return p(e)/m(e)}var g=f(0);function _(e){return s*(m(g)/m(g+u*e))}function v(e){return s*(m(g)*h(g+u*e)-p(g))/d}function y(e){return 1-(1-e)**1.5}var b=Date.now(),x=(f(1)-g)/u,S=n.duration?1e3*n.duration:1e3*x*.8;function C(){var n=(Date.now()-b)/S,a=y(n)*x;n<=1?(this._flyToFrame=T(C,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(v(a)/l)),o),this.getScaleZoom(s/_(a),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),C.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=ie(e),this.listens(`moveend`,this._panInsideMaxBounds)&&this.off(`moveend`,this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on(`moveend`,this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire(`zoomlevelschange`),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire(`zoomlevelschange`),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,ie(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){t||={};var n=A(t.paddingTopLeft||t.padding||[0,0]),r=A(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),a=this.project(e),o=this.getPixelBounds(),s=M([o.min.add(n),o.max.subtract(r)]),c=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var l=a.subtract(s.getCenter()),u=s.extend(a).getSize().subtract(c);i.x+=l.x<0?-u.x:u.x,i.y+=l.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=t.divideBy(2).round(),o=r.divideBy(2).round(),s=a.subtract(o);return!s.x&&!s.y?this:(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire(`move`),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,`moveend`),200)):this.fire(`moveend`)),this.fire(`resize`,{oldSize:t,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire(`viewreset`),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!(`geolocation`in navigator))return this._handleGeolocationError({code:0,message:`Geolocation not supported.`}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(t===1?`permission denied`:t===2?`position unavailable`:`timeout`);this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire(`locationerror`,{code:t,message:`Geolocation error: `+n+`.`})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,n=e.coords.longitude,r=new P(t,n),i=r.toBounds(e.coords.accuracy*2),a=this._locateOptions;if(a.setView){var o=this.getBoundsZoom(i);this.setView(r,a.maxZoom?Math.min(o,a.maxZoom):o)}var s={latlng:r,bounds:i,timestamp:e.timestamp};for(var c in e.coords)typeof e.coords[c]==`number`&&(s[c]=e.coords[c]);this.fire(`locationfound`,s)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off(`moveend`,this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw Error(`Map container is being reused by another instance`);try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var e in this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&=(ee(this._resizeRequest),null),this._clearHandlers(),this._loaded&&this.fire(`unload`),this._layers)this._layers[e].remove();for(e in this._panes)Ct(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=z(`div`,`leaflet-pane`+(e?` leaflet-`+e.replace(`Pane`,``)+`-pane`:``),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new N(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=ie(e),n=A(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),c=this.getSize().subtract(n),l=M(this.project(s,r),this.project(o,r)).getSize(),u=R.any3d?this.options.zoomSnap:1,d=c.x/l.x,f=c.y/l.y,p=t?Math.max(d,f):Math.min(d,f);return r=this.getScaleZoom(p,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(a,r))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new k(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new j(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e==`string`?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=t===void 0?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=t===void 0?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(F(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(A(e),t)},layerPointToLatLng:function(e){var t=A(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(F(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(F(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ie(e))},distance:function(e,t){return this.options.crs.distance(F(e),F(t))},containerPointToLayerPoint:function(e){return A(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return A(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(A(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(e)))},mouseEventToContainerPoint:function(e){return ln(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=xt(e);if(t){if(t._leaflet_id)throw Error(`Map container is already initialized.`)}else throw Error(`Map container not found.`);V(t,`scroll`,this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&R.any3d,B(e,`leaflet-container`+(R.touch?` leaflet-touch`:``)+(R.retina?` leaflet-retina`:``)+(R.ielt9?` leaflet-oldie`:``)+(R.safari?` leaflet-safari`:``)+(this._fadeAnimated?` leaflet-fade-anim`:``));var t=St(e,`position`);t!==`absolute`&&t!==`relative`&&t!==`fixed`&&t!==`sticky`&&(e.style.position=`relative`),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane(`mapPane`,this._container),Ft(this._mapPane,new k(0,0)),this.createPane(`tilePane`),this.createPane(`overlayPane`),this.createPane(`shadowPane`),this.createPane(`markerPane`),this.createPane(`tooltipPane`),this.createPane(`popupPane`),this.options.markerZoomAnimation||(B(e.markerPane,`leaflet-zoom-hide`),B(e.shadowPane,`leaflet-zoom-hide`))},_resetView:function(e,t,n){Ft(this._mapPane,new k(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire(`viewprereset`);var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire(`viewreset`),r&&this.fire(`load`)},_moveStart:function(e,t){return e&&this.fire(`zoomstart`),t||this.fire(`movestart`),this},_move:function(e,t,n,r){t===void 0&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire(`zoom`,n):((i||n&&n.pinch)&&this.fire(`zoom`,n),this.fire(`move`,n)),this},_moveEnd:function(e){return e&&this.fire(`zoomend`),this.fire(`moveend`)},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ft(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error(`Set map center and zoom first.`)},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Zt:V;t(this._container,`click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup`,this._handleDOMEvent,this),this.options.trackResize&&t(window,`resize`,this._onResize,this),R.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,`moveend`,this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n=[],r,i=t===`mouseout`||t===`mouseover`,a=e.target||e.srcElement,s=!1;a;){if(r=this._targets[o(a)],r&&(t===`click`||t===`preclick`)&&this._draggableMoved(r)){s=!0;break}if(r&&r.listens(t,!0)&&(i&&!fn(a,e)||(n.push(r),i))||a===this._container)break;a=a.parentNode}return!n.length&&!s&&!i&&this.listens(t,!0)&&(n=[this]),n},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type===`click`&&this._isClickDisabled(t))){var n=e.type;n===`mousedown`&&Gt(t),this._fireDOMEvent(e,n)}},_mouseEvents:[`click`,`dblclick`,`mouseover`,`mouseout`,`contextmenu`],_fireDOMEvent:function(e,t,r){if(e.type===`click`){var i=n({},e);i.type=`preclick`,this._fireDOMEvent(i,i.type,r)}var a=this._findEventTargets(e,t);if(r){for(var o=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&o.push(r[s]);a=o.concat(a)}if(a.length){t===`contextmenu`&&on(e);var c=a[0],l={originalEvent:e};if(e.type!==`keypress`&&e.type!==`keydown`&&e.type!==`keyup`){var u=c.getLatLng&&(!c._radius||c._radius<=10);l.containerPoint=u?this.latLngToContainerPoint(c.getLatLng()):this.mouseEventToContainerPoint(e),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=u?c.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(t,l,!0),l.originalEvent._stopped||a[s].options.bubblingMouseEvents===!1&&v(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on(`load`,e,t),this},_getMapPanePos:function(){return It(this._mapPane)||new k(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return M([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),a=new j(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,t);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?e:this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new j(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=M(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),a=r.max.subtract(e.max);return new k(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=R.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire(`move`)},_onPanTransitionEnd:function(){Ot(this._mapPane,`leaflet-pan-anim`),this.fire(`moveend`)},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=z(`div`,`leaflet-proxy leaflet-zoom-animated`);this._panes.mapPane.appendChild(e),this.on(`zoomanim`,function(e){var t=vt,n=this._proxy.style[t];Pt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on(`load moveend`,this._animMoveEnd,this),this._on(`unload`,this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ct(this._proxy),this.off(`load moveend`,this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Pt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf(`transform`)>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName(`leaflet-zoom-animated`).length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n||={},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return n.animate!==!0&&!this.getSize().contains(i)?!1:(T(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,B(this._mapPane,`leaflet-zoom-anim`)),this.fire(`zoomanim`,{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||=this._zoom!==this._animateToZoom,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ot(this._mapPane,`leaflet-zoom-anim`),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire(`zoom`),delete this._tempFireZoomEvent,this.fire(`move`),this._moveEnd(!0))}});function gn(e,t){return new hn(e,t)}var _n=D.extend({options:{position:`topright`},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return B(t,`leaflet-control`),n.indexOf(`bottom`)===-1?r.appendChild(t):r.insertBefore(t,r.firstChild),this._map.on(`unload`,this.remove,this),this},remove:function(){return this._map?(Ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off(`unload`,this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),vn=function(e){return new _n(e)};hn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t=`leaflet-`,n=this._controlContainer=z(`div`,t+`control-container`,this._container);function r(r,i){var a=t+r+` `+t+i;e[r+i]=z(`div`,a,n)}r(`top`,`left`),r(`top`,`right`),r(`bottom`,`left`),r(`bottom`,`right`)},_clearControlPos:function(){for(var e in this._controlCorners)Ct(this._controlCorners[e]);Ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yn=_n.extend({options:{collapsed:!0,position:`topright`,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on(`zoomend`,this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on(`add remove`,this._onLayerChange,this);return this._container},addTo:function(e){return _n.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off(`zoomend`,this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off(`add remove`,this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off(`add remove`,this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){B(this._container,`leaflet-control-layers-expanded`),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(B(this._section,`leaflet-control-layers-scrollbar`),this._section.style.height=e+`px`):Ot(this._section,`leaflet-control-layers-scrollbar`),this._checkDisabledLayers(),this},collapse:function(){return Ot(this._container,`leaflet-control-layers-expanded`),this},_initLayout:function(){var e=`leaflet-control-layers`,t=this._container=z(`div`,e),n=this.options.collapsed;t.setAttribute(`aria-haspopup`,!0),an(t),rn(t);var r=this._section=z(`section`,e+`-list`);n&&(this._map.on(`click`,this.collapse,this),V(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=z(`a`,e+`-toggle`,t);i.href=`#`,i.title=`Layers`,i.setAttribute(`role`,`button`),V(i,{keydown:function(e){e.keyCode===13&&this._expandSafely()},click:function(e){on(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=z(`div`,e+`-base`,r),this._separator=z(`div`,e+`-separator`,r),this._overlaysList=z(`div`,e+`-overlays`,r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on(`add remove`,this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wt(this._baseLayersList),wt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t||=r.overlay,e||=!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e&&=i>1,this._baseLayersList.style.display=e?``:`none`),this._separator.style.display=t&&e?``:`none`,this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?e.type===`add`?`overlayadd`:`overlayremove`:e.type===`add`?`baselayerchange`:null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n=`<input type="radio" class="leaflet-control-layers-selector" name="`+e+`"`+(t?` checked="checked"`:``)+`/>`,r=document.createElement(`div`);return r.innerHTML=n,r.firstChild},_addItem:function(e){var t=document.createElement(`label`),n=this._map.hasLayer(e.layer),r;e.overlay?(r=document.createElement(`input`),r.type=`checkbox`,r.className=`leaflet-control-layers-selector`,r.defaultChecked=n):r=this._createRadioElement(`leaflet-base-layers_`+o(this),n),this._layerControlInputs.push(r),r.layerId=o(e.layer),V(r,`click`,this._onInputClick,this);var i=document.createElement(`span`);i.innerHTML=` `+e.name;var a=document.createElement(`span`);return t.appendChild(a),a.appendChild(r),a.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,n,r=[],i=[];this._handlingClick=!0;for(var a=e.length-1;a>=0;a--)t=e[a],n=this._getLayer(t.layerId).layer,t.checked?r.push(n):t.checked||i.push(n);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,n,r=this._map.getZoom(),i=e.length-1;i>=0;i--)t=e[i],n=this._getLayer(t.layerId).layer,t.disabled=n.options.minZoom!==void 0&&r<n.options.minZoom||n.options.maxZoom!==void 0&&r>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,V(e,`click`,on),this.expand();var t=this;setTimeout(function(){Zt(e,`click`,on),t._preventClick=!1})}}),bn=function(e,t,n){return new yn(e,t,n)},xn=_n.extend({options:{position:`topleft`,zoomInText:`<span aria-hidden="true">+</span>`,zoomInTitle:`Zoom in`,zoomOutText:`<span aria-hidden="true">&#x2212;</span>`,zoomOutTitle:`Zoom out`},onAdd:function(e){var t=`leaflet-control-zoom`,n=z(`div`,t+` leaflet-bar`),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+`-in`,n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+`-out`,n,this._zoomOut),this._updateDisabled(),e.on(`zoomend zoomlevelschange`,this._updateDisabled,this),n},onRemove:function(e){e.off(`zoomend zoomlevelschange`,this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var a=z(`a`,n,r);return a.innerHTML=e,a.href=`#`,a.title=t,a.setAttribute(`role`,`button`),a.setAttribute(`aria-label`,t),an(a),V(a,`click`,sn),V(a,`click`,i,this),V(a,`click`,this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t=`leaflet-disabled`;Ot(this._zoomInButton,t),Ot(this._zoomOutButton,t),this._zoomInButton.setAttribute(`aria-disabled`,`false`),this._zoomOutButton.setAttribute(`aria-disabled`,`false`),(this._disabled||e._zoom===e.getMinZoom())&&(B(this._zoomOutButton,t),this._zoomOutButton.setAttribute(`aria-disabled`,`true`)),(this._disabled||e._zoom===e.getMaxZoom())&&(B(this._zoomInButton,t),this._zoomInButton.setAttribute(`aria-disabled`,`true`))}});hn.mergeOptions({zoomControl:!0}),hn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xn,this.addControl(this.zoomControl))});var Sn=function(e){return new xn(e)},Cn=_n.extend({options:{position:`bottomleft`,maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=`leaflet-control-scale`,n=z(`div`,t),r=this.options;return this._addScales(r,t+`-line`,n),e.on(r.updateWhenIdle?`moveend`:`move`,this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?`moveend`:`move`,this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=z(`div`,t,n)),e.imperial&&(this._iScale=z(`div`,t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+` m`:t/1e3+` km`;this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t=e*3.2808399,n,r,i;t>5280?(n=t/5280,r=this._getRoundNum(n),this._updateScale(this._iScale,r+` mi`,r/n)):(i=this._getRoundNum(t),this._updateScale(this._iScale,i+` ft`,i/t))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+`px`,e.innerHTML=t},_getRoundNum:function(e){var t=10**((Math.floor(e)+``).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),wn=function(e){return new Cn(e)},Tn=_n.extend({options:{position:`bottomright`,prefix:`<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">`+(R.inlineSvg?`<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> `:``)+`Leaflet</a>`},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=z(`div`,`leaflet-control-attribution`),an(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on(`layeradd`,this._addAttribution,this),this._container},onRemove:function(e){e.off(`layeradd`,this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once(`remove`,function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e&&this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(`, `)),this._container.innerHTML=n.join(` <span aria-hidden="true">|</span> `)}}});hn.mergeOptions({attributionControl:!0}),hn.addInitHook(function(){this.options.attributionControl&&new Tn().addTo(this)}),_n.Layers=yn,_n.Zoom=xn,_n.Scale=Cn,_n.Attribution=Tn,vn.layers=bn,vn.zoom=Sn,vn.scale=wn,vn.attribution=function(e){return new Tn(e)};var En=D.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});En.addTo=function(e,t){return e.addHandler(t,this),this};var Dn={Events:O},On=R.touch?`touchstart mousedown`:`mousedown`,kn=ne.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||=(V(this._dragStartTarget,On,this._onDown,this),!0)},disable:function(){this._enabled&&(kn._dragging===this&&this.finishDrag(!0),Zt(this._dragStartTarget,On,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Dt(this._element,`leaflet-zoom-anim`))){if(e.touches&&e.touches.length!==1){kn._dragging===this&&this.finishDrag();return}if(!(kn._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(kn._dragging=this,this._preventOutline&&Gt(this._element),Vt(),Lt(),!this._moving)){this.fire(`down`);var t=e.touches?e.touches[0]:e,n=qt(this._element);this._startPoint=new k(t.clientX,t.clientY),this._startPos=It(this._element),this._parentScale=Jt(n);var r=e.type===`mousedown`;V(document,r?`mousemove`:`touchmove`,this._onMove,this),V(document,r?`mouseup`:`touchend touchcancel`,this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,n=new k(t.clientX,t.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,on(e),this._moved||(this.fire(`dragstart`),this._moved=!0,B(document.body,`leaflet-dragging`),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),B(this._lastTarget,`leaflet-drag-target`)),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire(`predrag`,e),Ft(this._element,this._newPos),this.fire(`drag`,e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Ot(document.body,`leaflet-dragging`),this._lastTarget&&=(Ot(this._lastTarget,`leaflet-drag-target`),null),Zt(document,`mousemove touchmove`,this._onMove,this),Zt(document,`mouseup touchend touchcancel`,this._onUp,this),Ht(),Rt();var t=this._moved&&this._moving;this._moving=!1,kn._dragging=!1,t&&this.fire(`dragend`,{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function An(e,t,n){var r,i=[1,4,2,8],a,o,s,c,l,u,d,f;for(a=0,u=e.length;a<u;a++)e[a]._code=H(e[a],t);for(s=0;s<4;s++){for(d=i[s],r=[],a=0,u=e.length,o=u-1;a<u;o=a++)c=e[a],l=e[o],c._code&d?l._code&d||(f=Hn(l,c,d,t,n),f._code=H(f,t),r.push(f)):(l._code&d&&(f=Hn(l,c,d,t,n),f._code=H(f,t),r.push(f)),r.push(c));e=r}return e}function jn(e,t){var n,r,i,a,o,s,c,l,u;if(!e||e.length===0)throw Error(`latlngs not passed`);Gn(e)||(console.warn(`latlngs are not flat! Only the first ring will be used`),e=e[0]);var d=F([0,0]),f=ie(e);f.getNorthWest().distanceTo(f.getSouthWest())*f.getNorthEast().distanceTo(f.getNorthWest())<1700&&(d=Mn(e));var p=e.length,m=[];for(n=0;n<p;n++){var h=F(e[n]);m.push(t.project(F([h.lat-d.lat,h.lng-d.lng])))}for(s=c=l=0,n=0,r=p-1;n<p;r=n++)i=m[n],a=m[r],o=i.y*a.x-a.y*i.x,c+=(i.x+a.x)*o,l+=(i.y+a.y)*o,s+=o*3;u=s===0?m[0]:[c/s,l/s];var g=t.unproject(A(u));return F([g.lat+d.lat,g.lng+d.lng])}function Mn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var a=F(e[i]);t+=a.lat,n+=a.lng,r++}return F([t/r,n/r])}var Nn={__proto__:null,clipPolygon:An,polygonCenter:jn,centroid:Mn};function Pn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=zn(e,n),e=Ln(e,n),e}function Fn(e,t,n){return Math.sqrt(Wn(e,t,n,!0))}function In(e,t,n){return Wn(e,t,n)}function Ln(e,t){var n=e.length,r=new(typeof Uint8Array<`u`?Uint8Array:Array)(n);r[0]=r[n-1]=1,Rn(e,r,t,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(e[i]);return a}function Rn(e,t,n,r,i){var a=0,o,s,c;for(s=r+1;s<=i-1;s++)c=Wn(e[s],e[r],e[i],!0),c>a&&(o=s,a=c);a>n&&(t[o]=1,Rn(e,t,n,r,o),Rn(e,t,n,o,i))}function zn(e,t){for(var n=[e[0]],r=1,i=0,a=e.length;r<a;r++)Un(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<a-1&&n.push(e[a-1]),n}var Bn;function Vn(e,t,n,r,i){var a=r?Bn:H(e,n),o=H(t,n),s,c,l;for(Bn=o;;){if(!(a|o))return[e,t];if(a&o)return!1;s=a||o,c=Hn(e,t,s,n,i),l=H(c,n),s===a?(e=c,a=l):(t=c,o=l)}}function Hn(e,t,n,r,i){var a=t.x-e.x,o=t.y-e.y,s=r.min,c=r.max,l,u;return n&8?(l=e.x+a*(c.y-e.y)/o,u=c.y):n&4?(l=e.x+a*(s.y-e.y)/o,u=s.y):n&2?(l=c.x,u=e.y+o*(c.x-e.x)/a):n&1&&(l=s.x,u=e.y+o*(s.x-e.x)/a),new k(l,u,i)}function H(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Un(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Wn(e,t,n,r){var i=t.x,a=t.y,o=n.x-i,s=n.y-a,c=o*o+s*s,l;return c>0&&(l=((e.x-i)*o+(e.y-a)*s)/c,l>1?(i=n.x,a=n.y):l>0&&(i+=o*l,a+=s*l)),o=e.x-i,s=e.y-a,r?o*o+s*s:new k(i,a)}function Gn(e){return!_(e[0])||typeof e[0][0]!=`object`&&e[0][0]!==void 0}function Kn(e){return console.warn(`Deprecated use of _flat, please use L.LineUtil.isFlat instead.`),Gn(e)}function qn(e,t){var n,r,i,a,o,s,c,l;if(!e||e.length===0)throw Error(`latlngs not passed`);Gn(e)||(console.warn(`latlngs are not flat! Only the first ring will be used`),e=e[0]);var u=F([0,0]),d=ie(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=Mn(e));var f=e.length,p=[];for(n=0;n<f;n++){var m=F(e[n]);p.push(t.project(F([m.lat-u.lat,m.lng-u.lng])))}for(n=0,r=0;n<f-1;n++)r+=p[n].distanceTo(p[n+1])/2;if(r===0)l=p[0];else for(n=0,a=0;n<f-1;n++)if(o=p[n],s=p[n+1],i=o.distanceTo(s),a+=i,a>r){c=(a-r)/i,l=[s.x-c*(s.x-o.x),s.y-c*(s.y-o.y)];break}var h=t.unproject(A(l));return F([h.lat+u.lat,h.lng+u.lng])}var Jn={__proto__:null,simplify:Pn,pointToSegmentDistance:Fn,closestPointOnSegment:In,clipSegment:Vn,_getEdgeIntersection:Hn,_getBitCode:H,_sqClosestPointOnSegment:Wn,isFlat:Gn,_flat:Kn,polylineCenter:qn},Yn={project:function(e){return new k(e.lng,e.lat)},unproject:function(e){return new P(e.y,e.x)},bounds:new j([-180,-90],[180,90])},Xn={R:6378137,R_MINOR:6356752.314245179,bounds:new j([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/((1-o)/(1+o))**(a/2);return r=-n*Math.log(Math.max(s,1e-10)),new k(e.lng*t*n,r)},unproject:function(e){for(var t=180/Math.PI,n=this.R,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),a=Math.exp(-e.y/n),o=Math.PI/2-2*Math.atan(a),s=0,c=.1,l;s<15&&Math.abs(c)>1e-7;s++)l=i*Math.sin(o),l=((1-l)/(1+l))**(i/2),c=Math.PI/2-2*Math.atan(a*l)-o,o+=c;return new P(o*t,e.x*t/n)}},Zn={__proto__:null,LonLat:Yn,Mercator:Xn,SphericalMercator:se},Qn=n({},oe,{code:`EPSG:3395`,projection:Xn,transformation:function(){var e=.5/(Math.PI*Xn.R);return le(e,.5,-e,.5)}()}),$n=n({},oe,{code:`EPSG:4326`,projection:Yn,transformation:le(1/180,1,-1/180,.5)}),er=n({},ae,{projection:Yn,transformation:le(1,0,-1,0),scale:function(e){return 2**e},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});ae.Earth=oe,ae.EPSG3395=Qn,ae.EPSG3857=ue,ae.EPSG900913=de,ae.EPSG4326=$n,ae.Simple=er;var tr=ne.extend({options:{pane:`overlayPane`,attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once(`remove`,function(){t.off(n,this)},this)}this.onAdd(t),this.fire(`add`),t.fire(`layeradd`,{layer:this})}}});hn.include({addLayer:function(e){if(!e._layerAdd)throw Error(`The provided object is not a Layer.`);var t=o(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire(`layerremove`,{layer:e}),e.fire(`remove`)),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?_(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=i.minZoom===void 0?e:Math.min(e,i.minZoom),t=i.maxZoom===void 0?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire(`zoomlevelschange`),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nr=tr.extend({initialize:function(e,t){p(this,t),this._layers={};var n,r;if(e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return(typeof e==`number`?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),n,r;for(n in this._layers)r=this._layers[n],r[e]&&r[e].apply(r,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke(`setZIndex`,e)},getLayerId:function(e){return o(e)}}),rr=function(e,t){return new nr(e,t)},ir=nr.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),nr.prototype.addLayer.call(this,e),this.fire(`layeradd`,{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),nr.prototype.removeLayer.call(this,e),this.fire(`layerremove`,{layer:e})):this},setStyle:function(e){return this.invoke(`setStyle`,e)},bringToFront:function(){return this.invoke(`bringToFront`)},bringToBack:function(){return this.invoke(`bringToBack`)},getBounds:function(){var e=new N;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),ar=function(e,t){return new ir(e,t)},or=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon(`icon`,e)},createShadow:function(e){return this._createIcon(`shadow`,e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if(e===`icon`)throw Error(`iconUrl not set in Icon options (see the docs).`);return null}var r=this._createImg(n,t&&t.tagName===`IMG`?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||this.options.crossOrigin===``)&&(r.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+`Size`];typeof r==`number`&&(r=[r,r]);var i=A(r),a=A(t===`shadow`&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className=`leaflet-marker-`+t+` `+(n.className||``),a&&(e.style.marginLeft=-a.x+`px`,e.style.marginTop=-a.y+`px`),i&&(e.style.width=i.x+`px`,e.style.height=i.y+`px`)},_createImg:function(e,t){return t||=document.createElement(`img`),t.src=e,t},_getIconUrl:function(e){return R.retina&&this.options[e+`RetinaUrl`]||this.options[e+`Url`]}});function sr(e){return new or(e)}var cr=or.extend({options:{iconUrl:`marker-icon.png`,iconRetinaUrl:`marker-icon-2x.png`,shadowUrl:`marker-shadow.png`,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof cr.imagePath!=`string`&&(cr.imagePath=this._detectIconPath()),(this.options.imagePath||cr.imagePath)+or.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=z(`div`,`leaflet-default-icon-path`,document.body),t=St(e,`background-image`)||St(e,`backgroundImage`);if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var n=document.querySelector(`link[href$="leaflet.css"]`);return n?n.href.substring(0,n.href.length-11-1):``}}),lr=En.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||=new kn(e,e,!0),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),B(e,`leaflet-marker-draggable`)},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ot(this._marker._icon,`leaflet-marker-draggable`)},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=It(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),c=M(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!c.contains(a)){var l=A((Math.max(c.max.x,a.x)-c.max.x)/(o.max.x-c.max.x)-(Math.min(c.min.x,a.x)-c.min.x)/(o.min.x-c.min.x),(Math.max(c.max.y,a.y)-c.max.y)/(o.max.y-c.max.y)-(Math.min(c.min.y,a.y)-c.min.y)/(o.min.y-c.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Ft(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=T(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire(`movestart`).fire(`dragstart`)},_onPreDrag:function(e){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=It(t._icon),i=t._map.layerPointToLatLng(r);n&&Ft(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire(`move`,e).fire(`drag`,e)},_onDragEnd:function(e){ee(this._panRequest),delete this._oldLatLng,this._marker.fire(`moveend`).fire(`dragend`,e)}}),ur=tr.extend({options:{icon:new cr,interactive:!0,keyboard:!0,title:``,alt:`Marker`,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:`markerPane`,shadowPane:`shadowPane`,bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=F(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on(`zoomanim`,this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off(`zoomanim`,this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=F(e),this.update(),this.fire(`move`,{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t=`leaflet-zoom-`+(this._zoomAnimated?`animated`:`hide`),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),n.tagName===`IMG`&&(n.alt=e.alt||``)),B(n,t),e.keyboard&&(n.tabIndex=`0`,n.setAttribute(`role`,`button`)),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&V(n,`focus`,this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(B(i,t),i.alt=``),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(this._icon,`focus`,this._panOnFocus,this),Ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ct(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ft(this._icon,e),this._shadow&&Ft(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(B(this._icon,`leaflet-interactive`),this.addInteractiveTarget(this._icon),lr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new lr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&jt(this._icon,e),this._shadow&&jt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?A(t.iconSize):A(0,0),r=t.iconAnchor?A(t.iconAnchor):A(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dr(e,t){return new ur(e,t)}var fr=tr.extend({options:{stroke:!0,color:`#3388ff`,weight:3,opacity:1,lineCap:`round`,lineJoin:`round`,dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:`evenodd`,interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,`weight`)&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pr=fr.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=F(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=F(e),this.redraw(),this.fire(`move`,{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return fr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new j(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mr(e,t){return new pr(e,t)}var hr=pr.extend({initialize:function(e,t,r){if(typeof t==`number`&&(t=n({},r,{radius:t})),p(this,t),this._latlng=F(e),isNaN(this.options.radius))throw Error(`Circle radius cannot be NaN`);this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:fr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===oe.distance){var i=Math.PI/180,a=this._mRadius/oe.R/i,o=n.project([t+a,e]),s=n.project([t-a,e]),c=o.add(s).divideBy(2),l=n.unproject(c).lat,u=Math.acos((Math.cos(a*i)-Math.sin(t*i)*Math.sin(l*i))/(Math.cos(t*i)*Math.cos(l*i)))/i;(isNaN(u)||u===0)&&(u=a/Math.cos(Math.PI/180*t)),this._point=c.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:c.x-n.project([l,e-u]).x,this._radiusY=c.y-o.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function gr(e,t,n){return new hr(e,t,n)}var _r=fr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,n=null,r=Wn,i,a,o=0,s=this._parts.length;o<s;o++)for(var c=this._parts[o],l=1,u=c.length;l<u;l++){i=c[l-1],a=c[l];var d=r(e,i,a,!0);d<t&&(t=d,n=r(e,i,a))}return n&&(n.distance=Math.sqrt(t)),n},getCenter:function(){if(!this._map)throw Error(`Must add layer to map before using getCenter()`);return qn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t||=this._defaultShape(),e=F(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new N,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Gn(e),r=0,i=e.length;r<i;r++)n?(t[r]=F(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new k(e,e);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r=e[0]instanceof P,i=e.length,a,o;if(r){for(o=[],a=0;a<i;a++)o[a]=this._map.latLngToLayerPoint(e[a]),n.extend(o[a]);t.push(o)}else for(a=0;a<i;a++)this._projectLatlngs(e[a],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,n,r,i,a,o,s,c;for(n=0,i=0,a=this._rings.length;n<a;n++)for(c=this._rings[n],r=0,o=c.length;r<o-1;r++)s=Vn(c[r],c[r+1],e,r,!0),s&&(t[i]=t[i]||[],t[i].push(s[0]),(s[1]!==c[r+1]||r===o-2)&&(t[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Pn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,a,o,s,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(s=this._parts[n],r=0,o=s.length,i=o-1;r<o;i=r++)if(!(!t&&r===0)&&Fn(e,s[i],s[r])<=c)return!0;return!1}});function vr(e,t){return new _r(e,t)}_r._flat=Kn;var yr=_r.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error(`Must add layer to map before using getCenter()`);return jn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=_r.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof P&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){_r.prototype._setLatLngs.call(this,e),Gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new k(t,t);if(e=new j(e.min.subtract(n),e.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var r=0,i=this._rings.length,a;r<i;r++)a=An(this._rings[r],e,!0),a.length&&this._parts.push(a)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,n,r,i,a,o,s,c,l;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,c=this._parts.length;a<c;a++)for(n=this._parts[a],o=0,l=n.length,s=l-1;o<l;s=o++)r=n[o],i=n[s],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(t=!t);return t||_r.prototype._containsPoint.call(this,e,!0)}});function br(e,t){return new yr(e,t)}var xr=ir.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=_(e)?e:e.features,n,r,i;if(t){for(n=0,r=t.length;n<r;n++)i=t[n],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=Sr(e,a);return o?(o.feature=kr(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t==`function`&&(t=t(e.feature)),e.setStyle(t))}});function Sr(e,t){var n=e.type===`Feature`?e.geometry:e,r=n?n.coordinates:null,i=[],a=t&&t.pointToLayer,o=t&&t.coordsToLatLng||wr,s,c,l,u;if(!r&&!n)return null;switch(n.type){case`Point`:return s=o(r),Cr(a,e,s,t);case`MultiPoint`:for(l=0,u=r.length;l<u;l++)s=o(r[l]),i.push(Cr(a,e,s,t));return new ir(i);case`LineString`:case`MultiLineString`:return c=Tr(r,n.type===`LineString`?0:1,o),new _r(c,t);case`Polygon`:case`MultiPolygon`:return c=Tr(r,n.type===`Polygon`?1:2,o),new yr(c,t);case`GeometryCollection`:for(l=0,u=n.geometries.length;l<u;l++){var d=Sr({geometry:n.geometries[l],type:`Feature`,properties:e.properties},t);d&&i.push(d)}return new ir(i);case`FeatureCollection`:for(l=0,u=n.features.length;l<u;l++){var f=Sr(n.features[l],t);f&&i.push(f)}return new ir(i);default:throw Error(`Invalid GeoJSON object.`)}}function Cr(e,t,n,r){return e?e(t,n):new ur(n,r&&r.markersInheritOptions&&r)}function wr(e){return new P(e[1],e[0],e[2])}function Tr(e,t,n){for(var r=[],i=0,a=e.length,o;i<a;i++)o=t?Tr(e[i],t-1,n):(n||wr)(e[i]),r.push(o);return r}function Er(e,t){return e=F(e),e.alt===void 0?[u(e.lng,t),u(e.lat,t)]:[u(e.lng,t),u(e.lat,t),u(e.alt,t)]}function Dr(e,t,n,r){for(var i=[],a=0,o=e.length;a<o;a++)i.push(t?Dr(e[a],Gn(e[a])?0:t-1,n,r):Er(e[a],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function Or(e,t){return e.feature?n({},e.feature,{geometry:t}):kr(t)}function kr(e){return e.type===`Feature`||e.type===`FeatureCollection`?e:{type:`Feature`,properties:{},geometry:e}}var Ar={toGeoJSON:function(e){return Or(this,{type:`Point`,coordinates:Er(this.getLatLng(),e)})}};ur.include(Ar),hr.include(Ar),pr.include(Ar),_r.include({toGeoJSON:function(e){var t=!Gn(this._latlngs),n=Dr(this._latlngs,t?1:0,!1,e);return Or(this,{type:(t?`Multi`:``)+`LineString`,coordinates:n})}}),yr.include({toGeoJSON:function(e){var t=!Gn(this._latlngs),n=t&&!Gn(this._latlngs[0]),r=Dr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),Or(this,{type:(n?`Multi`:``)+`Polygon`,coordinates:r})}}),nr.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),Or(this,{type:`MultiPoint`,coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t===`MultiPoint`)return this.toMultiPoint(e);var n=t===`GeometryCollection`,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var a=kr(i);a.type===`FeatureCollection`?r.push.apply(r,a.features):r.push(a)}}}),n?Or(this,{geometries:r,type:`GeometryCollection`}):{type:`FeatureCollection`,features:r}}});function jr(e,t){return new xr(e,t)}var Mr=jr,Nr=tr.extend({options:{opacity:1,alt:``,interactive:!1,crossOrigin:!1,errorOverlayUrl:``,zIndex:1,className:``},initialize:function(e,t,n){this._url=e,this._bounds=ie(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(B(this._image,`leaflet-interactive`),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Tt(this._image),this},bringToBack:function(){return this._map&&Et(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ie(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName===`IMG`,t=this._image=e?this._url:z(`img`);if(B(t,`leaflet-image-layer`),this._zoomAnimated&&B(t,`leaflet-zoom-animated`),this.options.className&&B(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=i(this.fire,this,`load`),t.onerror=i(this._overlayOnError,this,`error`),(this.options.crossOrigin||this.options.crossOrigin===``)&&(t.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Pt(this._image,n,t)},_reset:function(){var e=this._image,t=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Ft(e,t.min),e.style.width=n.x+`px`,e.style.height=n.y+`px`},_updateOpacity:function(){jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire(`error`);var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Pr=function(e,t,n){return new Nr(e,t,n)},Fr=Nr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName===`VIDEO`,t=this._image=e?this._url:z(`video`);if(B(t,`leaflet-image-layer`),this._zoomAnimated&&B(t,`leaflet-zoom-animated`),this.options.className&&B(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=i(this.fire,this,`load`),e){for(var n=t.getElementsByTagName(`source`),r=[],a=0;a<n.length;a++)r.push(n[a].src);this._url=n.length>0?r:[t.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,`objectFit`)&&(t.style.objectFit=`fill`),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=z(`source`);s.src=this._url[o],t.appendChild(s)}}});function U(e,t,n){return new Fr(e,t,n)}var Ir=Nr.extend({_initImage:function(){var e=this._image=this._url;B(e,`leaflet-image-layer`),this._zoomAnimated&&B(e,`leaflet-zoom-animated`),this.options.className&&B(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});function Lr(e,t,n){return new Ir(e,t,n)}var Rr=tr.extend({options:{interactive:!1,offset:[0,0],className:``,pane:void 0,content:``},initialize:function(e,t){e&&(e instanceof P||_(e))?(this._latlng=F(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&jt(this._container,1),this.bringToFront(),this.options.interactive&&(B(this._container,`leaflet-interactive`),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(jt(this._container,0),this._removeTimeout=setTimeout(i(Ct,void 0,this._container),200)):Ct(this._container),this.options.interactive&&(Ot(this._container,`leaflet-interactive`),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=F(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility=`hidden`,this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=``,this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Tt(this._container),this},bringToBack:function(){return this._map&&Et(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof ir){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw Error(`Unable to get source layer LatLng.`);return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content==`function`?this._content(this._source||this):this._content;if(typeof t==`string`)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire(`contentupdate`)}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=A(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ft(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+`px`,this._container.style.left=i+`px`}},_getAnchor:function(){return[0,0]}});hn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),tr.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(p(i,r),i._source=this):(i=t&&!r?t:new e(r,this),i.setContent(n)),i}});var zr=Rr.extend({options:{pane:`popupPane`,offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:``},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Rr.prototype.openOn.call(this,e)},onAdd:function(e){Rr.prototype.onAdd.call(this,e),e.fire(`popupopen`,{popup:this}),this._source&&(this._source.fire(`popupopen`,{popup:this},!0),this._source instanceof fr||this._source.on(`preclick`,nn))},onRemove:function(e){Rr.prototype.onRemove.call(this,e),e.fire(`popupclose`,{popup:this}),this._source&&(this._source.fire(`popupclose`,{popup:this},!0),this._source instanceof fr||this._source.off(`preclick`,nn))},getEvents:function(){var e=Rr.prototype.getEvents.call(this);return(this.options.closeOnClick===void 0?this._map.options.closePopupOnClick:this.options.closeOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e=`leaflet-popup`,t=this._container=z(`div`,e+` `+(this.options.className||``)+` leaflet-zoom-animated`),n=this._wrapper=z(`div`,e+`-content-wrapper`,t);if(this._contentNode=z(`div`,e+`-content`,n),an(t),rn(this._contentNode),V(t,`contextmenu`,nn),this._tipContainer=z(`div`,e+`-tip-container`,t),this._tip=z(`div`,e+`-tip`,this._tipContainer),this.options.closeButton){var r=this._closeButton=z(`a`,e+`-close-button`,t);r.setAttribute(`role`,`button`),r.setAttribute(`aria-label`,`Close popup`),r.href=`#close`,r.innerHTML=`<span aria-hidden="true">&#215;</span>`,V(r,`click`,function(e){on(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width=``,t.whiteSpace=`nowrap`;var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+`px`,t.whiteSpace=``,t.height=``;var r=e.offsetHeight,i=this.options.maxHeight,a=`leaflet-popup-scrolled`;i&&r>i?(t.height=i+`px`,B(e,a)):Ot(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Ft(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt(St(this._container,`marginBottom`),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new k(this._containerLeft,-n-this._containerBottom);i._add(It(this._container));var a=e.layerPointToContainerPoint(i),o=A(this.options.autoPanPadding),s=A(this.options.autoPanPaddingTopLeft||o),c=A(this.options.autoPanPaddingBottomRight||o),l=e.getSize(),u=0,d=0;a.x+r+c.x>l.x&&(u=a.x+r-l.x+c.x),a.x-u-s.x<0&&(u=a.x-s.x),a.y+n+c.y>l.y&&(d=a.y+n-l.y+c.y),a.y-d-s.y<0&&(d=a.y-s.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire(`autopanstart`).panBy([u,d]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Br=function(e,t){return new zr(e,t)};hn.mergeOptions({closePopupOnClick:!0}),hn.include({openPopup:function(e,t,n){return this._initOverlay(zr,e,t,n).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),tr.include({bindPopup:function(e,t){return this._popup=this._initOverlay(zr,this._popup,e,t),this._popupHandlersAdded||=(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),!0),this},unbindPopup:function(){return this._popup&&=(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,null),this},openPopup:function(e){return this._popup&&(this instanceof ir||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){sn(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof fr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Vr=Rr.extend({options:{pane:`tooltipPane`,offset:[0,0],direction:`auto`,permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Rr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire(`tooltipopen`,{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire(`tooltipopen`,{tooltip:this},!0))},onRemove:function(e){Rr.prototype.onRemove.call(this,e),e.fire(`tooltipclose`,{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire(`tooltipclose`,{tooltip:this},!0))},getEvents:function(){var e=Rr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){this._contentNode=this._container=z(`div`,`leaflet-tooltip `+(this.options.className||``)+` leaflet-zoom-`+(this._zoomAnimated?`animated`:`hide`)),this._container.setAttribute(`role`,`tooltip`),this._container.setAttribute(`id`,`leaflet-tooltip-`+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,a=r.latLngToContainerPoint(r.getCenter()),o=r.layerPointToContainerPoint(e),s=this.options.direction,c=i.offsetWidth,l=i.offsetHeight,u=A(this.options.offset),d=this._getAnchor();s===`top`?(t=c/2,n=l):s===`bottom`?(t=c/2,n=0):s===`center`?(t=c/2,n=l/2):s===`right`?(t=0,n=l/2):s===`left`?(t=c,n=l/2):o.x<a.x?(s=`right`,t=0,n=l/2):(s=`left`,t=c+(u.x+d.x)*2,n=l/2),e=e.subtract(A(t,n,!0)).add(u).add(d),Ot(i,`leaflet-tooltip-right`),Ot(i,`leaflet-tooltip-left`),Ot(i,`leaflet-tooltip-top`),Ot(i,`leaflet-tooltip-bottom`),B(i,`leaflet-tooltip-`+s),Ft(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&jt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Hr=function(e,t){return new Vr(e,t)};hn.include({openTooltip:function(e,t,n){return this._initOverlay(Vr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),tr.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&=(this._initTooltipInteractions(!0),this.closeTooltip(),null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?`off`:`on`,n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof ir||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement==`function`&&e.getElement();t&&(V(t,`focus`,function(){this._tooltip._source=e,this.openTooltip()},this),V(t,`blur`,this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement==`function`&&e.getElement();t&&t.setAttribute(`aria-describedby`,this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once(`moveend`,function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,n,r;this._tooltip.options.sticky&&e.originalEvent&&(n=this._map.mouseEventToContainerPoint(e.originalEvent),r=this._map.containerPointToLayerPoint(n),t=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(t)}});var Ur=or.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:`leaflet-div-icon`},createIcon:function(e){var t=e&&e.tagName===`DIV`?e:document.createElement(`div`),n=this.options;if(n.html instanceof Element?(wt(t),t.appendChild(n.html)):t.innerHTML=n.html===!1?``:n.html,n.bgPos){var r=A(n.bgPos);t.style.backgroundPosition=-r.x+`px `+-r.y+`px`}return this._setIconStyles(t,`icon`),t},createShadow:function(){return null}});function Wr(e){return new Ur(e)}or.Default=cr;var Gr=tr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:R.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:`tilePane`,className:``,keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Ct(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Tt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Et(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||=s(this._onMoveEnd,this.options.updateInterval,this),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement(`div`)},getTileSize:function(){var e=this.options.tileSize;return e instanceof k?e:new k(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,n=-e(-1/0,1/0),r=0,i=t.length,a;r<i;r++)a=t[r].style.zIndex,t[r]!==this._container&&a&&(n=e(n,+a));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!R.ielt9){jt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(!(!i.current||!i.loaded)){var a=Math.min(1,(e-i.loaded)/200);jt(i.el,a),a<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(ee(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=z(`div`,`leaflet-layer `+(this.options.className||``)),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(Ct(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||(r=this._levels[e]={},r.el=z(`div`,`leaflet-tile-container leaflet-zoom-animated`,this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Ct(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new k(+i,+a);s.z=+o;var c=this._tileCoordsToKey(s),l=this._tiles[c];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),o>r?this._retainParent(i,a,o,r):!1)},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var a=2*t;a<2*t+2;a++){var o=new k(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),c=this._tiles[s];if(c&&c.active){c.retain=!0;continue}else c&&c.loaded&&(c.retain=!0);n+1<r&&this._retainChildren(i,a,n+1,r)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=this.options.maxZoom!==void 0&&i>this.options.maxZoom||this.options.minZoom!==void 0&&i<this.options.minZoom?void 0:this._clampZoom(i);var a=this.options.updateWhenZooming&&i!==this._tileZoom;(!r||a)&&(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),i!==void 0&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();R.any3d?Pt(e.el,i,r):Ft(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(r*2);return new j(i.subtract(a),i.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,c=new j(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw Error(`Attempted to load an infinite number of tiles`);for(var l in this._tiles){var u=this._tiles[l].coords;(u.z!==this._tileZoom||!c.contains(new k(u.x,u.y)))&&(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(e,n);return}for(var d=i.min.y;d<=i.max.y;d++)for(var f=i.min.x;f<=i.max.x;f++){var p=new k(f,d);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:o.push(p)}}if(o.sort(function(e,t){return e.distanceTo(a)-t.distanceTo(a)}),o.length!==0){this._loading||(this._loading=!0,this.fire(`loading`));var h=document.createDocumentFragment();for(f=0;f<o.length;f++)this._addTile(o[f],h);this._level.el.appendChild(h)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return ie(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new N(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+`:`+e.y+`:`+e.z},_keyToTileCoords:function(e){var t=e.split(`:`),n=new k(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(Ct(t.el),delete this._tiles[e],this.fire(`tileunload`,{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){B(e,`leaflet-tile`);var t=this.getTileSize();e.style.width=t.x+`px`,e.style.height=t.y+`px`,e.onselectstart=l,e.onmousemove=l,R.ielt9&&this.options.opacity<1&&jt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&T(i(this._tileReady,this,e,null,a)),Ft(a,n),this._tiles[r]={el:a,coords:e,current:!0},t.appendChild(a),this.fire(`tileloadstart`,{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire(`tileerror`,{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);n=this._tiles[r],n&&(n.loaded=+new Date,this._map._fadeAnimated?(jt(n.el,0),ee(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(B(n.el,`leaflet-tile-loaded`),this.fire(`tileload`,{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire(`load`),R.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new k(this._wrapX?c(e.x,this._wrapX):e.x,this._wrapY?c(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new j(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Kr(e){return new Gr(e)}var qr=Gr.extend({options:{minZoom:0,maxZoom:18,subdomains:`abc`,errorTileUrl:``,zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=p(this,t),t.detectRetina&&R.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains==`string`&&(t.subdomains=t.subdomains.split(``)),this.on(`tileunload`,this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement(`img`);return V(n,`load`,i(this._tileOnLoad,this,t,n)),V(n,`error`,i(this._tileOnError,this,t,n)),(this.options.crossOrigin||this.options.crossOrigin===``)&&(n.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),typeof this.options.referrerPolicy==`string`&&(n.referrerPolicy=this.options.referrerPolicy),n.alt=``,n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:R.retina?`@2x`:``,s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t[`-y`]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){R.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute(`src`)!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;return n&&(e=t-e),e+r},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=l,t.onerror=l,!t.complete)){t.src=y;var n=this._tiles[e].coords;Ct(t),delete this._tiles[e],this.fire(`tileabort`,{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute(`src`,y),Gr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(!(!this._map||n&&n.getAttribute(`src`)===y))return Gr.prototype._tileReady.call(this,e,t,n)}});function Jr(e,t){return new qr(e,t)}var Yr=qr.extend({defaultWmsParams:{service:`WMS`,request:`GetMap`,layers:``,styles:``,format:`image/jpeg`,transparent:!1,version:`1.1.1`},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);t=p(this,t);var a=t.detectRetina&&R.retina?2:1,o=this.getTileSize();r.width=o.x*a,r.height=o.y*a,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?`crs`:`srs`;this.wmsParams[t]=this._crs.code,qr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=M(n.project(t[0]),n.project(t[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===$n?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(`,`),s=qr.prototype.getTileUrl.call(this,e);return s+m(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?`&BBOX=`:`&bbox=`)+o},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Xr(e,t){return new Yr(e,t)}qr.WMS=Yr,Jr.wms=Xr;var Zr=tr.extend({options:{padding:.1},initialize:function(e){p(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),B(this._container,`leaflet-zoom-animated`)),this.getPane().appendChild(this._container),this._update(),this.on(`update`,this._updatePaths,this)},onRemove:function(){this.off(`update`,this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),a=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));R.any3d?Pt(this._container,a,n):Ft(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new j(n,n.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Qr=Zr.extend({options:{tolerance:0},getEvents:function(){var e=Zr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement(`canvas`);V(e,`mousemove`,this._onMouseMove,this),V(e,`click dblclick mousedown mouseup contextmenu`,this._onClick,this),V(e,`mouseout`,this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext(`2d`)},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,Ct(this._container),Zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;for(var t in this._redrawBounds=null,this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=R.retina?2:1;Ft(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+`px`,t.style.height=n.y+`px`,R.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire(`update`)}},_reset:function(){Zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray==`string`){var t=e.options.dashArray.split(/[, ]+/),n=[],r,i;for(i=0;i<t.length;i++){if(r=Number(t[i]),isNaN(r))return;n.push(r)}e.options._dashArray=n}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,a,o=e._parts,s=o.length,c=this._ctx;if(s){for(c.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],c[r?`lineTo`:`moveTo`](a.x,a.y);t&&c.closePath()}this._fillStroke(c,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;i!==1&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,Math.PI*2,!1),i!==1&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||`evenodd`)),n.stroke&&n.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),n,r,i=this._drawFirst;i;i=i.next)n=i.layer,n.options.interactive&&n._containsPoint(t)&&(!(e.type===`click`||e.type===`preclick`)||!this._map._draggableMoved(n))&&(r=n);this._fireEvent(r?[r]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(Ot(this._container,`leaflet-interactive`),this._fireEvent([t],e,`mouseout`),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,a=this._drawFirst;a;a=a.next)n=a.layer,n.options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(B(this._container,`leaflet-interactive`),this._fireEvent([r],e,`mouseover`),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;if(n)n.prev=r;else return;r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;if(r)r.next=n;else return;n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function $r(e){return R.canvas?new Qr(e):null}var ei=(function(){try{return document.namespaces.add(`lvml`,`urn:schemas-microsoft-com:vml`),function(e){return document.createElement(`<lvml:`+e+` class="lvml">`)}}catch{}return function(e){return document.createElement(`<`+e+` xmlns="urn:schemas-microsoft.com:vml" class="lvml">`)}})(),ti={_initContainer:function(){this._container=z(`div`,`leaflet-vml-container`)},_update:function(){this._map._animatingZoom||(Zr.prototype._update.call(this),this.fire(`update`))},_initPath:function(e){var t=e._container=ei(`shape`);B(t,`leaflet-vml-shape `+(this.options.className||``)),t.coordsize=`1 1`,e._path=ei(`path`),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;Ct(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||=e._stroke=ei(`stroke`),i.appendChild(t),t.weight=r.weight+`px`,t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=_(r.dashArray)?r.dashArray.join(` `):r.dashArray.replace(/( *, *)/g,` `):t.dashStyle=``,t.endcap=r.lineCap.replace(`butt`,`flat`),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||=e._fill=ei(`fill`),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?`M0 0`:`AL `+t.x+`,`+t.y+` `+n+`,`+r+` 0,23592600`)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){Tt(e._container)},_bringToBack:function(e){Et(e._container)}},ni=R.vml?ei:fe,ri=Zr.extend({_initContainer:function(){this._container=ni(`svg`),this._container.setAttribute(`pointer-events`,`none`),this._rootGroup=ni(`g`),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ct(this._container),Zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,n.setAttribute(`width`,t.x),n.setAttribute(`height`,t.y)),Ft(n,e.min),n.setAttribute(`viewBox`,[e.min.x,e.min.y,t.x,t.y].join(` `)),this.fire(`update`)}},_initPath:function(e){var t=e._path=ni(`path`);e.options.className&&B(t,e.options.className),e.options.interactive&&B(t,`leaflet-interactive`),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Ct(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute(`stroke`,n.color),t.setAttribute(`stroke-opacity`,n.opacity),t.setAttribute(`stroke-width`,n.weight),t.setAttribute(`stroke-linecap`,n.lineCap),t.setAttribute(`stroke-linejoin`,n.lineJoin),n.dashArray?t.setAttribute(`stroke-dasharray`,n.dashArray):t.removeAttribute(`stroke-dasharray`),n.dashOffset?t.setAttribute(`stroke-dashoffset`,n.dashOffset):t.removeAttribute(`stroke-dashoffset`)):t.setAttribute(`stroke`,`none`),n.fill?(t.setAttribute(`fill`,n.fillColor||n.color),t.setAttribute(`fill-opacity`,n.fillOpacity),t.setAttribute(`fill-rule`,n.fillRule||`evenodd`)):t.setAttribute(`fill`,`none`))},_updatePoly:function(e,t){this._setPath(e,pe(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||n,i=`a`+n+`,`+r+` 0 1,0 `,a=e._empty()?`M0 0`:`M`+(t.x-n)+`,`+t.y+i+n*2+`,0 `+i+-n*2+`,0 `;this._setPath(e,a)},_setPath:function(e,t){e._path.setAttribute(`d`,t)},_bringToFront:function(e){Tt(e._path)},_bringToBack:function(e){Et(e._path)}});R.vml&&ri.include(ti);function ii(e){return R.svg||R.vml?new ri(e):null}hn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||=this._renderer=this._createRenderer(),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e===`overlayPane`||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&$r(e)||ii(e)}});var ai=yr.extend({initialize:function(e,t){yr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ie(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function oi(e,t){return new ai(e,t)}ri.create=ni,ri.pointsToPath=pe,xr.geometryToLayer=Sr,xr.coordsToLatLng=wr,xr.coordsToLatLngs=Tr,xr.latLngToCoords=Er,xr.latLngsToCoords=Dr,xr.getFeature=Or,xr.asFeature=kr,hn.mergeOptions({boxZoom:!0});var si=En.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on(`unload`,this._destroy,this)},addHooks:function(){V(this._container,`mousedown`,this._onMouseDown,this)},removeHooks:function(){Zt(this._container,`mousedown`,this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Lt(),Vt(),this._startPoint=this._map.mouseEventToContainerPoint(e),V(document,{contextmenu:sn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=z(`div`,`leaflet-zoom-box`,this._container),B(this._container,`leaflet-crosshair`),this._map.fire(`boxzoomstart`)),this._point=this._map.mouseEventToContainerPoint(e);var t=new j(this._point,this._startPoint),n=t.getSize();Ft(this._box,t.min),this._box.style.width=n.x+`px`,this._box.style.height=n.y+`px`},_finish:function(){this._moved&&(Ct(this._box),Ot(this._container,`leaflet-crosshair`)),Rt(),Ht(),Zt(document,{contextmenu:sn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire(`boxzoomend`,{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});hn.addInitHook(`addHandler`,`boxZoom`,si),hn.mergeOptions({doubleClickZoom:!0});var ci=En.extend({addHooks:function(){this._map.on(`dblclick`,this._onDoubleClick,this)},removeHooks:function(){this._map.off(`dblclick`,this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;t.options.doubleClickZoom===`center`?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});hn.addInitHook(`addHandler`,`doubleClickZoom`,ci),hn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var li=En.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new kn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on(`predrag`,this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on(`predrag`,this._onPreDragWrap,this),e.on(`zoomend`,this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}B(this._map._container,`leaflet-grab leaflet-touch-drag`),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ot(this._map._container,`leaflet-grab`),Ot(this._map._container,`leaflet-touch-drag`),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=ie(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire(`movestart`).fire(`dragstart`),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire(`move`,e).fire(`drag`,e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire(`dragend`,e),r)t.fire(`moveend`);else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),c=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,c),u=s.multiplyBy(l/c),d=l/(n.inertiaDeceleration*o),f=u.multiplyBy(-d/2).round();!f.x&&!f.y?t.fire(`moveend`):(f=t._limitOffset(f,t.options.maxBounds),T(function(){t.panBy(f,{duration:d,easeLinearity:o,noMoveStart:!0,animate:!0})}))}}});hn.addInitHook(`addHandler`,`dragging`,li),hn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ui=En.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex=`0`),V(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire(`focus`)},_onBlur:function(){this._focused=!1,this._map.fire(`blur`)},_setPanDelta:function(e){var t=this._panKeys={},n=this.keyCodes,r,i;for(r=0,i=n.left.length;r<i;r++)t[n.left[r]]=[-1*e,0];for(r=0,i=n.right.length;r<i;r++)t[n.right[r]]=[e,0];for(r=0,i=n.down.length;r<i;r++)t[n.down[r]]=[0,e];for(r=0,i=n.up.length;r<i;r++)t[n.up[r]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},n=this.keyCodes,r,i;for(r=0,i=n.zoomIn.length;r<i;r++)t[n.zoomIn[r]]=e;for(r=0,i=n.zoomOut.length;r<i;r++)t[n.zoomOut[r]]=-e},_addHooks:function(){V(document,`keydown`,this._onKeyDown,this)},_removeHooks:function(){Zt(document,`keydown`,this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,n=this._map,r;if(t in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(r=this._panKeys[t],e.shiftKey&&(r=A(r).multiplyBy(3)),n.options.maxBounds&&(r=n._limitOffset(A(r),n.options.maxBounds)),n.options.worldCopyJump){var i=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(r)));n.panTo(i)}else n.panBy(r)}else if(t in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;sn(e)}}});hn.addInitHook(`addHandler`,`keyboard`,ui),hn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var di=En.extend({addHooks:function(){V(this._map._container,`wheel`,this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zt(this._map._container,`wheel`,this._onWheelScroll,this)},_onWheelScroll:function(e){var t=dn(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||=+new Date;var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),sn(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&(e.options.scrollWheelZoom===`center`?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});hn.addInitHook(`addHandler`,`scrollWheelZoom`,di);var fi=600;hn.mergeOptions({tapHold:R.touchNative&&R.safari&&R.mobile,tapTolerance:15});var pi=En.extend({addHooks:function(){V(this._map._container,`touchstart`,this._onDown,this)},removeHooks:function(){Zt(this._map._container,`touchstart`,this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new k(t.clientX,t.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(V(document,`touchend`,on),V(document,`touchend touchcancel`,this._cancelClickPrevent),this._simulateEvent(`contextmenu`,t))},this),fi),V(document,`touchend touchcancel contextmenu`,this._cancel,this),V(document,`touchmove`,this._onMove,this)}},_cancelClickPrevent:function e(){Zt(document,`touchend`,on),Zt(document,`touchend touchcancel`,e)},_cancel:function(){clearTimeout(this._holdTimeout),Zt(document,`touchend touchcancel contextmenu`,this._cancel,this),Zt(document,`touchmove`,this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new k(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});hn.addInitHook(`addHandler`,`tapHold`,pi),hn.mergeOptions({touchZoom:R.touch,bounceAtZoomLimits:!0});var mi=En.extend({addHooks:function(){B(this._map._container,`leaflet-touch-zoom`),V(this._map._container,`touchstart`,this._onTouchStart,this)},removeHooks:function(){Ot(this._map._container,`leaflet-touch-zoom`),Zt(this._map._container,`touchstart`,this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!==`center`&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),V(document,`touchmove`,this._onTouchMove,this),V(document,`touchend touchcancel`,this._onTouchEnd,this),on(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom===`center`){if(this._center=this._startLatLng,a===1)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(a===1&&o.x===0&&o.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||=(t._moveStart(!0,!1),!0),ee(this._animRequest),this._animRequest=T(i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0),this,!0),on(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ee(this._animRequest),Zt(document,`touchmove`,this._onTouchMove,this),Zt(document,`touchend touchcancel`,this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});hn.addInitHook(`addHandler`,`touchZoom`,mi),hn.BoxZoom=si,hn.DoubleClickZoom=ci,hn.Drag=li,hn.Keyboard=ui,hn.ScrollWheelZoom=di,hn.TapHold=pi,hn.TouchZoom=mi,e.Bounds=j,e.Browser=R,e.CRS=ae,e.Canvas=Qr,e.Circle=hr,e.CircleMarker=pr,e.Class=D,e.Control=_n,e.DivIcon=Ur,e.DivOverlay=Rr,e.DomEvent=pn,e.DomUtil=Yt,e.Draggable=kn,e.Evented=ne,e.FeatureGroup=ir,e.GeoJSON=xr,e.GridLayer=Gr,e.Handler=En,e.Icon=or,e.ImageOverlay=Nr,e.LatLng=P,e.LatLngBounds=N,e.Layer=tr,e.LayerGroup=nr,e.LineUtil=Jn,e.Map=hn,e.Marker=ur,e.Mixin=Dn,e.Path=fr,e.Point=k,e.PolyUtil=Nn,e.Polygon=yr,e.Polyline=_r,e.Popup=zr,e.PosAnimation=mn,e.Projection=Zn,e.Rectangle=ai,e.Renderer=Zr,e.SVG=ri,e.SVGOverlay=Ir,e.TileLayer=qr,e.Tooltip=Vr,e.Transformation=ce,e.Util=E,e.VideoOverlay=Fr,e.bind=i,e.bounds=M,e.canvas=$r,e.circle=gr,e.circleMarker=mr,e.control=vn,e.divIcon=Wr,e.extend=n,e.featureGroup=ar,e.geoJSON=jr,e.geoJson=Mr,e.gridLayer=Kr,e.icon=sr,e.imageOverlay=Pr,e.latLng=F,e.latLngBounds=ie,e.layerGroup=rr,e.map=gn,e.marker=dr,e.point=A,e.polygon=br,e.polyline=vr,e.popup=Br,e.rectangle=oi,e.setOptions=p,e.stamp=o,e.svg=ii,e.svgOverlay=Lr,e.tileLayer=Jr,e.tooltip=Hr,e.transformation=le,e.version=t,e.videoOverlay=U;var hi=window.L;e.noConflict=function(){return window.L=hi,this},window.L=e}))}));function qb(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Jb(e,t){return t==null?function(t,n){let r=(0,b.useRef)(void 0);return r.current||=e(t,n),r}:function(n,r){let i=(0,b.useRef)(void 0);i.current||=e(n,r);let a=(0,b.useRef)(n),{instance:o}=i.current;return(0,b.useEffect)(function(){a.current!==n&&(t(o,n,a.current),a.current=n)},[o,n,t]),i}}function Yb(e,t){(0,b.useEffect)(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Xb(e){return function(t){let n=Vb(),r=e(Gb(t,n),n);return Lb(n.map,t.attribution),Wb(r.current,t.eventHandlers),Yb(r.current,n),r}}function Zb(e,t){return Hb(Xb(Jb(e,t)))}function Qb(e,t){return Ub(Xb(Jb(e,t)))}function $b(e,t,n){let{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function ex(){return Vb().map}var tx=Kb();function nx({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:c,zoom:l,...u},d){let[f]=(0,b.useState)({className:i,id:a,style:s}),[p,m]=(0,b.useState)(null),h=(0,b.useRef)(void 0);(0,b.useImperativeHandle)(d,()=>p?.map??null,[p]);let g=(0,b.useCallback)(r=>{if(r!==null&&!h.current){let i=new tx.Map(r,u);h.current=i,n!=null&&l!=null?i.setView(n,l):e!=null&&i.fitBounds(e,t),c!=null&&i.whenReady(c),m(Rb(i))}},[]);(0,b.useEffect)(()=>()=>{p?.map.remove()},[p]);let _=p?b.createElement(Bb,{value:p},r):o??null;return b.createElement(`div`,{...f,ref:g},_)}const rx=(0,b.forwardRef)(nx);var ix=Kb();const ax=Zb(function({position:e,...t},n){let r=new ix.Marker(e,t);return qb(r,zb(n,{overlayContainer:r}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==n.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==n.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())});var ox=Kb();const sx=Qb(function({url:e,...t},n){return qb(new ox.TileLayer(e,Gb(t,n)),n)},function(e,t,n){$b(e,t,n);let{url:r}=t;r!=null&&r!==n.url&&e.setUrl(r)});var cx=`https://nuxszmwnagecghzusapq.supabase.co`.includes(`supabase`);const lx={getUserSessions:async e=>{if(!cx)return[];try{let{data:t,error:n}=await uc.from(`chat_sessions`).select(`*`).eq(`user_id`,e).order(`updated_at`,{ascending:!1});if(n)throw n;if(!t)return[];let r=[];for(let e of t){let{data:t,error:n}=await uc.from(`chat_messages`).select(`*`).eq(`session_id`,e.id).order(`created_at`,{ascending:!0});n&&console.error(`Error fetching messages for session`,e.id,n),r.push({id:e.id,userId:e.user_id,locationId:e.location_id,locationName:e.location_name,startTime:new Date(e.created_at).getTime(),lastMessageTime:new Date(e.updated_at).getTime(),persona:e.persona||`expert`,preview:e.preview||``,messages:(t||[]).map(e=>({id:e.id,type:e.type,content:e.is_content_json?JSON.parse(e.content):e.content,cardData:e.card_data?JSON.parse(e.card_data):void 0,sender:e.sender,timestamp:new Date(e.created_at).getTime(),audioUrl:e.audio_url}))})}return r}catch(e){return console.error(`Failed to load user history:`,e),[]}},saveSession:async(e,t)=>{if(cx)try{let{error:n}=await uc.from(`chat_sessions`).upsert({id:e.id,user_id:t,location_id:e.locationId,location_name:e.locationName,persona:e.persona,preview:e.preview,updated_at:new Date(e.lastMessageTime).toISOString()},{onConflict:`id`});if(n)throw n}catch(e){console.error(`Error saving session:`,e)}},saveMessage:async(e,t)=>{if(cx)try{let n=Array.isArray(t.content),{error:r}=await uc.from(`chat_messages`).insert({id:t.id,session_id:e,sender:t.sender,type:t.type,content:n?JSON.stringify(t.content):t.content,is_content_json:n,card_data:t.cardData?JSON.stringify(t.cardData):null,audio_url:t.audioUrl,created_at:new Date(t.timestamp).toISOString()});if(r)throw r}catch(e){console.error(`Error saving message:`,e)}},deleteSession:async e=>{if(cx)try{await uc.from(`chat_messages`).delete().eq(`session_id`,e);let{error:t}=await uc.from(`chat_sessions`).delete().eq(`id`,e);if(t)throw t}catch(e){console.error(`Error deleting session:`,e)}}};var ux=u(Kb(),1),dx=(e=>ux.default.divIcon({className:`custom-div-icon`,html:`<div class="w-4 h-4 ${e} rounded-full border-2 border-white shadow-lg animate-pulse"></div>`,iconSize:[16,16],iconAnchor:[8,8]}))(`bg-blue-500`),fx=[`https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1518998053901-5348d3969105?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1508804185872-d7badad00f7d?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1599661046289-e31897846e41?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1545063328-c8e3fafa16f9?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1499856871940-a09e3f92f49e?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1554907984-15263bf06302?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1572953109213-3be62398eb95?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1565060169689-5f2b2e143c68?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1548625361-e87c692a4048?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1544967082-d9d25d867d66?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1569407228235-9a744831a150?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1597921366472-35a746564619?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1550950346-60882e379475?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1524397057410-1e775ed476f3?auto=format&fit=crop&q=80&w=800`,`https://images.unsplash.com/photo-1514905552197-0610a4d8fd73?auto=format&fit=crop&q=80&w=800`],px=(e,t)=>{let n=0,r=e+t;for(let e=0;e<r.length;e++)n=r.charCodeAt(e)+((n<<5)-n);return fx[Math.abs(n)%fx.length]},mx=({src:e,alt:t,className:n})=>{let[r,i]=(0,b.useState)(e);return(0,b.useEffect)(()=>{i(e)},[e]),(0,U.jsx)(`img`,{src:r,alt:t,className:n,onError:()=>{r!==px(`fallback`,t)&&i(px(`fallback`,t))},loading:`lazy`})},hx={louvre:{id:`louvre`,name:``,area:` 1F  `,weather:` 24C`,coverImage:`https://image.pollinations.ai/prompt/Louvre%20Museum%20pyramid%20Paris%20sunset%20architecture?width=1080&height=720&nologo=true&seed=101`,recommendations:[``,``,``],coordinates:[48.8606,2.3376]},gugong:{id:`gugong`,name:``,area:``,weather:` 20C`,coverImage:`https://image.pollinations.ai/prompt/Forbidden%20City%20Beijing%20ancient%20architecture%20red%20walls%20snow?width=1080&height=720&nologo=true&seed=102`,recommendations:[``,``,``],coordinates:[39.9163,116.3972]},national_museum:{id:`national_museum`,name:``,area:``,weather:` 21C`,coverImage:`https://image.pollinations.ai/prompt/National%20Museum%20of%20China%20Beijing%20architecture%20facade?width=1080&height=720&nologo=true&seed=103`,recommendations:[``,``,``],coordinates:[39.904,116.3974]},orsay:{id:`orsay`,name:``,area:``,weather:` 25C`,coverImage:`https://image.pollinations.ai/prompt/Musee%20d%27Orsay%20interior%20clock%20Paris?width=1080&height=720&nologo=true&seed=104`,recommendations:[``,``,``],coordinates:[48.8599,2.3265]},british_museum:{id:`british_museum`,name:``,area:``,weather:` 15C`,coverImage:`https://image.pollinations.ai/prompt/British%20Museum%20Great%20Court%20London%20architecture?width=1080&height=720&nologo=true&seed=105`,recommendations:[``,``,``],coordinates:[51.5194,-.127]}},gx=(e,t=!0)=>{let n=e.split(/[,]/)[0],r=t?8:15;return n.length>r&&(n=n.substring(0,r-1)+`...`),t?[`${n}`,`${n}`,``,`${n}`]:[`Intro to ${n}`,`Must-sees at ${n}`,`Restrooms nearby`,`History of ${n}`]};function _x(e,t,n,r){let i=vx(n-e),a=vx(r-t),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(vx(e))*Math.cos(vx(n))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function vx(e){return e*(Math.PI/180)}var yx=({center:e,zoom:t})=>{let n=ex();return(0,b.useEffect)(()=>{n.flyTo(e,t,{duration:1.5})},[e,t,n]),null},bx=async(e,t)=>{try{let n=`https://nominatim.openstreetmap.org/search?format=json&q=museum&viewbox=${`${t-.2},${e+.2},${t+.2},${e-.2}`}&bounded=1&limit=20&accept-language=zh-CN`,r=await(await fetch(n)).json();return Array.isArray(r)&&r.length>0?r.map(n=>({id:`osm-${n.place_id}`,name:n.name||n.display_name.split(`,`)[0],area:n.display_name.split(`,`).slice(1,3).join(`,`).trim()||n.display_name,weather:``,coverImage:px(`osm-${n.place_id}`,n.name||`museum`),recommendations:gx(n.name||``,!0),coordinates:[parseFloat(n.lat),parseFloat(n.lon)],distance:_x(e,t,parseFloat(n.lat),parseFloat(n.lon)),floorPlanUrl:void 0})):[]}catch(e){return console.error(`Failed to fetch real museums`,e),[]}},xx=()=>{let e=R(),t=et(),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)(null),[o,s]=(0,b.useState)(!1),[c,l]=(0,b.useState)([]),[u,d]=(0,b.useState)(``),f=(0,b.useRef)(null),p=(0,b.useRef)(null),[m,h]=(0,b.useState)(`locating`),[g,_]=(0,b.useState)(null),[v,y]=(0,b.useState)(!1),[x,S]=(0,b.useState)(null),[C,w]=(0,b.useState)([]),[T,ee]=(0,b.useState)(``),[E,D]=(0,b.useState)([]),[te,O]=(0,b.useState)(!1),ne=(0,b.useRef)(null),k=(0,b.useRef)(m),re=(0,b.useRef)(!1),A=(0,b.useRef)([]),[j,M]=(0,b.useState)(`expert`),[N,ie]=(0,b.useState)(!1),[P,F]=(0,b.useState)(!1),[ae,oe]=(0,b.useState)(!1),[I,se]=(0,b.useState)(null),[ce,le]=(0,b.useState)(0);(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`);if(e)try{se(JSON.parse(e))}catch(e){console.error(`Failed to parse user`,e)}let t=localStorage.getItem(`guest_msg_count`);t&&le(parseInt(t,10)||0)},[]);let[ue,de]=(0,b.useState)(null),[fe,pe]=(0,b.useState)(!1),[me,he]=(0,b.useState)(!1),[ge,_e]=(0,b.useState)(0),[ve,ye]=(0,b.useState)(!1),be=(0,b.useRef)(null),xe=(0,b.useRef)([]);(0,b.useEffect)(()=>{k.current=m},[m]),(0,b.useEffect)(()=>{I?lx.getUserSessions(I.id||I.uid).then(e=>{e&&e.length>0&&r(e)}):r([])},[I]),(0,b.useEffect)(()=>{if(I&&i&&n.length>0){let e=n.find(e=>e.id===i);e&&lx.saveSession(e,I.id||I.uid)}},[n,I,i]),(0,b.useEffect)(()=>{!i||c.length===0||r(e=>{let t=e.findIndex(e=>e.id===i);if(t>=0){let n={...e[t],messages:c,lastMessageTime:Date.now(),preview:typeof c[c.length-1].content==`string`?c[c.length-1].content.substring(0,30):`[]`},r=[...e];return r.splice(t,1),r.unshift(n),r}else return g?[{id:i,locationId:g.id,locationName:g.name,startTime:Date.now(),lastMessageTime:Date.now(),messages:c,persona:j,preview:typeof c[c.length-1].content==`string`?c[c.length-1].content.substring(0,30):`[]`},...e]:e})},[c,i]);let Se=e=>{a(e.id),l(e.messages),M(e.persona);let t=hx[e.locationId];t||={id:e.locationId,name:e.locationName,area:``,weather:``,coverImage:px(e.locationId,e.locationName),recommendations:gx(e.locationName,!0),coordinates:[39.9042,116.4074]},_(t),h(`agent-chat`),s(!1),ie(!1),F(!1)},Ce=()=>{s(!1),h(`manual-selection`),a(null),l([]),_(null)},we=(e,t)=>{e.stopPropagation(),r(n.filter(e=>e.id!==t)),I&&lx.deleteSession(t),i===t&&Ce()};(0,b.useEffect)(()=>{if(e.state?.sessionId&&n.length>0){let r=n.find(t=>t.id===e.state.sessionId);r&&(Se(r),t(e.pathname,{replace:!0,state:{}}))}else e.state?.openHistory&&(s(!0),t(e.pathname,{replace:!0,state:{}}))},[e.state,n]);let Te=(e,t)=>{if(`speechSynthesis`in window){if(ue===t){window.speechSynthesis.cancel(),de(null);return}window.speechSynthesis.cancel();let n=new SpeechSynthesisUtterance(e),r=window.speechSynthesis.getVoices(),i=r.find(e=>(e.name.includes(`Xiaoxiao`)||e.name.includes(`Ting-Ting`)||e.name.includes(`Google `))&&(e.lang.includes(`zh`)||e.lang.includes(`CN`)))||r.find(e=>e.lang.includes(`zh`)&&(e.name.includes(`Female`)||e.name.includes(`Woman`)||e.name.includes(`Lili`)))||r.find(e=>e.lang.includes(`zh`));i&&(n.voice=i),j===`kids`?(n.pitch=1.3,n.rate=.9):j===`humorous`?(n.rate=1.1,n.pitch=1.1):(n.pitch=.9,n.rate=.95),n.onend=()=>de(null),window.speechSynthesis.speak(n),de(t)}},Ee=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});be.current=new MediaRecorder(e),xe.current=[],be.current.ondataavailable=e=>{xe.current.push(e.data)},be.current.onstop=async()=>{if(he(!1),ye(!1),ve||Date.now()-ge<500)return;let e=[``,``,``,``],t=e[Math.floor(Math.random()*e.length)];je(t)},be.current.start(),he(!0),_e(Date.now()),ye(!1)}catch(e){console.error(`Error accessing microphone:`,e)}},De=()=>{be.current&&me&&(be.current.stop(),be.current.stream.getTracks().forEach(e=>e.stop()))},Oe=e=>{if(!me)return;let t=e.touches[0],n=e.target.getBoundingClientRect();t.clientY<n.top-50?ye(!0):ye(!1)};(0,b.useEffect)(()=>{let e=null;return navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{let{latitude:t,longitude:n}=e.coords;S([t,n]);let r=[];try{r=await bx(t,n),A.current=r}catch(e){console.warn(`Failed to fetch real nearby museums`,e)}let i=Object.values(hx).map(e=>({...e,distance:_x(t,n,e.coordinates[0],e.coordinates[1])})),a=[...r,...i].sort((e,t)=>e.distance-t.distance).filter(e=>e.distance<20);w(a),D(a),a.length>0&&a[0].distance<2?(_(a[0]),h(`agent-chat`),ie(!0)):h(`manual-selection`)},t=>{console.error(`Geolocation denied or error:`,t),h(`manual-selection`),w([]),D([]),console.log(`Starting background location watch...`),e=navigator.geolocation.watchPosition(e=>{console.log(`Background location acquired:`,e.coords);let{latitude:t,longitude:n}=e.coords;S([t,n]);let r=A.current.map(e=>({...e,distance:_x(t,n,e.coordinates[0],e.coordinates[1])})),i=Object.values(hx).map(e=>({...e,distance:_x(t,n,e.coordinates[0],e.coordinates[1])})),a=[...r,...i].sort((e,t)=>e.distance-t.distance).filter(e=>e.distance<20);if(w(a),re.current||D(a),k.current===`manual-selection`&&!re.current){let e=a[0];e.distance<2&&(_(e),y(!1),ie(!0),h(`agent-chat`))}},e=>console.warn(`Background watch error:`,e),{enableHighAccuracy:!0,timeout:2e4,maximumAge:0})},{enableHighAccuracy:!1,timeout:15e3,maximumAge:6e4}):(h(`manual-selection`),w([]),D([])),()=>{e!==null&&navigator.geolocation.clearWatch(e)}},[]),(0,b.useEffect)(()=>{f.current?.scrollIntoView({behavior:`smooth`})},[c]),(0,b.useEffect)(()=>{if(m===`agent-chat`&&g&&!N&&!i){a(`session-${Date.now()}`);let e=`${g.name}`,t=`${g.area}`;j===`humorous`?(e=`${g.name}`,t=`${g.area}`):j===`kids`&&(e=` ${g.name}`,t=`${g.area}`),l([{id:`init-${Date.now()}`,type:`text`,content:e,sender:`agent`,timestamp:Date.now()},{id:`init-2-${Date.now()}`,type:`text`,content:t,sender:`agent`,timestamp:Date.now()+100}])}},[m,g,N]);let ke=async e=>new Promise(t=>{setTimeout(()=>{t({title:``,subtitle:`190  `,description:` AI 
`,tags:[``,``,``],image:e})},2e3)}),Ae=async(e,t)=>new Promise(n=>{setTimeout(()=>{if(e.includes(``)||e.includes(``)){let e=`20`;t===`humorous`&&(e=`20`),t===`kids`&&(e=``),n({text:e})}else if(e.includes(``)){let e=``;t===`humorous`?e=``:t===`kids`&&(e=``),n({text:t===`kids`?``:``,card:{title:``,subtitle:`  `,description:e,tags:[``,``,``],image:`https://images.unsplash.com/photo-1580136608079-72029d0de130?auto=format&fit=crop&q=80&w=800`}})}else{let e=`...`;t===`humorous`&&(e=`...`),t===`kids`&&(e=`...`),n({text:e})}},1e3)}),je=async(e=u)=>{if(!e.trim())return;if(!I){if(ce>=2){oe(!0);return}let e=ce+1;le(e),localStorage.setItem(`guest_msg_count`,e.toString())}let t={id:`user-${Date.now()}`,type:`text`,content:e,sender:`user`,timestamp:Date.now()};l(e=>[...e,t]),d(``),I&&i&&lx.saveMessage(i,t);let n=await Ae(e,j),r={id:`agent-${Date.now()}`,type:n.card?`card`:`text`,content:n.text,cardData:n.card,sender:`agent`,timestamp:Date.now(),audioUrl:`tts-enabled`};l(e=>[...e,r]),I&&i&&lx.saveMessage(i,r)},Me=async e=>{if(e.target.files&&e.target.files.length>0){let t=Array.from(e.target.files),n=t.map(e=>URL.createObjectURL(e)),r={id:`user-img-${Date.now()}`,type:`image`,content:n,sender:`user`,timestamp:Date.now()};l(e=>[...e,r]);let i=`agent-analyzing-${Date.now()}`,a={id:i,type:`text`,content:t.length>1?` ${t.length} ...`:`...`,sender:`agent`,timestamp:Date.now()+100};l(e=>[...e,a]);let o=await ke(n[0]);l(e=>e.filter(e=>e.id!==i));let s={id:`agent-result-${Date.now()}`,type:`card`,content:t.length>1?``:``,sender:`agent`,timestamp:Date.now(),cardData:o};l(e=>[...e,s])}};(0,b.useEffect)(()=>{if(m!==`agent-chat`)return;let e=setInterval(()=>{g?.id===`louvre`&&(console.log(`User moved to new area...`),_(e=>e?{...e,area:` 2F  `}:null))},3e4);return()=>clearInterval(e)},[m,g]);let Ne=e=>{if(ee(e),re.current=!!e.trim(),ne.current&&clearTimeout(ne.current),!e.trim()){D(C),O(!1);return}let t=e.toLowerCase(),n=C.filter(e=>e.name.toLowerCase().includes(t)||e.area.toLowerCase().includes(t));D(n),O(!0),ne.current=setTimeout(async()=>{try{let t=/[\u4e00-\u9fa5]/.test(e),r=[];if(t){let t=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}&accept-language=zh-CN,en&limit=8&addressdetails=1&featuretype=settlement&layer=address`,n=await(await fetch(t)).json();Array.isArray(n)&&(r=n.map(e=>{let t=e.name||e.display_name.split(`,`)[0];return{id:`osm-${e.place_id}`,name:t,area:e.display_name,weather:``,coverImage:`https://image.pollinations.ai/prompt/cinematic%20photo%20of%20${encodeURIComponent(t)}%20landmark%20architecture%20scenery?width=640&height=480&nologo=true&seed=${e.place_id}`,recommendations:gx(t,!0),coordinates:[parseFloat(e.lat),parseFloat(e.lon)],distance:x?_x(x[0],x[1],parseFloat(e.lat),parseFloat(e.lon)):0}}))}else{let t=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}&accept-language=en,zh-CN&limit=5`)).json();Array.isArray(t)&&(r=t.map(e=>{let t=e.name||e.display_name.split(`,`)[0];return{id:`osm-${e.place_id}`,name:t,area:e.display_name,weather:`Unknown`,coverImage:`https://image.pollinations.ai/prompt/cinematic%20photo%20of%20${encodeURIComponent(t)}%20landmark%20architecture%20scenery?width=640&height=480&nologo=true&seed=${e.place_id}`,recommendations:gx(t,!1),coordinates:[parseFloat(e.lat),parseFloat(e.lon)],distance:x?_x(x[0],x[1],parseFloat(e.lat),parseFloat(e.lon)):0}}))}D([...n,...r])}catch(e){console.error(`Search API Error:`,e)}finally{O(!1)}},800)},Pe=()=>{T.trim()&&(_({id:`custom-${Date.now()}`,name:T,area:``,weather:``,coverImage:`https://image.pollinations.ai/prompt/cinematic%20photo%20of%20${encodeURIComponent(T)}%20landmark%20architecture%20scenery?width=640&height=480&nologo=true&seed=${Date.now()}`,recommendations:gx(T,!0),coordinates:[39.9042,116.4074]}),y(!1),ie(!0),h(`agent-chat`))},Fe=()=>{y(!v)},Ie=e=>{if(!g)return;_({...g,area:e}),y(!1);let t={id:`sys-${Date.now()}`,type:`text`,content:`${e}`,sender:`agent`,timestamp:Date.now()};l(e=>[...e,t])},Le=e=>{let t=hx[e]||E.find(t=>t.id===e);t&&(_(t),y(!1),ie(!0),h(`agent-chat`))};return(0,U.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800 relative overflow-hidden`,children:[m===`locating`&&(0,U.jsxs)(`div`,{className:`absolute inset-0 z-[700] bg-stone-900 flex flex-col items-center justify-center text-white space-y-6`,children:[(0,U.jsx)(`button`,{onClick:()=>t(-1),className:`absolute top-4 right-4 p-2 text-stone-400 hover:text-white bg-stone-800/50 rounded-full transition-colors z-[710]`,children:(0,U.jsx)(Pr,{size:24})}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(`div`,{className:`w-24 h-24 border-2 border-stone-700 rounded-full animate-ping absolute inset-0`}),(0,U.jsx)(`div`,{className:`w-24 h-24 border-2 border-amber-500/50 rounded-full animate-pulse absolute inset-0 delay-75`}),(0,U.jsx)(`div`,{className:`w-24 h-24 flex items-center justify-center`,children:(0,U.jsx)($n,{size:48,className:`text-amber-500 animate-spin-slow`})})]}),(0,U.jsxs)(`div`,{className:`text-center space-y-2`,children:[(0,U.jsx)(`h3`,{className:`text-xl font-bold font-serif`,children:`...`}),(0,U.jsx)(`p`,{className:`text-stone-400 text-sm animate-pulse`,children:``}),(0,U.jsx)(`p`,{className:`text-stone-600 text-xs mt-4`,children:` 3-5 ...`}),(0,U.jsx)(`button`,{onClick:()=>h(`manual-selection`),className:`mt-6 px-6 py-2 bg-stone-800 rounded-full text-xs text-stone-400 hover:text-white hover:bg-stone-700 transition-colors border border-stone-700`,children:``})]})]}),m===`manual-selection`&&(0,U.jsxs)(`div`,{className:`absolute inset-0 z-[600] bg-stone-900 flex flex-col items-center justify-center text-white p-6`,children:[(0,U.jsx)(`button`,{onClick:()=>t(-1),className:`absolute top-4 right-4 p-2 text-stone-400 hover:text-white bg-stone-800/50 rounded-full transition-colors z-[610]`,children:(0,U.jsx)(Pr,{size:24})}),(0,U.jsxs)(`div`,{className:`w-full max-w-md space-y-4 animate-in fade-in zoom-in duration-300 flex flex-col h-[80vh]`,children:[(0,U.jsxs)(`div`,{className:`text-center space-y-2 flex-shrink-0`,children:[(0,U.jsx)(`div`,{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 border transition-colors ${x?`bg-amber-500/20 border-amber-500`:`bg-stone-800 border-stone-700`}`,children:(0,U.jsx)(mr,{size:32,className:x?`text-amber-500`:`text-stone-400`})}),(0,U.jsx)(`h3`,{className:`text-xl font-bold font-serif`,children:x?``:``}),(0,U.jsx)(`p`,{className:`text-stone-400 text-sm`,children:x?`${C[0]?.name}`:``})]}),(0,U.jsxs)(`div`,{className:`relative flex-shrink-0`,children:[te?(0,U.jsx)(ur,{className:`absolute left-3 top-3 text-amber-500 animate-spin`,size:18}):(0,U.jsx)(Tr,{className:`absolute left-3 top-3 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:`text`,value:T,onChange:e=>Ne(e.target.value),placeholder:`/...`,className:`w-full bg-stone-800 border border-stone-700 rounded-xl py-2.5 pl-10 pr-4 text-sm text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 transition-colors`})]}),(0,U.jsxs)(`div`,{className:`grid grid-cols-1 gap-3 overflow-y-auto flex-1 min-h-0 pr-1 custom-scrollbar`,children:[!T&&E.length>0&&x&&(0,U.jsxs)(`div`,{className:`flex items-center px-1 pt-1 pb-2`,children:[(0,U.jsx)($n,{size:12,className:`text-amber-500 mr-1.5`}),(0,U.jsx)(`span`,{className:`text-xs font-bold text-stone-500 uppercase tracking-wider`,children:``})]}),E.map(e=>(0,U.jsxs)(`button`,{onClick:()=>Le(e.id),className:`flex items-center p-3 bg-stone-800 hover:bg-stone-700 border border-stone-700 rounded-xl transition-all text-left group active:scale-95 flex-shrink-0`,children:[(0,U.jsxs)(`div`,{className:`w-16 h-12 bg-stone-900 rounded-lg overflow-hidden mr-4 border border-stone-600 relative`,children:[(0,U.jsx)(mx,{src:e.coverImage,alt:e.name,className:`w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity`}),e.id.startsWith(`osm-`)&&(0,U.jsx)(`div`,{className:`absolute top-0 right-0 p-0.5 bg-black/60 rounded-bl-md`,children:(0,U.jsx)(rr,{size:8,className:`text-white/80`})})]}),(0,U.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-baseline`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-base text-stone-100 truncate pr-2`,children:e.name}),e.distance>0&&(0,U.jsx)(`span`,{className:`text-[10px] text-stone-500 flex-shrink-0`,children:e.distance<1?`${(e.distance*1e3).toFixed(0)}m`:`${e.distance.toFixed(1)}km`})]}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 truncate`,children:e.area})]}),(0,U.jsx)(Yn,{className:`-rotate-90 text-stone-500 ml-2`,size:16})]},e.id)),!te&&T&&(0,U.jsxs)(`div`,{className:`pt-2 pb-4 px-1`,children:[E.length>0&&(0,U.jsx)(`div`,{className:`text-xs text-stone-500 mb-2 text-center`,children:``}),(0,U.jsxs)(`button`,{onClick:Pe,className:`w-full py-3 bg-stone-800 border border-stone-600 rounded-xl text-stone-300 hover:bg-stone-700 hover:text-white transition-colors text-sm flex items-center justify-center`,children:[(0,U.jsx)(Sr,{size:16,className:`mr-2`}),` "`,T,`" `]})]}),E.length===0&&!te&&!T&&(0,U.jsxs)(`div`,{className:`text-center py-12 flex flex-col items-center opacity-50`,children:[(0,U.jsx)(Tr,{size:48,className:`text-stone-600 mb-4`,strokeWidth:1}),(0,U.jsx)(`p`,{className:`text-stone-400 text-sm`,children:``})]})]}),(0,U.jsx)(`button`,{onClick:()=>h(`locating`),className:`w-full py-3 text-sm text-stone-500 hover:text-white transition-colors flex-shrink-0`,children:``})]})]}),N&&(0,U.jsxs)(`div`,{className:`absolute inset-0 z-[800] bg-stone-900/90 backdrop-blur-sm flex flex-col items-center justify-center p-6 animate-in fade-in duration-300`,children:[(0,U.jsx)(`button`,{onClick:()=>{ie(!1),h(`manual-selection`)},className:`absolute top-4 right-4 p-2 text-stone-400 hover:text-white bg-stone-800/50 rounded-full transition-colors z-[810]`,children:(0,U.jsx)(Pr,{size:24})}),(0,U.jsxs)(`div`,{className:`w-full max-w-sm bg-white rounded-3xl p-6 shadow-2xl space-y-6 relative`,children:[(0,U.jsxs)(`div`,{className:`text-center`,children:[(0,U.jsx)(`h3`,{className:`text-xl font-bold font-serif text-stone-900 mb-2`,children:``}),(0,U.jsx)(`p`,{className:`text-stone-500 text-sm`,children:` AI `})]}),(0,U.jsxs)(`div`,{className:`space-y-3`,children:[(0,U.jsxs)(`button`,{onClick:()=>{M(`expert`),ie(!1)},className:`w-full p-4 rounded-xl border-2 border-stone-100 hover:border-amber-500 hover:bg-amber-50 transition-all flex items-center group text-left`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center text-2xl group-hover:bg-white group-hover:shadow-sm transition-colors`,children:``}),(0,U.jsxs)(`div`,{className:`ml-4`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mt-0.5`,children:``})]})]}),(0,U.jsxs)(`button`,{onClick:()=>{M(`humorous`),ie(!1)},className:`w-full p-4 rounded-xl border-2 border-stone-100 hover:border-amber-500 hover:bg-amber-50 transition-all flex items-center group text-left`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center text-2xl group-hover:bg-white group-hover:shadow-sm transition-colors`,children:``}),(0,U.jsxs)(`div`,{className:`ml-4`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mt-0.5`,children:``})]})]}),(0,U.jsxs)(`button`,{onClick:()=>{M(`kids`),ie(!1)},className:`w-full p-4 rounded-xl border-2 border-stone-100 hover:border-amber-500 hover:bg-amber-50 transition-all flex items-center group text-left`,children:[(0,U.jsx)(`div`,{className:`w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center text-2xl group-hover:bg-white group-hover:shadow-sm transition-colors`,children:``}),(0,U.jsxs)(`div`,{className:`ml-4`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900`,children:``}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mt-0.5`,children:``})]})]})]})]})]}),(0,U.jsxs)(`div`,{className:`absolute inset-0 z-0 transition-opacity duration-500 ${P?`opacity-100`:`opacity-80`} pointer-events-auto`,children:[(0,U.jsxs)(rx,{center:[48.8606,2.3376],zoom:16,style:{width:`100%`,height:`100%`},zoomControl:!1,attributionControl:!1,children:[(0,U.jsx)(sx,{url:`https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png`,attribution:` <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors`}),g&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(ax,{position:g.coordinates,icon:dx}),(0,U.jsx)(yx,{center:g.coordinates,zoom:16})]})]}),(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-stone-50 via-stone-50/80 to-transparent pointer-events-none z-[400] transition-opacity duration-500 ${P?`opacity-0`:`opacity-100`}`})]}),m===`agent-chat`&&(0,U.jsx)(`button`,{onClick:()=>F(!P),className:`absolute bottom-24 right-4 z-[600] w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center text-stone-600 hover:text-amber-500 hover:bg-stone-50 transition-all active:scale-95 border border-stone-100`,children:P?(0,U.jsx)(gr,{size:24}):(0,U.jsx)(hr,{size:24})}),m===`agent-chat`&&g&&(0,U.jsxs)(`div`,{className:`absolute top-0 left-0 right-0 px-4 pt-12 pb-4 z-[500] pointer-events-none animate-in slide-in-from-top-4 duration-500 flex gap-2 transition-transform duration-500 ${P?`-translate-y-full`:`translate-y-0`}`,children:[(0,U.jsxs)(`button`,{onClick:Fe,className:`bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 p-1.5 pr-4 pointer-events-auto flex items-center flex-1 min-w-0 text-left active:scale-[0.98] transition-all relative z-30`,children:[(0,U.jsx)(`div`,{className:`w-9 h-9 rounded-full bg-stone-100 overflow-hidden border border-stone-200 flex-shrink-0 relative`,children:(0,U.jsx)(mx,{src:g?.coverImage,alt:`Location`,className:`w-full h-full object-cover`})}),(0,U.jsxs)(`div`,{className:`min-w-0 flex-1 ml-2.5`,children:[(0,U.jsx)(`h2`,{className:`font-bold text-stone-900 text-sm flex items-center truncate leading-tight`,children:(0,U.jsx)(`span`,{className:`truncate`,children:g?.name})}),(0,U.jsxs)(`div`,{className:`flex items-center text-[10px] text-stone-500 mt-0.5 leading-tight`,children:[(0,U.jsx)(mr,{size:10,className:`mr-0.5`}),(0,U.jsx)(`span`,{className:`truncate max-w-[120px]`,children:g?.area})]})]}),(0,U.jsx)(Yn,{size:14,className:`text-stone-400 ml-2 transition-transform duration-300 ${v?`rotate-180`:``}`})]}),(0,U.jsxs)(`div`,{className:`flex gap-2`,children:[(0,U.jsx)(`button`,{onClick:Ce,className:`w-10 h-10 bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 pointer-events-auto flex items-center justify-center active:scale-95 transition-all text-stone-600 hover:text-green-600 z-30`,children:(0,U.jsx)(_r,{size:18})}),(0,U.jsx)(`button`,{onClick:()=>s(!0),className:`w-10 h-10 bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 pointer-events-auto flex items-center justify-center active:scale-95 transition-all text-stone-600 hover:text-amber-600 z-30`,children:(0,U.jsx)(sr,{size:18})}),(0,U.jsx)(`button`,{onClick:()=>t(-1),className:`w-10 h-10 bg-white/90 backdrop-blur-md rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border border-white/60 pointer-events-auto flex items-center justify-center active:scale-95 transition-all text-stone-600 hover:text-red-500 z-30`,children:(0,U.jsx)(Pr,{size:18})})]}),v&&(0,U.jsxs)(`div`,{className:`absolute top-full left-4 right-4 mt-2 bg-white rounded-2xl shadow-xl border border-stone-100 overflow-hidden animate-in slide-in-from-top-4 fade-in duration-200 pointer-events-auto z-20`,children:[(0,U.jsxs)(`div`,{className:`p-4 bg-stone-50 border-b border-stone-100 flex justify-between items-center`,children:[(0,U.jsx)(`h3`,{className:`font-bold text-sm text-stone-900`,children:``}),(g.floorPlanUrl||hx[g.id])&&(0,U.jsx)(`span`,{className:`text-xs text-stone-400`,children:``})]}),(0,U.jsxs)(`div`,{className:`p-4 pb-0`,children:[(0,U.jsxs)(`h4`,{className:`text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider flex justify-between items-center`,children:[``,(0,U.jsx)(`span`,{className:`text-[10px] bg-stone-100 text-stone-400 px-1.5 py-0.5 rounded`,children:x?`GPS`:``})]}),(0,U.jsx)(`div`,{className:`flex gap-2 overflow-x-auto no-scrollbar pb-2`,children:C.map(e=>(0,U.jsxs)(`button`,{onClick:()=>Le(e.id),className:`flex-shrink-0 w-32 p-2 rounded-xl border transition-all text-left ${g?.id===e.id?`bg-stone-900 border-stone-900 text-white shadow-md`:`bg-white border-stone-200 text-stone-800 hover:border-stone-400`}`,children:[(0,U.jsxs)(`div`,{className:`h-16 rounded-lg bg-stone-200 mb-2 overflow-hidden relative`,children:[(0,U.jsx)(mx,{src:e.coverImage,alt:e.name,className:`w-full h-full object-cover`}),(0,U.jsx)(`div`,{className:`absolute bottom-1 right-1 bg-black/50 backdrop-blur-sm text-white text-[8px] px-1 rounded`,children:e.distance<1?`${(e.distance*1e3).toFixed(0)}m`:`${e.distance.toFixed(1)}km`})]}),(0,U.jsx)(`div`,{className:`font-bold text-xs truncate`,children:e.name}),(0,U.jsx)(`div`,{className:`text-[10px] opacity-70 truncate`,children:e.weather})]},e.id))})]}),(0,U.jsx)(`div`,{className:`p-4 relative pt-2`,children:g.floorPlanUrl||hx[g.id]?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(`h4`,{className:`text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider`,children:``}),(0,U.jsxs)(`div`,{className:`aspect-[4/3] bg-stone-100 rounded-xl relative overflow-hidden border border-stone-200`,children:[(0,U.jsx)(`button`,{onClick:()=>Ie(` 1F  `),className:`absolute top-[10%] left-[10%] w-[40%] h-[40%] rounded-lg flex items-center justify-center text-[10px] font-bold border-2 transition-all ${g?.area.includes(``)?`bg-amber-100 border-amber-500 text-amber-700 shadow-md scale-105 z-10`:`bg-white border-stone-200 text-stone-500 hover:bg-stone-50`}`,children:``}),(0,U.jsx)(`button`,{onClick:()=>Ie(` 2F  `),className:`absolute bottom-[10%] right-[10%] w-[50%] h-[30%] rounded-lg flex items-center justify-center text-[10px] font-bold border-2 transition-all ${g?.area.includes(``)?`bg-amber-100 border-amber-500 text-amber-700 shadow-md scale-105 z-10`:`bg-white border-stone-200 text-stone-500 hover:bg-stone-50`}`,children:``}),(0,U.jsx)(`button`,{onClick:()=>Ie(` 3F  `),className:`absolute top-[10%] right-[10%] w-[30%] h-[40%] rounded-lg flex items-center justify-center text-[10px] font-bold border-2 transition-all ${g?.area.includes(``)?`bg-amber-100 border-amber-500 text-amber-700 shadow-md scale-105 z-10`:`bg-white border-stone-200 text-stone-500 hover:bg-stone-50`}`,children:``}),(0,U.jsx)(`div`,{className:`absolute top-1/2 left-1/2 w-3 h-3 bg-blue-500 rounded-full border-2 border-white shadow-sm transform -translate-x-1/2 -translate-y-1/2 z-20 animate-pulse`})]}),(0,U.jsx)(`div`,{className:`mt-3 text-center`,children:(0,U.jsxs)(`button`,{className:`text-xs text-blue-600 font-medium flex items-center justify-center mx-auto`,children:[(0,U.jsx)(hr,{size:12,className:`mr-1`}),` `]})})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(`h4`,{className:`text-xs font-bold text-stone-500 mb-2 uppercase tracking-wider`,children:`/`}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(Tr,{className:`absolute left-3 top-3 text-stone-400`,size:16}),(0,U.jsx)(`input`,{type:`text`,placeholder:`...`,value:T,onChange:e=>Ne(e.target.value),className:`w-full bg-stone-100 border border-stone-200 rounded-xl py-2.5 pl-9 pr-4 text-sm text-stone-800 placeholder-stone-400 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all`})]}),T&&(0,U.jsx)(`div`,{className:`mt-2 max-h-40 overflow-y-auto custom-scrollbar border border-stone-100 rounded-lg bg-white shadow-sm`,children:E.length>0?E.slice(0,3).map(e=>(0,U.jsxs)(`button`,{onClick:()=>Le(e.id),className:`w-full text-left p-2 hover:bg-stone-50 flex items-center border-b border-stone-50 last:border-0`,children:[(0,U.jsx)(`div`,{className:`w-8 h-8 rounded bg-stone-200 mr-2 overflow-hidden flex-shrink-0`,children:(0,U.jsx)(mx,{src:e.coverImage,alt:e.name,className:`w-full h-full object-cover`})}),(0,U.jsxs)(`div`,{className:`min-w-0`,children:[(0,U.jsx)(`div`,{className:`text-xs font-bold truncate text-stone-800`,children:e.name}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-500 truncate`,children:e.area})]})]},e.id)):(0,U.jsx)(`div`,{className:`p-3 text-center`,children:(0,U.jsxs)(`button`,{onClick:Pe,className:`text-xs text-amber-600 font-medium flex items-center justify-center mx-auto`,children:[(0,U.jsx)(Sr,{size:12,className:`mr-1`}),` "`,T,`"`]})})})]})})]})]}),me&&(0,U.jsx)(`div`,{className:`absolute inset-0 z-[900] bg-black/40 flex flex-col items-center justify-center pointer-events-none`,children:(0,U.jsx)(`div`,{className:`transition-all duration-300 transform ${ve?`scale-110 opacity-100`:`scale-100 opacity-60`}`,children:(0,U.jsx)(`div`,{className:`w-32 h-32 rounded-full flex items-center justify-center mb-8 ${ve?`bg-red-500`:`bg-stone-800/80`}`,children:(0,U.jsx)(`div`,{className:`text-center text-white`,children:ve?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Pr,{size:32,className:`mx-auto mb-1`}),(0,U.jsx)(`span`,{className:`text-xs font-bold`,children:``})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(`div`,{className:`flex justify-center space-x-1 mb-2 h-4 items-end`,children:[(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite] h-2`}),(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.1s] h-4`}),(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.2s] h-3`}),(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.1s] h-4`}),(0,U.jsx)(`div`,{className:`w-1 bg-white animate-[music-bar_0.5s_ease-in-out_infinite_0.3s] h-2`})]}),(0,U.jsx)(`span`,{className:`text-xs`,children:`...`}),(0,U.jsx)(`div`,{className:`text-[10px] text-stone-300 mt-1`,children:``})]})})})})}),m===`agent-chat`&&(0,U.jsxs)(`div`,{className:`flex flex-col h-full z-[450] pt-32 pb-safe pointer-events-none transition-all duration-500 ${P?`opacity-0 translate-y-20`:`opacity-100 translate-y-0`}`,children:[(0,U.jsxs)(`div`,{className:`flex-1 overflow-y-auto px-4 space-y-6 pb-4 pointer-events-auto`,children:[c.map(e=>(0,U.jsxs)(`div`,{className:`flex flex-col ${e.sender===`user`?`items-end`:`items-start`}`,children:[e.type===`text`&&(0,U.jsx)(`div`,{className:`max-w-[85%] px-5 py-3.5 rounded-2xl text-sm leading-relaxed shadow-sm ${e.sender===`user`?`bg-stone-900 text-white rounded-tr-none`:`bg-white/90 backdrop-blur-md text-stone-800 border border-white/50 rounded-tl-none`}`,children:typeof e.content==`string`?e.content:``}),e.sender===`agent`&&e.type===`text`&&(e.audioUrl||e.cardData)&&(0,U.jsxs)(`button`,{onClick:()=>Te(typeof e.content==`string`?e.content:``,e.id),className:`mt-1 p-1.5 rounded-full transition-colors flex items-center space-x-1 ${ue===e.id?`text-amber-500 bg-amber-50`:`text-stone-400 hover:text-stone-600`}`,children:[ue===e.id?(0,U.jsx)(Zn,{size:14}):(0,U.jsx)(Nr,{size:14}),(0,U.jsx)(`span`,{className:`text-[10px] font-medium`,children:ue===e.id?``:``})]}),e.type===`image`&&(0,U.jsx)(`div`,{className:`max-w-[70%]`,children:Array.isArray(e.content)&&e.content.length>1?(0,U.jsx)(`div`,{className:`grid gap-1 rounded-xl overflow-hidden shadow-md border-2 border-white ${e.content.length===2||e.content.length===3||e.content.length===4?`grid-cols-2`:`grid-cols-3`}`,children:e.content.map((e,t)=>(0,U.jsx)(`div`,{className:`relative aspect-square`,children:(0,U.jsx)(`img`,{src:e,alt:`Upload ${t}`,className:`w-full h-full object-cover`})},t))}):(0,U.jsx)(`div`,{className:`rounded-xl overflow-hidden shadow-md border-2 border-white`,children:(0,U.jsx)(`img`,{src:typeof e.content==`string`?e.content:e.content[0],alt:`Upload`,className:`w-full h-auto`})})}),e.type===`card`&&e.cardData&&(0,U.jsxs)(`div`,{className:`max-w-[90%] w-full bg-white rounded-2xl overflow-hidden shadow-lg border border-stone-100 mt-1 animate-in fade-in slide-in-from-bottom-2 duration-500`,children:[(0,U.jsxs)(`div`,{className:`relative h-40`,children:[(0,U.jsx)(`img`,{src:e.cardData.image,alt:e.cardData.title,className:`w-full h-full object-cover`}),(0,U.jsxs)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-4`,children:[(0,U.jsx)(`h3`,{className:`text-white font-bold text-lg`,children:e.cardData.title}),(0,U.jsx)(`p`,{className:`text-white/80 text-xs`,children:e.cardData.subtitle})]}),(0,U.jsx)(`button`,{className:`absolute top-3 right-3 w-8 h-8 bg-black/30 backdrop-blur-md rounded-full flex items-center justify-center text-white`,children:(0,U.jsx)(xr,{size:14,fill:`white`})})]}),(0,U.jsxs)(`div`,{className:`p-4`,children:[(0,U.jsx)(`p`,{className:`text-sm text-stone-600 leading-relaxed mb-3 line-clamp-3`,children:e.cardData.description}),(0,U.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:e.cardData.tags.map(e=>(0,U.jsx)(`span`,{className:`text-[10px] bg-stone-100 text-stone-500 px-2 py-1 rounded-md`,children:e},e))})]})]})]},e.id)),(0,U.jsx)(`div`,{ref:f})]}),(0,U.jsx)(`div`,{className:`px-4 pb-2 flex gap-2 overflow-x-auto no-scrollbar mask-linear-fade pointer-events-auto`,children:g?.recommendations.map((e,t)=>(0,U.jsx)(`button`,{onClick:()=>je(e),className:`whitespace-nowrap px-3 py-1.5 bg-white/80 backdrop-blur-sm border border-stone-200/50 rounded-full text-xs font-medium text-stone-600 shadow-sm hover:bg-white hover:text-amber-600 transition-colors`,children:e},t))}),(0,U.jsx)(`div`,{className:`px-4 py-3 bg-gradient-to-t from-white via-white to-transparent pointer-events-auto`,children:(0,U.jsxs)(`div`,{className:`bg-white rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-stone-100 p-1.5 flex items-center`,children:[(0,U.jsx)(`button`,{onClick:()=>pe(!fe),className:`w-10 h-10 rounded-full bg-stone-50 text-stone-500 flex items-center justify-center hover:bg-stone-100 active:scale-95 transition-all`,children:fe?(0,U.jsx)(lr,{size:20}):(0,U.jsx)(yr,{size:20})}),fe?(0,U.jsx)(`button`,{className:`flex-1 mx-2 h-9 bg-stone-100 hover:bg-stone-200 active:bg-stone-300 rounded-full text-sm font-bold text-stone-600 select-none touch-none transition-colors flex items-center justify-center`,onMouseDown:Ee,onMouseUp:De,onMouseMove:e=>{me&&(e.clientY<e.target.getBoundingClientRect().top-50?ye(!0):ye(!1))},onTouchStart:Ee,onTouchEnd:De,onTouchMove:Oe,children:me?ve?``:``:``}):(0,U.jsx)(`input`,{type:`text`,value:u,onChange:e=>d(e.target.value),onKeyPress:e=>e.key===`Enter`&&je(),placeholder:`...`,className:`flex-1 bg-transparent border-none focus:ring-0 text-sm px-3 text-stone-800 placeholder-stone-400`}),(0,U.jsx)(`input`,{type:`file`,ref:p,accept:`image/*`,multiple:!0,className:`hidden`,onChange:Me}),(0,U.jsx)(`button`,{onClick:()=>p.current?.click(),className:`w-10 h-10 rounded-full text-stone-500 flex items-center justify-center hover:bg-stone-100 active:scale-95 transition-all mr-1`,children:(0,U.jsx)(Jn,{size:20})}),(0,U.jsx)(`button`,{onClick:()=>je(u),disabled:!u.trim(),className:`w-10 h-10 rounded-full flex items-center justify-center text-white shadow-md transition-all active:scale-95 ${u.trim()?`bg-stone-900 scale-100`:`bg-stone-300 scale-90 opacity-0 w-0 overflow-hidden`}`,children:(0,U.jsx)(Er,{size:18})})]})})]}),ae&&(0,U.jsx)(`div`,{className:`absolute inset-0 z-[1000] bg-stone-900/60 backdrop-blur-sm flex flex-col items-center justify-center p-6 animate-in fade-in duration-300`,children:(0,U.jsxs)(`div`,{className:`w-full max-w-sm bg-white rounded-2xl shadow-2xl p-8 relative overflow-hidden text-center animate-in zoom-in-95 duration-300 border border-stone-100`,children:[(0,U.jsx)(`div`,{className:`absolute -top-12 -right-12 w-32 h-32 bg-amber-100 rounded-full blur-3xl opacity-60 pointer-events-none`}),(0,U.jsx)(`div`,{className:`w-16 h-16 bg-amber-50 rounded-full flex items-center justify-center mx-auto mb-6 relative z-10`,children:(0,U.jsx)(dr,{size:32,className:`text-amber-600`})}),(0,U.jsx)(`h3`,{className:`text-2xl font-serif font-bold text-stone-900 mb-3`,children:``}),(0,U.jsxs)(`p`,{className:`text-stone-500 text-sm leading-relaxed mb-8 px-2`,children:[` 2 `,(0,U.jsx)(`br`,{}),``,(0,U.jsx)(`br`,{}),``]}),(0,U.jsxs)(`div`,{className:`space-y-3`,children:[(0,U.jsx)(`button`,{onClick:()=>t(`/auth`),className:`w-full py-3.5 bg-amber-600 hover:bg-amber-500 text-white font-bold rounded-xl shadow-lg shadow-amber-900/20 active:scale-[0.98] transition-all flex items-center justify-center`,children:` / `}),(0,U.jsx)(`button`,{onClick:()=>oe(!1),className:`w-full py-3.5 bg-white text-stone-400 hover:text-stone-600 font-medium rounded-xl transition-colors text-sm`,children:``})]})]})}),o&&(0,U.jsxs)(`div`,{className:`absolute inset-0 z-[850] bg-stone-900/50 backdrop-blur-sm animate-in fade-in duration-200`,children:[(0,U.jsxs)(`div`,{className:`absolute top-0 bottom-0 right-0 w-3/4 max-w-sm bg-white shadow-2xl animate-in slide-in-from-right duration-300 flex flex-col`,children:[(0,U.jsxs)(`div`,{className:`p-4 border-b border-stone-100 flex justify-between items-center bg-stone-50`,children:[(0,U.jsxs)(`h3`,{className:`font-bold text-lg text-stone-800 flex items-center`,children:[(0,U.jsx)(sr,{size:20,className:`mr-2 text-amber-500`}),``]}),(0,U.jsx)(`button`,{onClick:()=>s(!1),className:`p-2 hover:bg-stone-200 rounded-full`,children:(0,U.jsx)(Pr,{size:20,className:`text-stone-500`})})]}),(0,U.jsx)(`div`,{className:`flex-1 overflow-y-auto px-4 py-4 space-y-3`,children:n.length===0?(0,U.jsx)(`div`,{className:`text-center py-10 text-stone-400 text-sm`,children:``}):n.map(e=>(0,U.jsxs)(`div`,{onClick:()=>Se(e),className:`p-3 rounded-xl border transition-all cursor-pointer group relative ${i===e.id?`bg-amber-50 border-amber-200 ring-1 ring-amber-200`:`bg-white border-stone-100 hover:border-amber-200 hover:shadow-sm`}`,children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-start mb-1`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-800 text-sm`,children:e.locationName}),(0,U.jsx)(`span`,{className:`text-[10px] text-stone-400`,children:new Date(e.lastMessageTime).toLocaleDateString()})]}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 line-clamp-2 pr-6`,children:e.preview||``}),(0,U.jsx)(`button`,{onClick:t=>we(t,e.id),className:`absolute bottom-3 right-3 p-1.5 text-stone-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100`,children:(0,U.jsx)(Ar,{size:14})})]},e.id))})]}),(0,U.jsx)(`div`,{className:`absolute inset-0 -z-10`,onClick:()=>s(!1)})]})]})},Sx=()=>{let[e,t]=(0,b.useState)([]);return(0,b.useEffect)(()=>{(async()=>{t(await mc.getAll())})()},[]),(0,U.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800 relative overflow-hidden`,children:[(0,U.jsx)(hc,{}),(0,U.jsx)(`header`,{className:`px-6 py-4 flex justify-between items-center bg-transparent sticky top-0 z-10 relative pt-8`,children:(0,U.jsx)(`h1`,{className:`text-2xl font-bold font-serif text-stone-900 tracking-wide`,children:``})}),(0,U.jsx)(`main`,{className:`flex-1 p-2 overflow-y-auto relative z-10 pb-24`,children:(0,U.jsx)(`div`,{className:`masonry-grid space-y-4`,children:e.map(e=>(0,U.jsxs)(vn,{to:`/travelogue/${e.id}`,className:`bg-white rounded-xl overflow-hidden shadow-sm border border-stone-100 break-inside-avoid block active:scale-[0.99] transition-transform`,children:[(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(`img`,{src:e.cover,alt:e.title,className:`w-full h-48 object-cover`}),(0,U.jsx)(`div`,{className:`absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full backdrop-blur-sm`,children:`AI `})]}),(0,U.jsxs)(`div`,{className:`p-3`,children:[(0,U.jsx)(`h3`,{className:`font-bold text-stone-900 text-sm mb-1 line-clamp-2`,children:e.title}),(0,U.jsx)(`p`,{className:`text-xs text-stone-500 mb-3 line-clamp-2`,children:e.intro}),(0,U.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,U.jsx)(`img`,{src:e.avatar,className:`w-5 h-5 rounded-full object-cover`,alt:`Avatar`}),(0,U.jsx)(`span`,{className:`text-xs text-stone-600`,children:e.author})]}),(0,U.jsx)(`div`,{className:`flex items-center space-x-3 text-stone-400`,children:(0,U.jsxs)(`div`,{className:`flex items-center space-x-1`,children:[(0,U.jsx)(or,{size:14}),(0,U.jsx)(`span`,{className:`text-xs`,children:e.likes})]})})]})]})]},e.id))})})]})},Cx=(0,b.createContext)({});function wx(e){let t=(0,b.useRef)(null);return t.current===null&&(t.current=e()),t.current}var Tx=typeof window<`u`,Ex=Tx?b.useLayoutEffect:b.useEffect,Dx=(0,b.createContext)(null);function Ox(e,t){e.indexOf(t)===-1&&e.push(t)}function kx(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ax=(e,t,n)=>n>t?t:n<e?e:n,jx={},Mx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Nx(e){return typeof e==`object`&&!!e}var Px=e=>/^0[^.\s]+$/u.test(e);function Fx(e){let t;return()=>(t===void 0&&(t=e()),t)}var Ix=e=>e,Lx=(e,t)=>n=>t(e(n)),Rx=(...e)=>e.reduce(Lx),zx=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r},Bx=class{constructor(){this.subscriptions=[]}add(e){return Ox(this.subscriptions,e),()=>kx(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},Vx=e=>e*1e3,Hx=e=>e/1e3;function Ux(e,t){return t?e*(1e3/t):0}var Wx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Gx=1e-7,Kx=12;function qx(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=Wx(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>Gx&&++s<Kx);return o}function Jx(e,t,n,r){if(e===t&&n===r)return Ix;let i=t=>qx(t,0,1,e,n);return e=>e===0||e===1?e:Wx(i(e),t,r)}var Yx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Xx=e=>t=>1-e(1-t),Zx=Jx(.33,1.53,.69,.99),Qx=Xx(Zx),$x=Yx(Qx),eS=e=>(e*=2)<1?.5*Qx(e):.5*(2-2**(-10*(e-1))),tS=e=>1-Math.sin(Math.acos(e)),nS=Xx(tS),rS=Yx(tS),iS=Jx(.42,0,1,1),aS=Jx(0,0,.58,1),oS=Jx(.42,0,.58,1),sS=e=>Array.isArray(e)&&typeof e[0]!=`number`,cS=e=>Array.isArray(e)&&typeof e[0]==`number`,lS={linear:Ix,easeIn:iS,easeInOut:oS,easeOut:aS,circIn:tS,circInOut:rS,circOut:nS,backIn:Qx,backInOut:$x,backOut:Zx,anticipate:eS},uS=e=>typeof e==`string`,dS=e=>{if(cS(e)){e.length;let[t,n,r,i]=e;return Jx(t,n,r,i)}else if(uS(e))return lS[e],`${e}`,lS[e];return e},fS=[`setup`,`read`,`resolveKeyframes`,`preUpdate`,`update`,`preRender`,`render`,`postRender`],pS={value:null,addProjectionMetrics:null};function mS(e,t){let n=new Set,r=new Set,i=!1,a=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},c=0;function l(t){o.has(t)&&(u.schedule(t),e()),c++,t(s)}let u={schedule:(e,t=!1,a=!1)=>{let s=a&&i?n:r;return t&&o.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(s=e,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),t&&pS.value&&pS.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}var hS=40;function gS(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=fS.reduce((e,n)=>(e[n]=mS(a,t?n:void 0),e),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:p,postRender:m}=o,h=()=>{let a=jx.useManualTiming?i.timestamp:performance.now();n=!1,jx.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,hS),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:fS.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,i=!1)=>(n||g(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<fS.length;t++)o[fS[t]].cancel(e)},state:i,steps:o}}var{schedule:_S,cancel:vS,state:yS,steps:bS}=gS(typeof requestAnimationFrame<`u`?requestAnimationFrame:Ix,!0),xS;function SS(){xS=void 0}var CS={now:()=>(xS===void 0&&CS.set(yS.isProcessing||jx.useManualTiming?yS.timestamp:performance.now()),xS),set:e=>{xS=e,queueMicrotask(SS)}},wS={layout:0,mainThread:0,waapi:0},TS=e=>t=>typeof t==`string`&&t.startsWith(e),ES=TS(`--`),DS=TS(`var(--`),OS=e=>DS(e)?kS.test(e.split(`/*`)[0].trim()):!1,kS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function AS(e){return typeof e==`string`?e.split(`/*`)[0].includes(`var(--`):!1}var jS={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},MS={...jS,transform:e=>Ax(0,1,e)},NS={...jS,default:1},PS=e=>Math.round(e*1e5)/1e5,FS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IS(e){return e==null}var LS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,RS=(e,t)=>n=>!!(typeof n==`string`&&LS.test(n)&&n.startsWith(e)||t&&!IS(n)&&Object.prototype.hasOwnProperty.call(n,t)),zS=(e,t,n)=>r=>{if(typeof r!=`string`)return r;let[i,a,o,s]=r.match(FS);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},BS=e=>Ax(0,255,e),VS={...jS,transform:e=>Math.round(BS(e))},HS={test:RS(`rgb`,`red`),parse:zS(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+VS.transform(e)+`, `+VS.transform(t)+`, `+VS.transform(n)+`, `+PS(MS.transform(r))+`)`};function US(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var WS={test:RS(`#`),parse:US,transform:HS.transform},GS=e=>({test:t=>typeof t==`string`&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),KS=GS(`deg`),qS=GS(`%`),$=GS(`px`),JS=GS(`vh`),YS=GS(`vw`),XS=(()=>({...qS,parse:e=>qS.parse(e)/100,transform:e=>qS.transform(e*100)}))(),ZS={test:RS(`hsl`,`hue`),parse:zS(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+qS.transform(PS(t))+`, `+qS.transform(PS(n))+`, `+PS(MS.transform(r))+`)`},QS={test:e=>HS.test(e)||WS.test(e)||ZS.test(e),parse:e=>HS.test(e)?HS.parse(e):ZS.test(e)?ZS.parse(e):WS.parse(e),transform:e=>typeof e==`string`?e:e.hasOwnProperty(`red`)?HS.transform(e):ZS.transform(e),getAnimatableNone:e=>{let t=QS.parse(e);return t.alpha=0,QS.transform(t)}},$S=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eC(e){return isNaN(e)&&typeof e==`string`&&(e.match(FS)?.length||0)+(e.match($S)?.length||0)>0}var tC=`number`,nC=`color`,rC=`var`,iC=`var(`,aC="${}",oC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sC(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0;return{values:n,split:t.replace(oC,e=>(QS.test(e)?(r.color.push(a),i.push(nC),n.push(QS.parse(e))):e.startsWith(iC)?(r.var.push(a),i.push(rC),n.push(e)):(r.number.push(a),i.push(tC),n.push(parseFloat(e))),++a,aC)).split(aC),indexes:r,types:i}}function cC(e){return sC(e).values}function lC(e){let{split:t,types:n}=sC(e),r=t.length;return e=>{let i=``;for(let a=0;a<r;a++)if(i+=t[a],e[a]!==void 0){let t=n[a];t===tC?i+=PS(e[a]):t===nC?i+=QS.transform(e[a]):i+=e[a]}return i}}var uC=e=>typeof e==`number`?0:QS.test(e)?QS.getAnimatableNone(e):e;function dC(e){let t=cC(e);return lC(e)(t.map(uC))}var fC={test:eC,parse:cC,createTransformer:lC,getAnimatableNone:dC};function pC(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mC({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=pC(s,r,e+1/3),a=pC(s,r,e),o=pC(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function hC(e,t){return n=>n>0?t:e}var gC=(e,t,n)=>e+(t-e)*n,_C=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},vC=[WS,HS,ZS],yC=e=>vC.find(t=>t.test(e));function bC(e){let t=yC(e);if(`${e}`,!t)return!1;let n=t.parse(e);return t===ZS&&(n=mC(n)),n}var xC=(e,t)=>{let n=bC(e),r=bC(t);if(!n||!r)return hC(e,t);let i={...n};return e=>(i.red=_C(n.red,r.red,e),i.green=_C(n.green,r.green,e),i.blue=_C(n.blue,r.blue,e),i.alpha=gC(n.alpha,r.alpha,e),HS.transform(i))},SC=new Set([`none`,`hidden`]);function CC(e,t){return SC.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function wC(e,t){return n=>gC(e,t,n)}function TC(e){return typeof e==`number`?wC:typeof e==`string`?OS(e)?hC:QS.test(e)?xC:kC:Array.isArray(e)?EC:typeof e==`object`?QS.test(e)?xC:DC:hC}function EC(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>TC(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function DC(e,t){let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=TC(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}function OC(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],o=e.indexes[a][r[a]];n[i]=e.values[o]??0,r[a]++}return n}var kC=(e,t)=>{let n=fC.createTransformer(t),r=sC(e),i=sC(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?SC.has(e)&&!i.values.length||SC.has(t)&&!r.values.length?CC(e,t):Rx(EC(OC(r,i),i.values),n):(`${e}${t}`,hC(e,t))};function AC(e,t,n){return typeof e==`number`&&typeof t==`number`&&typeof n==`number`?gC(e,t,n):TC(e)(e,t)}var jC=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>_S.update(t,e),stop:()=>vS(t),now:()=>yS.isProcessing?yS.timestamp:CS.now()}},MC=(e,t,n=10)=>{let r=``,i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=Math.round(e(t/(i-1))*1e4)/1e4+`, `;return`linear(${r.substring(0,r.length-2)})`},NC=2e4;function PC(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function FC(e,t=100,n){let r=n({...e,keyframes:[0,t]}),i=Math.min(PC(r),NC);return{type:`keyframes`,ease:e=>r.next(i*e).value/t,duration:Hx(i)}}var IC=5;function LC(e,t,n){let r=Math.max(t-IC,0);return Ux(n-e(r),t-r)}var RC={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zC=.001;function BC({duration:e=RC.duration,bounce:t=RC.bounce,velocity:n=RC.velocity,mass:r=RC.mass}){let i,a;RC.maxDuration;let o=1-t;o=Ax(RC.minDamping,RC.maxDamping,o),e=Ax(RC.minDuration,RC.maxDuration,Hx(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=UC(t,o),c=Math.exp(-i);return zC-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=UC(t**2,o);return(-i(t)+zC>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-zC+r*i},a=t=>Math.exp(-t*e)*((n-t)*(e*e)));let s=5/e,c=HC(i,a,s);if(e=Vx(e),isNaN(c))return{stiffness:RC.stiffness,damping:RC.damping,duration:e};{let t=c**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var VC=12;function HC(e,t,n){let r=n;for(let n=1;n<VC;n++)r-=e(r)/t(r);return r}function UC(e,t){return e*Math.sqrt(1-t*t)}var WC=[`duration`,`bounce`],GC=[`stiffness`,`damping`,`mass`];function KC(e,t){return t.some(t=>e[t]!==void 0)}function qC(e){let t={velocity:RC.velocity,stiffness:RC.stiffness,damping:RC.damping,mass:RC.mass,isResolvedFromDuration:!1,...e};if(!KC(e,GC)&&KC(e,WC))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ax(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:RC.mass,stiffness:i,damping:a}}else{let n=BC(e);t={...t,...n,mass:RC.mass},t.isResolvedFromDuration=!0}return t}function JC(e=RC.visualDuration,t=RC.bounce){let n=typeof e==`object`?e:{visualDuration:e,keyframes:[0,1],bounce:t},{restSpeed:r,restDelta:i}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=qC({...n,velocity:-Hx(n.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(c*u)),g=o-a,_=Hx(Math.sqrt(c/u)),v=Math.abs(g)<5;r||=v?RC.restSpeed.granular:RC.restSpeed.default,i||=v?RC.restDelta.granular:RC.restDelta.default;let y;if(h<1){let e=UC(_,h);y=t=>o-Math.exp(-h*_*t)*((m+h*_*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(h===1)y=e=>o-Math.exp(-_*e)*(g+(m+_*g)*e);else{let e=_*Math.sqrt(h*h-1);y=t=>{let n=Math.exp(-h*_*t),r=Math.min(e*t,300);return o-n*((m+h*_*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}let b={calculatedDuration:p&&d||null,next:e=>{let t=y(e);if(p)s.done=e>=d;else{let n=e===0?m:0;h<1&&(n=e===0?Vx(m):LC(y,e,t));let a=Math.abs(n)<=r,c=Math.abs(o-t)<=i;s.done=a&&c}return s.value=s.done?o:t,s},toString:()=>{let e=Math.min(PC(b),NC),t=MC(t=>b.next(e*t).value,e,30);return e+`ms `+t},toTransition:()=>{}};return b}JC.applyToOptions=e=>{let t=FC(e,100,JC);return e.ease=t.ease,e.duration=Vx(t.duration),e.type=`keyframes`,e};function YC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=JC({keyframes:[f.value,m(f.value)],velocity:LC(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>=x?S.next(e-x):(!t&&b(e),f)}}}function XC(e,t,n){let r=[],i=n||jx.mix||AC,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);t&&(a=Rx(Array.isArray(t)?t[n]||Ix:t,a)),r.push(a)}return r}function ZC(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(t.length,a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=XC(t,r,i),c=s.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(c>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=zx(e[r],e[r+1],n);return s[r](i)};return n?t=>l(Ax(e[0],e[a-1],t)):l}function QC(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=zx(0,t,r);e.push(gC(n,1,i))}}function $C(e){let t=[0];return QC(t,e.length-1),t}function ew(e,t){return e.map(e=>e*t)}function tw(e,t){return e.map(()=>t||oS).splice(0,e.length-1)}function nw({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=sS(r)?r.map(dS):dS(r),a={done:!1,value:t[0]},o=ZC(ew(n&&n.length===t.length?n:$C(t),e),t,{ease:Array.isArray(i)?i:tw(t,i)});return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}var rw=e=>e!==null;function iw(e,{repeat:t,repeatType:n=`loop`},r,i=1){let a=e.filter(rw),o=i<0||t&&n!==`loop`&&t%2==1?0:a.length-1;return!o||r===void 0?a[o]:r}var aw={decay:YC,inertia:YC,tween:nw,keyframes:nw,spring:JC};function ow(e){typeof e.type==`string`&&(e.type=aw[e.type])}var sw=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}},cw=e=>e/100,lw=class extends sw{constructor(e){super(),this.state=`idle`,this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==CS.now()&&this.tick(CS.now()),this.isStopped=!0,this.state!==`idle`&&(this.teardown(),this.options.onStop?.())},wS.mainThread++,this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){let{options:e}=this;ow(e);let{type:t=nw,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e,{keyframes:o}=e,s=t||nw;s!==nw&&typeof o[0]!=`number`&&(this.mixKeyframes=Rx(cw,AC(o[0],o[1])),o=[0,100]);let c=s({...e,keyframes:o});i===`mirror`&&(this.mirroredGenerator=s({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=PC(c));let{calculatedDuration:l}=c;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime===null?this.currentTime=t:this.currentTime=this.holdTime}tick(e,t=!1){let{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(this.startTime===null)return n.next(0);let{delay:c=0,keyframes:l,repeat:u,repeatType:d,repeatDelay:f,type:p,onUpdate:m,finalKeyframe:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state===`finished`&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,y=n;if(u){let e=Math.min(this.currentTime,r)/o,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,u+1),t%2&&(d===`reverse`?(n=1-n,f&&(n-=f/o)):d===`mirror`&&(y=a)),v=Ax(0,1,n)*o}let b=_?{done:!1,value:l[0]}:y.next(v);i&&(b.value=i(b.value));let{done:x}=b;!_&&s!==null&&(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let S=this.holdTime===null&&(this.state===`finished`||this.state===`running`&&x);return S&&p!==YC&&(b.value=iw(l,this.options,h,this.speed)),m&&m(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return Hx(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+Hx(e)}get time(){return Hx(this.currentTime)}set time(e){e=Vx(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(CS.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Hx(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=jC,startTime:t}=this.options;this.driver||=e(e=>this.tick(e)),this.options.onPlay?.();let n=this.driver.now();this.state===`finished`?(this.updateFinished(),this.startTime=n):this.holdTime===null?this.startTime||=t??n:this.startTime=n-this.holdTime,this.state===`finished`&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state=`running`,this.driver.start()}pause(){this.state=`paused`,this.updateTime(CS.now()),this.holdTime=this.currentTime}complete(){this.state!==`running`&&this.play(),this.state=`finished`,this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state=`finished`,this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state=`idle`,this.stopDriver(),this.startTime=this.holdTime=null,wS.mainThread--}stopDriver(){this.driver&&=(this.driver.stop(),void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type=`keyframes`,this.options.ease=`linear`,this.initAnimation()),this.driver?.stop(),e.observe(this)}};function uw(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}var dw=e=>e*180/Math.PI,fw=e=>mw(dw(Math.atan2(e[1],e[0]))),pw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fw,rotateZ:fw,skewX:e=>dw(Math.atan(e[1])),skewY:e=>dw(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},mw=e=>(e%=360,e<0&&(e+=360),e),hw=fw,gw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_w=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),vw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gw,scaleY:_w,scale:e=>(gw(e)+_w(e))/2,rotateX:e=>mw(dw(Math.atan2(e[6],e[5]))),rotateY:e=>mw(dw(Math.atan2(-e[2],e[0]))),rotateZ:hw,rotate:hw,skewX:e=>dw(Math.atan(e[4])),skewY:e=>dw(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function yw(e){return e.includes(`scale`)?1:0}function bw(e,t){if(!e||e===`none`)return yw(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),r,i;if(n)r=vw,i=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pw,i=t}if(!i)return yw(t);let a=r[t],o=i[1].split(`,`).map(Sw);return typeof a==`function`?a(o):o[a]}var xw=(e,t)=>{let{transform:n=`none`}=getComputedStyle(e);return bw(n,t)};function Sw(e){return parseFloat(e.trim())}var Cw=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`],ww=(()=>new Set(Cw))(),Tw=e=>e===jS||e===$,Ew=new Set([`x`,`y`,`z`]),Dw=Cw.filter(e=>!Ew.has(e));function Ow(e){let t=[];return Dw.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(`scale`)?1:0))}),t}var kw={width:({x:e},{paddingLeft:t=`0`,paddingRight:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=`0`,paddingBottom:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>bw(t,`x`),y:(e,{transform:t})=>bw(t,`y`)};kw.translateX=kw.x,kw.translateY=kw.y;var Aw=new Set,jw=!1,Mw=!1,Nw=!1;function Pw(){if(Mw){let e=Array.from(Aw).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=Ow(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{e.suspendedScrollY!==void 0&&window.scrollTo(0,e.suspendedScrollY)})}Mw=!1,jw=!1,Aw.forEach(e=>e.complete(Nw)),Aw.clear()}function Fw(){Aw.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mw=!0)})}function Iw(){Nw=!0,Fw(),Pw(),Nw=!1}var Lw=class{constructor(e,t,n,r,i,a=!1){this.state=`pending`,this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state=`scheduled`,this.isAsync?(Aw.add(this),jw||(jw=!0,_S.read(Fw),_S.resolveKeyframes(Pw))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){let i=r?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){let r=n.readValue(t,a);r!=null&&(e[0]=r)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}uw(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state=`complete`,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Aw.delete(this)}cancel(){this.state===`scheduled`&&(Aw.delete(this),this.state=`pending`)}resume(){this.state===`pending`&&this.scheduleResolve()}},Rw=e=>e.startsWith(`--`);function zw(e,t,n){Rw(t)?e.style.setProperty(t,n):e.style[t]=n}var Bw=Fx(()=>window.ScrollTimeline!==void 0),Vw={};function Hw(e,t){let n=Fx(e);return()=>Vw[t]??n()}var Uw=Hw(()=>{try{document.createElement(`div`).animate({opacity:0},{easing:`linear(0, 1)`})}catch{return!1}return!0},`linearEasing`),Ww=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Gw={linear:`linear`,ease:`ease`,easeIn:`ease-in`,easeOut:`ease-out`,easeInOut:`ease-in-out`,circIn:Ww([0,.65,.55,1]),circOut:Ww([.55,0,1,.45]),backIn:Ww([.31,.01,.66,-.59]),backOut:Ww([.33,1.53,.69,.99])};function Kw(e,t){if(e)return typeof e==`function`?Uw()?MC(e,t):`ease-out`:cS(e)?Ww(e):Array.isArray(e)?e.map(e=>Kw(e,t)||Gw.easeOut):Gw[e]}function qw(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o=`loop`,ease:s=`easeOut`,times:c}={},l=void 0){let u={[t]:n};c&&(u.offset=c);let d=Kw(s,i);Array.isArray(d)&&(u.easing=d),pS.value&&wS.waapi++;let f={delay:r,duration:i,easing:Array.isArray(d)?`linear`:d,fill:`both`,iterations:a+1,direction:o===`reverse`?`alternate`:`normal`};l&&(f.pseudoElement=l);let p=e.animate(u,f);return pS.value&&p.finished.finally(()=>{wS.waapi--}),p}function Jw(e){return typeof e==`function`&&`applyToOptions`in e}function Yw({type:e,...t}){return Jw(e)&&Uw()?e.applyToOptions(t):(t.duration??=300,t.ease??=`easeOut`,t)}var Xw=class extends sw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;let{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,e.type;let c=Yw(e);this.animation=qw(t,n,r,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=iw(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):zw(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state===`finished`&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;e===`idle`||e===`finished`||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){let e=this.animation.effect?.getComputedTiming?.().duration||0;return Hx(Number(e))}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+Hx(e)}get time(){return Hx(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Vx(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime===null?this.animation.playState:`finished`}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:`linear`}),this.animation.onfinish=null,e&&Bw()?(this.animation.timeline=e,Ix):t(this)}},Zw={anticipate:eS,backInOut:$x,circInOut:rS};function Qw(e){return e in Zw}function $w(e){typeof e.ease==`string`&&Qw(e.ease)&&(e.ease=Zw[e.ease])}var eT=10,tT=class extends Xw{constructor(e){$w(e),ow(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}let o=new lw({...a,autoplay:!1}),s=Math.max(eT,CS.now()-this.startTime),c=Ax(0,eT,s-eT);t.setWithVelocity(o.sample(Math.max(0,s-c)).value,o.sample(s).value,c),o.stop()}},nT=(e,t)=>t===`zIndex`?!1:!!(typeof e==`number`||Array.isArray(e)||typeof e==`string`&&(fC.test(e)||e===`0`)&&!e.startsWith(`url(`));function rT(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function iT(e,t,n,r){let i=e[0];if(i===null)return!1;if(t===`display`||t===`visibility`)return!0;let a=e[e.length-1],o=nT(i,t),s=nT(a,t);return`${t}${i}${a}${o?a:i}`,!o||!s?!1:rT(e)||(n===`spring`||Jw(n))&&r}function aT(e){e.duration=0,e.type=`keyframes`}var oT=new Set([`opacity`,`clipPath`,`filter`,`transform`]),sT=Fx(()=>Object.hasOwnProperty.call(Element.prototype,`animate`));function cT(e){let{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:s,transformTemplate:c}=t.owner.getProps();return sT()&&n&&oT.has(n)&&(n!==`transform`||!c)&&!s&&!r&&i!==`mirror`&&a!==0&&o!==`inertia`}var lT=40,uT=class extends sw{constructor({autoplay:e=!0,delay:t=0,type:n=`keyframes`,repeat:r=0,repeatDelay:i=0,repeatType:a=`loop`,keyframes:o,name:s,motionValue:c,element:l,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=CS.now();let d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:s,motionValue:c,element:l,...u};this.keyframeResolver=new(l?.KeyframeResolver||Lw)(o,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),s,c,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;let{name:i,type:a,velocity:o,delay:s,isHandoff:c,onUpdate:l}=n;this.resolvedAt=CS.now(),iT(e,i,a,o)||((jx.instantAnimations||!s)&&l?.(iw(e,n,t)),e[0]=e[e.length-1],aT(n),n.repeat=0);let u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>lT?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!c&&cT(u),f=u.motionValue?.owner?.current,p=d?new tT({...u,element:f}):new lw(u);p.finished.then(()=>{this.notifyFinished()}).catch(Ix),this.pendingTimeline&&=(this.stopTimeline=p.attachTimeline(this.pendingTimeline),void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Iw()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}};function dT(e,t,n,r=0,i=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return typeof n==`function`?n(a,o):i===1?a*r:s-a*r}var fT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pT(e){let t=fT.exec(e);if(!t)return[,];let[,n,r,i]=t;return[`--${n??r}`,i]}function mT(e,t,n=1){`${e}`;let[r,i]=pT(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let e=a.trim();return Mx(e)?parseFloat(e):e}return OS(i)?mT(i,t,n+1):i}var hT={type:`spring`,stiffness:500,damping:25,restSpeed:10},gT=e=>({type:`spring`,stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_T={type:`keyframes`,duration:.8},vT={type:`keyframes`,ease:[.25,.1,.35,1],duration:.3},yT=(e,{keyframes:t})=>t.length>2?_T:ww.has(e)?e.startsWith(`scale`)?gT(t[1]):hT:vT,bT=e=>e!==null;function xT(e,{repeat:t,repeatType:n=`loop`},r){let i=e.filter(bT),a=t&&n!==`loop`&&t%2==1?0:i.length-1;return!a||r===void 0?i[a]:r}function ST(e,t){if(e?.inherit&&t){let{inherit:n,...r}=e;return{...t,...r}}return e}function CT(e,t){let n=e?.[t]??e?.default??e;return n===e?n:ST(n,e)}function wT({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}var TT=(e,t,n,r={},i,a)=>o=>{let s=CT(r,e)||{},c=s.delay||r.delay||0,{elapsed:l=0}=r;l-=Vx(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:`easeOut`,velocity:t.getVelocity(),...s,delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};wT(s)||Object.assign(u,yT(e,u)),u.duration&&=Vx(u.duration),u.repeatDelay&&=Vx(u.repeatDelay),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(aT(u),u.delay===0&&(d=!0)),(jx.instantAnimations||jx.skipAnimations||i?.shouldSkipAnimations)&&(d=!0,aT(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!a&&t.get()!==void 0){let e=xT(u.keyframes,s);if(e!==void 0){_S.update(()=>{u.onUpdate(e),u.onComplete()});return}}return s.isSync?new lw(u):new uT(u)};function ET(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function DT(e,t,n,r){if(typeof t==`function`){let[i,a]=ET(r);t=t(n===void 0?e.custom:n,i,a)}if(typeof t==`string`&&(t=e.variants&&e.variants[t]),typeof t==`function`){let[i,a]=ET(r);t=t(n===void 0?e.custom:n,i,a)}return t}function OT(e,t,n){let r=e.getProps();return DT(r,t,n===void 0?r.custom:n,e)}var kT=new Set([`width`,`height`,`top`,`left`,`right`,`bottom`,...Cw]),AT=30,jT=e=>!isNaN(parseFloat(e)),MT={current:void 0},NT=class{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=CS.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=CS.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jT(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new Bx);let n=this.events[e].add(t);return e===`change`?()=>{n(),_S.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||=new Set,this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return MT.current&&MT.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=CS.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AT)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,AT);return Ux(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function PT(e,t){return new NT(e,t)}var FT=e=>Array.isArray(e);function IT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,PT(n))}function LT(e){return FT(e)?e[e.length-1]||0:e}function RT(e,t){let{transitionEnd:n={},transition:r={},...i}=OT(e,t)||{};for(let t in i={...i,...n},i)IT(e,t,LT(i[t]))}var zT=e=>!!(e&&e.getVelocity);function BT(e){return!!(zT(e)&&e.add)}function VT(e,t){let n=e.getValue(`willChange`);if(BT(n))return n.add(t);if(!n&&jx.WillChange){let n=new jx.WillChange(`auto`);e.addValue(`willChange`,n),n.add(t)}}function HT(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}var UT=`data-`+HT(`framerAppearId`);function WT(e){return e.props[UT]}function GT({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function KT(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a,transitionEnd:o,...s}=t,c=e.getDefaultTransition();a=a?ST(a,c):c;let l=a?.reduceMotion;r&&(a=r);let u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(let t in s){let r=e.getValue(t,e.latestValues[t]??null),i=s[t];if(i===void 0||d&&GT(d,t))continue;let o={delay:n,...CT(a||{},t)},c=r.get();if(c!==void 0&&!r.isAnimating&&!Array.isArray(i)&&i===c&&!o.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){let n=WT(e);if(n){let e=window.MotionHandoffAnimation(n,t,_S);e!==null&&(o.startTime=e,f=!0)}}VT(e,t);let p=l??e.shouldReduceMotion;r.start(TT(t,r,i,p&&kT.has(t)?{type:!1}:o,e,f));let m=r.animation;m&&u.push(m)}if(o){let t=()=>_S.update(()=>{o&&RT(e,o)});u.length?Promise.all(u).then(t):t()}return u}function qT(e,t,n={}){let r=OT(e,t,n.type===`exit`?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let a=r?()=>Promise.all(KT(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return JT(e,t,r,a,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){let[e,t]=s===`beforeChildren`?[a,o]:[o,a];return e().then(()=>t())}else return Promise.all([a(),o(n.delay)])}function JT(e,t,n=0,r=0,i=0,a=1,o){let s=[];for(let c of e.variantChildren)c.notify(`AnimationStart`,t),s.push(qT(c,t,{...o,delay:n+(typeof r==`function`?0:r)+dT(e.variantChildren,c,r,i,a)}).then(()=>c.notify(`AnimationComplete`,t)));return Promise.all(s)}function YT(e,t,n={}){e.notify(`AnimationStart`,t);let r;if(Array.isArray(t)){let i=t.map(t=>qT(e,t,n));r=Promise.all(i)}else if(typeof t==`string`)r=qT(e,t,n);else{let i=typeof t==`function`?OT(e,t,n.custom):t;r=Promise.all(KT(e,i,n))}return r.then(()=>{e.notify(`AnimationComplete`,t)})}var XT={test:e=>e===`auto`,parse:e=>e},ZT=e=>t=>t.test(e),QT=[jS,$,qS,KS,YS,JS,XT],$T=e=>QT.find(ZT(e));function eE(e){return typeof e==`number`?e===0:e===null?!0:e===`none`||e===`0`||Px(e)}var tE=new Set([`brightness`,`contrast`,`saturate`,`opacity`]);function nE(e){let[t,n]=e.slice(0,-1).split(`(`);if(t===`drop-shadow`)return e;let[r]=n.match(FS)||[];if(!r)return e;let i=n.replace(r,``),a=tE.has(t)?1:0;return r!==n&&(a*=100),t+`(`+a+i+`)`}var rE=/\b([a-z-]*)\(.*?\)/gu,iE={...fC,getAnimatableNone:e=>{let t=e.match(rE);return t?t.map(nE).join(` `):e}},aE={...jS,transform:Math.round},oE={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,inset:$,insetBlock:$,insetBlockStart:$,insetBlockEnd:$,insetInline:$,insetInlineStart:$,insetInlineEnd:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,paddingBlock:$,paddingBlockStart:$,paddingBlockEnd:$,paddingInline:$,paddingInlineStart:$,paddingInlineEnd:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,marginBlock:$,marginBlockStart:$,marginBlockEnd:$,marginInline:$,marginInlineStart:$,marginInlineEnd:$,fontSize:$,backgroundPositionX:$,backgroundPositionY:$,rotate:KS,rotateX:KS,rotateY:KS,rotateZ:KS,scale:NS,scaleX:NS,scaleY:NS,scaleZ:NS,skew:KS,skewX:KS,skewY:KS,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:MS,originX:XS,originY:XS,originZ:$,zIndex:aE,fillOpacity:MS,strokeOpacity:MS,numOctaves:aE},sE={...oE,color:QS,backgroundColor:QS,outlineColor:QS,fill:QS,stroke:QS,borderColor:QS,borderTopColor:QS,borderRightColor:QS,borderBottomColor:QS,borderLeftColor:QS,filter:iE,WebkitFilter:iE},cE=e=>sE[e];function lE(e,t){let n=cE(e);return n!==iE&&(n=fC),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var uE=new Set([`auto`,`none`,`0`]);function dE(e,t,n){let r=0,i;for(;r<e.length&&!i;){let t=e[r];typeof t==`string`&&!uE.has(t)&&sC(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=lE(n,i)}var fE=class extends Lw{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if(typeof r==`string`&&(r=r.trim(),OS(r))){let i=mT(r,t.current);i!==void 0&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!kT.has(n)||e.length!==2)return;let[r,i]=e,a=$T(r),o=$T(i);if(AS(r)!==AS(i)&&kw[n]){this.needsMeasurement=!0;return}if(a!==o)if(Tw(a)&&Tw(o))for(let t=0;t<e.length;t++){let n=e[t];typeof n==`string`&&(e[t]=parseFloat(n))}else kw[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(e[t]===null||eE(e[t]))&&n.push(t);n.length&&dE(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n===`height`&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kw[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let i=n.length-1,a=n[i];n[i]=kw[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}},pE=new Set([`opacity`,`clipPath`,`filter`,`transform`]);function mE(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e==`string`){let r=document;t&&(r=t.current);let i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(e=>e!=null)}var hE=(e,t)=>t&&typeof e==`number`?t.transform(e):e;function gE(e){return Nx(e)&&`offsetHeight`in e}var{schedule:_E,cancel:vE}=gS(queueMicrotask,!1),yE={x:!1,y:!1};function bE(){return yE.x||yE.y}function xE(e){return e===`x`||e===`y`?yE[e]?null:(yE[e]=!0,()=>{yE[e]=!1}):yE.x||yE.y?null:(yE.x=yE.y=!0,()=>{yE.x=yE.y=!1})}function SE(e,t){let n=mE(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function CE(e){return!(e.pointerType===`touch`||bE())}function wE(e,t,n={}){let[r,i,a]=SE(e,n);return r.forEach(e=>{let n=!1,r=!1,a,o=()=>{e.removeEventListener(`pointerleave`,u)},s=e=>{a&&=(a(e),void 0),o()},c=e=>{n=!1,window.removeEventListener(`pointerup`,c),window.removeEventListener(`pointercancel`,c),r&&(r=!1,s(e))},l=()=>{n=!0,window.addEventListener(`pointerup`,c,i),window.addEventListener(`pointercancel`,c,i)},u=e=>{if(e.pointerType!==`touch`){if(n){r=!0;return}s(e)}};e.addEventListener(`pointerenter`,n=>{if(!CE(n))return;r=!1;let o=t(e,n);typeof o==`function`&&(a=o,e.addEventListener(`pointerleave`,u,i))},i),e.addEventListener(`pointerdown`,l,i)}),a}var TE=(e,t)=>t?e===t?!0:TE(e,t.parentElement):!1,EE=e=>e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1,DE=new Set([`BUTTON`,`INPUT`,`SELECT`,`TEXTAREA`,`A`]);function OE(e){return DE.has(e.tagName)||e.isContentEditable===!0}var kE=new Set([`INPUT`,`SELECT`,`TEXTAREA`]);function AE(e){return kE.has(e.tagName)||e.isContentEditable===!0}var jE=new WeakSet;function ME(e){return t=>{t.key===`Enter`&&e(t)}}function NE(e,t){e.dispatchEvent(new PointerEvent(`pointer`+t,{isPrimary:!0,bubbles:!0}))}var PE=(e,t)=>{let n=e.currentTarget;if(!n)return;let r=ME(()=>{if(jE.has(n))return;NE(n,`down`);let e=ME(()=>{NE(n,`up`)});n.addEventListener(`keyup`,e,t),n.addEventListener(`blur`,()=>NE(n,`cancel`),t)});n.addEventListener(`keydown`,r,t),n.addEventListener(`blur`,()=>n.removeEventListener(`keydown`,r),t)};function FE(e){return EE(e)&&!bE()}var IE=new WeakSet;function LE(e,t,n={}){let[r,i,a]=SE(e,n),o=e=>{let r=e.currentTarget;if(!FE(e)||IE.has(e))return;jE.add(r),n.stopPropagation&&IE.add(e);let a=t(r,e),o=(e,t)=>{window.removeEventListener(`pointerup`,s),window.removeEventListener(`pointercancel`,c),jE.has(r)&&jE.delete(r),FE(e)&&typeof a==`function`&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||TE(r,e.target))},c=e=>{o(e,!1)};window.addEventListener(`pointerup`,s,i),window.addEventListener(`pointercancel`,c,i)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener(`pointerdown`,o,i),gE(e)&&(e.addEventListener(`focus`,e=>PE(e,i)),!OE(e)&&!e.hasAttribute(`tabindex`)&&(e.tabIndex=0))}),a}function RE(e){return Nx(e)&&`ownerSVGElement`in e}var zE=new WeakMap,BE,VE=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+`Size`]:RE(r)&&`getBBox`in r?r.getBBox()[t]:r[n],HE=VE(`inline`,`width`,`offsetWidth`),UE=VE(`block`,`height`,`offsetHeight`);function WE({target:e,borderBoxSize:t}){zE.get(e)?.forEach(n=>{n(e,{get width(){return HE(e,t)},get height(){return UE(e,t)}})})}function GE(e){e.forEach(WE)}function KE(){typeof ResizeObserver>`u`||(BE=new ResizeObserver(GE))}function qE(e,t){BE||KE();let n=mE(e);return n.forEach(e=>{let n=zE.get(e);n||(n=new Set,zE.set(e,n)),n.add(t),BE?.observe(e)}),()=>{n.forEach(e=>{let n=zE.get(e);n?.delete(t),n?.size||BE?.unobserve(e)})}}var JE=new Set,YE;function XE(){YE=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};JE.forEach(t=>t(e))},window.addEventListener(`resize`,YE)}function ZE(e){return JE.add(e),YE||XE(),()=>{JE.delete(e),!JE.size&&typeof YE==`function`&&(window.removeEventListener(`resize`,YE),YE=void 0)}}function QE(e,t){return typeof e==`function`?ZE(e):qE(e,t)}function $E(e){return RE(e)&&e.tagName===`svg`}var eD=[...QT,QS,fC],tD=e=>eD.find(ZT(e)),nD=()=>({translate:0,scale:1,origin:0,originPoint:0}),rD=()=>({x:nD(),y:nD()}),iD=()=>({min:0,max:0}),aD=()=>({x:iD(),y:iD()}),oD=new WeakMap;function sD(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}function cD(e){return typeof e==`string`||Array.isArray(e)}var lD=[`animate`,`whileInView`,`whileFocus`,`whileHover`,`whileTap`,`whileDrag`,`exit`],uD=[`initial`,...lD];function dD(e){return sD(e.animate)||uD.some(t=>cD(e[t]))}function fD(e){return!!(dD(e)||e.variants)}function pD(e,t,n){for(let r in t){let i=t[r],a=n[r];if(zT(i))e.addValue(r,i);else if(zT(a))e.addValue(r,PT(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){let t=e.getValue(r);t.liveStyle===!0?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,PT(t===void 0?i:t,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var mD={current:null},hD={current:!1},gD=typeof window<`u`;function _D(){if(hD.current=!0,gD)if(window.matchMedia){let e=window.matchMedia(`(prefers-reduced-motion)`),t=()=>mD.current=e.matches;e.addEventListener(`change`,t),t()}else mD.current=!1}var vD=[`AnimationStart`,`AnimationComplete`,`Update`,`BeforeLayoutMeasure`,`LayoutMeasure`,`LayoutAnimationStart`,`LayoutAnimationComplete`],yD={};function bD(e){yD=e}function xD(){return yD}var SD=class{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,skipAnimations:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Lw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(`Update`,this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=CS.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,_S.render(this.render,!1,!0))};let{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=dD(t),this.isVariantNode=fD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in d){let t=d[e];c[e]!==void 0&&zT(t)&&t.set(c[e])}}mount(e){if(this.hasBeenMounted)for(let e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=e,oD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),this.reducedMotionConfig===`never`?this.shouldReduceMotion=!1:this.reducedMotionConfig===`always`?this.shouldReduceMotion=!0:(hD.current||_D(),this.shouldReduceMotion=mD.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){for(let e in this.projection&&this.projection.unmount(),vS(this.notifyUpdate),vS(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??=new Set,this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&pE.has(e)&&this.current instanceof HTMLElement){let{factory:n,keyframes:r,times:i,ease:a,duration:o}=t.accelerate,s=new Xw({element:this.current,name:e,keyframes:r,times:i,ease:a,duration:Vx(o)}),c=n(s);this.valueSubscriptions.set(e,()=>{c(),s.cancel()});return}let n=ww.has(e);n&&this.onBindTransform&&this.onBindTransform();let r=t.on(`change`,t=>{this.latestValues[e]=t,this.props.onUpdate&&_S.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),i;typeof window<`u`&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e=`animation`;for(e in yD){let t=yD[e];if(!t)continue;let{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):aD()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<vD.length;t++){let n=vD[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e[`on`+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=pD(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=PT(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n==`string`&&(Mx(n)||Px(n))?n=parseFloat(n):!tD(n)&&fC.test(t)&&(n=lE(e,t)),this.setBaseTarget(e,zT(n)?n.get():n)),zT(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n;if(typeof t==`string`||typeof t==`object`){let r=DT(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;let r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!zT(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Bx),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){_E.render(this.render)}},CD=class extends SD{constructor(){super(...arguments),this.KeyframeResolver=fE}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){let n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;zT(e)&&(this.childSubscription=e.on(`change`,e=>{this.current&&(this.current.textContent=`${e}`)}))}},wD=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function TD({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ED({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function DD(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function OD(e){return e===void 0||e===1}function kD({scale:e,scaleX:t,scaleY:n}){return!OD(e)||!OD(t)||!OD(n)}function AD(e){return kD(e)||jD(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function jD(e){return MD(e.x)||MD(e.y)}function MD(e){return e&&e!==`0%`}function ND(e,t,n){return n+t*(e-n)}function PD(e,t,n,r,i){return i!==void 0&&(e=ND(e,i,r)),ND(e,n,r)+t}function FD(e,t=0,n=1,r,i){e.min=PD(e.min,t,n,r,i),e.max=PD(e.max,t,n,r,i)}function ID(e,{x:t,y:n}){FD(e.x,t.translate,t.scale,t.originPoint),FD(e.y,n.translate,n.scale,n.originPoint)}var LD=.999999999999,RD=1.0000000000001;function zD(e,t,n,r=!1){let i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;let{visualElement:i}=a.options;i&&i.props.style&&i.props.style.display===`contents`||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&HD(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ID(e,o)),r&&AD(a.latestValues)&&HD(e,a.latestValues))}t.x<RD&&t.x>LD&&(t.x=1),t.y<RD&&t.y>LD&&(t.y=1)}function BD(e,t){e.min+=t,e.max+=t}function VD(e,t,n,r,i=.5){FD(e,t,n,gC(e.min,e.max,i),r)}function HD(e,t){VD(e.x,t.x,t.scaleX,t.scale,t.originX),VD(e.y,t.y,t.scaleY,t.scale,t.originY)}function UD(e,t){return TD(DD(e.getBoundingClientRect(),t))}function WD(e,t,n){let r=UD(e,n),{scroll:i}=t;return i&&(BD(r.x,i.offset.x),BD(r.y,i.offset.y)),r}var GD={x:`translateX`,y:`translateY`,z:`translateZ`,transformPerspective:`perspective`},KD=Cw.length;function qD(e,t,n){let r=``,i=!0;for(let a=0;a<KD;a++){let o=Cw[a],s=e[o];if(s===void 0)continue;let c=!0;if(typeof s==`number`)c=s===(o.startsWith(`scale`)?1:0);else{let e=parseFloat(s);c=o.startsWith(`scale`)?e===1:e===0}if(!c||n){let e=hE(s,oE[o]);if(!c){i=!1;let t=GD[o]||o;r+=`${t}(${e}) `}n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?``:r):i&&(r=`none`),r}function JD(e,t,n){let{style:r,vars:i,transformOrigin:a}=e,o=!1,s=!1;for(let e in t){let n=t[e];if(ww.has(e)){o=!0;continue}else if(ES(e)){i[e]=n;continue}else{let t=hE(n,oE[e]);e.startsWith(`origin`)?(s=!0,a[e]=t):r[e]=t}}if(t.transform||(o||n?r.transform=qD(t,e.transform,n):r.transform&&=`none`),s){let{originX:e=`50%`,originY:t=`50%`,originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}function YD(e,{style:t,vars:n},r,i){let a=e.style,o;for(o in t)a[o]=t[o];for(o in i?.applyProjectionStyles(a,r),n)a.setProperty(o,n[o])}function XD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var ZD={correct:(e,t)=>{if(!t.target)return e;if(typeof e==`string`)if($.test(e))e=parseFloat(e);else return e;return`${XD(e,t.target.x)}% ${XD(e,t.target.y)}%`}},QD={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,i=fC.parse(e);if(i.length>5)return r;let a=fC.createTransformer(e),o=typeof i[0]==`number`?0:1,s=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=c;let l=gC(s,c,.5);return typeof i[2+o]==`number`&&(i[2+o]/=l),typeof i[3+o]==`number`&&(i[3+o]/=l),a(i)}},$D={borderRadius:{...ZD,applyTo:[`borderTopLeftRadius`,`borderTopRightRadius`,`borderBottomLeftRadius`,`borderBottomRightRadius`]},borderTopLeftRadius:ZD,borderTopRightRadius:ZD,borderBottomLeftRadius:ZD,borderBottomRightRadius:ZD,boxShadow:QD};function eO(e,{layout:t,layoutId:n}){return ww.has(e)||e.startsWith(`origin`)||(t||n!==void 0)&&(!!$D[e]||e===`opacity`)}function tO(e,t,n){let r=e.style,i=t?.style,a={};if(!r)return a;for(let t in r)(zT(r[t])||i&&zT(i[t])||eO(t,e)||n?.getValue(t)?.liveStyle!==void 0)&&(a[t]=r[t]);return a}function nO(e){return window.getComputedStyle(e)}var rO=class extends CD{constructor(){super(...arguments),this.type=`html`,this.renderInstance=YD}readValueFromInstance(e,t){if(ww.has(t))return this.projection?.isProjecting?yw(t):xw(e,t);{let n=nO(e),r=(ES(t)?n.getPropertyValue(t):n[t])||0;return typeof r==`string`?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return UD(e,t)}build(e,t,n){JD(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return tO(e,t,n)}},iO={offset:`stroke-dashoffset`,array:`stroke-dasharray`},aO={offset:`strokeDashoffset`,array:`strokeDasharray`};function oO(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?iO:aO;e[a.offset]=`${-r}`,e[a.array]=`${t} ${n}`}var sO=[`offsetDistance`,`offsetPath`,`offsetRotate`,`offsetAnchor`];function cO(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},c,l,u){if(JD(e,s,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??`50% 50%`,delete d.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??`fill-box`,delete d.transformBox);for(let e of sO)d[e]!==void 0&&(f[e]=d[e],delete d[e]);t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&oO(d,i,a,o,!1)}var lO=new Set([`baseFrequency`,`diffuseConstant`,`kernelMatrix`,`kernelUnitLength`,`keySplines`,`keyTimes`,`limitingConeAngle`,`markerHeight`,`markerWidth`,`numOctaves`,`targetX`,`targetY`,`surfaceScale`,`specularConstant`,`specularExponent`,`stdDeviation`,`tableValues`,`viewBox`,`gradientTransform`,`pathLength`,`startOffset`,`textLength`,`lengthAdjust`]),uO=e=>typeof e==`string`&&e.toLowerCase()===`svg`;function dO(e,t,n,r){for(let n in YD(e,t,void 0,r),t.attrs)e.setAttribute(lO.has(n)?n:HT(n),t.attrs[n])}function fO(e,t,n){let r=tO(e,t,n);for(let n in e)if(zT(e[n])||zT(t[n])){let t=Cw.indexOf(n)===-1?n:`attr`+n.charAt(0).toUpperCase()+n.substring(1);r[t]=e[n]}return r}var pO=class extends CD{constructor(){super(...arguments),this.type=`svg`,this.isSVGTag=!1,this.measureInstanceViewportBox=aD}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ww.has(t)){let e=cE(t);return e&&e.default||0}return t=lO.has(t)?t:HT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return fO(e,t,n)}build(e,t,n){cO(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){dO(e,t,n,r)}mount(e){this.isSVGTag=uO(e.tagName),super.mount(e)}},mO=uD.length;function hO(e){if(!e)return;if(!e.isControllingVariants){let t=e.parent&&hO(e.parent)||{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}let t={};for(let n=0;n<mO;n++){let r=uD[n],i=e.props[r];(cD(i)||i===!1)&&(t[r]=i)}return t}function gO(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var _O=[...lD].reverse(),vO=lD.length;function yO(e){return t=>Promise.all(t.map(({animation:t,options:n})=>YT(e,t,n)))}function bO(e){let t=yO(e),n=CO(),r=!0,i=t=>(n,r)=>{let i=OT(e,r,t===`exit`?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(n){t=n(e)}function o(a){let{props:o}=e,s=hO(e.parent)||{},c=[],l=new Set,u={},d=1/0;for(let t=0;t<vO;t++){let f=_O[t],p=n[f],m=o[f]===void 0?s[f]:o[f],h=cD(m),g=f===a?p.isActive:null;g===!1&&(d=t);let _=m===s[f]&&m!==o[f]&&h;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),p.protectedKeys={...u},!p.isActive&&g===null||!m&&!p.prevProp||sD(m)||typeof m==`boolean`)continue;if(f===`exit`&&p.isActive&&g!==!0){p.prevResolvedValues&&(u={...u,...p.prevResolvedValues});continue}let v=xO(p.prevProp,m),y=v||f===a&&p.isActive&&!_&&h||t>d&&h,b=!1,x=Array.isArray(m)?m:[m],S=x.reduce(i(f),{});g===!1&&(S={});let{prevResolvedValues:C={}}=p,w={...C,...S},T=t=>{y=!0,l.has(t)&&(b=!0,l.delete(t)),p.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in w){let t=S[e],n=C[e];if(u.hasOwnProperty(e))continue;let r=!1;r=FT(t)&&FT(n)?!gO(t,n):t!==n,r?t==null?l.add(e):T(e):t!==void 0&&l.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(y=!1);let ee=_&&v;y&&(!ee||b)&&c.push(...x.map(t=>{let n={type:f};if(typeof t==`string`&&r&&!ee&&e.manuallyAnimateOnMount&&e.parent){let{parent:r}=e,i=OT(r,t);if(r.enteringChildren&&i){let{delayChildren:t}=i.transition||{};n.delay=dT(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(l.size){let t={};if(typeof o.initial!=`boolean`){let n=OT(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}l.forEach(n=>{let r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),c.push({animation:t})}let f=!!c.length;return r&&(o.initial===!1||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(c):Promise.resolve()}function s(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;let i=o(t);for(let e in n)n[e].protectedKeys={};return i}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=CO()}}}function xO(e,t){return typeof t==`string`?t!==e:Array.isArray(t)?!gO(t,e):!1}function SO(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CO(){return{animate:SO(!0),whileInView:SO(),whileHover:SO(),whileTap:SO(),whileDrag:SO(),whileFocus:SO(),exit:SO()}}function wO(e,t){e.min=t.min,e.max=t.max}function TO(e,t){wO(e.x,t.x),wO(e.y,t.y)}function EO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}var DO=1e-4,OO=1-DO,kO=1+DO,AO=.01,jO=0-AO,MO=0+AO;function NO(e){return e.max-e.min}function PO(e,t,n){return Math.abs(e-t)<=n}function FO(e,t,n,r=.5){e.origin=r,e.originPoint=gC(t.min,t.max,e.origin),e.scale=NO(n)/NO(t),e.translate=gC(n.min,n.max,e.origin)-e.originPoint,(e.scale>=OO&&e.scale<=kO||isNaN(e.scale))&&(e.scale=1),(e.translate>=jO&&e.translate<=MO||isNaN(e.translate))&&(e.translate=0)}function IO(e,t,n,r){FO(e.x,t.x,n.x,r?r.originX:void 0),FO(e.y,t.y,n.y,r?r.originY:void 0)}function LO(e,t,n){e.min=n.min+t.min,e.max=e.min+NO(t)}function RO(e,t,n){LO(e.x,t.x,n.x),LO(e.y,t.y,n.y)}function zO(e,t,n){e.min=t.min-n.min,e.max=e.min+NO(t)}function BO(e,t,n){zO(e.x,t.x,n.x),zO(e.y,t.y,n.y)}function VO(e,t,n,r,i){return e-=t,e=ND(e,1/n,r),i!==void 0&&(e=ND(e,1/i,r)),e}function HO(e,t=0,n=1,r=.5,i,a=e,o=e){if(qS.test(t)&&(t=parseFloat(t),t=gC(o.min,o.max,t/100)-o.min),typeof t!=`number`)return;let s=gC(a.min,a.max,r);e===a&&(s-=t),e.min=VO(e.min,t,n,s,i),e.max=VO(e.max,t,n,s,i)}function UO(e,t,[n,r,i],a,o){HO(e,t[n],t[r],t[i],t.scale,a,o)}var WO=[`x`,`scaleX`,`originX`],GO=[`y`,`scaleY`,`originY`];function KO(e,t,n,r){UO(e.x,t,WO,n?n.x:void 0,r?r.x:void 0),UO(e.y,t,GO,n?n.y:void 0,r?r.y:void 0)}function qO(e){return e.translate===0&&e.scale===1}function JO(e){return qO(e.x)&&qO(e.y)}function YO(e,t){return e.min===t.min&&e.max===t.max}function XO(e,t){return YO(e.x,t.x)&&YO(e.y,t.y)}function ZO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function QO(e,t){return ZO(e.x,t.x)&&ZO(e.y,t.y)}function $O(e){return NO(e.x)/NO(e.y)}function ek(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function tk(e){return[e(`x`),e(`y`)]}function nk(e,t,n){let r=``,i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}let s=e.x.scale*t.x,c=e.y.scale*t.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||`none`}var rk=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`],ik=rk.length,ak=e=>typeof e==`string`?parseFloat(e):e,ok=e=>typeof e==`number`||$.test(e);function sk(e,t,n,r,i,a){i?(e.opacity=gC(0,n.opacity??1,lk(r)),e.opacityExit=gC(t.opacity??1,0,uk(r))):a&&(e.opacity=gC(t.opacity??1,n.opacity??1,r));for(let i=0;i<ik;i++){let a=`border${rk[i]}Radius`,o=ck(t,a),s=ck(n,a);o===void 0&&s===void 0||(o||=0,s||=0,o===0||s===0||ok(o)===ok(s)?(e[a]=Math.max(gC(ak(o),ak(s),r),0),(qS.test(s)||qS.test(o))&&(e[a]+=`%`)):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=gC(t.rotate||0,n.rotate||0,r))}function ck(e,t){return e[t]===void 0?e.borderRadius:e[t]}var lk=dk(0,.5,nS),uk=dk(.5,.95,Ix);function dk(e,t,n){return r=>r<e?0:r>t?1:n(zx(e,t,r))}function fk(e,t,n){let r=zT(e)?e:PT(e);return r.start(TT(``,r,t,n)),r.animation}function pk(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}var mk=(e,t)=>e.depth-t.depth,hk=class{constructor(){this.children=[],this.isDirty=!1}add(e){Ox(this.children,e),this.isDirty=!0}remove(e){kx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mk),this.isDirty=!1,this.children.forEach(e)}};function gk(e,t){let n=CS.now(),r=({timestamp:i})=>{let a=i-n;a>=t&&(vS(r),e(a-t))};return _S.setup(r,!0),()=>vS(r)}function _k(e){return zT(e)?e.get():e}var vk=class{constructor(){this.members=[]}add(e){Ox(this.members,e);for(let t=this.members.length-1;t>=0;t--){let n=this.members[t];if(n===e||n===this.lead||n===this.prevLead)continue;let r=n.instance;r&&r.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&kx(this.members,n)}e.scheduleRender()}remove(e){if(kx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t=this.members.findIndex(t=>e===t);if(t===0)return!1;let n;for(let e=t;e>=0;e--){let t=this.members[e],r=t.instance;if(t.isPresent!==!1&&(!r||r.isConnected!==!1)){n=t;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();let r=n.options.layoutDependency,i=e.options.layoutDependency;if(!(r!==void 0&&i!==void 0&&r===i)){let r=n.instance;r&&r.isConnected===!1&&!n.snapshot||(e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}let{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}},yk={hasAnimatedSinceResize:!0,hasEverUpdated:!1},bk={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},xk=[``,`X`,`Y`,`Z`],Sk=1e3,Ck=0;function wk(e,t,n,r){let{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Tk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=WT(t);if(window.MotionHasOptimisedAnimation(n,`transform`)){let{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,`transform`,_S,!(t||r))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Tk(r)}function Ek({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=Ck++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pS.value&&(bk.nodes=bk.calculatedTargetDeltas=bk.calculatedProjections=0),this.nodes.forEach(kk),this.nodes.forEach(Ik),this.nodes.forEach(Lk),this.nodes.forEach(Ak),pS.addProjectionMetrics&&pS.addProjectionMetrics(bk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new hk)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Bx),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=RE(t)&&!$E(t),this.instance=t;let{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0,i=()=>this.root.updateBlockedByResize=!1;_S.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=gk(i,250),yk.hasAnimatedSinceResize&&(yk.hasAnimatedSinceResize=!1,this.nodes.forEach(Fk)))})}n&&this.root.registerSharedNode(n,this),this.options.animate!==!1&&i&&(n||r)&&this.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||i.getDefaultTransition()||Wk,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=i.getProps(),c=!this.targetLayout||!QO(this.targetLayout,r),l=!t&&n;if(this.options.layoutRoot||this.resumeFrom||l||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...CT(a,`layout`),onPlay:o,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,l)}else t||Fk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vS(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rk),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll(`snapshot`),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(t===void 0&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,``):void 0,this.updateSnapshot(),e&&this.notifyListeners(`willUpdate`)}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Nk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pk),this.nodes.forEach(Dk),this.nodes.forEach(Ok)):this.nodes.forEach(Nk),this.clearAllSnapshots();let e=CS.now();yS.delta=Ax(0,1e3/60,e-yS.timestamp),yS.timestamp=e,yS.isProcessing=!0,bS.update.process(yS),bS.preRender.process(yS),bS.render.process(yS),yS.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_E.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jk),this.sharedNodes.forEach(zk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_S.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_S.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!NO(this.snapshot.measuredBox.x)&&!NO(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=aD(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(`measure`,this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify(`LayoutMeasure`,this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e=`measure`){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!JO(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,``):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||AD(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),Jk(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return aD();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Xk))){let{scroll:e}=this.root;e&&(BD(t.x,e.offset.x),BD(t.y,e.offset.y))}return t}removeElementScroll(e){let t=aD();if(TO(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&TO(t,e),BD(t.x,i.offset.x),BD(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let n=aD();TO(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&HD(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),AD(r.latestValues)&&HD(n,r.latestValues)}return AD(this.latestValues)&&HD(n,this.latestValues),n}removeTransform(e){let t=aD();TO(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!AD(n.latestValues))continue;kD(n.latestValues)&&n.updateSnapshot();let r=aD();TO(r,n.measurePageBox()),KO(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return AD(this.latestValues)&&KO(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:e.crossfade===void 0?!0:e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yS.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||=t.isProjectionDirty,this.isTransformDirty||=t.isTransformDirty,this.isSharedProjectionDirty||=t.isSharedProjectionDirty;let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:i}=this.options;if(!this.layout||!(r||i))return;this.resolvedRelativeTargetAt=yS.timestamp;let a=this.getClosestProjectingParent();a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=aD(),this.targetWithTransforms=aD()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):TO(this.target,this.layout.layoutBox),ID(this.target,this.targetDelta)):TO(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&this.animationProgress!==1?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0),pS.value&&bk.calculatedTargetDeltas++)}getClosestProjectingParent(){if(!(!this.parent||kD(this.parent.latestValues)||jD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=aD(),this.relativeTargetOrigin=aD(),BO(this.relativeTargetOrigin,t,n),TO(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===yS.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;TO(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;zD(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=aD());let{target:s}=e;if(!s){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EO(this.prevProjectionDelta.x,this.projectionDelta.x),EO(this.prevProjectionDelta.y,this.projectionDelta.y)),IO(this.projectionDelta,this.layoutCorrected,s,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==o||!ek(this.projectionDelta.x,this.prevProjectionDelta.x)||!ek(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(`projectionUpdate`,s)),pS.value&&bk.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rD(),this.projectionDelta=rD(),this.projectionDeltaWithTransform=rD()}setAnimationOrigin(e,t=!1){let n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a=rD();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=aD(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=!!(s&&!l&&this.options.crossfade===!0&&!this.path.some(Uk));this.animationProgress=0;let d;this.mixTargetDelta=t=>{let n=t/1e3;Bk(a.x,e.x,n),Bk(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(BO(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hk(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&XO(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||=aD(),TO(d,this.relativeTarget)),s&&(this.animationValues=i,sk(i,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners(`animationStart`),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&=(vS(this.pendingAnimation),void 0),this.pendingAnimation=_S.update(()=>{yk.hasAnimatedSinceResize=!0,wS.layout++,this.motionValue||=PT(0),this.currentAnimation=fk(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{wS.layout--},onComplete:()=>{wS.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(`animationComplete`)}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(!(!t||!n||!r)){if(this!==e&&this.layout&&r&&Yk(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||aD();let t=NO(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=NO(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}TO(t,n),HD(t,i),IO(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new vk),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return e?e.lead===this:!0}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return e?e.relegate(this):!1}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let r={};n.z&&wk(`z`,e,r,this.animationValues);for(let t=0;t<xk.length;t++)wk(`rotate${xk[t]}`,e,r,this.animationValues),wk(`skew${xk[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility=`hidden`;return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility=``,e.opacity=``,e.pointerEvents=_k(t?.pointerEvents)||``,e.transform=n?n(this.latestValues,``):`none`;return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=this.latestValues.opacity===void 0?1:this.latestValues.opacity,e.pointerEvents=_k(t?.pointerEvents)||``),this.hasProjected&&!AD(this.latestValues)&&(e.transform=n?n({},``):`none`,this.hasProjected=!1);return}e.visibility=``;let i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=nk(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;let{x:o,y:s}=this.projectionDelta;for(let t in e.transformOrigin=`${o.origin*100}% ${s.origin*100}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?i.opacity===void 0?``:i.opacity:i.opacityExit===void 0?0:i.opacityExit,$D){if(i[t]===void 0)continue;let{correct:n,applyTo:o,isCSSVariable:s}=$D[t],c=a===`none`?i[t]:n(i[t],r);if(o){let t=o.length;for(let n=0;n<t;n++)e[o[n]]=c}else s?this.options.visualElement.renderState.vars[t]=c:e[t]=c}this.options.layoutId&&(e.pointerEvents=r===this?_k(t?.pointerEvents)||``:`none`)}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Mk),this.root.sharedNodes.clear()}}}function Dk(e){e.updateLayout()}function Ok(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners(`didUpdate`)){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i===`size`?tk(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=NO(r);r.min=n[e].min,r.max=r.min+i}):Yk(i,t.layoutBox,n)&&tk(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],o=NO(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});let o=rD();IO(o,n,t.layoutBox);let s=rD();a?IO(s,e.applyTransform(r,!0),t.measuredBox):IO(s,n,t.layoutBox);let c=!JO(o),l=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let o=aD();BO(o,t.layoutBox,i.layoutBox);let s=aD();BO(s,n,a.layoutBox),QO(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners(`didUpdate`,{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:l})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function kk(e){pS.value&&bk.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty),e.isTransformDirty||=e.parent.isTransformDirty)}function Ak(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jk(e){e.clearSnapshot()}function Mk(e){e.clearMeasurements()}function Nk(e){e.isLayoutDirty=!1}function Pk(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(`BeforeLayoutMeasure`),e.resetTransform()}function Fk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ik(e){e.resolveTargetDelta()}function Lk(e){e.calcProjection()}function Rk(e){e.resetSkewAndRotation()}function zk(e){e.removeLeadSnapshot()}function Bk(e,t,n){e.translate=gC(t.translate,0,n),e.scale=gC(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vk(e,t,n,r){e.min=gC(t.min,n.min,r),e.max=gC(t.max,n.max,r)}function Hk(e,t,n,r){Vk(e.x,t.x,n.x,r),Vk(e.y,t.y,n.y,r)}function Uk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var Wk={duration:.45,ease:[.4,0,.1,1]},Gk=e=>typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Kk=Gk(`applewebkit/`)&&!Gk(`chrome/`)?Math.round:Ix;function qk(e){e.min=Kk(e.min),e.max=Kk(e.max)}function Jk(e){qk(e.x),qk(e.y)}function Yk(e,t,n){return e===`position`||e===`preserve-aspect`&&!PO($O(t),$O(n),.2)}function Xk(e){return e!==e.root&&e.scroll?.wasRoot}var Zk=Ek({attachResizeListener:(e,t)=>pk(e,`resize`,t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Qk={current:void 0},$k=Ek({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qk.current){let e=new Zk({});e.mount(window),e.setOptions({layoutScroll:!0}),Qk.current=e}return Qk.current},resetTransform:(e,t)=>{e.style.transform=t===void 0?`none`:t},checkIsScrollRoot:e=>window.getComputedStyle(e).position===`fixed`}),eA=(0,b.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`});function tA(e=!0){let t=(0,b.useContext)(Dx);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,b.useId)();(0,b.useEffect)(()=>{if(e)return i(a)},[e]);let o=(0,b.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}var nA=(0,b.createContext)({strict:!1}),rA={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},iA=!1;function aA(){if(iA)return;let e={};for(let t in rA)e[t]={isEnabled:e=>rA[t].some(t=>!!e[t])};bD(e),iA=!0}function oA(){return aA(),xD()}function sA(e){let t=oA();for(let n in e)t[n]={...t[n],...e[n]};bD(t)}var cA=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.propagate.ignoreStrict.viewport`.split(`.`));function lA(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||cA.has(e)}var uA=c({default:()=>dA}),dA,fA=o((()=>{throw dA={},Error(`Could not resolve "@emotion/is-prop-valid" imported by "framer-motion". Is it installed?`)})),pA=e=>!lA(e);function mA(e){typeof e==`function`&&(pA=t=>t.startsWith(`on`)?!lA(t):e(t))}try{mA((fA(),d(uA)).default)}catch{}function hA(e,t,n){let r={};for(let i in e)i===`values`&&typeof e.values==`object`||(pA(i)||n===!0&&lA(i)||!t&&!lA(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i]);return r}var gA=(0,b.createContext)({});function _A(e,t){if(dD(e)){let{initial:t,animate:n}=e;return{initial:t===!1||cD(t)?t:void 0,animate:cD(n)?n:void 0}}return e.inherit===!1?{}:t}function vA(e){let{initial:t,animate:n}=_A(e,(0,b.useContext)(gA));return(0,b.useMemo)(()=>({initial:t,animate:n}),[yA(t),yA(n)])}function yA(e){return Array.isArray(e)?e.join(` `):e}var bA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xA(e,t,n){for(let r in t)!zT(t[r])&&!eO(r,n)&&(e[r]=t[r])}function SA({transformTemplate:e},t){return(0,b.useMemo)(()=>{let n=bA();return JD(n,t,e),Object.assign({},n.vars,n.style)},[t])}function CA(e,t){let n=e.style||{},r={};return xA(r,n,e),Object.assign(r,SA(e,t)),r}function wA(e,t){let n={},r=CA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=`none`,r.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var TA=()=>({...bA(),attrs:{}});function EA(e,t,n,r){let i=(0,b.useMemo)(()=>{let n=TA();return cO(n,t,uO(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};xA(t,e.style,e),i.style={...t,...i.style}}return i}var DA=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function OA(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(DA.indexOf(e)>-1||/[A-Z]/u.test(e))}function kA(e,t,n,{latestValues:r},i,a=!1,o){let s=(o??OA(e)?EA:wA)(t,r,i,e),c=hA(t,typeof e==`string`,a),l=e===b.Fragment?{}:{...c,...s,ref:n},{children:u}=t,d=(0,b.useMemo)(()=>zT(u)?u.get():u,[u]);return(0,b.createElement)(e,{...l,children:d})}function AA({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:jA(n,r,i,e),renderState:t()}}function jA(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=_k(a[e]);let{initial:o,animate:s}=e,c=dD(e),l=fD(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u||=o===!1;let d=u?s:o;if(d&&typeof d!=`boolean`&&!sD(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let r=DT(e,t[n]);if(r){let{transitionEnd:e,transition:t,...n}=r;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}var MA=e=>(t,n)=>{let r=(0,b.useContext)(gA),i=(0,b.useContext)(Dx),a=()=>AA(e,t,r,i);return n?a():wx(a)},NA=MA({scrapeMotionValuesFromProps:tO,createRenderState:bA}),PA=MA({scrapeMotionValuesFromProps:fO,createRenderState:TA}),FA=Symbol.for(`motionComponentSymbol`);function IA(e,t,n){let r=(0,b.useRef)(n);(0,b.useInsertionEffect)(()=>{r.current=n});let i=(0,b.useRef)(null);return(0,b.useCallback)(n=>{n&&e.onMount?.(n),t&&(n?t.mount(n):t.unmount());let a=r.current;if(typeof a==`function`)if(n){let e=a(n);typeof e==`function`&&(i.current=e)}else i.current?(i.current(),i.current=null):a(n);else a&&(a.current=n)},[t])}var LA=(0,b.createContext)({});function RA(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function zA(e,t,n,r,i,a){let{visualElement:o}=(0,b.useContext)(gA),s=(0,b.useContext)(nA),c=(0,b.useContext)(Dx),l=(0,b.useContext)(eA),u=l.reducedMotion,d=l.skipAnimations,f=(0,b.useRef)(null),p=(0,b.useRef)(!1);r||=s.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,skipAnimations:d,isSVG:a}),p.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));let m=f.current,h=(0,b.useContext)(LA);m&&!m.projection&&i&&(m.type===`html`||m.type===`svg`)&&BA(f.current,n,i,h);let g=(0,b.useRef)(!1);(0,b.useInsertionEffect)(()=>{m&&g.current&&m.update(n,c)});let _=n[UT],v=(0,b.useRef)(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return Ex(()=>{p.current=!0,m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),v.current&&m.animationState&&m.animationState.animateChanges())}),(0,b.useEffect)(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&=(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),!1),m.enteringChildren=void 0)}),m}function BA(e,t,n,r){let{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t[`data-framer-portal-id`]?void 0:VA(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&RA(s),visualElement:e,animationType:typeof a==`string`?a:`both`,initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function VA(e){if(e)return e.options.allowProjection===!1?VA(e.parent):e.projection}function HA(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&sA(r);let a=n?n===`svg`:OA(e),o=a?PA:NA;function s(n,s){let c,l={...(0,b.useContext)(eA),...n,layoutId:UA(n)},{isStatic:u}=l,d=vA(n),f=o(n,u);if(!u&&Tx){WA(l,r);let t=GA(l);c=t.MeasureLayout,d.visualElement=zA(e,f,l,i,t.ProjectionNode,a)}return(0,U.jsxs)(gA.Provider,{value:d,children:[c&&d.visualElement?(0,U.jsx)(c,{visualElement:d.visualElement,...l}):null,kA(e,n,IA(f,d.visualElement,s),f,u,t,a)]})}s.displayName=`motion.${typeof e==`string`?e:`create(${e.displayName??e.name??``})`}`;let c=(0,b.forwardRef)(s);return c[FA]=e,c}function UA({layoutId:e}){let t=(0,b.useContext)(Cx).id;return t&&e!==void 0?t+`-`+e:e}function WA(e,t){(0,b.useContext)(nA).strict}function GA(e){let{drag:t,layout:n}=oA();if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function KA(e,t){if(typeof Proxy>`u`)return HA;let n=new Map,r=(n,r)=>HA(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>a===`create`?r:(n.has(a)||n.set(a,HA(a,void 0,e,t)),n.get(a))})}var qA=(e,t)=>t.isSVG??OA(e)?new pO(t):new rO(t,{allowProjection:e!==b.Fragment}),JA=class extends wD{constructor(e){super(e),e.animationState||=bO(e)}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();sD(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}},YA=0,XA={animation:{Feature:JA},exit:{Feature:class extends wD{constructor(){super(...arguments),this.id=YA++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive(`exit`,!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function ZA(e){return{point:{x:e.pageX,y:e.pageY}}}var QA=e=>t=>EE(t)&&e(t,ZA(t));function $A(e,t,n,r){return pk(e,t,QA(n),r)}var ej=({current:e})=>e?e.ownerDocument.defaultView:null,tj=(e,t)=>Math.abs(e-t);function nj(e,t){let n=tj(e.x,t.x),r=tj(e.y,t.y);return Math.sqrt(n**2+r**2)}var rj=new Set([`auto`,`scroll`]),ij=class{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=sj(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=nj(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=yS;this.history.push({...r,timestamp:i});let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=aj(t,this.transformPagePoint),_S.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=sj(e.type===`pointercancel`?this.lastMoveEventInfo:aj(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!EE(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;let s=aj(ZA(e),this.transformPagePoint),{point:c}=s,{timestamp:l}=yS;this.history=[{...c,timestamp:l}];let{onSessionStart:u}=t;u&&u(e,sj(s,this.history)),this.removeListeners=Rx($A(this.contextWindow,`pointermove`,this.handlePointerMove),$A(this.contextWindow,`pointerup`,this.handlePointerUp),$A(this.contextWindow,`pointercancel`,this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(rj.has(e.overflowX)||rj.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener(`scroll`,this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener(`scroll`,this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener(`scroll`,this.onElementScroll,{capture:!0}),window.removeEventListener(`scroll`,this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:r.x-t.x,y:r.y-t.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,r),_S.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),vS(this.updatePoint)}};function aj(e,t){return t?{point:t(e.point)}:e}function oj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sj({point:e},t){return{point:e,delta:oj(e,lj(t)),offset:oj(e,cj(t)),velocity:uj(t,.1)}}function cj(e){return e[0]}function lj(e){return e[e.length-1]}function uj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=lj(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Vx(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&i.timestamp-r.timestamp>Vx(t)*2&&(r=e[1]);let a=Hx(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?gC(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?gC(n,e,r.max):Math.min(e,n)),e}function fj(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function pj(e,{top:t,left:n,bottom:r,right:i}){return{x:fj(e.x,n,i),y:fj(e.y,t,r)}}function mj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function hj(e,t){return{x:mj(e.x,t.x),y:mj(e.y,t.y)}}function gj(e,t){let n=.5,r=NO(e),i=NO(t);return i>r?n=zx(t.min,t.max-r,e.min):r>i&&(n=zx(e.min,e.max-i,t.min)),Ax(0,1,n)}function _j(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var vj=.35;function yj(e=vj){return e===!1?e=0:e===!0&&(e=vj),{x:bj(e,`left`,`right`),y:bj(e,`top`,`bottom`)}}function bj(e,t,n){return{min:xj(e,t),max:xj(e,n)}}function xj(e,t){return typeof e==`number`?e:e[t]||0}var Sj=new WeakMap,Cj=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=aD(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let i=e=>{t&&this.snapToCursor(ZA(e).point),this.stopAnimation()},a=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xE(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tk(e=>{let t=this.getAxisMotionValue(e).get()||0;if(qS.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=NO(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&_S.update(()=>i(e,t),!1,!0),VT(this.visualElement,`transform`);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=Dj(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&_S.update(()=>a(e,t),!1,!0)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{let{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:l}=this.getProps();this.panSession=new ij(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:n,contextWindow:ej(this.visualElement),element:this.visualElement.current})}stop(e,t){let n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;let{velocity:a}=r;this.startAnimation(a);let{onDragEnd:o}=this.getProps();o&&_S.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive(`whileDrag`,!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!Ej(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=dj(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&RA(e)?this.constraints||=this.resolveRefConstraints():e&&n?this.constraints=pj(n.layoutBox,e):this.constraints=!1,this.elastic=yj(t),r!==this.constraints&&!RA(e)&&n&&this.constraints&&!this.hasMutatedConstraints&&tk(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=_j(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!RA(e))return!1;let n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=WD(n,r.root,this.visualElement.getTransformPagePoint()),a=hj(r.layout.layoutBox,i);if(t){let e=t(ED(a));this.hasMutatedConstraints=!!e,e&&(a=TD(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=tk(o=>{if(!Ej(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d={type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return VT(this.visualElement,e),n.start(TT(e,n,0,t,this.visualElement,!1))}stopAnimation(){tk(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){tk(t=>{let{drag:n}=this.getProps();if(!Ej(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t],o=i.get()||0;i.set(e[t]-gC(n,a,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!RA(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};tk(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=gj({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),tk(t=>{if(!Ej(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(gC(i,a,r[t]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Sj.set(this.visualElement,this);let e=this.visualElement.current,t=$A(e,`pointerdown`,t=>{let{drag:n,dragListener:r=!0}=this.getProps(),i=t.target,a=i!==e&&AE(i);n&&r&&!a&&this.start(t)}),n,r=()=>{let{dragConstraints:t}=this.getProps();RA(t)&&t.current&&(this.constraints=this.resolveRefConstraints(),n||=Tj(e,t.current,()=>this.scalePositionWithinConstraints()))},{projection:i}=this.visualElement,a=i.addEventListener(`measure`,r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),_S.read(r);let o=pk(window,`resize`,()=>this.scalePositionWithinConstraints()),s=i.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(tk(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{o(),t(),a(),s&&s(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=vj,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function wj(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function Tj(e,t,n){let r=QE(e,wj(n)),i=QE(t,wj(n));return()=>{r(),i()}}function Ej(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Dj(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var Oj=class extends wD{constructor(e){super(e),this.removeGroupControls=Ix,this.removeListeners=Ix,this.controls=new Cj(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ix}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},kj=e=>(t,n)=>{e&&_S.update(()=>e(t,n),!1,!0)},Aj=class extends wD{constructor(){super(...arguments),this.removePointerDownListener=Ix}onPointerDown(e){this.session=new ij(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ej(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:kj(e),onStart:kj(t),onMove:kj(n),onEnd:(e,t)=>{delete this.session,r&&_S.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=$A(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},jj=!1,Mj=class extends b.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),jj&&i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),yk.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,e.layoutDependency!==t&&a.setOptions({...a.options,layoutDependency:t}),jj=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||_S.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_E.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;jj=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function Nj(e){let[t,n]=tA(),r=(0,b.useContext)(Cx);return(0,U.jsx)(Mj,{...e,layoutGroup:r,switchLayoutGroup:(0,b.useContext)(LA),isPresent:t,safeToRemove:n})}var Pj={pan:{Feature:Aj},drag:{Feature:Oj,ProjectionNode:$k,MeasureLayout:Nj}};function Fj(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(`whileHover`,n===`Start`);let i=r[`onHover`+n];i&&_S.postRender(()=>i(t,ZA(t)))}var Ij=class extends wD{mount(){let{current:e}=this.node;e&&(this.unmount=wE(e,(e,t)=>(Fj(this.node,t,`Start`),e=>Fj(this.node,e,`End`))))}unmount(){}},Lj=class extends wD{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=Rx(pk(this.node.current,`focus`,()=>this.onFocus()),pk(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}};function Rj(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive(`whileTap`,n===`Start`);let i=r[`onTap`+(n===`End`?``:n)];i&&_S.postRender(()=>i(t,ZA(t)))}var zj=class extends wD{mount(){let{current:e}=this.node;if(!e)return;let{globalTapTarget:t,propagate:n}=this.node.props;this.unmount=LE(e,(e,t)=>(Rj(this.node,t,`Start`),(e,{success:t})=>Rj(this.node,e,t?`End`:`Cancel`)),{useGlobalTarget:t,stopPropagation:n?.tap===!1})}unmount(){}},Bj=new WeakMap,Vj=new WeakMap,Hj=e=>{let t=Bj.get(e.target);t&&t(e)},Uj=e=>{e.forEach(Hj)};function Wj({root:e,...t}){let n=e||document;Vj.has(n)||Vj.set(n,{});let r=Vj.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Uj,{root:e,...t})),r[i]}function Gj(e,t,n){let r=Wj(t);return Bj.set(e,n),r.observe(e),()=>{Bj.delete(e),r.unobserve(e)}}var Kj={some:0,all:1},qj=class extends wD{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:Kj[r]};return Gj(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(Jj(e,t))&&this.startObserver()}unmount(){}};function Jj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var Yj={inView:{Feature:qj},tap:{Feature:zj},focus:{Feature:Lj},hover:{Feature:Ij}},Xj={layout:{ProjectionNode:$k,MeasureLayout:Nj}},Zj=KA({...XA,...Yj,...Pj,...Xj},qA),Qj=({text:e,className:t})=>{let n=(0,b.useMemo)(()=>e.split(``).map((e,t)=>({char:e,id:t,x:[(Math.random()-.5)*60,(Math.random()-.5)*30,0],y:[(Math.random()-.5)*60,(Math.random()-.5)*30,0],rotate:[(Math.random()-.5)*45,(Math.random()-.5)*20,0]})),[e]);return(0,U.jsx)(`div`,{className:`flex justify-center flex-wrap ${t}`,children:n.map((e,t)=>(0,U.jsx)(Zj.span,{initial:{opacity:1,filter:`blur(0px)`,x:0,y:0},animate:{opacity:[1,.3,.8,1],filter:[`blur(0px)`,`blur(4px)`,`blur(2px)`,`blur(0px)`],x:[0,...e.x],y:[0,...e.y],rotate:[0,...e.rotate],scale:[1,1.5,.8,1]},transition:{duration:6,ease:`easeInOut`,repeat:1/0,repeatDelay:10,delay:t*.08,times:[0,.4,.7,1]},className:`inline-block whitespace-pre origin-center`,children:e.char},e.id))})},$j=()=>{let e=et(),[t,n]=(0,b.useState)(null),r=(0,b.useRef)(null);return(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`);e&&n(JSON.parse(e))},[]),(0,U.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800 relative overflow-hidden`,children:[(0,U.jsx)(hc,{}),(0,U.jsx)(`header`,{className:`px-6 py-4 flex justify-end items-center bg-transparent relative z-10 pt-8`}),(0,U.jsxs)(`main`,{className:`flex-1 overflow-y-auto px-4 pb-8 relative z-10`,children:[(0,U.jsxs)(`div`,{className:`flex flex-col items-center mb-8`,children:[(0,U.jsxs)(`div`,{className:`relative group cursor-pointer`,children:[(0,U.jsx)(`input`,{type:`file`,ref:r,className:`hidden`,accept:`image/*`,onChange:e=>{if(e.target.files&&e.target.files[0]&&t){let r=e.target.files[0],i=URL.createObjectURL(r),a={...t,avatar:i};n(a),localStorage.setItem(`museum_user`,JSON.stringify(a))}}}),(0,U.jsxs)(`div`,{onClick:()=>r.current?.click(),className:`w-24 h-24 rounded-full bg-stone-200 border-4 border-white shadow-md mb-3 relative overflow-hidden transition-transform active:scale-95`,children:[t?(0,U.jsx)(`img`,{src:t.avatar,alt:`Avatar`,className:`w-full h-full object-cover`}):(0,U.jsx)(`img`,{src:qg,alt:`Guest Avatar`,className:`w-full h-full object-cover`}),t&&(0,U.jsx)(`div`,{className:`absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity`,children:(0,U.jsx)(Jn,{size:24,className:`text-white`})})]}),t&&(0,U.jsx)(`div`,{className:`absolute bottom-3 right-0 bg-amber-500 text-white p-1 rounded-full border-2 border-white pointer-events-none`,children:(0,U.jsx)(Gn,{size:12})})]}),t?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(`h2`,{className:`text-xl font-bold font-serif text-stone-900`,children:t.name}),(0,U.jsx)(`p`,{className:`text-stone-500 text-sm mt-1`,children:t.email}),(0,U.jsxs)(`div`,{className:`flex space-x-6 mt-4`,children:[(0,U.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,U.jsx)(`span`,{className:`font-bold text-lg text-stone-900`,children:`12`}),(0,U.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]}),(0,U.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,U.jsx)(`span`,{className:`font-bold text-lg text-stone-900`,children:`5`}),(0,U.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]}),(0,U.jsxs)(`div`,{className:`flex flex-col items-center`,children:[(0,U.jsx)(`span`,{className:`font-bold text-lg text-stone-900`,children:`128`}),(0,U.jsx)(`span`,{className:`text-xs text-stone-500`,children:``})]})]})]}):(0,U.jsxs)(`div`,{className:`text-center`,children:[(0,U.jsx)(`h2`,{className:`text-xl font-bold font-serif text-stone-900 mb-2`,children:``}),(0,U.jsx)(Qj,{text:`Your pocket odyssey`,className:`text-xs text-stone-500 mb-4 font-serif italic`}),(0,U.jsx)(`button`,{onClick:()=>e(`/auth`),className:`px-8 py-2 bg-stone-900 text-white rounded-full text-sm font-medium shadow-lg hover:bg-stone-800 transition-colors`,children:` / `})]})]}),(0,U.jsxs)(`div`,{className:`space-y-4`,children:[(0,U.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden`,children:[(0,U.jsxs)(`button`,{onClick:()=>e(`/profile/journals`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors border-b border-stone-50`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,U.jsx)(`div`,{className:`p-2 bg-blue-50 text-blue-600 rounded-lg`,children:(0,U.jsx)(Kn,{size:18})}),(0,U.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,U.jsx)(Xn,{size:16,className:`text-stone-400`})]}),(0,U.jsxs)(`button`,{onClick:()=>e(`/profile/plans`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors border-b border-stone-50`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,U.jsx)(`div`,{className:`p-2 bg-purple-50 text-purple-600 rounded-lg`,children:(0,U.jsx)(hr,{size:18})}),(0,U.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,U.jsx)(Xn,{size:16,className:`text-stone-400`})]}),(0,U.jsxs)(`button`,{onClick:()=>e(`/profile/favorites`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors border-b border-stone-50`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,U.jsx)(`div`,{className:`p-2 bg-amber-50 text-amber-600 rounded-lg`,children:(0,U.jsx)(kr,{size:18})}),(0,U.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,U.jsx)(Xn,{size:16,className:`text-stone-400`})]}),(0,U.jsxs)(`button`,{onClick:()=>e(`/history`),className:`w-full px-4 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,U.jsx)(`div`,{className:`p-2 bg-green-50 text-green-600 rounded-lg`,children:(0,U.jsx)(vr,{size:18})}),(0,U.jsx)(`span`,{className:`text-sm font-medium text-stone-800`,children:``})]}),(0,U.jsx)(Xn,{size:16,className:`text-stone-400`})]})]}),t&&(0,U.jsxs)(`button`,{onClick:()=>{localStorage.removeItem(`museum_user`),n(null),e(`/auth`)},className:`w-full py-3 bg-white border border-stone-200 text-stone-500 rounded-xl text-sm font-medium hover:bg-stone-50 hover:text-red-500 transition-colors flex items-center justify-center`,children:[(0,U.jsx)(fr,{size:16,className:`mr-2`}),``]})]})]})]})},eM=()=>{let e=et(),[t,n]=(0,b.useState)(!0),[r,i]=(0,b.useState)(!1),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)({email:``,password:``,name:``}),[l,u]=(0,b.useState)(``),[d,f]=(0,b.useState)(`https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?auto=format&fit=crop&q=80&w=1080`);return(0,U.jsxs)(`div`,{className:`min-h-screen bg-stone-900 flex flex-col relative overflow-hidden max-w-md mx-auto w-full`,children:[(0,U.jsxs)(`div`,{className:`absolute inset-0 z-0 bg-stone-800`,children:[(0,U.jsx)(`img`,{src:d,alt:`Museum Background`,className:`w-full h-full object-cover object-top opacity-50 transition-opacity duration-700`,onError:()=>{f(`https://images.unsplash.com/photo-1576504677634-06b2130bd1f3?auto=format&fit=crop&q=80&w=1080`)}}),(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-stone-900 via-stone-900/60 to-transparent`})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-end px-8 pb-10 relative z-10`,children:[(0,U.jsxs)(`div`,{className:`mb-8 flex flex-col items-center text-center animate-in slide-in-from-bottom-4 duration-700`,children:[(0,U.jsx)(`div`,{className:`flex items-center justify-center mb-3`,children:(0,U.jsx)(`h1`,{className:`text-5xl font-serif font-bold text-white tracking-wide`,children:``})}),(0,U.jsx)(`h2`,{className:`text-lg font-light text-stone-300 mb-6 tracking-widest uppercase font-sans`,children:`Odyssey`}),(0,U.jsx)(`div`,{className:`w-12 h-0.5 bg-amber-500/50 mb-6`}),(0,U.jsx)(Qj,{text:``,className:`text-stone-400 text-xs font-serif italic tracking-wider`})]}),(0,U.jsxs)(`form`,{onSubmit:async n=>{if(n.preventDefault(),u(``),i(!0),!s.email||!s.password){u(``),i(!1);return}let r;r=t?await Xg(s.email,s.password):await Zg(s.email,s.password,s.name),i(!1),r.success&&r.data?(localStorage.setItem(`museum_user`,JSON.stringify(r.data)),r.data.token&&localStorage.setItem(`museum_token`,r.data.token),e(`/profile`,{replace:!0})):u(r.message||(t?``:``))},className:`space-y-4 animate-in slide-in-from-bottom-8 duration-700 delay-200`,children:[!t&&(0,U.jsxs)(`div`,{className:`space-y-1`,children:[(0,U.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(jr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:`text`,placeholder:``,value:s.name,onChange:e=>c({...s,name:e.target.value}),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-4 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`})]})]}),(0,U.jsxs)(`div`,{className:`space-y-1`,children:[(0,U.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(pr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:`email`,placeholder:`name@example.com`,value:s.email,onChange:e=>c({...s,email:e.target.value}),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-4 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`})]})]}),(0,U.jsxs)(`div`,{className:`space-y-1`,children:[(0,U.jsx)(`label`,{className:`text-xs font-medium text-stone-400 ml-1`,children:``}),(0,U.jsxs)(`div`,{className:`relative`,children:[(0,U.jsx)(dr,{className:`absolute left-4 top-3.5 text-stone-500`,size:18}),(0,U.jsx)(`input`,{type:a?`text`:`password`,placeholder:``,value:s.password,onChange:e=>c({...s,password:e.target.value}),className:`w-full bg-stone-800/50 border border-stone-700 rounded-xl py-3 pl-11 pr-12 text-white placeholder-stone-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all backdrop-blur-sm`}),(0,U.jsx)(`button`,{type:`button`,onClick:()=>o(!a),className:`absolute right-4 top-3.5 text-stone-500 hover:text-stone-300`,children:a?(0,U.jsx)(er,{size:18}):(0,U.jsx)(tr,{size:18})})]})]}),l&&(0,U.jsx)(`div`,{className:`text-red-400 text-xs px-1 animate-in fade-in`,children:l}),(0,U.jsx)(`button`,{type:`submit`,disabled:r,className:`w-full bg-amber-600 hover:bg-amber-500 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-amber-900/20 active:scale-[0.98] transition-all flex items-center justify-center mt-6`,children:r?(0,U.jsx)(ur,{size:20,className:`animate-spin`}):(0,U.jsxs)(U.Fragment,{children:[t?``:``,(0,U.jsx)(Wn,{size:18,className:`ml-2`})]})})]}),(0,U.jsx)(`div`,{className:`mt-6 text-center animate-in fade-in duration-700 delay-300`,children:(0,U.jsxs)(`p`,{className:`text-stone-500 text-sm`,children:[t?``:``,(0,U.jsx)(`button`,{onClick:()=>{n(!t),u(``)},className:`text-amber-500 font-medium ml-2 hover:text-amber-400 transition-colors`,children:t?``:``})]})})]}),(0,U.jsx)(`div`,{className:`p-8 text-center relative z-10 animate-in fade-in duration-700 delay-500 pt-0`,children:(0,U.jsx)(`button`,{onClick:()=>e(`/`),className:`text-stone-500 text-sm hover:text-stone-300 transition-colors`,children:``})})]})},tM=()=>{let e=et(),[t,n]=(0,b.useState)([]);(0,b.useEffect)(()=>{try{let e=localStorage.getItem(`museum_guide_sessions`);e&&n(JSON.parse(e))}catch(e){console.error(`Failed to load sessions`,e)}},[]);let r=t=>{e(`/guide`,{state:{sessionId:t.id}})},i=(e,r)=>{e.stopPropagation();let i=t.filter(e=>e.id!==r);n(i),localStorage.setItem(`museum_guide_sessions`,JSON.stringify(i))};return(0,U.jsxs)(`div`,{className:`flex flex-col h-full bg-stone-50 text-stone-800 max-w-md mx-auto w-full`,children:[(0,U.jsxs)(`div`,{className:`p-4 bg-white border-b border-stone-100 flex items-center shadow-sm sticky top-0 z-10`,children:[(0,U.jsx)(`button`,{onClick:()=>e(-1),className:`p-2 -ml-2 text-stone-600 hover:bg-stone-100 rounded-full transition-colors`,children:(0,U.jsx)(Un,{size:20})}),(0,U.jsxs)(`h1`,{className:`text-lg font-bold text-stone-900 ml-2 flex items-center`,children:[(0,U.jsx)(sr,{size:20,className:`mr-2 text-amber-500`}),``]})]}),(0,U.jsx)(`div`,{className:`flex-1 overflow-y-auto p-4 space-y-3`,children:t.length===0?(0,U.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-20 text-stone-400`,children:[(0,U.jsx)(`div`,{className:`w-16 h-16 bg-stone-200 rounded-full flex items-center justify-center mb-4 text-stone-400`,children:(0,U.jsx)(vr,{size:32})}),(0,U.jsx)(`p`,{className:`text-sm`,children:``}),(0,U.jsx)(`button`,{onClick:()=>e(`/guide`),className:`mt-6 px-6 py-2 bg-stone-900 text-white rounded-full text-sm font-medium hover:bg-stone-800 transition-colors`,children:``})]}):t.map(e=>(0,U.jsxs)(`div`,{onClick:()=>r(e),className:`p-4 bg-white rounded-xl border border-stone-100 shadow-sm hover:shadow-md hover:border-amber-200 transition-all cursor-pointer group relative active:scale-[0.98]`,children:[(0,U.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-800`,children:e.locationName}),(0,U.jsxs)(`span`,{className:`text-xs text-stone-400 bg-stone-50 px-2 py-0.5 rounded-full`,children:[new Date(e.lastMessageTime).toLocaleDateString(),` `,new Date(e.lastMessageTime).toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`})]})]}),(0,U.jsx)(`div`,{className:`flex items-center text-xs text-stone-500 mb-2`,children:(0,U.jsx)(`span`,{className:`px-1.5 py-0.5 rounded text-[10px] mr-2 ${e.persona===`humorous`?`bg-amber-100 text-amber-700`:e.persona===`kids`?`bg-green-100 text-green-700`:`bg-blue-100 text-blue-700`}`,children:e.persona===`humorous`?``:e.persona===`kids`?``:``})}),(0,U.jsx)(`p`,{className:`text-sm text-stone-600 line-clamp-2 pr-8`,children:e.preview||``}),(0,U.jsx)(`button`,{onClick:t=>i(t,e.id),className:`absolute bottom-4 right-4 p-2 text-stone-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100`,children:(0,U.jsx)(Ar,{size:16})})]},e.id))})]})},nM=()=>{let e=et(),{id:t}=it(),[n,r]=(0,b.useState)(null),[i,a]=(0,b.useState)(!1),[o,s]=(0,b.useState)(0),[c,l]=(0,b.useState)(null);return(0,b.useEffect)(()=>{let e=localStorage.getItem(`museum_user`);if(e)try{let t=JSON.parse(e);l(t.id||t.uid)}catch(e){console.error(e)}},[]),(0,b.useEffect)(()=>{(async()=>{if(t){let e=await mc.getById(t);e&&(r(e),s(e.likes),c&&a(JSON.parse(localStorage.getItem(`liked_posts_${c}`)||`[]`).includes(t)))}})()},[t,c]),n?(0,U.jsxs)(`div`,{className:`flex flex-col h-screen w-full max-w-md mx-auto bg-[#FFF9F5] text-stone-800 relative overflow-hidden shadow-2xl`,children:[(0,U.jsx)(hc,{}),(0,U.jsxs)(`div`,{className:`flex-1 overflow-y-auto relative z-10`,children:[(0,U.jsxs)(`div`,{className:`relative h-64 flex-shrink-0`,children:[(0,U.jsx)(`img`,{src:n.cover,alt:n.location,className:`w-full h-full object-cover rounded-b-[2rem] shadow-md`}),(0,U.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-b from-black/30 to-transparent rounded-b-[2rem]`}),(0,U.jsx)(`button`,{onClick:()=>e(-1),className:`absolute top-4 left-4 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-stone-600 shadow-sm active:scale-95 transition-transform z-10`,children:(0,U.jsx)(Un,{size:20})})]}),(0,U.jsxs)(`div`,{className:`flex-1 px-5 -mt-8 relative z-10 pb-20`,children:[(0,U.jsxs)(`div`,{className:`bg-white p-5 rounded-3xl shadow-lg mb-8 relative border-2 border-orange-50`,children:[(0,U.jsx)(`div`,{className:`absolute -top-3 left-1/2 transform -translate-x-1/2 w-24 h-6 bg-orange-200/80 rotate-1 shadow-sm`}),(0,U.jsx)(`h1`,{className:`text-xl font-bold text-stone-800 mb-3 font-serif leading-relaxed text-center mt-2`,children:n.title}),(0,U.jsxs)(`div`,{className:`flex items-center justify-center space-x-3 mb-4`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-2 bg-orange-50 px-3 py-1 rounded-full`,children:[(0,U.jsx)(`img`,{src:n.avatar,className:`w-6 h-6 rounded-full border border-white`,alt:`Avatar`}),(0,U.jsx)(`span`,{className:`text-xs font-bold text-stone-600`,children:n.author})]}),(0,U.jsx)(`span`,{className:`text-xs text-stone-400`,children:n.date})]}),(0,U.jsx)(`p`,{className:`text-sm text-stone-600 leading-relaxed text-center`,children:n.intro})]}),(0,U.jsxs)(`div`,{className:`relative pl-4 space-y-8`,children:[(0,U.jsx)(`div`,{className:`absolute left-[27px] top-2 bottom-0 w-0.5 bg-orange-200 border-l-2 border-dashed border-orange-300`}),n.timeline.map((e,t)=>(0,U.jsxs)(`div`,{className:`relative pl-8`,children:[(0,U.jsx)(`div`,{className:`absolute left-0 top-0 w-14 h-14 bg-white border-4 border-orange-100 rounded-full flex items-center justify-center shadow-sm z-10`,children:(0,U.jsx)(`span`,{className:`text-xs font-bold text-orange-400 font-mono`,children:e.time})}),(0,U.jsxs)(`div`,{className:`bg-white p-4 rounded-2xl shadow-sm border border-stone-100 ml-4 relative`,children:[(0,U.jsxs)(`div`,{className:`flex items-center space-x-1 text-orange-500 mb-2`,children:[(0,U.jsx)(mr,{size:14,fill:`currentColor`,className:`text-orange-200`}),(0,U.jsx)(`span`,{className:`text-sm font-bold`,children:e.location})]}),(0,U.jsx)(`div`,{className:`rounded-xl overflow-hidden mb-3 rotate-1 border-4 border-white shadow-md`,children:(0,U.jsx)(`img`,{src:e.image,alt:e.location,className:`w-full h-40 object-cover`})}),e.ai_tip&&(0,U.jsxs)(`div`,{className:`bg-${e.color||`amber`}-50 p-3 rounded-xl mb-2 relative`,children:[(0,U.jsx)(`div`,{className:`absolute -top-2 left-4 w-4 h-4 bg-${e.color||`amber`}-50 rotate-45`}),(0,U.jsxs)(`div`,{className:`flex items-start space-x-2`,children:[(0,U.jsx)(Or,{size:16,className:`text-${e.color||`amber`}-400 mt-0.5 flex-shrink-0`}),(0,U.jsxs)(`p`,{className:`text-xs text-stone-600 leading-relaxed`,children:[(0,U.jsx)(`span`,{className:`font-bold text-${e.color||`amber`}-500`,children:`AI `}),e.ai_tip]})]})]}),(0,U.jsx)(`p`,{className:`text-sm text-stone-700`,children:e.content})]})]},t)),(0,U.jsxs)(`div`,{className:`relative pl-8 pb-8`,children:[(0,U.jsx)(`div`,{className:`absolute left-[22px] top-0 w-3 h-3 bg-orange-300 rounded-full border-2 border-white shadow-sm z-10`}),(0,U.jsx)(`p`,{className:`text-xs text-stone-400 italic ml-4 pt-1`,children:`...`})]})]})]})]}),(0,U.jsxs)(`div`,{className:`absolute bottom-0 left-0 right-0 bg-white border-t border-stone-100 px-6 py-3 flex items-center justify-between z-20 pb-safe shadow-[0_-4px_10px_rgba(0,0,0,0.05)]`,children:[(0,U.jsx)(`div`,{className:`flex-1`}),(0,U.jsxs)(`div`,{className:`flex items-center space-x-8 text-stone-500`,children:[(0,U.jsxs)(`button`,{onClick:()=>{if(!c){alert(``);return}if(!n)return;let e=JSON.parse(localStorage.getItem(`liked_posts_${c}`)||`[]`),r,l;i?(r=e.filter(e=>e!==t),l=o-1):(r=[...e,t],l=o+1),a(!i),s(l),localStorage.setItem(`liked_posts_${c}`,JSON.stringify(r)),n.likes=l},className:`flex flex-col items-center space-y-0.5 active:scale-90 transition-transform`,children:[(0,U.jsx)(or,{size:24,className:i?`text-rose-500`:`text-stone-400`,fill:i?`#f43f5e`:`none`}),(0,U.jsx)(`span`,{className:`text-[10px] ${i?`text-rose-500 font-bold`:``}`,children:o})]}),(0,U.jsxs)(`button`,{onClick:()=>{navigator.share?navigator.share({title:n?.title,text:n?.intro,url:window.location.href}).catch(console.error):(navigator.clipboard.writeText(window.location.href),alert(``))},className:`flex flex-col items-center space-y-0.5 active:scale-90 transition-transform`,children:[(0,U.jsx)(Dr,{size:24,className:`text-stone-400`}),(0,U.jsx)(`span`,{className:`text-[10px]`,children:``})]})]})]})]}):(0,U.jsx)(`div`,{className:`flex justify-center items-center h-screen bg-[#FFF9F5]`,children:`...`})},rM=({icon:e,title:t,description:n,actionText:r,onAction:i})=>(0,U.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-full p-8 text-center animate-in fade-in zoom-in duration-500`,children:[(0,U.jsxs)(`div`,{className:`w-24 h-24 bg-stone-100 rounded-full flex items-center justify-center mb-6 text-stone-400 relative`,children:[e,(0,U.jsx)(`div`,{className:`absolute top-0 right-0 w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center text-amber-500 animate-bounce delay-700`,children:(0,U.jsx)(kr,{size:14,fill:`currentColor`})})]}),(0,U.jsx)(`h3`,{className:`text-xl font-bold font-serif text-stone-800 mb-2`,children:t}),(0,U.jsx)(`p`,{className:`text-stone-500 text-sm mb-8 leading-relaxed max-w-xs`,children:n}),(0,U.jsxs)(`button`,{onClick:i,className:`px-8 py-3 bg-stone-900 text-white rounded-xl font-medium shadow-lg shadow-stone-900/20 hover:bg-stone-800 active:scale-95 transition-all flex items-center`,children:[(0,U.jsx)(Sr,{size:18,className:`mr-2`}),r]})]}),iM=()=>{let e=et(),t=R(),[n,r]=(0,b.useState)([]),i=t.pathname.split(`/`).pop();(0,b.useEffect)(()=>{i===`plans`&&(async()=>{let e=localStorage.getItem(`museum_user`),t=null;if(e)try{let n=JSON.parse(e);t=n.id||n.uid}catch(e){console.error(`Failed to parse user`,e)}if(t){let e=await fc.getUserPlans(t);if(e.length>0)r(e);else{let e=localStorage.getItem(`my_plans`);e&&r(JSON.parse(e).filter(e=>e.uid===t))}}else r([])})()},[i]);let a={title:``,emptyIcon:(0,U.jsx)(Kn,{size:40}),emptyTitle:``,emptyDesc:``,actionText:``,onAction:()=>e(`/`)};return i===`journals`?a={title:``,emptyIcon:(0,U.jsx)(Kn,{size:48,strokeWidth:1.5}),emptyTitle:``,emptyDesc:``,actionText:``,onAction:()=>e(`/guide`)}:i===`plans`?a={title:``,emptyIcon:(0,U.jsx)(hr,{size:48,strokeWidth:1.5}),emptyTitle:``,emptyDesc:`
 AI `,actionText:``,onAction:()=>e(`/plan`)}:i===`favorites`&&(a={title:``,emptyIcon:(0,U.jsx)(kr,{size:48,strokeWidth:1.5}),emptyTitle:``,emptyDesc:`
`,actionText:``,onAction:()=>e(`/community`)}),(0,U.jsxs)(`div`,{className:`flex flex-col h-screen bg-stone-50 text-stone-800 max-w-md mx-auto w-full shadow-xl`,children:[(0,U.jsxs)(`header`,{className:`px-6 py-4 flex items-center bg-white border-b border-stone-100 sticky top-0 z-10`,children:[(0,U.jsx)(`button`,{onClick:()=>e(-1),className:`p-2 -ml-2 text-stone-600 hover:bg-stone-100 rounded-full transition-colors`,children:(0,U.jsx)(Un,{size:20})}),(0,U.jsx)(`h1`,{className:`text-lg font-bold font-serif text-stone-900 ml-2`,children:a.title})]}),(0,U.jsx)(`main`,{className:`flex-1 overflow-y-auto`,children:i===`plans`&&n.length>0?(0,U.jsx)(`div`,{className:`p-4 space-y-4`,children:n.map(e=>(0,U.jsxs)(`div`,{className:`bg-white rounded-2xl p-3 shadow-sm border border-stone-100 flex space-x-4 active:scale-[0.99] transition-transform`,children:[(0,U.jsxs)(`div`,{className:`w-24 h-24 rounded-xl bg-stone-200 overflow-hidden flex-shrink-0 relative`,children:[(0,U.jsx)(`img`,{src:e.image,alt:e.destination,className:`w-full h-full object-cover ${e.status===`completed`?`grayscale`:``}`,onError:e=>{e.target.style.display=`none`,e.target.parentElement.style.background=`linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)`}}),(0,U.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/50 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-md`,children:[e.days,``]})]}),(0,U.jsxs)(`div`,{className:`flex-1 flex flex-col justify-between py-1`,children:[(0,U.jsxs)(`div`,{children:[(0,U.jsx)(`h4`,{className:`font-bold text-stone-900 text-lg leading-tight mb-1 line-clamp-1`,children:e.title}),(0,U.jsxs)(`div`,{className:`flex items-center text-stone-500 text-xs`,children:[(0,U.jsx)(mr,{size:12,className:`mr-1`}),(0,U.jsx)(`span`,{children:e.destination})]})]}),(0,U.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,U.jsx)(`span`,{className:`text-xs text-stone-400 font-medium`,children:e.startDate?new Date(e.startDate).toLocaleDateString():``}),(0,U.jsx)(`span`,{className:`text-xs px-2 py-1 rounded-full font-medium ${e.status===`upcoming`?`bg-blue-50 text-blue-600`:e.status===`completed`?`bg-stone-100 text-stone-500`:`bg-amber-50 text-amber-600`}`,children:e.status===`upcoming`?``:e.status===`completed`?``:``})]})]})]},e.id))}):(0,U.jsx)(rM,{icon:a.emptyIcon,title:a.emptyTitle,description:a.emptyDesc,actionText:a.actionText,onAction:a.onAction})})]})};function aM(){return(0,U.jsx)(hn,{children:(0,U.jsxs)(kt,{children:[(0,U.jsxs)(B,{path:`/`,element:(0,U.jsx)(Lr,{}),children:[(0,U.jsx)(B,{index:!0,element:(0,U.jsx)(gc,{})}),(0,U.jsx)(B,{path:`plan`,element:(0,U.jsx)(Qg,{})}),(0,U.jsx)(B,{path:`guide`,element:(0,U.jsx)(xx,{})}),(0,U.jsx)(B,{path:`community`,element:(0,U.jsx)(Sx,{})}),(0,U.jsx)(B,{path:`profile`,element:(0,U.jsx)($j,{})})]}),(0,U.jsx)(B,{path:`/travelogue/:id`,element:(0,U.jsx)(nM,{})}),(0,U.jsx)(B,{path:`/plan/edit`,element:(0,U.jsx)(Ib,{})}),(0,U.jsx)(B,{path:`/auth`,element:(0,U.jsx)(eM,{})}),(0,U.jsx)(B,{path:`/history`,element:(0,U.jsx)(tM,{})}),(0,U.jsx)(B,{path:`/profile/journals`,element:(0,U.jsx)(iM,{})}),(0,U.jsx)(B,{path:`/profile/plans`,element:(0,U.jsx)(iM,{})}),(0,U.jsx)(B,{path:`/profile/favorites`,element:(0,U.jsx)(iM,{})})]})})}var oM=aM;(0,y.createRoot)(document.getElementById(`root`)).render((0,U.jsx)(b.StrictMode,{children:(0,U.jsx)(oM,{})}));